var m3=Object.defineProperty,g3=Object.defineProperties;var v3=Object.getOwnPropertyDescriptors;var jc=Object.getOwnPropertySymbols;var Sy=Object.prototype.hasOwnProperty,Cy=Object.prototype.propertyIsEnumerable;var up=(t,e,n)=>e in t?m3(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ee=(t,e)=>{for(var n in e||(e={}))Sy.call(e,n)&&up(t,n,e[n]);if(jc)for(var n of jc(e))Cy.call(e,n)&&up(t,n,e[n]);return t},Ue=(t,e)=>g3(t,v3(e));var My=(t,e)=>{var n={};for(var r in t)Sy.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&jc)for(var r of jc(t))e.indexOf(r)<0&&Cy.call(t,r)&&(n[r]=t[r]);return n};var y3=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var mt=(t,e,n)=>(up(t,typeof e!="symbol"?e+"":e,n),n);var Hfe=y3((Nr,Or)=>{const b3=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}};b3();function uv(t,e){const n=Object.create(null),r=t.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return e?i=>!!n[i.toLowerCase()]:i=>!!n[i]}const w3="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",_3=uv(w3);function IS(t){return!!t||t===""}function Ye(t){if(ct(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=pt(r)?M3(r):Ye(r);if(i)for(const o in i)e[o]=i[o]}return e}else{if(pt(t))return t;if(kt(t))return t}}const S3=/;(?![^(]*\))/g,C3=/:(.+)/;function M3(t){const e={};return t.split(S3).forEach(n=>{if(n){const r=n.split(C3);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function $(t){let e="";if(pt(t))e=t;else if(ct(t))for(let n=0;n<t.length;n++){const r=$(t[n]);r&&(e+=r+" ")}else if(kt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function bi(t){if(!t)return null;let{class:e,style:n}=t;return e&&!pt(e)&&(t.class=$(e)),n&&(t.style=Ye(n)),t}function x3(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=pl(t[r],e[r]);return n}function pl(t,e){if(t===e)return!0;let n=xy(t),r=xy(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=ct(t),r=ct(e),n||r)return n&&r?x3(t,e):!1;if(n=kt(t),r=kt(e),n||r){if(!n||!r)return!1;const i=Object.keys(t).length,o=Object.keys(e).length;if(i!==o)return!1;for(const s in t){const a=t.hasOwnProperty(s),l=e.hasOwnProperty(s);if(a&&!l||!a&&l||!pl(t[s],e[s]))return!1}}return String(t)===String(e)}function DS(t,e){return t.findIndex(n=>pl(n,e))}const Pe=t=>pt(t)?t:t==null?"":ct(t)||kt(t)&&(t.toString===NS||!gt(t.toString))?JSON.stringify(t,$S,2):String(t),$S=(t,e)=>e&&e.__v_isRef?$S(t,e.value):ol(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i])=>(n[`${r} =>`]=i,n),{})}:dh(e)?{[`Set(${e.size})`]:[...e.values()]}:kt(e)&&!ct(e)&&!OS(e)?String(e):e,ln={},il=[],Vt=()=>{},E3=()=>!1,T3=/^on[^a-z]/,ch=t=>T3.test(t),cv=t=>t.startsWith("onUpdate:"),Gn=Object.assign,dv=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},A3=Object.prototype.hasOwnProperty,Et=(t,e)=>A3.call(t,e),ct=Array.isArray,ol=t=>Ec(t)==="[object Map]",dh=t=>Ec(t)==="[object Set]",xy=t=>t instanceof Date,gt=t=>typeof t=="function",pt=t=>typeof t=="string",fv=t=>typeof t=="symbol",kt=t=>t!==null&&typeof t=="object",ea=t=>kt(t)&&gt(t.then)&&gt(t.catch),NS=Object.prototype.toString,Ec=t=>NS.call(t),Kd=t=>Ec(t).slice(8,-1),OS=t=>Ec(t)==="[object Object]",hv=t=>pt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,qd=uv(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),fh=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},k3=/-(\w)/g,Qr=fh(t=>t.replace(k3,(e,n)=>n?n.toUpperCase():"")),P3=/\B([A-Z])/g,ls=fh(t=>t.replace(P3,"-$1").toLowerCase()),Pr=fh(t=>t.charAt(0).toUpperCase()+t.slice(1)),Yd=fh(t=>t?`on${Pr(t)}`:""),Yu=(t,e)=>!Object.is(t,e),Xd=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},Rf=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},If=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Ey;const L3=()=>Ey||(Ey=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let Kr;class FS{constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&Kr&&(this.parent=Kr,this.index=(Kr.scopes||(Kr.scopes=[])).push(this)-1)}run(e){if(this.active)try{return Kr=this,e()}finally{Kr=this.parent}}on(){Kr=this}off(){Kr=this.parent}stop(e){if(this.active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.active=!1}}}function R3(t){return new FS(t)}function I3(t,e=Kr){e&&e.active&&e.effects.push(t)}function D3(){return Kr}function BS(t){Kr&&Kr.cleanups.push(t)}const pv=t=>{const e=new Set(t);return e.w=0,e.n=0,e},zS=t=>(t.w&ns)>0,VS=t=>(t.n&ns)>0,$3=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=ns},N3=t=>{const{deps:e}=t;if(e.length){let n=0;for(let r=0;r<e.length;r++){const i=e[r];zS(i)&&!VS(i)?i.delete(t):e[n++]=i,i.w&=~ns,i.n&=~ns}e.length=n}},Vm=new WeakMap;let Su=0,ns=1;const Hm=30;let Vi;const Ws=Symbol(""),Um=Symbol("");class mv{constructor(e,n=null,r){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,I3(this,r)}run(){if(!this.active)return this.fn();let e=Vi,n=Xo;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Vi,Vi=this,Xo=!0,ns=1<<++Su,Su<=Hm?$3(this):Ty(this),this.fn()}finally{Su<=Hm&&N3(this),ns=1<<--Su,Vi=this.parent,Xo=n,this.parent=void 0}}stop(){this.active&&(Ty(this),this.onStop&&this.onStop(),this.active=!1)}}function Ty(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let Xo=!0;const HS=[];function ua(){HS.push(Xo),Xo=!1}function ca(){const t=HS.pop();Xo=t===void 0?!0:t}function zr(t,e,n){if(Xo&&Vi){let r=Vm.get(t);r||Vm.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=pv()),US(i)}}function US(t,e){let n=!1;Su<=Hm?VS(t)||(t.n|=ns,n=!zS(t)):n=!t.has(Vi),n&&(t.add(Vi),Vi.deps.push(t))}function vo(t,e,n,r,i,o){const s=Vm.get(t);if(!s)return;let a=[];if(e==="clear")a=[...s.values()];else if(n==="length"&&ct(t))s.forEach((l,u)=>{(u==="length"||u>=r)&&a.push(l)});else switch(n!==void 0&&a.push(s.get(n)),e){case"add":ct(t)?hv(n)&&a.push(s.get("length")):(a.push(s.get(Ws)),ol(t)&&a.push(s.get(Um)));break;case"delete":ct(t)||(a.push(s.get(Ws)),ol(t)&&a.push(s.get(Um)));break;case"set":ol(t)&&a.push(s.get(Ws));break}if(a.length===1)a[0]&&Wm(a[0]);else{const l=[];for(const u of a)u&&l.push(...u);Wm(pv(l))}}function Wm(t,e){for(const n of ct(t)?t:[...t])(n!==Vi||n.allowRecurse)&&(n.scheduler?n.scheduler():n.run())}const O3=uv("__proto__,__v_isRef,__isVue"),WS=new Set(Object.getOwnPropertyNames(Symbol).map(t=>Symbol[t]).filter(fv)),F3=gv(),B3=gv(!1,!0),z3=gv(!0),Ay=V3();function V3(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=Wt(this);for(let o=0,s=this.length;o<s;o++)zr(r,"get",o+"");const i=r[e](...n);return i===-1||i===!1?r[e](...n.map(Wt)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){ua();const r=Wt(this)[e].apply(this,n);return ca(),r}}),t}function gv(t=!1,e=!1){return function(r,i,o){if(i==="__v_isReactive")return!t;if(i==="__v_isReadonly")return t;if(i==="__v_isShallow")return e;if(i==="__v_raw"&&o===(t?e?rA:YS:e?qS:KS).get(r))return r;const s=ct(r);if(!t&&s&&Et(Ay,i))return Reflect.get(Ay,i,o);const a=Reflect.get(r,i,o);return(fv(i)?WS.has(i):O3(i))||(t||zr(r,"get",i),e)?a:hn(a)?!s||!hv(i)?a.value:a:kt(a)?t?Tc(a):Ot(a):a}}const H3=GS(),U3=GS(!0);function GS(t=!1){return function(n,r,i,o){let s=n[r];if(Xu(s)&&hn(s)&&!hn(i))return!1;if(!t&&!Xu(i)&&(XS(i)||(i=Wt(i),s=Wt(s)),!ct(n)&&hn(s)&&!hn(i)))return s.value=i,!0;const a=ct(n)&&hv(r)?Number(r)<n.length:Et(n,r),l=Reflect.set(n,r,i,o);return n===Wt(o)&&(a?Yu(i,s)&&vo(n,"set",r,i):vo(n,"add",r,i)),l}}function W3(t,e){const n=Et(t,e);t[e];const r=Reflect.deleteProperty(t,e);return r&&n&&vo(t,"delete",e,void 0),r}function G3(t,e){const n=Reflect.has(t,e);return(!fv(e)||!WS.has(e))&&zr(t,"has",e),n}function j3(t){return zr(t,"iterate",ct(t)?"length":Ws),Reflect.ownKeys(t)}const jS={get:F3,set:H3,deleteProperty:W3,has:G3,ownKeys:j3},K3={get:z3,set(t,e){return!0},deleteProperty(t,e){return!0}},q3=Gn({},jS,{get:B3,set:U3}),vv=t=>t,hh=t=>Reflect.getPrototypeOf(t);function Kc(t,e,n=!1,r=!1){t=t.__v_raw;const i=Wt(t),o=Wt(e);e!==o&&!n&&zr(i,"get",e),!n&&zr(i,"get",o);const{has:s}=hh(i),a=r?vv:n?wv:Ju;if(s.call(i,e))return a(t.get(e));if(s.call(i,o))return a(t.get(o));t!==i&&t.get(e)}function qc(t,e=!1){const n=this.__v_raw,r=Wt(n),i=Wt(t);return t!==i&&!e&&zr(r,"has",t),!e&&zr(r,"has",i),t===i?n.has(t):n.has(t)||n.has(i)}function Yc(t,e=!1){return t=t.__v_raw,!e&&zr(Wt(t),"iterate",Ws),Reflect.get(t,"size",t)}function ky(t){t=Wt(t);const e=Wt(this);return hh(e).has.call(e,t)||(e.add(t),vo(e,"add",t,t)),this}function Py(t,e){e=Wt(e);const n=Wt(this),{has:r,get:i}=hh(n);let o=r.call(n,t);o||(t=Wt(t),o=r.call(n,t));const s=i.call(n,t);return n.set(t,e),o?Yu(e,s)&&vo(n,"set",t,e):vo(n,"add",t,e),this}function Ly(t){const e=Wt(this),{has:n,get:r}=hh(e);let i=n.call(e,t);i||(t=Wt(t),i=n.call(e,t)),r&&r.call(e,t);const o=e.delete(t);return i&&vo(e,"delete",t,void 0),o}function Ry(){const t=Wt(this),e=t.size!==0,n=t.clear();return e&&vo(t,"clear",void 0,void 0),n}function Xc(t,e){return function(r,i){const o=this,s=o.__v_raw,a=Wt(s),l=e?vv:t?wv:Ju;return!t&&zr(a,"iterate",Ws),s.forEach((u,c)=>r.call(i,l(u),l(c),o))}}function Zc(t,e,n){return function(...r){const i=this.__v_raw,o=Wt(i),s=ol(o),a=t==="entries"||t===Symbol.iterator&&s,l=t==="keys"&&s,u=i[t](...r),c=n?vv:e?wv:Ju;return!e&&zr(o,"iterate",l?Um:Ws),{next(){const{value:d,done:f}=u.next();return f?{value:d,done:f}:{value:a?[c(d[0]),c(d[1])]:c(d),done:f}},[Symbol.iterator](){return this}}}}function Ro(t){return function(...e){return t==="delete"?!1:this}}function Y3(){const t={get(o){return Kc(this,o)},get size(){return Yc(this)},has:qc,add:ky,set:Py,delete:Ly,clear:Ry,forEach:Xc(!1,!1)},e={get(o){return Kc(this,o,!1,!0)},get size(){return Yc(this)},has:qc,add:ky,set:Py,delete:Ly,clear:Ry,forEach:Xc(!1,!0)},n={get(o){return Kc(this,o,!0)},get size(){return Yc(this,!0)},has(o){return qc.call(this,o,!0)},add:Ro("add"),set:Ro("set"),delete:Ro("delete"),clear:Ro("clear"),forEach:Xc(!0,!1)},r={get(o){return Kc(this,o,!0,!0)},get size(){return Yc(this,!0)},has(o){return qc.call(this,o,!0)},add:Ro("add"),set:Ro("set"),delete:Ro("delete"),clear:Ro("clear"),forEach:Xc(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{t[o]=Zc(o,!1,!1),n[o]=Zc(o,!0,!1),e[o]=Zc(o,!1,!0),r[o]=Zc(o,!0,!0)}),[t,n,e,r]}const[X3,Z3,J3,Q3]=Y3();function yv(t,e){const n=e?t?Q3:J3:t?Z3:X3;return(r,i,o)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(Et(n,i)&&i in r?n:r,i,o)}const eA={get:yv(!1,!1)},tA={get:yv(!1,!0)},nA={get:yv(!0,!1)},KS=new WeakMap,qS=new WeakMap,YS=new WeakMap,rA=new WeakMap;function iA(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function oA(t){return t.__v_skip||!Object.isExtensible(t)?0:iA(Kd(t))}function Ot(t){return Xu(t)?t:bv(t,!1,jS,eA,KS)}function sA(t){return bv(t,!1,q3,tA,qS)}function Tc(t){return bv(t,!0,K3,nA,YS)}function bv(t,e,n,r,i){if(!kt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const o=i.get(t);if(o)return o;const s=oA(t);if(s===0)return t;const a=new Proxy(t,s===2?r:n);return i.set(t,a),a}function sl(t){return Xu(t)?sl(t.__v_raw):!!(t&&t.__v_isReactive)}function Xu(t){return!!(t&&t.__v_isReadonly)}function XS(t){return!!(t&&t.__v_isShallow)}function ZS(t){return sl(t)||Xu(t)}function Wt(t){const e=t&&t.__v_raw;return e?Wt(e):t}function Zu(t){return Rf(t,"__v_skip",!0),t}const Ju=t=>kt(t)?Ot(t):t,wv=t=>kt(t)?Tc(t):t;function JS(t){Xo&&Vi&&(t=Wt(t),US(t.dep||(t.dep=pv())))}function _v(t,e){t=Wt(t),t.dep&&Wm(t.dep)}function hn(t){return!!(t&&t.__v_isRef===!0)}function F(t){return QS(t,!1)}function Ln(t){return QS(t,!0)}function QS(t,e){return hn(t)?t:new aA(t,e)}class aA{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:Wt(e),this._value=n?e:Ju(e)}get value(){return JS(this),this._value}set value(e){e=this.__v_isShallow?e:Wt(e),Yu(e,this._rawValue)&&(this._rawValue=e,this._value=this.__v_isShallow?e:Ju(e),_v(this))}}function ou(t){_v(t)}function C(t){return hn(t)?t.value:t}const lA={get:(t,e,n)=>C(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return hn(i)&&!hn(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function eC(t){return sl(t)?t:new Proxy(t,lA)}function Bn(t){const e=ct(t)?new Array(t.length):{};for(const n in t)e[n]=Nn(t,n);return e}class uA{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}}function Nn(t,e,n){const r=t[e];return hn(r)?r:new uA(t,e,n)}class cA{constructor(e,n,r,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new mv(e,()=>{this._dirty||(this._dirty=!0,_v(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const e=Wt(this);return JS(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function dA(t,e,n=!1){let r,i;const o=gt(t);return o?(r=t,i=Vt):(r=t.get,i=t.set),new cA(r,i,o||!i,n)}Promise.resolve();const Lu=[];function fA(t,...e){ua();const n=Lu.length?Lu[Lu.length-1].component:null,r=n&&n.appContext.config.warnHandler,i=hA();if(r)co(r,n,11,[t+e.join(""),n&&n.proxy,i.map(({vnode:o})=>`at <${IC(n,o.type)}>`).join(`
`),i]);else{const o=[`[Vue warn]: ${t}`,...e];i.length&&o.push(`
`,...pA(i)),console.warn(...o)}ca()}function hA(){let t=Lu[Lu.length-1];if(!t)return[];const e=[];for(;t;){const n=e[0];n&&n.vnode===t?n.recurseCount++:e.push({vnode:t,recurseCount:0});const r=t.component&&t.component.parent;t=r&&r.vnode}return e}function pA(t){const e=[];return t.forEach((n,r)=>{e.push(...r===0?[]:[`
`],...mA(n))}),e}function mA({vnode:t,recurseCount:e}){const n=e>0?`... (${e} recursive calls)`:"",r=t.component?t.component.parent==null:!1,i=` at <${IC(t.component,t.type,r)}`,o=">"+n;return t.props?[i,...gA(t.props),o]:[i+o]}function gA(t){const e=[],n=Object.keys(t);return n.slice(0,3).forEach(r=>{e.push(...tC(r,t[r]))}),n.length>3&&e.push(" ..."),e}function tC(t,e,n){return pt(e)?(e=JSON.stringify(e),n?e:[`${t}=${e}`]):typeof e=="number"||typeof e=="boolean"||e==null?n?e:[`${t}=${e}`]:hn(e)?(e=tC(t,Wt(e.value),!0),n?e:[`${t}=Ref<`,e,">"]):gt(e)?[`${t}=fn${e.name?`<${e.name}>`:""}`]:(e=Wt(e),n?e:[`${t}=`,e])}function co(t,e,n,r){let i;try{i=r?t(...r):t()}catch(o){ph(o,e,n)}return i}function Yr(t,e,n,r){if(gt(t)){const o=co(t,e,n,r);return o&&ea(o)&&o.catch(s=>{ph(s,e,n)}),o}const i=[];for(let o=0;o<t.length;o++)i.push(Yr(t[o],e,n,r));return i}function ph(t,e,n,r=!0){const i=e?e.vnode:null;if(e){let o=e.parent;const s=e.proxy,a=n;for(;o;){const u=o.ec;if(u){for(let c=0;c<u.length;c++)if(u[c](t,s,a)===!1)return}o=o.parent}const l=e.appContext.config.errorHandler;if(l){co(l,null,10,[t,s,a]);return}}vA(t,n,i,r)}function vA(t,e,n,r=!0){console.error(t)}let Df=!1,Gm=!1;const Lr=[];let lo=0;const Ru=[];let Cu=null,Ka=0;const Iu=[];let Uo=null,qa=0;const nC=Promise.resolve();let Sv=null,jm=null;function et(t){const e=Sv||nC;return t?e.then(this?t.bind(this):t):e}function yA(t){let e=lo+1,n=Lr.length;for(;e<n;){const r=e+n>>>1;Qu(Lr[r])<t?e=r+1:n=r}return e}function rC(t){(!Lr.length||!Lr.includes(t,Df&&t.allowRecurse?lo+1:lo))&&t!==jm&&(t.id==null?Lr.push(t):Lr.splice(yA(t.id),0,t),iC())}function iC(){!Df&&!Gm&&(Gm=!0,Sv=nC.then(aC))}function bA(t){const e=Lr.indexOf(t);e>lo&&Lr.splice(e,1)}function oC(t,e,n,r){ct(t)?n.push(...t):(!e||!e.includes(t,t.allowRecurse?r+1:r))&&n.push(t),iC()}function wA(t){oC(t,Cu,Ru,Ka)}function _A(t){oC(t,Uo,Iu,qa)}function Cv(t,e=null){if(Ru.length){for(jm=e,Cu=[...new Set(Ru)],Ru.length=0,Ka=0;Ka<Cu.length;Ka++)Cu[Ka]();Cu=null,Ka=0,jm=null,Cv(t,e)}}function sC(t){if(Iu.length){const e=[...new Set(Iu)];if(Iu.length=0,Uo){Uo.push(...e);return}for(Uo=e,Uo.sort((n,r)=>Qu(n)-Qu(r)),qa=0;qa<Uo.length;qa++)Uo[qa]();Uo=null,qa=0}}const Qu=t=>t.id==null?1/0:t.id;function aC(t){Gm=!1,Df=!0,Cv(t),Lr.sort((n,r)=>Qu(n)-Qu(r));const e=Vt;try{for(lo=0;lo<Lr.length;lo++){const n=Lr[lo];n&&n.active!==!1&&co(n,null,14)}}finally{lo=0,Lr.length=0,sC(),Df=!1,Sv=null,(Lr.length||Ru.length||Iu.length)&&aC(t)}}function SA(t,e,...n){const r=t.vnode.props||ln;let i=n;const o=e.startsWith("update:"),s=o&&e.slice(7);if(s&&s in r){const c=`${s==="modelValue"?"model":s}Modifiers`,{number:d,trim:f}=r[c]||ln;f?i=n.map(h=>h.trim()):d&&(i=n.map(If))}let a,l=r[a=Yd(e)]||r[a=Yd(Qr(e))];!l&&o&&(l=r[a=Yd(ls(e))]),l&&Yr(l,t,6,i);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Yr(u,t,6,i)}}function lC(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const o=t.emits;let s={},a=!1;if(!gt(t)){const l=u=>{const c=lC(u,e,!0);c&&(a=!0,Gn(s,c))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!o&&!a?(r.set(t,null),null):(ct(o)?o.forEach(l=>s[l]=null):Gn(s,o),r.set(t,s),s)}function Mv(t,e){return!t||!ch(e)?!1:(e=e.slice(2).replace(/Once$/,""),Et(t,e[0].toLowerCase()+e.slice(1))||Et(t,ls(e))||Et(t,e))}let Ir=null,mh=null;function $f(t){const e=Ir;return Ir=t,mh=t&&t.type.__scopeId||null,e}function uC(t){mh=t}function cC(){mh=null}function X(t,e=Ir,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&Wy(-1);const o=$f(e),s=t(...i);return $f(o),r._d&&Wy(1),s};return r._n=!0,r._c=!0,r._d=!0,r}function cp(t){const{type:e,vnode:n,proxy:r,withProxy:i,props:o,propsOptions:[s],slots:a,attrs:l,emit:u,render:c,renderCache:d,data:f,setupState:h,ctx:m,inheritAttrs:g}=t;let p,v;const y=$f(t);try{if(n.shapeFlag&4){const _=i||r;p=Fi(c.call(_,_,d,o,h,f,m)),v=l}else{const _=e;p=Fi(_.length>1?_(o,{attrs:l,slots:a,emit:u}):_(o,null)),v=e.props?l:CA(l)}}catch(_){$u.length=0,ph(_,t,1),p=Z(wr)}let w=p;if(v&&g!==!1){const _=Object.keys(v),{shapeFlag:b}=w;_.length&&b&7&&(s&&_.some(cv)&&(v=MA(v,s)),w=ta(w,v))}return n.dirs&&(w.dirs=w.dirs?w.dirs.concat(n.dirs):n.dirs),n.transition&&(w.transition=n.transition),p=w,$f(y),p}const CA=t=>{let e;for(const n in t)(n==="class"||n==="style"||ch(n))&&((e||(e={}))[n]=t[n]);return e},MA=(t,e)=>{const n={};for(const r in t)(!cv(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function xA(t,e,n){const{props:r,children:i,component:o}=t,{props:s,children:a,patchFlag:l}=e,u=o.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?Iy(r,s,u):!!s;if(l&8){const c=e.dynamicProps;for(let d=0;d<c.length;d++){const f=c[d];if(s[f]!==r[f]&&!Mv(u,f))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===s?!1:r?s?Iy(r,s,u):!0:!!s;return!1}function Iy(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(e[o]!==t[o]&&!Mv(n,o))return!0}return!1}function EA({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const TA=t=>t.__isSuspense;function AA(t,e){e&&e.pendingBranch?ct(t)?e.effects.push(...t):e.effects.push(t):_A(t)}function Ct(t,e){if(Wn){let n=Wn.provides;const r=Wn.parent&&Wn.parent.provides;r===n&&(n=Wn.provides=Object.create(r)),n[t]=e}}function Ke(t,e,n=!1){const r=Wn||Ir;if(r){const i=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&gt(e)?e.call(r.proxy):e}}function Xr(t,e){return xv(t,null,e)}const Dy={};function Me(t,e,n){return xv(t,e,n)}function xv(t,e,{immediate:n,deep:r,flush:i,onTrack:o,onTrigger:s}=ln){const a=Wn;let l,u=!1,c=!1;if(hn(t)?(l=()=>t.value,u=XS(t)):sl(t)?(l=()=>t,r=!0):ct(t)?(c=!0,u=t.some(sl),l=()=>t.map(v=>{if(hn(v))return v.value;if(sl(v))return Os(v);if(gt(v))return co(v,a,2)})):gt(t)?e?l=()=>co(t,a,2):l=()=>{if(!(a&&a.isUnmounted))return d&&d(),Yr(t,a,3,[f])}:l=Vt,e&&r){const v=l;l=()=>Os(v())}let d,f=v=>{d=p.onStop=()=>{co(v,a,4)}};if(nc)return f=Vt,e?n&&Yr(e,a,3,[l(),c?[]:void 0,f]):l(),Vt;let h=c?[]:Dy;const m=()=>{if(!!p.active)if(e){const v=p.run();(r||u||(c?v.some((y,w)=>Yu(y,h[w])):Yu(v,h)))&&(d&&d(),Yr(e,a,3,[v,h===Dy?void 0:h,f]),h=v)}else p.run()};m.allowRecurse=!!e;let g;i==="sync"?g=m:i==="post"?g=()=>pr(m,a&&a.suspense):g=()=>{!a||a.isMounted?wA(m):m()};const p=new mv(l,g);return e?n?m():h=p.run():i==="post"?pr(p.run.bind(p),a&&a.suspense):p.run(),()=>{p.stop(),a&&a.scope&&dv(a.scope.effects,p)}}function kA(t,e,n){const r=this.proxy,i=pt(t)?t.includes(".")?dC(r,t):()=>r[t]:t.bind(r,r);let o;gt(e)?o=e:(o=e.handler,n=e);const s=Wn;ml(this);const a=xv(i,o.bind(r),n);return s?ml(s):js(),a}function dC(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function Os(t,e){if(!kt(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),hn(t))Os(t.value,e);else if(ct(t))for(let n=0;n<t.length;n++)Os(t[n],e);else if(dh(t)||ol(t))t.forEach(n=>{Os(n,e)});else if(OS(t))for(const n in t)Os(t[n],e);return t}function fC(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return ft(()=>{t.isMounted=!0}),rn(()=>{t.isUnmounting=!0}),t}const Gr=[Function,Array],PA={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Gr,onEnter:Gr,onAfterEnter:Gr,onEnterCancelled:Gr,onBeforeLeave:Gr,onLeave:Gr,onAfterLeave:Gr,onLeaveCancelled:Gr,onBeforeAppear:Gr,onAppear:Gr,onAfterAppear:Gr,onAppearCancelled:Gr},setup(t,{slots:e}){const n=wt(),r=fC();let i;return()=>{const o=e.default&&Ev(e.default(),!0);if(!o||!o.length)return;const s=Wt(t),{mode:a}=s,l=o[0];if(r.isLeaving)return dp(l);const u=$y(l);if(!u)return dp(l);const c=ec(u,s,r,n);tc(u,c);const d=n.subTree,f=d&&$y(d);let h=!1;const{getTransitionKey:m}=u.type;if(m){const g=m();i===void 0?i=g:g!==i&&(i=g,h=!0)}if(f&&f.type!==wr&&(!Ls(u,f)||h)){const g=ec(f,s,r,n);if(tc(f,g),a==="out-in")return r.isLeaving=!0,g.afterLeave=()=>{r.isLeaving=!1,n.update()},dp(l);a==="in-out"&&u.type!==wr&&(g.delayLeave=(p,v,y)=>{const w=pC(r,f);w[String(f.key)]=f,p._leaveCb=()=>{v(),p._leaveCb=void 0,delete c.delayedLeave},c.delayedLeave=y})}return l}}},hC=PA;function pC(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function ec(t,e,n,r){const{appear:i,mode:o,persisted:s=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:u,onEnterCancelled:c,onBeforeLeave:d,onLeave:f,onAfterLeave:h,onLeaveCancelled:m,onBeforeAppear:g,onAppear:p,onAfterAppear:v,onAppearCancelled:y}=e,w=String(t.key),_=pC(n,t),b=(M,T)=>{M&&Yr(M,r,9,T)},S={mode:o,persisted:s,beforeEnter(M){let T=a;if(!n.isMounted)if(i)T=g||a;else return;M._leaveCb&&M._leaveCb(!0);const N=_[w];N&&Ls(t,N)&&N.el._leaveCb&&N.el._leaveCb(),b(T,[M])},enter(M){let T=l,N=u,I=c;if(!n.isMounted)if(i)T=p||l,N=v||u,I=y||c;else return;let x=!1;const R=M._enterCb=O=>{x||(x=!0,O?b(I,[M]):b(N,[M]),S.delayedLeave&&S.delayedLeave(),M._enterCb=void 0)};T?(T(M,R),T.length<=1&&R()):R()},leave(M,T){const N=String(t.key);if(M._enterCb&&M._enterCb(!0),n.isUnmounting)return T();b(d,[M]);let I=!1;const x=M._leaveCb=R=>{I||(I=!0,T(),R?b(m,[M]):b(h,[M]),M._leaveCb=void 0,_[N]===t&&delete _[N])};_[N]=t,f?(f(M,x),f.length<=1&&x()):x()},clone(M){return ec(M,e,n,r)}};return S}function dp(t){if(gh(t))return t=ta(t),t.children=null,t}function $y(t){return gh(t)?t.children?t.children[0]:void 0:t}function tc(t,e){t.shapeFlag&6&&t.component?tc(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Ev(t,e=!1){let n=[],r=0;for(let i=0;i<t.length;i++){const o=t[i];o.type===Ze?(o.patchFlag&128&&r++,n=n.concat(Ev(o.children,e))):(e||o.type!==wr)&&n.push(o)}if(r>1)for(let i=0;i<n.length;i++)n[i].patchFlag=-2;return n}function pe(t){return gt(t)?{setup:t,name:t.name}:t}const Km=t=>!!t.type.__asyncLoader,gh=t=>t.type.__isKeepAlive;function LA(t,e){mC(t,"a",e)}function RA(t,e){mC(t,"da",e)}function mC(t,e,n=Wn){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(vh(e,r,n),n){let i=n.parent;for(;i&&i.parent;)gh(i.parent.vnode)&&IA(r,e,n,i),i=i.parent}}function IA(t,e,n,r){const i=vh(e,t,r,!0);kc(()=>{dv(r[e],i)},n)}function vh(t,e,n=Wn,r=!1){if(n){const i=n[t]||(n[t]=[]),o=e.__weh||(e.__weh=(...s)=>{if(n.isUnmounted)return;ua(),ml(n);const a=Yr(e,n,t,s);return js(),ca(),a});return r?i.unshift(o):i.push(o),o}}const Mo=t=>(e,n=Wn)=>(!nc||t==="sp")&&vh(t,e,n),Ac=Mo("bm"),ft=Mo("m"),gC=Mo("bu"),Ai=Mo("u"),rn=Mo("bum"),kc=Mo("um"),DA=Mo("sp"),$A=Mo("rtg"),NA=Mo("rtc");function OA(t,e=Wn){vh("ec",t,e)}let qm=!0;function FA(t){const e=yC(t),n=t.proxy,r=t.ctx;qm=!1,e.beforeCreate&&Ny(e.beforeCreate,t,"bc");const{data:i,computed:o,methods:s,watch:a,provide:l,inject:u,created:c,beforeMount:d,mounted:f,beforeUpdate:h,updated:m,activated:g,deactivated:p,beforeDestroy:v,beforeUnmount:y,destroyed:w,unmounted:_,render:b,renderTracked:S,renderTriggered:M,errorCaptured:T,serverPrefetch:N,expose:I,inheritAttrs:x,components:R,directives:O,filters:D}=e;if(u&&BA(u,r,null,t.appContext.config.unwrapInjectedRef),s)for(const A in s){const P=s[A];gt(P)&&(r[A]=P.bind(n))}if(i){const A=i.call(n,n);kt(A)&&(t.data=Ot(A))}if(qm=!0,o)for(const A in o){const P=o[A],W=gt(P)?P.bind(n,n):gt(P.get)?P.get.bind(n,n):Vt,K=!gt(P)&&gt(P.set)?P.set.bind(n):Vt,te=k({get:W,set:K});Object.defineProperty(r,A,{enumerable:!0,configurable:!0,get:()=>te.value,set:J=>te.value=J})}if(a)for(const A in a)vC(a[A],r,n,A);if(l){const A=gt(l)?l.call(n):l;Reflect.ownKeys(A).forEach(P=>{Ct(P,A[P])})}c&&Ny(c,t,"c");function L(A,P){ct(P)?P.forEach(W=>A(W.bind(n))):P&&A(P.bind(n))}if(L(Ac,d),L(ft,f),L(gC,h),L(Ai,m),L(LA,g),L(RA,p),L(OA,T),L(NA,S),L($A,M),L(rn,y),L(kc,_),L(DA,N),ct(I))if(I.length){const A=t.exposed||(t.exposed={});I.forEach(P=>{Object.defineProperty(A,P,{get:()=>n[P],set:W=>n[P]=W})})}else t.exposed||(t.exposed={});b&&t.render===Vt&&(t.render=b),x!=null&&(t.inheritAttrs=x),R&&(t.components=R),O&&(t.directives=O)}function BA(t,e,n=Vt,r=!1){ct(t)&&(t=Ym(t));for(const i in t){const o=t[i];let s;kt(o)?"default"in o?s=Ke(o.from||i,o.default,!0):s=Ke(o.from||i):s=Ke(o),hn(s)&&r?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>s.value,set:a=>s.value=a}):e[i]=s}}function Ny(t,e,n){Yr(ct(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function vC(t,e,n,r){const i=r.includes(".")?dC(n,r):()=>n[r];if(pt(t)){const o=e[t];gt(o)&&Me(i,o)}else if(gt(t))Me(i,t.bind(n));else if(kt(t))if(ct(t))t.forEach(o=>vC(o,e,n,r));else{const o=gt(t.handler)?t.handler.bind(n):e[t.handler];gt(o)&&Me(i,o,t)}}function yC(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:o,config:{optionMergeStrategies:s}}=t.appContext,a=o.get(e);let l;return a?l=a:!i.length&&!n&&!r?l=e:(l={},i.length&&i.forEach(u=>Nf(l,u,s,!0)),Nf(l,e,s)),o.set(e,l),l}function Nf(t,e,n,r=!1){const{mixins:i,extends:o}=e;o&&Nf(t,o,n,!0),i&&i.forEach(s=>Nf(t,s,n,!0));for(const s in e)if(!(r&&s==="expose")){const a=zA[s]||n&&n[s];t[s]=a?a(t[s],e[s]):e[s]}return t}const zA={data:Oy,props:xs,emits:xs,methods:xs,computed:xs,beforeCreate:lr,created:lr,beforeMount:lr,mounted:lr,beforeUpdate:lr,updated:lr,beforeDestroy:lr,beforeUnmount:lr,destroyed:lr,unmounted:lr,activated:lr,deactivated:lr,errorCaptured:lr,serverPrefetch:lr,components:xs,directives:xs,watch:HA,provide:Oy,inject:VA};function Oy(t,e){return e?t?function(){return Gn(gt(t)?t.call(this,this):t,gt(e)?e.call(this,this):e)}:e:t}function VA(t,e){return xs(Ym(t),Ym(e))}function Ym(t){if(ct(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function lr(t,e){return t?[...new Set([].concat(t,e))]:e}function xs(t,e){return t?Gn(Gn(Object.create(null),t),e):e}function HA(t,e){if(!t)return e;if(!e)return t;const n=Gn(Object.create(null),t);for(const r in e)n[r]=lr(t[r],e[r]);return n}function UA(t,e,n,r=!1){const i={},o={};Rf(o,yh,1),t.propsDefaults=Object.create(null),bC(t,e,i,o);for(const s in t.propsOptions[0])s in i||(i[s]=void 0);n?t.props=r?i:sA(i):t.type.props?t.props=i:t.props=o,t.attrs=o}function WA(t,e,n,r){const{props:i,attrs:o,vnode:{patchFlag:s}}=t,a=Wt(i),[l]=t.propsOptions;let u=!1;if((r||s>0)&&!(s&16)){if(s&8){const c=t.vnode.dynamicProps;for(let d=0;d<c.length;d++){let f=c[d];const h=e[f];if(l)if(Et(o,f))h!==o[f]&&(o[f]=h,u=!0);else{const m=Qr(f);i[m]=Xm(l,a,m,h,t,!1)}else h!==o[f]&&(o[f]=h,u=!0)}}}else{bC(t,e,i,o)&&(u=!0);let c;for(const d in a)(!e||!Et(e,d)&&((c=ls(d))===d||!Et(e,c)))&&(l?n&&(n[d]!==void 0||n[c]!==void 0)&&(i[d]=Xm(l,a,d,void 0,t,!0)):delete i[d]);if(o!==a)for(const d in o)(!e||!Et(e,d)&&!0)&&(delete o[d],u=!0)}u&&vo(t,"set","$attrs")}function bC(t,e,n,r){const[i,o]=t.propsOptions;let s=!1,a;if(e)for(let l in e){if(qd(l))continue;const u=e[l];let c;i&&Et(i,c=Qr(l))?!o||!o.includes(c)?n[c]=u:(a||(a={}))[c]=u:Mv(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,s=!0)}if(o){const l=Wt(n),u=a||ln;for(let c=0;c<o.length;c++){const d=o[c];n[d]=Xm(i,l,d,u[d],t,!Et(u,d))}}return s}function Xm(t,e,n,r,i,o){const s=t[n];if(s!=null){const a=Et(s,"default");if(a&&r===void 0){const l=s.default;if(s.type!==Function&&gt(l)){const{propsDefaults:u}=i;n in u?r=u[n]:(ml(i),r=u[n]=l.call(null,e),js())}else r=l}s[0]&&(o&&!a?r=!1:s[1]&&(r===""||r===ls(n))&&(r=!0))}return r}function wC(t,e,n=!1){const r=e.propsCache,i=r.get(t);if(i)return i;const o=t.props,s={},a=[];let l=!1;if(!gt(t)){const c=d=>{l=!0;const[f,h]=wC(d,e,!0);Gn(s,f),h&&a.push(...h)};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!o&&!l)return r.set(t,il),il;if(ct(o))for(let c=0;c<o.length;c++){const d=Qr(o[c]);Fy(d)&&(s[d]=ln)}else if(o)for(const c in o){const d=Qr(c);if(Fy(d)){const f=o[c],h=s[d]=ct(f)||gt(f)?{type:f}:f;if(h){const m=Vy(Boolean,h.type),g=Vy(String,h.type);h[0]=m>-1,h[1]=g<0||m<g,(m>-1||Et(h,"default"))&&a.push(d)}}}const u=[s,a];return r.set(t,u),u}function Fy(t){return t[0]!=="$"}function By(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:t===null?"null":""}function zy(t,e){return By(t)===By(e)}function Vy(t,e){return ct(e)?e.findIndex(n=>zy(n,t)):gt(e)&&zy(e,t)?0:-1}const _C=t=>t[0]==="_"||t==="$stable",Tv=t=>ct(t)?t.map(Fi):[Fi(t)],GA=(t,e,n)=>{const r=X((...i)=>Tv(e(...i)),n);return r._c=!1,r},SC=(t,e,n)=>{const r=t._ctx;for(const i in t){if(_C(i))continue;const o=t[i];if(gt(o))e[i]=GA(i,o,r);else if(o!=null){const s=Tv(o);e[i]=()=>s}}},CC=(t,e)=>{const n=Tv(e);t.slots.default=()=>n},jA=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=Wt(e),Rf(e,"_",n)):SC(e,t.slots={})}else t.slots={},e&&CC(t,e);Rf(t.slots,yh,1)},KA=(t,e,n)=>{const{vnode:r,slots:i}=t;let o=!0,s=ln;if(r.shapeFlag&32){const a=e._;a?n&&a===1?o=!1:(Gn(i,e),!n&&a===1&&delete i._):(o=!e.$stable,SC(e,i)),s=e}else e&&(CC(t,e),s={default:1});if(o)for(const a in i)!_C(a)&&!(a in s)&&delete i[a]};function ut(t,e){const n=Ir;if(n===null)return t;const r=n.proxy,i=t.dirs||(t.dirs=[]);for(let o=0;o<e.length;o++){let[s,a,l,u=ln]=e[o];gt(s)&&(s={mounted:s,updated:s}),s.deep&&Os(a),i.push({dir:s,instance:r,value:a,oldValue:void 0,arg:l,modifiers:u})}return t}function gs(t,e,n,r){const i=t.dirs,o=e&&e.dirs;for(let s=0;s<i.length;s++){const a=i[s];o&&(a.oldValue=o[s].value);let l=a.dir[r];l&&(ua(),Yr(l,n,8,[t.el,a,t,e]),ca())}}function MC(){return{app:null,config:{isNativeTag:E3,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let qA=0;function YA(t,e){return function(r,i=null){i!=null&&!kt(i)&&(i=null);const o=MC(),s=new Set;let a=!1;const l=o.app={_uid:qA++,_component:r,_props:i,_container:null,_context:o,_instance:null,version:gk,get config(){return o.config},set config(u){},use(u,...c){return s.has(u)||(u&&gt(u.install)?(s.add(u),u.install(l,...c)):gt(u)&&(s.add(u),u(l,...c))),l},mixin(u){return o.mixins.includes(u)||o.mixins.push(u),l},component(u,c){return c?(o.components[u]=c,l):o.components[u]},directive(u,c){return c?(o.directives[u]=c,l):o.directives[u]},mount(u,c,d){if(!a){const f=Z(r,i);return f.appContext=o,c&&e?e(f,u):t(f,u,d),a=!0,l._container=u,u.__vue_app__=l,Rv(f.component)||f.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(u,c){return o.provides[u]=c,l}};return l}}function Zm(t,e,n,r,i=!1){if(ct(t)){t.forEach((f,h)=>Zm(f,e&&(ct(e)?e[h]:e),n,r,i));return}if(Km(r)&&!i)return;const o=r.shapeFlag&4?Rv(r.component)||r.component.proxy:r.el,s=i?null:o,{i:a,r:l}=t,u=e&&e.r,c=a.refs===ln?a.refs={}:a.refs,d=a.setupState;if(u!=null&&u!==l&&(pt(u)?(c[u]=null,Et(d,u)&&(d[u]=null)):hn(u)&&(u.value=null)),gt(l))co(l,a,12,[s,c]);else{const f=pt(l),h=hn(l);if(f||h){const m=()=>{if(t.f){const g=f?c[l]:l.value;i?ct(g)&&dv(g,o):ct(g)?g.includes(o)||g.push(o):f?c[l]=[o]:(l.value=[o],t.k&&(c[t.k]=l.value))}else f?(c[l]=s,Et(d,l)&&(d[l]=s)):hn(l)&&(l.value=s,t.k&&(c[t.k]=s))};s?(m.id=-1,pr(m,n)):m()}}}const pr=AA;function XA(t){return ZA(t)}function ZA(t,e){const n=L3();n.__VUE__=!0;const{insert:r,remove:i,patchProp:o,createElement:s,createText:a,createComment:l,setText:u,setElementText:c,parentNode:d,nextSibling:f,setScopeId:h=Vt,cloneNode:m,insertStaticContent:g}=t,p=(U,Q,de,me=null,Se=null,Ae=null,ee=!1,le=null,ae=!!Q.dynamicChildren)=>{if(U===Q)return;U&&!Ls(U,Q)&&(me=he(U),se(U,Se,Ae,!0),U=null),Q.patchFlag===-2&&(ae=!1,Q.dynamicChildren=null);const{type:z,ref:H,shapeFlag:j}=Q;switch(z){case Lc:v(U,Q,de,me);break;case wr:y(U,Q,de,me);break;case fp:U==null&&w(Q,de,me,ee);break;case Ze:O(U,Q,de,me,Se,Ae,ee,le,ae);break;default:j&1?S(U,Q,de,me,Se,Ae,ee,le,ae):j&6?D(U,Q,de,me,Se,Ae,ee,le,ae):(j&64||j&128)&&z.process(U,Q,de,me,Se,Ae,ee,le,ae,ye)}H!=null&&Se&&Zm(H,U&&U.ref,Ae,Q||U,!Q)},v=(U,Q,de,me)=>{if(U==null)r(Q.el=a(Q.children),de,me);else{const Se=Q.el=U.el;Q.children!==U.children&&u(Se,Q.children)}},y=(U,Q,de,me)=>{U==null?r(Q.el=l(Q.children||""),de,me):Q.el=U.el},w=(U,Q,de,me)=>{[U.el,U.anchor]=g(U.children,Q,de,me,U.el,U.anchor)},_=({el:U,anchor:Q},de,me)=>{let Se;for(;U&&U!==Q;)Se=f(U),r(U,de,me),U=Se;r(Q,de,me)},b=({el:U,anchor:Q})=>{let de;for(;U&&U!==Q;)de=f(U),i(U),U=de;i(Q)},S=(U,Q,de,me,Se,Ae,ee,le,ae)=>{ee=ee||Q.type==="svg",U==null?M(Q,de,me,Se,Ae,ee,le,ae):I(U,Q,Se,Ae,ee,le,ae)},M=(U,Q,de,me,Se,Ae,ee,le)=>{let ae,z;const{type:H,props:j,shapeFlag:ce,transition:ke,patchFlag:Ve,dirs:Ne}=U;if(U.el&&m!==void 0&&Ve===-1)ae=U.el=m(U.el);else{if(ae=U.el=s(U.type,Ae,j&&j.is,j),ce&8?c(ae,U.children):ce&16&&N(U.children,ae,null,me,Se,Ae&&H!=="foreignObject",ee,le),Ne&&gs(U,null,me,"created"),j){for(const _e in j)_e!=="value"&&!qd(_e)&&o(ae,_e,null,j[_e],Ae,U.children,me,Se,re);"value"in j&&o(ae,"value",null,j.value),(z=j.onVnodeBeforeMount)&&Di(z,me,U)}T(ae,U,U.scopeId,ee,me)}Ne&&gs(U,null,me,"beforeMount");const Y=(!Se||Se&&!Se.pendingBranch)&&ke&&!ke.persisted;Y&&ke.beforeEnter(ae),r(ae,Q,de),((z=j&&j.onVnodeMounted)||Y||Ne)&&pr(()=>{z&&Di(z,me,U),Y&&ke.enter(ae),Ne&&gs(U,null,me,"mounted")},Se)},T=(U,Q,de,me,Se)=>{if(de&&h(U,de),me)for(let Ae=0;Ae<me.length;Ae++)h(U,me[Ae]);if(Se){let Ae=Se.subTree;if(Q===Ae){const ee=Se.vnode;T(U,ee,ee.scopeId,ee.slotScopeIds,Se.parent)}}},N=(U,Q,de,me,Se,Ae,ee,le,ae=0)=>{for(let z=ae;z<U.length;z++){const H=U[z]=le?jo(U[z]):Fi(U[z]);p(null,H,Q,de,me,Se,Ae,ee,le)}},I=(U,Q,de,me,Se,Ae,ee)=>{const le=Q.el=U.el;let{patchFlag:ae,dynamicChildren:z,dirs:H}=Q;ae|=U.patchFlag&16;const j=U.props||ln,ce=Q.props||ln;let ke;de&&vs(de,!1),(ke=ce.onVnodeBeforeUpdate)&&Di(ke,de,Q,U),H&&gs(Q,U,de,"beforeUpdate"),de&&vs(de,!0);const Ve=Se&&Q.type!=="foreignObject";if(z?x(U.dynamicChildren,z,le,de,me,Ve,Ae):ee||W(U,Q,le,null,de,me,Ve,Ae,!1),ae>0){if(ae&16)R(le,Q,j,ce,de,me,Se);else if(ae&2&&j.class!==ce.class&&o(le,"class",null,ce.class,Se),ae&4&&o(le,"style",j.style,ce.style,Se),ae&8){const Ne=Q.dynamicProps;for(let Y=0;Y<Ne.length;Y++){const _e=Ne[Y],ge=j[_e],xe=ce[_e];(xe!==ge||_e==="value")&&o(le,_e,ge,xe,Se,U.children,de,me,re)}}ae&1&&U.children!==Q.children&&c(le,Q.children)}else!ee&&z==null&&R(le,Q,j,ce,de,me,Se);((ke=ce.onVnodeUpdated)||H)&&pr(()=>{ke&&Di(ke,de,Q,U),H&&gs(Q,U,de,"updated")},me)},x=(U,Q,de,me,Se,Ae,ee)=>{for(let le=0;le<Q.length;le++){const ae=U[le],z=Q[le],H=ae.el&&(ae.type===Ze||!Ls(ae,z)||ae.shapeFlag&70)?d(ae.el):de;p(ae,z,H,null,me,Se,Ae,ee,!0)}},R=(U,Q,de,me,Se,Ae,ee)=>{if(de!==me){for(const le in me){if(qd(le))continue;const ae=me[le],z=de[le];ae!==z&&le!=="value"&&o(U,le,z,ae,ee,Q.children,Se,Ae,re)}if(de!==ln)for(const le in de)!qd(le)&&!(le in me)&&o(U,le,de[le],null,ee,Q.children,Se,Ae,re);"value"in me&&o(U,"value",de.value,me.value)}},O=(U,Q,de,me,Se,Ae,ee,le,ae)=>{const z=Q.el=U?U.el:a(""),H=Q.anchor=U?U.anchor:a("");let{patchFlag:j,dynamicChildren:ce,slotScopeIds:ke}=Q;ke&&(le=le?le.concat(ke):ke),U==null?(r(z,de,me),r(H,de,me),N(Q.children,de,H,Se,Ae,ee,le,ae)):j>0&&j&64&&ce&&U.dynamicChildren?(x(U.dynamicChildren,ce,de,Se,Ae,ee,le),(Q.key!=null||Se&&Q===Se.subTree)&&Av(U,Q,!0)):W(U,Q,de,H,Se,Ae,ee,le,ae)},D=(U,Q,de,me,Se,Ae,ee,le,ae)=>{Q.slotScopeIds=le,U==null?Q.shapeFlag&512?Se.ctx.activate(Q,de,me,ee,ae):B(Q,de,me,Se,Ae,ee,ae):L(U,Q,ae)},B=(U,Q,de,me,Se,Ae,ee)=>{const le=U.component=uk(U,me,Se);if(gh(U)&&(le.ctx.renderer=ye),ck(le),le.asyncDep){if(Se&&Se.registerDep(le,A),!U.el){const ae=le.subTree=Z(wr);y(null,ae,Q,de)}return}A(le,U,Q,de,Se,Ae,ee)},L=(U,Q,de)=>{const me=Q.component=U.component;if(xA(U,Q,de))if(me.asyncDep&&!me.asyncResolved){P(me,Q,de);return}else me.next=Q,bA(me.update),me.update();else Q.component=U.component,Q.el=U.el,me.vnode=Q},A=(U,Q,de,me,Se,Ae,ee)=>{const le=()=>{if(U.isMounted){let{next:H,bu:j,u:ce,parent:ke,vnode:Ve}=U,Ne=H,Y;vs(U,!1),H?(H.el=Ve.el,P(U,H,ee)):H=Ve,j&&Xd(j),(Y=H.props&&H.props.onVnodeBeforeUpdate)&&Di(Y,ke,H,Ve),vs(U,!0);const _e=cp(U),ge=U.subTree;U.subTree=_e,p(ge,_e,d(ge.el),he(ge),U,Se,Ae),H.el=_e.el,Ne===null&&EA(U,_e.el),ce&&pr(ce,Se),(Y=H.props&&H.props.onVnodeUpdated)&&pr(()=>Di(Y,ke,H,Ve),Se)}else{let H;const{el:j,props:ce}=Q,{bm:ke,m:Ve,parent:Ne}=U,Y=Km(Q);if(vs(U,!1),ke&&Xd(ke),!Y&&(H=ce&&ce.onVnodeBeforeMount)&&Di(H,Ne,Q),vs(U,!0),j&&be){const _e=()=>{U.subTree=cp(U),be(j,U.subTree,U,Se,null)};Y?Q.type.__asyncLoader().then(()=>!U.isUnmounted&&_e()):_e()}else{const _e=U.subTree=cp(U);p(null,_e,de,me,U,Se,Ae),Q.el=_e.el}if(Ve&&pr(Ve,Se),!Y&&(H=ce&&ce.onVnodeMounted)){const _e=Q;pr(()=>Di(H,Ne,_e),Se)}Q.shapeFlag&256&&U.a&&pr(U.a,Se),U.isMounted=!0,Q=de=me=null}},ae=U.effect=new mv(le,()=>rC(U.update),U.scope),z=U.update=ae.run.bind(ae);z.id=U.uid,vs(U,!0),z()},P=(U,Q,de)=>{Q.component=U;const me=U.vnode.props;U.vnode=Q,U.next=null,WA(U,Q.props,me,de),KA(U,Q.children,de),ua(),Cv(void 0,U.update),ca()},W=(U,Q,de,me,Se,Ae,ee,le,ae=!1)=>{const z=U&&U.children,H=U?U.shapeFlag:0,j=Q.children,{patchFlag:ce,shapeFlag:ke}=Q;if(ce>0){if(ce&128){te(z,j,de,me,Se,Ae,ee,le,ae);return}else if(ce&256){K(z,j,de,me,Se,Ae,ee,le,ae);return}}ke&8?(H&16&&re(z,Se,Ae),j!==z&&c(de,j)):H&16?ke&16?te(z,j,de,me,Se,Ae,ee,le,ae):re(z,Se,Ae,!0):(H&8&&c(de,""),ke&16&&N(j,de,me,Se,Ae,ee,le,ae))},K=(U,Q,de,me,Se,Ae,ee,le,ae)=>{U=U||il,Q=Q||il;const z=U.length,H=Q.length,j=Math.min(z,H);let ce;for(ce=0;ce<j;ce++){const ke=Q[ce]=ae?jo(Q[ce]):Fi(Q[ce]);p(U[ce],ke,de,null,Se,Ae,ee,le,ae)}z>H?re(U,Se,Ae,!0,!1,j):N(Q,de,me,Se,Ae,ee,le,ae,j)},te=(U,Q,de,me,Se,Ae,ee,le,ae)=>{let z=0;const H=Q.length;let j=U.length-1,ce=H-1;for(;z<=j&&z<=ce;){const ke=U[z],Ve=Q[z]=ae?jo(Q[z]):Fi(Q[z]);if(Ls(ke,Ve))p(ke,Ve,de,null,Se,Ae,ee,le,ae);else break;z++}for(;z<=j&&z<=ce;){const ke=U[j],Ve=Q[ce]=ae?jo(Q[ce]):Fi(Q[ce]);if(Ls(ke,Ve))p(ke,Ve,de,null,Se,Ae,ee,le,ae);else break;j--,ce--}if(z>j){if(z<=ce){const ke=ce+1,Ve=ke<H?Q[ke].el:me;for(;z<=ce;)p(null,Q[z]=ae?jo(Q[z]):Fi(Q[z]),de,Ve,Se,Ae,ee,le,ae),z++}}else if(z>ce)for(;z<=j;)se(U[z],Se,Ae,!0),z++;else{const ke=z,Ve=z,Ne=new Map;for(z=Ve;z<=ce;z++){const rt=Q[z]=ae?jo(Q[z]):Fi(Q[z]);rt.key!=null&&Ne.set(rt.key,z)}let Y,_e=0;const ge=ce-Ve+1;let xe=!1,ie=0;const He=new Array(ge);for(z=0;z<ge;z++)He[z]=0;for(z=ke;z<=j;z++){const rt=U[z];if(_e>=ge){se(rt,Se,Ae,!0);continue}let tt;if(rt.key!=null)tt=Ne.get(rt.key);else for(Y=Ve;Y<=ce;Y++)if(He[Y-Ve]===0&&Ls(rt,Q[Y])){tt=Y;break}tt===void 0?se(rt,Se,Ae,!0):(He[tt-Ve]=z+1,tt>=ie?ie=tt:xe=!0,p(rt,Q[tt],de,null,Se,Ae,ee,le,ae),_e++)}const We=xe?JA(He):il;for(Y=We.length-1,z=ge-1;z>=0;z--){const rt=Ve+z,tt=Q[rt],vt=rt+1<H?Q[rt+1].el:me;He[z]===0?p(null,tt,de,vt,Se,Ae,ee,le,ae):xe&&(Y<0||z!==We[Y]?J(tt,de,vt,2):Y--)}}},J=(U,Q,de,me,Se=null)=>{const{el:Ae,type:ee,transition:le,children:ae,shapeFlag:z}=U;if(z&6){J(U.component.subTree,Q,de,me);return}if(z&128){U.suspense.move(Q,de,me);return}if(z&64){ee.move(U,Q,de,ye);return}if(ee===Ze){r(Ae,Q,de);for(let j=0;j<ae.length;j++)J(ae[j],Q,de,me);r(U.anchor,Q,de);return}if(ee===fp){_(U,Q,de);return}if(me!==2&&z&1&&le)if(me===0)le.beforeEnter(Ae),r(Ae,Q,de),pr(()=>le.enter(Ae),Se);else{const{leave:j,delayLeave:ce,afterLeave:ke}=le,Ve=()=>r(Ae,Q,de),Ne=()=>{j(Ae,()=>{Ve(),ke&&ke()})};ce?ce(Ae,Ve,Ne):Ne()}else r(Ae,Q,de)},se=(U,Q,de,me=!1,Se=!1)=>{const{type:Ae,props:ee,ref:le,children:ae,dynamicChildren:z,shapeFlag:H,patchFlag:j,dirs:ce}=U;if(le!=null&&Zm(le,null,de,U,!0),H&256){Q.ctx.deactivate(U);return}const ke=H&1&&ce,Ve=!Km(U);let Ne;if(Ve&&(Ne=ee&&ee.onVnodeBeforeUnmount)&&Di(Ne,Q,U),H&6)q(U.component,de,me);else{if(H&128){U.suspense.unmount(de,me);return}ke&&gs(U,null,Q,"beforeUnmount"),H&64?U.type.remove(U,Q,de,Se,ye,me):z&&(Ae!==Ze||j>0&&j&64)?re(z,Q,de,!1,!0):(Ae===Ze&&j&384||!Se&&H&16)&&re(ae,Q,de),me&&Te(U)}(Ve&&(Ne=ee&&ee.onVnodeUnmounted)||ke)&&pr(()=>{Ne&&Di(Ne,Q,U),ke&&gs(U,null,Q,"unmounted")},de)},Te=U=>{const{type:Q,el:de,anchor:me,transition:Se}=U;if(Q===Ze){Le(de,me);return}if(Q===fp){b(U);return}const Ae=()=>{i(de),Se&&!Se.persisted&&Se.afterLeave&&Se.afterLeave()};if(U.shapeFlag&1&&Se&&!Se.persisted){const{leave:ee,delayLeave:le}=Se,ae=()=>ee(de,Ae);le?le(U.el,Ae,ae):ae()}else Ae()},Le=(U,Q)=>{let de;for(;U!==Q;)de=f(U),i(U),U=de;i(Q)},q=(U,Q,de)=>{const{bum:me,scope:Se,update:Ae,subTree:ee,um:le}=U;me&&Xd(me),Se.stop(),Ae&&(Ae.active=!1,se(ee,U,Q,de)),le&&pr(le,Q),pr(()=>{U.isUnmounted=!0},Q),Q&&Q.pendingBranch&&!Q.isUnmounted&&U.asyncDep&&!U.asyncResolved&&U.suspenseId===Q.pendingId&&(Q.deps--,Q.deps===0&&Q.resolve())},re=(U,Q,de,me=!1,Se=!1,Ae=0)=>{for(let ee=Ae;ee<U.length;ee++)se(U[ee],Q,de,me,Se)},he=U=>U.shapeFlag&6?he(U.component.subTree):U.shapeFlag&128?U.suspense.next():f(U.anchor||U.el),we=(U,Q,de)=>{U==null?Q._vnode&&se(Q._vnode,null,null,!0):p(Q._vnode||null,U,Q,null,null,null,de),sC(),Q._vnode=U},ye={p,um:se,m:J,r:Te,mt:B,mc:N,pc:W,pbc:x,n:he,o:t};let ze,be;return e&&([ze,be]=e(ye)),{render:we,hydrate:ze,createApp:YA(we,ze)}}function vs({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function Av(t,e,n=!1){const r=t.children,i=e.children;if(ct(r)&&ct(i))for(let o=0;o<r.length;o++){const s=r[o];let a=i[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[o]=jo(i[o]),a.el=s.el),n||Av(s,a))}}function JA(t){const e=t.slice(),n=[0];let r,i,o,s,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(i=n[n.length-1],t[i]<u){e[r]=i,n.push(r);continue}for(o=0,s=n.length-1;o<s;)a=o+s>>1,t[n[a]]<u?o=a+1:s=a;u<t[n[o]]&&(o>0&&(e[r]=n[o-1]),n[o]=r)}}for(o=n.length,s=n[o-1];o-- >0;)n[o]=s,s=e[s];return n}const QA=t=>t.__isTeleport,Du=t=>t&&(t.disabled||t.disabled===""),Hy=t=>typeof SVGElement!="undefined"&&t instanceof SVGElement,Jm=(t,e)=>{const n=t&&t.to;return pt(n)?e?e(n):null:n},ek={__isTeleport:!0,process(t,e,n,r,i,o,s,a,l,u){const{mc:c,pc:d,pbc:f,o:{insert:h,querySelector:m,createText:g,createComment:p}}=u,v=Du(e.props);let{shapeFlag:y,children:w,dynamicChildren:_}=e;if(t==null){const b=e.el=g(""),S=e.anchor=g("");h(b,n,r),h(S,n,r);const M=e.target=Jm(e.props,m),T=e.targetAnchor=g("");M&&(h(T,M),s=s||Hy(M));const N=(I,x)=>{y&16&&c(w,I,x,i,o,s,a,l)};v?N(n,S):M&&N(M,T)}else{e.el=t.el;const b=e.anchor=t.anchor,S=e.target=t.target,M=e.targetAnchor=t.targetAnchor,T=Du(t.props),N=T?n:S,I=T?b:M;if(s=s||Hy(S),_?(f(t.dynamicChildren,_,N,i,o,s,a),Av(t,e,!0)):l||d(t,e,N,I,i,o,s,a,!1),v)T||Jc(e,n,b,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const x=e.target=Jm(e.props,m);x&&Jc(e,x,null,u,0)}else T&&Jc(e,S,M,u,1)}},remove(t,e,n,r,{um:i,o:{remove:o}},s){const{shapeFlag:a,children:l,anchor:u,targetAnchor:c,target:d,props:f}=t;if(d&&o(c),(s||!Du(f))&&(o(u),a&16))for(let h=0;h<l.length;h++){const m=l[h];i(m,e,n,!0,!!m.dynamicChildren)}},move:Jc,hydrate:tk};function Jc(t,e,n,{o:{insert:r},m:i},o=2){o===0&&r(t.targetAnchor,e,n);const{el:s,anchor:a,shapeFlag:l,children:u,props:c}=t,d=o===2;if(d&&r(s,e,n),(!d||Du(c))&&l&16)for(let f=0;f<u.length;f++)i(u[f],e,n,2);d&&r(a,e,n)}function tk(t,e,n,r,i,o,{o:{nextSibling:s,parentNode:a,querySelector:l}},u){const c=e.target=Jm(e.props,l);if(c){const d=c._lpa||c.firstChild;e.shapeFlag&16&&(Du(e.props)?(e.anchor=u(s(t),e,a(t),n,r,i,o),e.targetAnchor=d):(e.anchor=s(t),e.targetAnchor=u(d,e,c,n,r,i,o)),c._lpa=e.targetAnchor&&s(e.targetAnchor))}return e.anchor&&s(e.anchor)}const Pc=ek,kv="components",nk="directives";function ve(t,e){return Pv(kv,t,!0,e)||t}const xC=Symbol();function Pt(t){return pt(t)?Pv(kv,t,!1)||t:t||xC}function Vr(t){return Pv(nk,t)}function Pv(t,e,n=!0,r=!1){const i=Ir||Wn;if(i){const o=i.type;if(t===kv){const a=RC(o);if(a&&(a===e||a===Qr(e)||a===Pr(Qr(e))))return o}const s=Uy(i[t]||o[t],e)||Uy(i.appContext[t],e);return!s&&r?o:s}}function Uy(t,e){return t&&(t[e]||t[Qr(e)]||t[Pr(Qr(e))])}const Ze=Symbol(void 0),Lc=Symbol(void 0),wr=Symbol(void 0),fp=Symbol(void 0),$u=[];let Gs=null;function E(t=!1){$u.push(Gs=t?null:[])}function rk(){$u.pop(),Gs=$u[$u.length-1]||null}let Of=1;function Wy(t){Of+=t}function EC(t){return t.dynamicChildren=Of>0?Gs||il:null,rk(),Of>0&&Gs&&Gs.push(t),t}function V(t,e,n,r,i,o){return EC(G(t,e,n,r,i,o,!0))}function fe(t,e,n,r,i){return EC(Z(t,e,n,r,i,!0))}function Mn(t){return t?t.__v_isVNode===!0:!1}function Ls(t,e){return t.type===e.type&&t.key===e.key}const yh="__vInternal",TC=({key:t})=>t!=null?t:null,Zd=({ref:t,ref_key:e,ref_for:n})=>t!=null?pt(t)||hn(t)||gt(t)?{i:Ir,r:t,k:e,f:!!n}:t:null;function G(t,e=null,n=null,r=0,i=null,o=t===Ze?0:1,s=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&TC(e),ref:e&&Zd(e),scopeId:mh,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null};return a?(Lv(l,n),o&128&&t.normalize(l)):n&&(l.shapeFlag|=pt(n)?8:16),Of>0&&!s&&Gs&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&Gs.push(l),l}const Z=ik;function ik(t,e=null,n=null,r=0,i=null,o=!1){if((!t||t===xC)&&(t=wr),Mn(t)){const a=ta(t,e,!0);return n&&Lv(a,n),a}if(mk(t)&&(t=t.__vccOpts),e){e=rs(e);let{class:a,style:l}=e;a&&!pt(a)&&(e.class=$(a)),kt(l)&&(ZS(l)&&!ct(l)&&(l=Gn({},l)),e.style=Ye(l))}const s=pt(t)?1:TA(t)?128:QA(t)?64:kt(t)?4:gt(t)?2:0;return G(t,e,n,r,i,s,o,!0)}function rs(t){return t?ZS(t)||yh in t?Gn({},t):t:null}function ta(t,e,n=!1){const{props:r,ref:i,patchFlag:o,children:s}=t,a=e?Qt(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&TC(a),ref:e&&e.ref?n&&i?ct(i)?i.concat(Zd(e)):[i,Zd(e)]:Zd(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:s,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ze?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&ta(t.ssContent),ssFallback:t.ssFallback&&ta(t.ssFallback),el:t.el,anchor:t.anchor}}function lt(t=" ",e=0){return Z(Lc,null,t,e)}function ue(t="",e=!1){return e?(E(),fe(wr,null,t)):Z(wr,null,t)}function Fi(t){return t==null||typeof t=="boolean"?Z(wr):ct(t)?Z(Ze,null,t.slice()):typeof t=="object"?jo(t):Z(Lc,null,String(t))}function jo(t){return t.el===null||t.memo?t:ta(t)}function Lv(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(ct(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),Lv(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!(yh in e)?e._ctx=Ir:i===3&&Ir&&(Ir.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else gt(e)?(e={default:e,_ctx:Ir},n=32):(e=String(e),r&64?(n=16,e=[lt(e)]):n=8);t.children=e,t.shapeFlag|=n}function Qt(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=$([e.class,r.class]));else if(i==="style")e.style=Ye([e.style,r.style]);else if(ch(i)){const o=e[i],s=r[i];s&&o!==s&&!(ct(o)&&o.includes(s))&&(e[i]=o?[].concat(o,s):s)}else i!==""&&(e[i]=r[i])}return e}function Di(t,e,n,r=null){Yr(t,e,7,[n,r])}function xt(t,e,n,r){let i;const o=n&&n[r];if(ct(t)||pt(t)){i=new Array(t.length);for(let s=0,a=t.length;s<a;s++)i[s]=e(t[s],s,void 0,o&&o[s])}else if(typeof t=="number"){i=new Array(t);for(let s=0;s<t;s++)i[s]=e(s+1,s,void 0,o&&o[s])}else if(kt(t))if(t[Symbol.iterator])i=Array.from(t,(s,a)=>e(s,a,void 0,o&&o[a]));else{const s=Object.keys(t);i=new Array(s.length);for(let a=0,l=s.length;a<l;a++){const u=s[a];i[a]=e(t[u],u,a,o&&o[a])}}else i=[];return n&&(n[r]=i),i}function is(t,e){for(let n=0;n<e.length;n++){const r=e[n];if(ct(r))for(let i=0;i<r.length;i++)t[r[i].name]=r[i].fn;else r&&(t[r.name]=r.fn)}return t}function Ce(t,e,n={},r,i){if(Ir.isCE)return Z("slot",e==="default"?null:{name:e},r&&r());let o=t[e];o&&o._c&&(o._d=!1),E();const s=o&&AC(o(n)),a=fe(Ze,{key:n.key||`_${e}`},s||(r?r():[]),s&&t._===1?64:-2);return!i&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),o&&o._c&&(o._d=!0),a}function AC(t){return t.some(e=>Mn(e)?!(e.type===wr||e.type===Ze&&!AC(e.children)):!0)?t:null}function ok(t){const e={};for(const n in t)e[Yd(n)]=t[n];return e}const Qm=t=>t?kC(t)?Rv(t)||t.proxy:Qm(t.parent):null,Ff=Gn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Qm(t.parent),$root:t=>Qm(t.root),$emit:t=>t.emit,$options:t=>yC(t),$forceUpdate:t=>()=>rC(t.update),$nextTick:t=>et.bind(t.proxy),$watch:t=>kA.bind(t)}),sk={get({_:t},e){const{ctx:n,setupState:r,data:i,props:o,accessCache:s,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const h=s[e];if(h!==void 0)switch(h){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return o[e]}else{if(r!==ln&&Et(r,e))return s[e]=1,r[e];if(i!==ln&&Et(i,e))return s[e]=2,i[e];if((u=t.propsOptions[0])&&Et(u,e))return s[e]=3,o[e];if(n!==ln&&Et(n,e))return s[e]=4,n[e];qm&&(s[e]=0)}}const c=Ff[e];let d,f;if(c)return e==="$attrs"&&zr(t,"get",e),c(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(n!==ln&&Et(n,e))return s[e]=4,n[e];if(f=l.config.globalProperties,Et(f,e))return f[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:o}=t;return i!==ln&&Et(i,e)?(i[e]=n,!0):r!==ln&&Et(r,e)?(r[e]=n,!0):Et(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(o[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:o}},s){let a;return!!n[s]||t!==ln&&Et(t,s)||e!==ln&&Et(e,s)||(a=o[0])&&Et(a,s)||Et(r,s)||Et(Ff,s)||Et(i.config.globalProperties,s)},defineProperty(t,e,n){return n.get!=null?this.set(t,e,n.get(),null):n.value!=null&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}},ak=MC();let lk=0;function uk(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||ak,o={uid:lk++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new FS(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:wC(r,i),emitsOptions:lC(r,i),emit:null,emitted:null,propsDefaults:ln,inheritAttrs:r.inheritAttrs,ctx:ln,data:ln,props:ln,attrs:ln,slots:ln,refs:ln,setupState:ln,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=SA.bind(null,o),t.ce&&t.ce(o),o}let Wn=null;const wt=()=>Wn||Ir,ml=t=>{Wn=t,t.scope.on()},js=()=>{Wn&&Wn.scope.off(),Wn=null};function kC(t){return t.vnode.shapeFlag&4}let nc=!1;function ck(t,e=!1){nc=e;const{props:n,children:r}=t.vnode,i=kC(t);UA(t,n,i,e),jA(t,r);const o=i?dk(t,e):void 0;return nc=!1,o}function dk(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=Zu(new Proxy(t.ctx,sk));const{setup:r}=n;if(r){const i=t.setupContext=r.length>1?LC(t):null;ml(t),ua();const o=co(r,t,0,[t.props,i]);if(ca(),js(),ea(o)){if(o.then(js,js),e)return o.then(s=>{Gy(t,s,e)}).catch(s=>{ph(s,t,0)});t.asyncDep=o}else Gy(t,o,e)}else PC(t,e)}function Gy(t,e,n){gt(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:kt(e)&&(t.setupState=eC(e)),PC(t,n)}let jy;function PC(t,e,n){const r=t.type;if(!t.render){if(!e&&jy&&!r.render){const i=r.template;if(i){const{isCustomElement:o,compilerOptions:s}=t.appContext.config,{delimiters:a,compilerOptions:l}=r,u=Gn(Gn({isCustomElement:o,delimiters:a},s),l);r.render=jy(i,u)}}t.render=r.render||Vt}ml(t),ua(),FA(t),ca(),js()}function fk(t){return new Proxy(t.attrs,{get(e,n){return zr(t,"get","$attrs"),e[n]}})}function LC(t){const e=r=>{t.exposed=r||{}};let n;return{get attrs(){return n||(n=fk(t))},slots:t.slots,emit:t.emit,expose:e}}function Rv(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(eC(Zu(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Ff)return Ff[n](t)}}))}const hk=/(?:^|[-_])(\w)/g,pk=t=>t.replace(hk,e=>e.toUpperCase()).replace(/[-_]/g,"");function RC(t){return gt(t)&&t.displayName||t.name}function IC(t,e,n=!1){let r=RC(e);if(!r&&e.__file){const i=e.__file.match(/([^/\\]+)\.\w+$/);i&&(r=i[1])}if(!r&&t&&t.parent){const i=o=>{for(const s in o)if(o[s]===e)return s};r=i(t.components||t.parent.type.components)||i(t.appContext.components)}return r?pk(r):n?"App":"Anonymous"}function mk(t){return gt(t)&&"__vccOpts"in t}const k=(t,e)=>dA(t,e,nc);function Rc(){return $C().slots}function DC(){return $C().attrs}function $C(){const t=wt();return t.setupContext||(t.setupContext=LC(t))}function Xe(t,e,n){const r=arguments.length;return r===2?kt(e)&&!ct(e)?Mn(e)?Z(t,null,[e]):Z(t,e):Z(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Mn(n)&&(n=[n]),Z(t,e,n))}const gk="3.2.31",vk="http://www.w3.org/2000/svg",Rs=typeof document!="undefined"?document:null,Ky=Rs&&Rs.createElement("template"),yk={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e?Rs.createElementNS(vk,t):Rs.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>Rs.createTextNode(t),createComment:t=>Rs.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Rs.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},cloneNode(t){const e=t.cloneNode(!0);return"_value"in t&&(e._value=t._value),e},insertStaticContent(t,e,n,r,i,o){const s=n?n.previousSibling:e.lastChild;if(i&&(i===o||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===o||!(i=i.nextSibling)););else{Ky.innerHTML=r?`<svg>${t}</svg>`:t;const a=Ky.content;if(r){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[s?s.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function bk(t,e,n){const r=t._vtc;r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function wk(t,e,n){const r=t.style,i=pt(n);if(n&&!i){for(const o in n)eg(r,o,n[o]);if(e&&!pt(e))for(const o in e)n[o]==null&&eg(r,o,"")}else{const o=r.display;i?e!==n&&(r.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(r.display=o)}}const qy=/\s*!important$/;function eg(t,e,n){if(ct(n))n.forEach(r=>eg(t,e,r));else if(e.startsWith("--"))t.setProperty(e,n);else{const r=_k(t,e);qy.test(n)?t.setProperty(ls(r),n.replace(qy,""),"important"):t[r]=n}}const Yy=["Webkit","Moz","ms"],hp={};function _k(t,e){const n=hp[e];if(n)return n;let r=Qr(e);if(r!=="filter"&&r in t)return hp[e]=r;r=Pr(r);for(let i=0;i<Yy.length;i++){const o=Yy[i]+r;if(o in t)return hp[e]=o}return e}const Xy="http://www.w3.org/1999/xlink";function Sk(t,e,n,r,i){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(Xy,e.slice(6,e.length)):t.setAttributeNS(Xy,e,n);else{const o=_3(e);n==null||o&&!IS(n)?t.removeAttribute(e):t.setAttribute(e,o?"":n)}}function Ck(t,e,n,r,i,o,s){if(e==="innerHTML"||e==="textContent"){r&&s(r,i,o),t[e]=n==null?"":n;return}if(e==="value"&&t.tagName!=="PROGRESS"&&!t.tagName.includes("-")){t._value=n;const a=n==null?"":n;(t.value!==a||t.tagName==="OPTION")&&(t.value=a),n==null&&t.removeAttribute(e);return}if(n===""||n==null){const a=typeof t[e];if(a==="boolean"){t[e]=IS(n);return}else if(n==null&&a==="string"){t[e]="",t.removeAttribute(e);return}else if(a==="number"){try{t[e]=0}catch{}t.removeAttribute(e);return}}try{t[e]=n}catch{}}let Bf=Date.now,NC=!1;if(typeof window!="undefined"){Bf()>document.createEvent("Event").timeStamp&&(Bf=()=>performance.now());const t=navigator.userAgent.match(/firefox\/(\d+)/i);NC=!!(t&&Number(t[1])<=53)}let tg=0;const Mk=Promise.resolve(),xk=()=>{tg=0},Ek=()=>tg||(Mk.then(xk),tg=Bf());function Ko(t,e,n,r){t.addEventListener(e,n,r)}function Tk(t,e,n,r){t.removeEventListener(e,n,r)}function Ak(t,e,n,r,i=null){const o=t._vei||(t._vei={}),s=o[e];if(r&&s)s.value=r;else{const[a,l]=kk(e);if(r){const u=o[e]=Pk(r,i);Ko(t,a,u,l)}else s&&(Tk(t,a,s,l),o[e]=void 0)}}const Zy=/(?:Once|Passive|Capture)$/;function kk(t){let e;if(Zy.test(t)){e={};let n;for(;n=t.match(Zy);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[ls(t.slice(2)),e]}function Pk(t,e){const n=r=>{const i=r.timeStamp||Bf();(NC||i>=n.attached-1)&&Yr(Lk(r,n.value),e,5,[r])};return n.value=t,n.attached=Ek(),n}function Lk(t,e){if(ct(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const Jy=/^on[a-z]/,Rk=(t,e,n,r,i=!1,o,s,a,l)=>{e==="class"?bk(t,r,i):e==="style"?wk(t,n,r):ch(e)?cv(e)||Ak(t,e,n,r,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Ik(t,e,r,i))?Ck(t,e,r,o,s,a,l):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Sk(t,e,r,i))};function Ik(t,e,n,r){return r?!!(e==="innerHTML"||e==="textContent"||e in t&&Jy.test(e)&&gt(n)):e==="spellcheck"||e==="draggable"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||Jy.test(e)&&pt(n)?!1:e in t}const Io="transition",su="animation",En=(t,{slots:e})=>Xe(hC,FC(t),e);En.displayName="Transition";const OC={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Dk=En.props=Gn({},hC.props,OC),ys=(t,e=[])=>{ct(t)?t.forEach(n=>n(...e)):t&&t(...e)},Qy=t=>t?ct(t)?t.some(e=>e.length>1):t.length>1:!1;function FC(t){const e={};for(const R in t)R in OC||(e[R]=t[R]);if(t.css===!1)return e;const{name:n="v",type:r,duration:i,enterFromClass:o=`${n}-enter-from`,enterActiveClass:s=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=o,appearActiveClass:u=s,appearToClass:c=a,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:h=`${n}-leave-to`}=t,m=$k(i),g=m&&m[0],p=m&&m[1],{onBeforeEnter:v,onEnter:y,onEnterCancelled:w,onLeave:_,onLeaveCancelled:b,onBeforeAppear:S=v,onAppear:M=y,onAppearCancelled:T=w}=e,N=(R,O,D)=>{Es(R,O?c:a),Es(R,O?u:s),D&&D()},I=(R,O)=>{Es(R,h),Es(R,f),O&&O()},x=R=>(O,D)=>{const B=R?M:y,L=()=>N(O,R,D);ys(B,[O,L]),eb(()=>{Es(O,R?l:o),oo(O,R?c:a),Qy(B)||tb(O,r,g,L)})};return Gn(e,{onBeforeEnter(R){ys(v,[R]),oo(R,o),oo(R,s)},onBeforeAppear(R){ys(S,[R]),oo(R,l),oo(R,u)},onEnter:x(!1),onAppear:x(!0),onLeave(R,O){const D=()=>I(R,O);oo(R,d),zC(),oo(R,f),eb(()=>{Es(R,d),oo(R,h),Qy(_)||tb(R,r,p,D)}),ys(_,[R,D])},onEnterCancelled(R){N(R,!1),ys(w,[R])},onAppearCancelled(R){N(R,!0),ys(T,[R])},onLeaveCancelled(R){I(R),ys(b,[R])}})}function $k(t){if(t==null)return null;if(kt(t))return[pp(t.enter),pp(t.leave)];{const e=pp(t);return[e,e]}}function pp(t){return If(t)}function oo(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t._vtc||(t._vtc=new Set)).add(e)}function Es(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const{_vtc:n}=t;n&&(n.delete(e),n.size||(t._vtc=void 0))}function eb(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let Nk=0;function tb(t,e,n,r){const i=t._endId=++Nk,o=()=>{i===t._endId&&r()};if(n)return setTimeout(o,n);const{type:s,timeout:a,propCount:l}=BC(t,e);if(!s)return r();const u=s+"end";let c=0;const d=()=>{t.removeEventListener(u,f),o()},f=h=>{h.target===t&&++c>=l&&d()};setTimeout(()=>{c<l&&d()},a+1),t.addEventListener(u,f)}function BC(t,e){const n=window.getComputedStyle(t),r=m=>(n[m]||"").split(", "),i=r(Io+"Delay"),o=r(Io+"Duration"),s=nb(i,o),a=r(su+"Delay"),l=r(su+"Duration"),u=nb(a,l);let c=null,d=0,f=0;e===Io?s>0&&(c=Io,d=s,f=o.length):e===su?u>0&&(c=su,d=u,f=l.length):(d=Math.max(s,u),c=d>0?s>u?Io:su:null,f=c?c===Io?o.length:l.length:0);const h=c===Io&&/\b(transform|all)(,|$)/.test(n[Io+"Property"]);return{type:c,timeout:d,propCount:f,hasTransform:h}}function nb(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>rb(n)+rb(t[r])))}function rb(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function zC(){return document.body.offsetHeight}const VC=new WeakMap,HC=new WeakMap,Ok={name:"TransitionGroup",props:Gn({},Dk,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=wt(),r=fC();let i,o;return Ai(()=>{if(!i.length)return;const s=t.moveClass||`${t.name||"v"}-move`;if(!Hk(i[0].el,n.vnode.el,s))return;i.forEach(Bk),i.forEach(zk);const a=i.filter(Vk);zC(),a.forEach(l=>{const u=l.el,c=u.style;oo(u,s),c.transform=c.webkitTransform=c.transitionDuration="";const d=u._moveCb=f=>{f&&f.target!==u||(!f||/transform$/.test(f.propertyName))&&(u.removeEventListener("transitionend",d),u._moveCb=null,Es(u,s))};u.addEventListener("transitionend",d)})}),()=>{const s=Wt(t),a=FC(s);let l=s.tag||Ze;i=o,o=e.default?Ev(e.default()):[];for(let u=0;u<o.length;u++){const c=o[u];c.key!=null&&tc(c,ec(c,a,r,n))}if(i)for(let u=0;u<i.length;u++){const c=i[u];tc(c,ec(c,a,r,n)),VC.set(c,c.el.getBoundingClientRect())}return Z(l,null,o)}}},Fk=Ok;function Bk(t){const e=t.el;e._moveCb&&e._moveCb(),e._enterCb&&e._enterCb()}function zk(t){HC.set(t,t.el.getBoundingClientRect())}function Vk(t){const e=VC.get(t),n=HC.get(t),r=e.left-n.left,i=e.top-n.top;if(r||i){const o=t.el.style;return o.transform=o.webkitTransform=`translate(${r}px,${i}px)`,o.transitionDuration="0s",t}}function Hk(t,e,n){const r=t.cloneNode();t._vtc&&t._vtc.forEach(s=>{s.split(/\s+/).forEach(a=>a&&r.classList.remove(a))}),n.split(/\s+/).forEach(s=>s&&r.classList.add(s)),r.style.display="none";const i=e.nodeType===1?e:e.parentNode;i.appendChild(r);const{hasTransform:o}=BC(r);return i.removeChild(r),o}const gl=t=>{const e=t.props["onUpdate:modelValue"];return ct(e)?n=>Xd(e,n):e};function Uk(t){t.target.composing=!0}function ib(t){const e=t.target;e.composing&&(e.composing=!1,Wk(e,"input"))}function Wk(t,e){const n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}const Iv={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t._assign=gl(i);const o=r||i.props&&i.props.type==="number";Ko(t,e?"change":"input",s=>{if(s.target.composing)return;let a=t.value;n?a=a.trim():o&&(a=If(a)),t._assign(a)}),n&&Ko(t,"change",()=>{t.value=t.value.trim()}),e||(Ko(t,"compositionstart",Uk),Ko(t,"compositionend",ib),Ko(t,"change",ib))},mounted(t,{value:e}){t.value=e==null?"":e},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:r,number:i}},o){if(t._assign=gl(o),t.composing||document.activeElement===t&&(n||r&&t.value.trim()===e||(i||t.type==="number")&&If(t.value)===e))return;const s=e==null?"":e;t.value!==s&&(t.value=s)}},zf={deep:!0,created(t,e,n){t._assign=gl(n),Ko(t,"change",()=>{const r=t._modelValue,i=WC(t),o=t.checked,s=t._assign;if(ct(r)){const a=DS(r,i),l=a!==-1;if(o&&!l)s(r.concat(i));else if(!o&&l){const u=[...r];u.splice(a,1),s(u)}}else if(dh(r)){const a=new Set(r);o?a.add(i):a.delete(i),s(a)}else s(GC(t,o))})},mounted:ob,beforeUpdate(t,e,n){t._assign=gl(n),ob(t,e,n)}};function ob(t,{value:e,oldValue:n},r){t._modelValue=e,ct(e)?t.checked=DS(e,r.props.value)>-1:dh(e)?t.checked=e.has(r.props.value):e!==n&&(t.checked=pl(e,GC(t,!0)))}const UC={created(t,{value:e},n){t.checked=pl(e,n.props.value),t._assign=gl(n),Ko(t,"change",()=>{t._assign(WC(t))})},beforeUpdate(t,{value:e,oldValue:n},r){t._assign=gl(r),e!==n&&(t.checked=pl(e,r.props.value))}};function WC(t){return"_value"in t?t._value:t.value}function GC(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const Gk=["ctrl","shift","alt","meta"],jk={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Gk.some(n=>t[`${n}Key`]&&!e.includes(n))},ot=(t,e)=>(n,...r)=>{for(let i=0;i<e.length;i++){const o=jk[e[i]];if(o&&o(n,e))return}return t(n,...r)},Kk={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Mt=(t,e)=>n=>{if(!("key"in n))return;const r=ls(n.key);if(e.some(i=>i===r||Kk[i]===r))return t(n)},Lt={beforeMount(t,{value:e},{transition:n}){t._vod=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):au(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),au(t,!0),r.enter(t)):r.leave(t,()=>{au(t,!1)}):au(t,e))},beforeUnmount(t,{value:e}){au(t,e)}};function au(t,e){t.style.display=e?t._vod:"none"}const qk=Gn({patchProp:Rk},yk);let sb;function jC(){return sb||(sb=XA(qk))}const vl=(...t)=>{jC().render(...t)},KC=(...t)=>{const e=jC().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=Yk(r);if(!i)return;const o=e._component;!gt(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.innerHTML="";const s=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),s},e};function Yk(t){return pt(t)?document.querySelector(t):t}var Xk=typeof global=="object"&&global&&global.Object===Object&&global,qC=Xk,Zk=typeof self=="object"&&self&&self.Object===Object&&self,Jk=qC||Zk||Function("return this")(),ki=Jk,Qk=ki.Symbol,ei=Qk,YC=Object.prototype,eP=YC.hasOwnProperty,tP=YC.toString,lu=ei?ei.toStringTag:void 0;function nP(t){var e=eP.call(t,lu),n=t[lu];try{t[lu]=void 0;var r=!0}catch{}var i=tP.call(t);return r&&(e?t[lu]=n:delete t[lu]),i}var rP=Object.prototype,iP=rP.toString;function oP(t){return iP.call(t)}var sP="[object Null]",aP="[object Undefined]",ab=ei?ei.toStringTag:void 0;function Fl(t){return t==null?t===void 0?aP:sP:ab&&ab in Object(t)?nP(t):oP(t)}function yo(t){return t!=null&&typeof t=="object"}var lP="[object Symbol]";function bh(t){return typeof t=="symbol"||yo(t)&&Fl(t)==lP}function uP(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var cP=Array.isArray,Mi=cP,dP=1/0,lb=ei?ei.prototype:void 0,ub=lb?lb.toString:void 0;function XC(t){if(typeof t=="string")return t;if(Mi(t))return uP(t,XC)+"";if(bh(t))return ub?ub.call(t):"";var e=t+"";return e=="0"&&1/t==-dP?"-0":e}var fP=/\s/;function hP(t){for(var e=t.length;e--&&fP.test(t.charAt(e)););return e}var pP=/^\s+/;function mP(t){return t&&t.slice(0,hP(t)+1).replace(pP,"")}function xi(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var cb=0/0,gP=/^[-+]0x[0-9a-f]+$/i,vP=/^0b[01]+$/i,yP=/^0o[0-7]+$/i,bP=parseInt;function db(t){if(typeof t=="number")return t;if(bh(t))return cb;if(xi(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=xi(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=mP(t);var n=vP.test(t);return n||yP.test(t)?bP(t.slice(2),n?2:8):gP.test(t)?cb:+t}function ZC(t){return t}var wP="[object AsyncFunction]",_P="[object Function]",SP="[object GeneratorFunction]",CP="[object Proxy]";function JC(t){if(!xi(t))return!1;var e=Fl(t);return e==_P||e==SP||e==wP||e==CP}var MP=ki["__core-js_shared__"],mp=MP,fb=function(){var t=/[^.]+$/.exec(mp&&mp.keys&&mp.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function xP(t){return!!fb&&fb in t}var EP=Function.prototype,TP=EP.toString;function da(t){if(t!=null){try{return TP.call(t)}catch{}try{return t+""}catch{}}return""}var AP=/[\\^$.*+?()[\]{}|]/g,kP=/^\[object .+?Constructor\]$/,PP=Function.prototype,LP=Object.prototype,RP=PP.toString,IP=LP.hasOwnProperty,DP=RegExp("^"+RP.call(IP).replace(AP,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function $P(t){if(!xi(t)||xP(t))return!1;var e=JC(t)?DP:kP;return e.test(da(t))}function NP(t,e){return t==null?void 0:t[e]}function fa(t,e){var n=NP(t,e);return $P(n)?n:void 0}var OP=fa(ki,"WeakMap"),ng=OP,hb=Object.create,FP=function(){function t(){}return function(e){if(!xi(e))return{};if(hb)return hb(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),BP=FP;function zP(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function VP(){}function HP(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var UP=800,WP=16,GP=Date.now;function jP(t){var e=0,n=0;return function(){var r=GP(),i=WP-(r-n);if(n=r,i>0){if(++e>=UP)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function KP(t){return function(){return t}}var qP=function(){try{var t=fa(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Vf=qP,YP=Vf?function(t,e){return Vf(t,"toString",{configurable:!0,enumerable:!1,value:KP(e),writable:!0})}:ZC,XP=YP,ZP=jP(XP),QC=ZP;function JP(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}function QP(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function eL(t){return t!==t}function tL(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function nL(t,e,n){return e===e?tL(t,e,n):QP(t,eL,n)}function rL(t,e){var n=t==null?0:t.length;return!!n&&nL(t,e,0)>-1}var iL=9007199254740991,oL=/^(?:0|[1-9]\d*)$/;function Dv(t,e){var n=typeof t;return e=e==null?iL:e,!!e&&(n=="number"||n!="symbol"&&oL.test(t))&&t>-1&&t%1==0&&t<e}function eM(t,e,n){e=="__proto__"&&Vf?Vf(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function $v(t,e){return t===e||t!==t&&e!==e}var sL=Object.prototype,aL=sL.hasOwnProperty;function Nv(t,e,n){var r=t[e];(!(aL.call(t,e)&&$v(r,n))||n===void 0&&!(e in t))&&eM(t,e,n)}function wh(t,e,n,r){var i=!n;n||(n={});for(var o=-1,s=e.length;++o<s;){var a=e[o],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?eM(n,a,l):Nv(n,a,l)}return n}var pb=Math.max;function tM(t,e,n){return e=pb(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=pb(r.length-e,0),s=Array(o);++i<o;)s[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(s),zP(t,this,a)}}function lL(t,e){return QC(tM(t,e,ZC),t+"")}var uL=9007199254740991;function Ov(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=uL}function Fv(t){return t!=null&&Ov(t.length)&&!JC(t)}var cL=Object.prototype;function Bv(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||cL;return t===n}function dL(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var fL="[object Arguments]";function mb(t){return yo(t)&&Fl(t)==fL}var nM=Object.prototype,hL=nM.hasOwnProperty,pL=nM.propertyIsEnumerable,mL=mb(function(){return arguments}())?mb:function(t){return yo(t)&&hL.call(t,"callee")&&!pL.call(t,"callee")},zv=mL;function gL(){return!1}var rM=typeof Nr=="object"&&Nr&&!Nr.nodeType&&Nr,gb=rM&&typeof Or=="object"&&Or&&!Or.nodeType&&Or,vL=gb&&gb.exports===rM,vb=vL?ki.Buffer:void 0,yL=vb?vb.isBuffer:void 0,bL=yL||gL,Hf=bL,wL="[object Arguments]",_L="[object Array]",SL="[object Boolean]",CL="[object Date]",ML="[object Error]",xL="[object Function]",EL="[object Map]",TL="[object Number]",AL="[object Object]",kL="[object RegExp]",PL="[object Set]",LL="[object String]",RL="[object WeakMap]",IL="[object ArrayBuffer]",DL="[object DataView]",$L="[object Float32Array]",NL="[object Float64Array]",OL="[object Int8Array]",FL="[object Int16Array]",BL="[object Int32Array]",zL="[object Uint8Array]",VL="[object Uint8ClampedArray]",HL="[object Uint16Array]",UL="[object Uint32Array]",mn={};mn[$L]=mn[NL]=mn[OL]=mn[FL]=mn[BL]=mn[zL]=mn[VL]=mn[HL]=mn[UL]=!0;mn[wL]=mn[_L]=mn[IL]=mn[SL]=mn[DL]=mn[CL]=mn[ML]=mn[xL]=mn[EL]=mn[TL]=mn[AL]=mn[kL]=mn[PL]=mn[LL]=mn[RL]=!1;function WL(t){return yo(t)&&Ov(t.length)&&!!mn[Fl(t)]}function Vv(t){return function(e){return t(e)}}var iM=typeof Nr=="object"&&Nr&&!Nr.nodeType&&Nr,Nu=iM&&typeof Or=="object"&&Or&&!Or.nodeType&&Or,GL=Nu&&Nu.exports===iM,gp=GL&&qC.process,jL=function(){try{var t=Nu&&Nu.require&&Nu.require("util").types;return t||gp&&gp.binding&&gp.binding("util")}catch{}}(),yl=jL,yb=yl&&yl.isTypedArray,KL=yb?Vv(yb):WL,oM=KL,qL=Object.prototype,YL=qL.hasOwnProperty;function sM(t,e){var n=Mi(t),r=!n&&zv(t),i=!n&&!r&&Hf(t),o=!n&&!r&&!i&&oM(t),s=n||r||i||o,a=s?dL(t.length,String):[],l=a.length;for(var u in t)(e||YL.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Dv(u,l)))&&a.push(u);return a}function aM(t,e){return function(n){return t(e(n))}}var XL=aM(Object.keys,Object),ZL=XL,JL=Object.prototype,QL=JL.hasOwnProperty;function eR(t){if(!Bv(t))return ZL(t);var e=[];for(var n in Object(t))QL.call(t,n)&&n!="constructor"&&e.push(n);return e}function Hv(t){return Fv(t)?sM(t):eR(t)}function tR(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var nR=Object.prototype,rR=nR.hasOwnProperty;function iR(t){if(!xi(t))return tR(t);var e=Bv(t),n=[];for(var r in t)r=="constructor"&&(e||!rR.call(t,r))||n.push(r);return n}function Uv(t){return Fv(t)?sM(t,!0):iR(t)}var oR=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,sR=/^\w*$/;function aR(t,e){if(Mi(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||bh(t)?!0:sR.test(t)||!oR.test(t)||e!=null&&t in Object(e)}var lR=fa(Object,"create"),rc=lR;function uR(){this.__data__=rc?rc(null):{},this.size=0}function cR(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var dR="__lodash_hash_undefined__",fR=Object.prototype,hR=fR.hasOwnProperty;function pR(t){var e=this.__data__;if(rc){var n=e[t];return n===dR?void 0:n}return hR.call(e,t)?e[t]:void 0}var mR=Object.prototype,gR=mR.hasOwnProperty;function vR(t){var e=this.__data__;return rc?e[t]!==void 0:gR.call(e,t)}var yR="__lodash_hash_undefined__";function bR(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=rc&&e===void 0?yR:e,this}function na(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}na.prototype.clear=uR;na.prototype.delete=cR;na.prototype.get=pR;na.prototype.has=vR;na.prototype.set=bR;function wR(){this.__data__=[],this.size=0}function _h(t,e){for(var n=t.length;n--;)if($v(t[n][0],e))return n;return-1}var _R=Array.prototype,SR=_R.splice;function CR(t){var e=this.__data__,n=_h(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():SR.call(e,n,1),--this.size,!0}function MR(t){var e=this.__data__,n=_h(e,t);return n<0?void 0:e[n][1]}function xR(t){return _h(this.__data__,t)>-1}function ER(t,e){var n=this.__data__,r=_h(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function xo(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}xo.prototype.clear=wR;xo.prototype.delete=CR;xo.prototype.get=MR;xo.prototype.has=xR;xo.prototype.set=ER;var TR=fa(ki,"Map"),ic=TR;function AR(){this.size=0,this.__data__={hash:new na,map:new(ic||xo),string:new na}}function kR(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Sh(t,e){var n=t.__data__;return kR(e)?n[typeof e=="string"?"string":"hash"]:n.map}function PR(t){var e=Sh(this,t).delete(t);return this.size-=e?1:0,e}function LR(t){return Sh(this,t).get(t)}function RR(t){return Sh(this,t).has(t)}function IR(t,e){var n=Sh(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function Eo(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Eo.prototype.clear=AR;Eo.prototype.delete=PR;Eo.prototype.get=LR;Eo.prototype.has=RR;Eo.prototype.set=IR;var DR="Expected a function";function Ch(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(DR);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(Ch.Cache||Eo),n}Ch.Cache=Eo;var $R=500;function NR(t){var e=Ch(t,function(r){return n.size===$R&&n.clear(),r}),n=e.cache;return e}var OR=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,FR=/\\(\\)?/g,BR=NR(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(OR,function(n,r,i,o){e.push(i?o.replace(FR,"$1"):r||n)}),e}),zR=BR;function VR(t){return t==null?"":XC(t)}function Mh(t,e){return Mi(t)?t:aR(t,e)?[t]:zR(VR(t))}var HR=1/0;function Wv(t){if(typeof t=="string"||bh(t))return t;var e=t+"";return e=="0"&&1/t==-HR?"-0":e}function lM(t,e){e=Mh(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[Wv(e[n++])];return n&&n==r?t:void 0}function cn(t,e,n){var r=t==null?void 0:lM(t,e);return r===void 0?n:r}function Gv(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var bb=ei?ei.isConcatSpreadable:void 0;function UR(t){return Mi(t)||zv(t)||!!(bb&&t&&t[bb])}function xh(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=UR),i||(i=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?xh(a,e-1,n,r,i):Gv(i,a):r||(i[i.length]=a)}return i}function WR(t){var e=t==null?0:t.length;return e?xh(t,1):[]}function GR(t){return QC(tM(t,void 0,WR),t+"")}var jR=aM(Object.getPrototypeOf,Object),uM=jR;function oc(){if(!arguments.length)return[];var t=arguments[0];return Mi(t)?t:[t]}function KR(){this.__data__=new xo,this.size=0}function qR(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function YR(t){return this.__data__.get(t)}function XR(t){return this.__data__.has(t)}var ZR=200;function JR(t,e){var n=this.__data__;if(n instanceof xo){var r=n.__data__;if(!ic||r.length<ZR-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Eo(r)}return n.set(t,e),this.size=n.size,this}function fo(t){var e=this.__data__=new xo(t);this.size=e.size}fo.prototype.clear=KR;fo.prototype.delete=qR;fo.prototype.get=YR;fo.prototype.has=XR;fo.prototype.set=JR;function QR(t,e){return t&&wh(e,Hv(e),t)}function eI(t,e){return t&&wh(e,Uv(e),t)}var cM=typeof Nr=="object"&&Nr&&!Nr.nodeType&&Nr,wb=cM&&typeof Or=="object"&&Or&&!Or.nodeType&&Or,tI=wb&&wb.exports===cM,_b=tI?ki.Buffer:void 0,Sb=_b?_b.allocUnsafe:void 0;function nI(t,e){if(e)return t.slice();var n=t.length,r=Sb?Sb(n):new t.constructor(n);return t.copy(r),r}function rI(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}function dM(){return[]}var iI=Object.prototype,oI=iI.propertyIsEnumerable,Cb=Object.getOwnPropertySymbols,sI=Cb?function(t){return t==null?[]:(t=Object(t),rI(Cb(t),function(e){return oI.call(t,e)}))}:dM,jv=sI;function aI(t,e){return wh(t,jv(t),e)}var lI=Object.getOwnPropertySymbols,uI=lI?function(t){for(var e=[];t;)Gv(e,jv(t)),t=uM(t);return e}:dM,fM=uI;function cI(t,e){return wh(t,fM(t),e)}function hM(t,e,n){var r=e(t);return Mi(t)?r:Gv(r,n(t))}function rg(t){return hM(t,Hv,jv)}function dI(t){return hM(t,Uv,fM)}var fI=fa(ki,"DataView"),ig=fI,hI=fa(ki,"Promise"),og=hI,pI=fa(ki,"Set"),al=pI,Mb="[object Map]",mI="[object Object]",xb="[object Promise]",Eb="[object Set]",Tb="[object WeakMap]",Ab="[object DataView]",gI=da(ig),vI=da(ic),yI=da(og),bI=da(al),wI=da(ng),Ts=Fl;(ig&&Ts(new ig(new ArrayBuffer(1)))!=Ab||ic&&Ts(new ic)!=Mb||og&&Ts(og.resolve())!=xb||al&&Ts(new al)!=Eb||ng&&Ts(new ng)!=Tb)&&(Ts=function(t){var e=Fl(t),n=e==mI?t.constructor:void 0,r=n?da(n):"";if(r)switch(r){case gI:return Ab;case vI:return Mb;case yI:return xb;case bI:return Eb;case wI:return Tb}return e});var sc=Ts,_I=Object.prototype,SI=_I.hasOwnProperty;function CI(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&SI.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var MI=ki.Uint8Array,Uf=MI;function Kv(t){var e=new t.constructor(t.byteLength);return new Uf(e).set(new Uf(t)),e}function xI(t,e){var n=e?Kv(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var EI=/\w*$/;function TI(t){var e=new t.constructor(t.source,EI.exec(t));return e.lastIndex=t.lastIndex,e}var kb=ei?ei.prototype:void 0,Pb=kb?kb.valueOf:void 0;function AI(t){return Pb?Object(Pb.call(t)):{}}function kI(t,e){var n=e?Kv(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var PI="[object Boolean]",LI="[object Date]",RI="[object Map]",II="[object Number]",DI="[object RegExp]",$I="[object Set]",NI="[object String]",OI="[object Symbol]",FI="[object ArrayBuffer]",BI="[object DataView]",zI="[object Float32Array]",VI="[object Float64Array]",HI="[object Int8Array]",UI="[object Int16Array]",WI="[object Int32Array]",GI="[object Uint8Array]",jI="[object Uint8ClampedArray]",KI="[object Uint16Array]",qI="[object Uint32Array]";function YI(t,e,n){var r=t.constructor;switch(e){case FI:return Kv(t);case PI:case LI:return new r(+t);case BI:return xI(t,n);case zI:case VI:case HI:case UI:case WI:case GI:case jI:case KI:case qI:return kI(t,n);case RI:return new r;case II:case NI:return new r(t);case DI:return TI(t);case $I:return new r;case OI:return AI(t)}}function XI(t){return typeof t.constructor=="function"&&!Bv(t)?BP(uM(t)):{}}var ZI="[object Map]";function JI(t){return yo(t)&&sc(t)==ZI}var Lb=yl&&yl.isMap,QI=Lb?Vv(Lb):JI,eD=QI,tD="[object Set]";function nD(t){return yo(t)&&sc(t)==tD}var Rb=yl&&yl.isSet,rD=Rb?Vv(Rb):nD,iD=rD,oD=1,sD=2,aD=4,pM="[object Arguments]",lD="[object Array]",uD="[object Boolean]",cD="[object Date]",dD="[object Error]",mM="[object Function]",fD="[object GeneratorFunction]",hD="[object Map]",pD="[object Number]",gM="[object Object]",mD="[object RegExp]",gD="[object Set]",vD="[object String]",yD="[object Symbol]",bD="[object WeakMap]",wD="[object ArrayBuffer]",_D="[object DataView]",SD="[object Float32Array]",CD="[object Float64Array]",MD="[object Int8Array]",xD="[object Int16Array]",ED="[object Int32Array]",TD="[object Uint8Array]",AD="[object Uint8ClampedArray]",kD="[object Uint16Array]",PD="[object Uint32Array]",un={};un[pM]=un[lD]=un[wD]=un[_D]=un[uD]=un[cD]=un[SD]=un[CD]=un[MD]=un[xD]=un[ED]=un[hD]=un[pD]=un[gM]=un[mD]=un[gD]=un[vD]=un[yD]=un[TD]=un[AD]=un[kD]=un[PD]=!0;un[dD]=un[mM]=un[bD]=!1;function Jd(t,e,n,r,i,o){var s,a=e&oD,l=e&sD,u=e&aD;if(n&&(s=i?n(t,r,i,o):n(t)),s!==void 0)return s;if(!xi(t))return t;var c=Mi(t);if(c){if(s=CI(t),!a)return HP(t,s)}else{var d=sc(t),f=d==mM||d==fD;if(Hf(t))return nI(t,a);if(d==gM||d==pM||f&&!i){if(s=l||f?{}:XI(t),!a)return l?cI(t,eI(s,t)):aI(t,QR(s,t))}else{if(!un[d])return i?t:{};s=YI(t,d,a)}}o||(o=new fo);var h=o.get(t);if(h)return h;o.set(t,s),iD(t)?t.forEach(function(p){s.add(Jd(p,e,n,p,t,o))}):eD(t)&&t.forEach(function(p,v){s.set(v,Jd(p,e,n,v,t,o))});var m=u?l?dI:rg:l?Uv:Hv,g=c?void 0:m(t);return JP(g||t,function(p,v){g&&(v=p,p=t[v]),Nv(s,v,Jd(p,e,n,v,t,o))}),s}var LD=4;function RD(t){return Jd(t,LD)}var ID="__lodash_hash_undefined__";function DD(t){return this.__data__.set(t,ID),this}function $D(t){return this.__data__.has(t)}function ac(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Eo;++e<n;)this.add(t[e])}ac.prototype.add=ac.prototype.push=DD;ac.prototype.has=$D;function ND(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function vM(t,e){return t.has(e)}var OD=1,FD=2;function yM(t,e,n,r,i,o){var s=n&OD,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var d=-1,f=!0,h=n&FD?new ac:void 0;for(o.set(t,e),o.set(e,t);++d<a;){var m=t[d],g=e[d];if(r)var p=s?r(g,m,d,e,t,o):r(m,g,d,t,e,o);if(p!==void 0){if(p)continue;f=!1;break}if(h){if(!ND(e,function(v,y){if(!vM(h,y)&&(m===v||i(m,v,n,r,o)))return h.push(y)})){f=!1;break}}else if(!(m===g||i(m,g,n,r,o))){f=!1;break}}return o.delete(t),o.delete(e),f}function BD(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}function qv(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var zD=1,VD=2,HD="[object Boolean]",UD="[object Date]",WD="[object Error]",GD="[object Map]",jD="[object Number]",KD="[object RegExp]",qD="[object Set]",YD="[object String]",XD="[object Symbol]",ZD="[object ArrayBuffer]",JD="[object DataView]",Ib=ei?ei.prototype:void 0,vp=Ib?Ib.valueOf:void 0;function QD(t,e,n,r,i,o,s){switch(n){case JD:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case ZD:return!(t.byteLength!=e.byteLength||!o(new Uf(t),new Uf(e)));case HD:case UD:case jD:return $v(+t,+e);case WD:return t.name==e.name&&t.message==e.message;case KD:case YD:return t==e+"";case GD:var a=BD;case qD:var l=r&zD;if(a||(a=qv),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;r|=VD,s.set(t,e);var c=yM(a(t),a(e),r,i,o,s);return s.delete(t),c;case XD:if(vp)return vp.call(t)==vp.call(e)}return!1}var e$=1,t$=Object.prototype,n$=t$.hasOwnProperty;function r$(t,e,n,r,i,o){var s=n&e$,a=rg(t),l=a.length,u=rg(e),c=u.length;if(l!=c&&!s)return!1;for(var d=l;d--;){var f=a[d];if(!(s?f in e:n$.call(e,f)))return!1}var h=o.get(t),m=o.get(e);if(h&&m)return h==e&&m==t;var g=!0;o.set(t,e),o.set(e,t);for(var p=s;++d<l;){f=a[d];var v=t[f],y=e[f];if(r)var w=s?r(y,v,f,e,t,o):r(v,y,f,t,e,o);if(!(w===void 0?v===y||i(v,y,n,r,o):w)){g=!1;break}p||(p=f=="constructor")}if(g&&!p){var _=t.constructor,b=e.constructor;_!=b&&"constructor"in t&&"constructor"in e&&!(typeof _=="function"&&_ instanceof _&&typeof b=="function"&&b instanceof b)&&(g=!1)}return o.delete(t),o.delete(e),g}var i$=1,Db="[object Arguments]",$b="[object Array]",Qc="[object Object]",o$=Object.prototype,Nb=o$.hasOwnProperty;function s$(t,e,n,r,i,o){var s=Mi(t),a=Mi(e),l=s?$b:sc(t),u=a?$b:sc(e);l=l==Db?Qc:l,u=u==Db?Qc:u;var c=l==Qc,d=u==Qc,f=l==u;if(f&&Hf(t)){if(!Hf(e))return!1;s=!0,c=!1}if(f&&!c)return o||(o=new fo),s||oM(t)?yM(t,e,n,r,i,o):QD(t,e,l,n,r,i,o);if(!(n&i$)){var h=c&&Nb.call(t,"__wrapped__"),m=d&&Nb.call(e,"__wrapped__");if(h||m){var g=h?t.value():t,p=m?e.value():e;return o||(o=new fo),i(g,p,n,r,o)}}return f?(o||(o=new fo),r$(t,e,n,r,i,o)):!1}function bM(t,e,n,r,i){return t===e?!0:t==null||e==null||!yo(t)&&!yo(e)?t!==t&&e!==e:s$(t,e,n,r,bM,i)}function a$(t,e){return t!=null&&e in Object(t)}function l$(t,e,n){e=Mh(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var s=Wv(e[r]);if(!(o=t!=null&&n(t,s)))break;t=t[s]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&Ov(i)&&Dv(s,i)&&(Mi(t)||zv(t)))}function u$(t,e){return t!=null&&l$(t,e,a$)}var c$=function(){return ki.Date.now()},yp=c$,d$="Expected a function",f$=Math.max,h$=Math.min;function _r(t,e,n){var r,i,o,s,a,l,u=0,c=!1,d=!1,f=!0;if(typeof t!="function")throw new TypeError(d$);e=db(e)||0,xi(n)&&(c=!!n.leading,d="maxWait"in n,o=d?f$(db(n.maxWait)||0,e):o,f="trailing"in n?!!n.trailing:f);function h(S){var M=r,T=i;return r=i=void 0,u=S,s=t.apply(T,M),s}function m(S){return u=S,a=setTimeout(v,e),c?h(S):s}function g(S){var M=S-l,T=S-u,N=e-M;return d?h$(N,o-T):N}function p(S){var M=S-l,T=S-u;return l===void 0||M>=e||M<0||d&&T>=o}function v(){var S=yp();if(p(S))return y(S);a=setTimeout(v,g(S))}function y(S){return a=void 0,f&&r?h(S):(r=i=void 0,s)}function w(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function _(){return a===void 0?s:y(yp())}function b(){var S=yp(),M=p(S);if(r=arguments,i=this,l=S,M){if(a===void 0)return m(l);if(d)return clearTimeout(a),a=setTimeout(v,e),h(l)}return a===void 0&&(a=setTimeout(v,e)),s}return b.cancel=w,b.flush=_,b}function p$(t){return yo(t)&&Fv(t)}function m$(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var g$=1/0;function v$(t){var e=t==null?0:t.length;return e?xh(t,g$):[]}function wM(t){for(var e=-1,n=t==null?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r}function Fr(t,e){return bM(t,e)}function Yv(t){return t==null}function _M(t,e,n,r){if(!xi(t))return t;e=Mh(e,t);for(var i=-1,o=e.length,s=o-1,a=t;a!=null&&++i<o;){var l=Wv(e[i]),u=n;if(l==="__proto__"||l==="constructor"||l==="prototype")return t;if(i!=s){var c=a[l];u=r?r(c,l,a):void 0,u===void 0&&(u=xi(c)?c:Dv(e[i+1])?[]:{})}Nv(a,l,u),a=a[l]}return t}function y$(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var s=e[r],a=lM(t,s);n(a,s)&&_M(o,Mh(s,t),a)}return o}function b$(t,e){return y$(t,e,function(n,r){return u$(t,r)})}var w$=GR(function(t,e){return t==null?{}:b$(t,e)}),qo=w$;function _$(t,e,n){return t==null?t:_M(t,e,n)}var S$="Expected a function";function Ks(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(S$);return xi(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),_r(t,e,{leading:r,maxWait:e,trailing:i})}var C$=1/0,M$=al&&1/qv(new al([,-0]))[1]==C$?function(t){return new al(t)}:VP,x$=M$,E$=200;function T$(t,e,n){var r=-1,i=rL,o=t.length,s=!0,a=[],l=a;if(n)s=!1,i=m$;else if(o>=E$){var u=e?null:x$(t);if(u)return qv(u);s=!1,i=vM,l=new ac}else l=e?[]:a;e:for(;++r<o;){var c=t[r],d=e?e(c):c;if(c=n||c!==0?c:0,s&&d===d){for(var f=l.length;f--;)if(l[f]===d)continue e;e&&l.push(d),a.push(c)}else i(l,d,n)||(l!==a&&l.push(d),a.push(c))}return a}var A$=lL(function(t){return T$(xh(t,1,p$,!0))}),bp=A$;const k$='a[href],button:not([disabled]),button:not([hidden]),:not([tabindex="-1"]),input:not([disabled]),input:not([type="hidden"]),select:not([disabled]),textarea:not([disabled])',P$=t=>getComputedStyle(t).position==="fixed"?!1:t.offsetParent!==null,Ob=t=>Array.from(t.querySelectorAll(k$)).filter(e=>L$(e)&&P$(e)),L$=t=>{if(t.tabIndex>0||t.tabIndex===0&&t.getAttribute("tabIndex")!==null)return!0;if(t.disabled)return!1;switch(t.nodeName){case"A":return!!t.href&&t.rel!=="ignore";case"INPUT":return!(t.type==="hidden"||t.type==="file");case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},Qd=function(t,e,...n){let r;e.includes("mouse")||e.includes("click")?r="MouseEvents":e.includes("key")?r="KeyboardEvent":r="HTMLEvents";const i=document.createEvent(r);return i.initEvent(e,...n),t.dispatchEvent(i),t},SM=t=>!t.getAttribute("aria-owns"),CM=(t,e,n)=>{const{parentNode:r}=t;if(!r)return null;const i=r.querySelectorAll(n),o=Array.prototype.indexOf.call(i,t);return i[o+e]||null},ef=t=>{!t||(t.focus(),!SM(t)&&t.click())},sn=(t,e,n,r=!1)=>{t&&e&&n&&(t==null||t.addEventListener(e,n,r))},wn=(t,e,n,r=!1)=>{t&&e&&n&&(t==null||t.removeEventListener(e,n,r))},R$=(t,e,n)=>{const r=function(...i){n&&n.apply(this,i),wn(t,e,r)};sn(t,e,r)},dn=(t,e,{checkForDefaultPrevented:n=!0}={})=>i=>{const o=t==null?void 0:t(i);if(n===!1||!o)return e==null?void 0:e(i)},Fb=t=>e=>e.pointerType==="mouse"?t(e):void 0;var I$=Object.defineProperty,D$=Object.defineProperties,$$=Object.getOwnPropertyDescriptors,Bb=Object.getOwnPropertySymbols,N$=Object.prototype.hasOwnProperty,O$=Object.prototype.propertyIsEnumerable,zb=(t,e,n)=>e in t?I$(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,F$=(t,e)=>{for(var n in e||(e={}))N$.call(e,n)&&zb(t,n,e[n]);if(Bb)for(var n of Bb(e))O$.call(e,n)&&zb(t,n,e[n]);return t},B$=(t,e)=>D$(t,$$(e));function Vb(t,e){var n;const r=Ln();return Xr(()=>{r.value=t()},B$(F$({},e),{flush:(n=e==null?void 0:e.flush)!=null?n:"sync"})),Tc(r)}function Eh(t){return D3()?(BS(t),!0):!1}const Tt=typeof window!="undefined",Qn=t=>typeof t=="boolean",It=t=>typeof t=="number",z$=t=>typeof t=="string",wp=()=>{};function MM(t,e){function n(...r){t(()=>e.apply(this,r),{fn:e,thisArg:this,args:r})}return n}function V$(t,e={}){let n,r;return o=>{const s=C(t),a=C(e.maxWait);if(n&&clearTimeout(n),s<=0||a!==void 0&&a<=0)return r&&(clearTimeout(r),r=null),o();a&&!r&&(r=setTimeout(()=>{n&&clearTimeout(n),r=null,o()},a)),n=setTimeout(()=>{r&&clearTimeout(r),r=null,o()},s)}}function H$(t,e=!0,n=!0){let r=0,i,o=!n;const s=()=>{i&&(clearTimeout(i),i=void 0)};return l=>{const u=C(t),c=Date.now()-r;if(s(),u<=0)return r=Date.now(),l();c>u&&(r=Date.now(),o?o=!1:l()),e&&(i=setTimeout(()=>{r=Date.now(),n||(o=!0),s(),l()},u)),!n&&!i&&(i=setTimeout(()=>o=!0,u))}}function U$(t,e=200,n={}){return MM(V$(e,n),t)}function W$(t,e=200,n={}){if(e<=0)return t;const r=F(t.value),i=U$(()=>{r.value=t.value},e,n);return Me(t,()=>i()),r}function xM(t,e=200,n=!0,r=!0){return MM(H$(e,n,r),t)}function G$(t,e=!0){wt()?ft(t):e?t():et(t)}function ra(t,e,n={}){const{immediate:r=!0}=n,i=F(!1);let o=null;function s(){o&&(clearTimeout(o),o=null)}function a(){i.value=!1,s()}function l(...u){s(),i.value=!0,o=setTimeout(()=>{i.value=!1,o=null,t(...u)},C(e))}return r&&(i.value=!0,Tt&&l()),Eh(a),{isPending:i,start:l,stop:a}}function wi(t){var e;const n=C(t);return(e=n==null?void 0:n.$el)!=null?e:n}const Ic=Tt?window:void 0,j$=Tt?window.document:void 0;function xn(...t){let e,n,r,i;if(z$(t[0])?([n,r,i]=t,e=Ic):[e,n,r,i]=t,!e)return wp;let o=wp;const s=Me(()=>wi(e),l=>{o(),l&&(l.addEventListener(n,r,i),o=()=>{l.removeEventListener(n,r,i),o=wp})},{immediate:!0,flush:"post"}),a=()=>{s(),o()};return Eh(a),a}function Wf(t,e,n={}){const{window:r=Ic,ignore:i,capture:o=!0}=n;if(!r)return;const s=F(!0),l=[xn(r,"click",c=>{const d=wi(t),f=c.composedPath();!d||d===c.target||f.includes(d)||!s.value||i&&i.length>0&&i.some(h=>{const m=wi(h);return m&&(c.target===m||f.includes(m))})||e(c)},{passive:!0,capture:o}),xn(r,"pointerdown",c=>{const d=wi(t);s.value=!!d&&!c.composedPath().includes(d)},{passive:!0})];return()=>l.forEach(c=>c())}const sg=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},ag="__vueuse_ssr_handlers__";sg[ag]=sg[ag]||{};sg[ag];function K$({document:t=j$}={}){if(!t)return F("visible");const e=F(t.visibilityState);return xn(t,"visibilitychange",()=>{e.value=t.visibilityState}),e}var Hb=Object.getOwnPropertySymbols,q$=Object.prototype.hasOwnProperty,Y$=Object.prototype.propertyIsEnumerable,X$=(t,e)=>{var n={};for(var r in t)q$.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Hb)for(var r of Hb(t))e.indexOf(r)<0&&Y$.call(t,r)&&(n[r]=t[r]);return n};function Bl(t,e,n={}){const r=n,{window:i=Ic}=r,o=X$(r,["window"]);let s;const a=i&&"ResizeObserver"in i,l=()=>{s&&(s.disconnect(),s=void 0)},u=Me(()=>wi(t),d=>{l(),a&&i&&d&&(s=new ResizeObserver(e),s.observe(d,o))},{immediate:!0,flush:"post"}),c=()=>{l(),u()};return Eh(c),{isSupported:a,stop:c}}function Ub(t,e={}){const{reset:n=!0,windowResize:r=!0,windowScroll:i=!0}=e,o=F(0),s=F(0),a=F(0),l=F(0),u=F(0),c=F(0),d=F(0),f=F(0);function h(){const m=wi(t);if(!m){n&&(o.value=0,s.value=0,a.value=0,l.value=0,u.value=0,c.value=0,d.value=0,f.value=0);return}const g=m.getBoundingClientRect();o.value=g.height,s.value=g.bottom,a.value=g.left,l.value=g.right,u.value=g.top,c.value=g.width,d.value=g.x,f.value=g.y}return Bl(t,h),Me(()=>wi(t),m=>!m&&h()),i&&xn("scroll",h,{passive:!0}),r&&xn("resize",h,{passive:!0}),{height:o,bottom:s,left:a,right:l,top:u,width:c,x:d,y:f,update:h}}var Wb,Gb;Tt&&(window==null?void 0:window.navigator)&&((Wb=window==null?void 0:window.navigator)==null?void 0:Wb.platform)&&/iP(ad|hone|od)/.test((Gb=window==null?void 0:window.navigator)==null?void 0:Gb.platform);function Z$({window:t=Ic}={}){if(!t)return F(!1);const e=F(t.document.hasFocus());return xn(t,"blur",()=>{e.value=!1}),xn(t,"focus",()=>{e.value=!0}),e}function J$({window:t=Ic,initialWidth:e=1/0,initialHeight:n=1/0}={}){const r=F(e),i=F(n),o=()=>{t&&(r.value=t.innerWidth,i.value=t.innerHeight)};return o(),G$(o),xn("resize",o,{passive:!0}),{width:r,height:i}}const Q$=(t,e)=>{if(!Tt||!t||!e)return!1;const n=t.getBoundingClientRect();let r;return e instanceof Element?r=e.getBoundingClientRect():r={top:0,right:window.innerWidth,bottom:window.innerHeight,left:0},n.top<r.bottom&&n.bottom>r.top&&n.right>r.left&&n.left<r.right},jb=t=>{let e=0,n=t;for(;n;)e+=n.offsetTop,n=n.offsetParent;return e},eN=(t,e)=>Math.abs(jb(t)-jb(e)),Xv=t=>{let e,n;return t.type==="touchend"?(n=t.changedTouches[0].clientY,e=t.changedTouches[0].clientX):t.type.startsWith("touch")?(n=t.touches[0].clientY,e=t.touches[0].clientX):(n=t.clientY,e=t.clientX),{clientX:e,clientY:n}},tN=function(t){for(const e of t){const n=e.target.__resizeListeners__||[];n.length&&n.forEach(r=>{r()})}},zl=function(t,e){!Tt||!t||(t.__resizeListeners__||(t.__resizeListeners__=[],t.__ro__=new ResizeObserver(tN),t.__ro__.observe(t)),t.__resizeListeners__.push(e))},Vl=function(t,e){var n;!t||!t.__resizeListeners__||(t.__resizeListeners__.splice(t.__resizeListeners__.indexOf(e),1),t.__resizeListeners__.length||(n=t.__ro__)==null||n.disconnect())},Rr=t=>t===void 0,lc=t=>!t&&t!==0||ct(t)&&t.length===0||kt(t)&&!Object.keys(t).length,ia=t=>typeof Element=="undefined"?!1:t instanceof Element,nN=t=>Yv(t),rN=(t="")=>t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),lg=t=>Object.keys(t),iN=t=>Object.entries(t),tf=(t,e,n)=>({get value(){return cn(t,e,n)},set value(r){_$(t,e,r)}}),EM=(t="")=>t.split(" ").filter(e=>!!e.trim()),_i=(t,e)=>{if(!t||!e)return!1;if(e.includes(" "))throw new Error("className should not contain space.");return t.classList.contains(e)},Hi=(t,e)=>{!t||!e.trim()||t.classList.add(...EM(e))},vr=(t,e)=>{!t||!e.trim()||t.classList.remove(...EM(e))},zi=(t,e)=>{var n;if(!Tt||!t||!e)return"";Qr(e);try{const r=t.style[e];if(r)return r;const i=(n=document.defaultView)==null?void 0:n.getComputedStyle(t,"");return i?i[e]:""}catch{return t.style[e]}},oN=(t,e)=>{if(!Tt)return!1;const n={undefined:"overflow",true:"overflow-y",false:"overflow-x"}[String(e)],r=zi(t,n);return["scroll","auto","overlay"].some(i=>r.includes(i))},Zv=(t,e)=>{if(!Tt)return;let n=t;for(;n;){if([window,document,document.documentElement].includes(n))return window;if(oN(n,e))return n;n=n.parentNode}return n};let ed;const sN=()=>{var t;if(!Tt)return 0;if(ed!==void 0)return ed;const e=document.createElement("div");e.className="el-scrollbar__wrap",e.style.visibility="hidden",e.style.width="100px",e.style.position="absolute",e.style.top="-9999px",document.body.appendChild(e);const n=e.offsetWidth;e.style.overflow="scroll";const r=document.createElement("div");r.style.width="100%",e.appendChild(r);const i=r.offsetWidth;return(t=e.parentNode)==null||t.removeChild(e),ed=n-i,ed};function TM(t,e){if(!Tt)return;if(!e){t.scrollTop=0;return}const n=[];let r=e.offsetParent;for(;r!==null&&t!==r&&t.contains(r);)n.push(r),r=r.offsetParent;const i=e.offsetTop+n.reduce((l,u)=>l+u.offsetTop,0),o=i+e.offsetHeight,s=t.scrollTop,a=s+t.clientHeight;i<s?t.scrollTop=i:o>a&&(t.scrollTop=o-t.clientHeight)}var Ft=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n};const aN=pe({name:"ArrowDown"}),lN={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},uN=G("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"},null,-1),cN=[uN];function dN(t,e,n,r,i,o){return E(),V("svg",lN,cN)}var ha=Ft(aN,[["render",dN]]);const fN=pe({name:"ArrowLeft"}),hN={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},pN=G("path",{fill:"currentColor",d:"M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.592 30.592 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.592 30.592 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0z"},null,-1),mN=[pN];function gN(t,e,n,r,i,o){return E(),V("svg",hN,mN)}var pa=Ft(fN,[["render",gN]]);const vN=pe({name:"ArrowRight"}),yN={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},bN=G("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"},null,-1),wN=[bN];function _N(t,e,n,r,i,o){return E(),V("svg",yN,wN)}var si=Ft(vN,[["render",_N]]);const SN=pe({name:"ArrowUp"}),CN={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},MN=G("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0z"},null,-1),xN=[MN];function EN(t,e,n,r,i,o){return E(),V("svg",CN,xN)}var Dc=Ft(SN,[["render",EN]]);const TN=pe({name:"Back"}),AN={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},kN=G("path",{fill:"currentColor",d:"M224 480h640a32 32 0 1 1 0 64H224a32 32 0 0 1 0-64z"},null,-1),PN=G("path",{fill:"currentColor",d:"m237.248 512 265.408 265.344a32 32 0 0 1-45.312 45.312l-288-288a32 32 0 0 1 0-45.312l288-288a32 32 0 1 1 45.312 45.312L237.248 512z"},null,-1),LN=[kN,PN];function RN(t,e,n,r,i,o){return E(),V("svg",AN,LN)}var IN=Ft(TN,[["render",RN]]);const DN=pe({name:"Calendar"}),$N={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},NN=G("path",{fill:"currentColor",d:"M128 384v512h768V192H768v32a32 32 0 1 1-64 0v-32H320v32a32 32 0 0 1-64 0v-32H128v128h768v64H128zm192-256h384V96a32 32 0 1 1 64 0v32h160a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h160V96a32 32 0 0 1 64 0v32zm-32 384h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm192-192h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm192-192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64z"},null,-1),ON=[NN];function FN(t,e,n,r,i,o){return E(),V("svg",$N,ON)}var BN=Ft(DN,[["render",FN]]);const zN=pe({name:"CaretRight"}),VN={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},HN=G("path",{fill:"currentColor",d:"M384 192v640l384-320.064z"},null,-1),UN=[HN];function WN(t,e,n,r,i,o){return E(),V("svg",VN,UN)}var AM=Ft(zN,[["render",WN]]);const GN=pe({name:"CaretTop"}),jN={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},KN=G("path",{fill:"currentColor",d:"M512 320 192 704h639.936z"},null,-1),qN=[KN];function YN(t,e,n,r,i,o){return E(),V("svg",jN,qN)}var XN=Ft(GN,[["render",YN]]);const ZN=pe({name:"Check"}),JN={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},QN=G("path",{fill:"currentColor",d:"M406.656 706.944 195.84 496.256a32 32 0 1 0-45.248 45.248l256 256 512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z"},null,-1),e4=[QN];function t4(t,e,n,r,i,o){return E(),V("svg",JN,e4)}var bl=Ft(ZN,[["render",t4]]);const n4=pe({name:"CircleCheckFilled"}),r4={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},i4=G("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336L456.192 600.384z"},null,-1),o4=[i4];function s4(t,e,n,r,i,o){return E(),V("svg",r4,o4)}var a4=Ft(n4,[["render",s4]]);const l4=pe({name:"CircleCheck"}),u4={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},c4=G("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),d4=G("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"},null,-1),f4=[c4,d4];function h4(t,e,n,r,i,o){return E(),V("svg",u4,f4)}var Gf=Ft(l4,[["render",h4]]);const p4=pe({name:"CircleCloseFilled"}),m4={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},g4=G("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336L512 457.664z"},null,-1),v4=[g4];function y4(t,e,n,r,i,o){return E(),V("svg",m4,v4)}var Jv=Ft(p4,[["render",y4]]);const b4=pe({name:"CircleClose"}),w4={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_4=G("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248L466.752 512z"},null,-1),S4=G("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),C4=[_4,S4];function M4(t,e,n,r,i,o){return E(),V("svg",w4,C4)}var bo=Ft(b4,[["render",M4]]);const x4=pe({name:"Clock"}),E4={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},T4=G("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),A4=G("path",{fill:"currentColor",d:"M480 256a32 32 0 0 1 32 32v256a32 32 0 0 1-64 0V288a32 32 0 0 1 32-32z"},null,-1),k4=G("path",{fill:"currentColor",d:"M480 512h256q32 0 32 32t-32 32H480q-32 0-32-32t32-32z"},null,-1),P4=[T4,A4,k4];function L4(t,e,n,r,i,o){return E(),V("svg",E4,P4)}var kM=Ft(x4,[["render",L4]]);const R4=pe({name:"Close"}),I4={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},D4=G("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"},null,-1),$4=[D4];function N4(t,e,n,r,i,o){return E(),V("svg",I4,$4)}var ti=Ft(R4,[["render",N4]]);const O4=pe({name:"DArrowLeft"}),F4={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},B4=G("path",{fill:"currentColor",d:"M529.408 149.376a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L259.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L197.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224zm256 0a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L515.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L453.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224z"},null,-1),z4=[B4];function V4(t,e,n,r,i,o){return E(),V("svg",F4,z4)}var Th=Ft(O4,[["render",V4]]);const H4=pe({name:"DArrowRight"}),U4={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},W4=G("path",{fill:"currentColor",d:"M452.864 149.312a29.12 29.12 0 0 1 41.728.064L826.24 489.664a32 32 0 0 1 0 44.672L494.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L764.736 512 452.864 192a30.592 30.592 0 0 1 0-42.688zm-256 0a29.12 29.12 0 0 1 41.728.064L570.24 489.664a32 32 0 0 1 0 44.672L238.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L508.736 512 196.864 192a30.592 30.592 0 0 1 0-42.688z"},null,-1),G4=[W4];function j4(t,e,n,r,i,o){return E(),V("svg",U4,G4)}var Ah=Ft(H4,[["render",j4]]);const K4=pe({name:"Delete"}),q4={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Y4=G("path",{fill:"currentColor",d:"M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32V256zm448-64v-64H416v64h192zM224 896h576V256H224v640zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32zm192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32z"},null,-1),X4=[Y4];function Z4(t,e,n,r,i,o){return E(),V("svg",q4,X4)}var J4=Ft(K4,[["render",Z4]]);const Q4=pe({name:"Document"}),eO={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},tO=G("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640V384zm-26.496-64L640 154.496V320h165.504zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32zm160 448h384v64H320v-64zm0-192h160v64H320v-64zm0 384h384v64H320v-64z"},null,-1),nO=[tO];function rO(t,e,n,r,i,o){return E(),V("svg",eO,nO)}var iO=Ft(Q4,[["render",rO]]);const oO=pe({name:"FullScreen"}),sO={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},aO=G("path",{fill:"currentColor",d:"m160 96.064 192 .192a32 32 0 0 1 0 64l-192-.192V352a32 32 0 0 1-64 0V96h64v.064zm0 831.872V928H96V672a32 32 0 1 1 64 0v191.936l192-.192a32 32 0 1 1 0 64l-192 .192zM864 96.064V96h64v256a32 32 0 1 1-64 0V160.064l-192 .192a32 32 0 1 1 0-64l192-.192zm0 831.872-192-.192a32 32 0 0 1 0-64l192 .192V672a32 32 0 1 1 64 0v256h-64v-.064z"},null,-1),lO=[aO];function uO(t,e,n,r,i,o){return E(),V("svg",sO,lO)}var cO=Ft(oO,[["render",uO]]);const dO=pe({name:"Hide"}),fO={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},hO=G("path",{d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2L371.2 588.8ZM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z",fill:"currentColor"},null,-1),pO=G("path",{d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z",fill:"currentColor"},null,-1),mO=[hO,pO];function gO(t,e,n,r,i,o){return E(),V("svg",fO,mO)}var vO=Ft(dO,[["render",gO]]);const yO=pe({name:"InfoFilled"}),bO={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},wO=G("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64zm67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344zM590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"},null,-1),_O=[wO];function SO(t,e,n,r,i,o){return E(),V("svg",bO,_O)}var Qv=Ft(yO,[["render",SO]]);const CO=pe({name:"Loading"}),MO={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},xO=G("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32zm0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32zm448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32zm-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32zM195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0zm-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"},null,-1),EO=[xO];function TO(t,e,n,r,i,o){return E(),V("svg",MO,EO)}var us=Ft(CO,[["render",TO]]);const AO=pe({name:"Minus"}),kO={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},PO=G("path",{fill:"currentColor",d:"M128 544h768a32 32 0 1 0 0-64H128a32 32 0 0 0 0 64z"},null,-1),LO=[PO];function RO(t,e,n,r,i,o){return E(),V("svg",kO,LO)}var IO=Ft(AO,[["render",RO]]);const DO=pe({name:"MoreFilled"}),$O={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},NO=G("path",{fill:"currentColor",d:"M176 416a112 112 0 1 1 0 224 112 112 0 0 1 0-224zm336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224zm336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224z"},null,-1),OO=[NO];function FO(t,e,n,r,i,o){return E(),V("svg",$O,OO)}var BO=Ft(DO,[["render",FO]]);const zO=pe({name:"More"}),VO={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},HO=G("path",{fill:"currentColor",d:"M176 416a112 112 0 1 0 0 224 112 112 0 0 0 0-224m0 64a48 48 0 1 1 0 96 48 48 0 0 1 0-96zm336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224zm0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96zm336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224zm0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96z"},null,-1),UO=[HO];function WO(t,e,n,r,i,o){return E(),V("svg",VO,UO)}var GO=Ft(zO,[["render",WO]]);const jO=pe({name:"PictureFilled"}),KO={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},qO=G("path",{fill:"currentColor",d:"M96 896a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h832a32 32 0 0 1 32 32v704a32 32 0 0 1-32 32H96zm315.52-228.48-68.928-68.928a32 32 0 0 0-45.248 0L128 768.064h778.688l-242.112-290.56a32 32 0 0 0-49.216 0L458.752 665.408a32 32 0 0 1-47.232 2.112zM256 384a96 96 0 1 0 192.064-.064A96 96 0 0 0 256 384z"},null,-1),YO=[qO];function XO(t,e,n,r,i,o){return E(),V("svg",KO,YO)}var ZO=Ft(jO,[["render",XO]]);const JO=pe({name:"Plus"}),QO={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},eF=G("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64h352z"},null,-1),tF=[eF];function nF(t,e,n,r,i,o){return E(),V("svg",QO,tF)}var PM=Ft(JO,[["render",nF]]);const rF=pe({name:"QuestionFilled"}),iF={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},oF=G("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm23.744 191.488c-52.096 0-92.928 14.784-123.2 44.352-30.976 29.568-45.76 70.4-45.76 122.496h80.256c0-29.568 5.632-52.8 17.6-68.992 13.376-19.712 35.2-28.864 66.176-28.864 23.936 0 42.944 6.336 56.32 19.712 12.672 13.376 19.712 31.68 19.712 54.912 0 17.6-6.336 34.496-19.008 49.984l-8.448 9.856c-45.76 40.832-73.216 70.4-82.368 89.408-9.856 19.008-14.08 42.24-14.08 68.992v9.856h80.96v-9.856c0-16.896 3.52-31.68 10.56-45.76 6.336-12.672 15.488-24.64 28.16-35.2 33.792-29.568 54.208-48.576 60.544-55.616 16.896-22.528 26.048-51.392 26.048-86.592 0-42.944-14.08-76.736-42.24-101.376-28.16-25.344-65.472-37.312-111.232-37.312zm-12.672 406.208a54.272 54.272 0 0 0-38.72 14.784 49.408 49.408 0 0 0-15.488 38.016c0 15.488 4.928 28.16 15.488 38.016A54.848 54.848 0 0 0 523.072 768c15.488 0 28.16-4.928 38.72-14.784a51.52 51.52 0 0 0 16.192-38.72 51.968 51.968 0 0 0-15.488-38.016 55.936 55.936 0 0 0-39.424-14.784z"},null,-1),sF=[oF];function aF(t,e,n,r,i,o){return E(),V("svg",iF,sF)}var lF=Ft(rF,[["render",aF]]);const uF=pe({name:"RefreshLeft"}),cF={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},dF=G("path",{fill:"currentColor",d:"M289.088 296.704h92.992a32 32 0 0 1 0 64H232.96a32 32 0 0 1-32-32V179.712a32 32 0 0 1 64 0v50.56a384 384 0 0 1 643.84 282.88 384 384 0 0 1-383.936 384 384 384 0 0 1-384-384h64a320 320 0 1 0 640 0 320 320 0 0 0-555.712-216.448z"},null,-1),fF=[dF];function hF(t,e,n,r,i,o){return E(),V("svg",cF,fF)}var pF=Ft(uF,[["render",hF]]);const mF=pe({name:"RefreshRight"}),gF={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},vF=G("path",{fill:"currentColor",d:"M784.512 230.272v-50.56a32 32 0 1 1 64 0v149.056a32 32 0 0 1-32 32H667.52a32 32 0 1 1 0-64h92.992A320 320 0 1 0 524.8 833.152a320 320 0 0 0 320-320h64a384 384 0 0 1-384 384 384 384 0 0 1-384-384 384 384 0 0 1 643.712-282.88z"},null,-1),yF=[vF];function bF(t,e,n,r,i,o){return E(),V("svg",gF,yF)}var wF=Ft(mF,[["render",bF]]);const _F=pe({name:"ScaleToOriginal"}),SF={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},CF=G("path",{fill:"currentColor",d:"M813.176 180.706a60.235 60.235 0 0 1 60.236 60.235v481.883a60.235 60.235 0 0 1-60.236 60.235H210.824a60.235 60.235 0 0 1-60.236-60.235V240.94a60.235 60.235 0 0 1 60.236-60.235h602.352zm0-60.235H210.824A120.47 120.47 0 0 0 90.353 240.94v481.883a120.47 120.47 0 0 0 120.47 120.47h602.353a120.47 120.47 0 0 0 120.471-120.47V240.94a120.47 120.47 0 0 0-120.47-120.47zm-120.47 180.705a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 0 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118zm-361.412 0a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 1 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118zM512 361.412a30.118 30.118 0 0 0-30.118 30.117v30.118a30.118 30.118 0 0 0 60.236 0V391.53A30.118 30.118 0 0 0 512 361.412zM512 512a30.118 30.118 0 0 0-30.118 30.118v30.117a30.118 30.118 0 0 0 60.236 0v-30.117A30.118 30.118 0 0 0 512 512z"},null,-1),MF=[CF];function xF(t,e,n,r,i,o){return E(),V("svg",SF,MF)}var EF=Ft(_F,[["render",xF]]);const TF=pe({name:"Search"}),AF={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},kF=G("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704z"},null,-1),PF=[kF];function LF(t,e,n,r,i,o){return E(),V("svg",AF,PF)}var RF=Ft(TF,[["render",LF]]);const IF=pe({name:"StarFilled"}),DF={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},$F=G("path",{fill:"currentColor",d:"M283.84 867.84 512 747.776l228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72z"},null,-1),NF=[$F];function OF(t,e,n,r,i,o){return E(),V("svg",DF,NF)}var td=Ft(IF,[["render",OF]]);const FF=pe({name:"Star"}),BF={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},zF=G("path",{fill:"currentColor",d:"m512 747.84 228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72L512 747.84zM313.6 924.48a70.4 70.4 0 0 1-102.144-74.24l37.888-220.928L88.96 472.96A70.4 70.4 0 0 1 128 352.896l221.76-32.256 99.2-200.96a70.4 70.4 0 0 1 126.208 0l99.2 200.96 221.824 32.256a70.4 70.4 0 0 1 39.04 120.064L774.72 629.376l37.888 220.928a70.4 70.4 0 0 1-102.144 74.24L512 820.096l-198.4 104.32z"},null,-1),VF=[zF];function HF(t,e,n,r,i,o){return E(),V("svg",BF,VF)}var UF=Ft(FF,[["render",HF]]);const WF=pe({name:"SuccessFilled"}),GF={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},jF=G("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336L456.192 600.384z"},null,-1),KF=[jF];function qF(t,e,n,r,i,o){return E(),V("svg",GF,KF)}var LM=Ft(WF,[["render",qF]]);const YF=pe({name:"View"}),XF={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},ZF=G("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352zm0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448zm0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160z"},null,-1),JF=[ZF];function QF(t,e,n,r,i,o){return E(),V("svg",XF,JF)}var eB=Ft(YF,[["render",QF]]);const tB=pe({name:"WarningFilled"}),nB={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},rB=G("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 192a58.432 58.432 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.432 58.432 0 0 0 512 256zm0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4z"},null,-1),iB=[rB];function oB(t,e,n,r,i,o){return E(),V("svg",nB,iB)}var uc=Ft(tB,[["render",oB]]);const sB=pe({name:"ZoomIn"}),aB={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},lB=G("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704zm-32-384v-96a32 32 0 0 1 64 0v96h96a32 32 0 0 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64h96z"},null,-1),uB=[lB];function cB(t,e,n,r,i,o){return E(),V("svg",aB,uB)}var RM=Ft(sB,[["render",cB]]);const dB=pe({name:"ZoomOut"}),fB={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},hB=G("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704zM352 448h256a32 32 0 0 1 0 64H352a32 32 0 0 1 0-64z"},null,-1),pB=[hB];function mB(t,e,n,r,i,o){return E(),V("svg",fB,pB)}var gB=Ft(dB,[["render",mB]]);const ug=Symbol(),Kb="__elPropsReservedKey";function Pi(t,e){if(!kt(t)||!!t[Kb])return t;const{values:n,required:r,default:i,type:o,validator:s}=t,a=n||s?u=>{let c=!1,d=[];if(n&&(d=Array.from(n),Et(t,"default")&&d.push(i),c||(c=d.includes(u))),s&&(c||(c=s(u))),!c&&d.length>0){const f=[...new Set(d)].map(h=>JSON.stringify(h)).join(", ");fA(`Invalid prop: validation failed${e?` for prop "${e}"`:""}. Expected one of [${f}], got value ${JSON.stringify(u)}.`)}return c}:void 0,l={type:kt(o)&&Object.getOwnPropertySymbols(o).includes(ug)?o[ug]:o,required:!!r,validator:a,[Kb]:!0};return Et(t,"default")&&(l.default=i),l}const Je=t=>wM(Object.entries(t).map(([e,n])=>[e,Pi(n,e)])),Fe=t=>({[ug]:t}),tr=Fe([String,Object,Function]),vB={Close:ti},kh={Close:ti,SuccessFilled:LM,InfoFilled:Qv,WarningFilled:uc,CircleCloseFilled:Jv},wo={success:LM,warning:uc,error:Jv,info:Qv},IM={validating:us,success:Gf,error:bo},_t=(t,e)=>{if(t.install=n=>{for(const r of[t,...Object.values(e!=null?e:{})])n.component(r.name,r)},e)for(const[n,r]of Object.entries(e))t[n]=r;return t},DM=(t,e)=>(t.install=n=>{t._context=n._context,n.config.globalProperties[e]=t},t),pn=t=>(t.install=Vt,t),e0=(...t)=>e=>{t.forEach(n=>{gt(n)?n(e):n.value=e})};class yB extends Error{constructor(e){super(e);this.name="ElementPlusError"}}function kn(t,e){throw new yB(`[${t}] ${e}`)}function Ei(t,e="px"){if(!t)return"";if(pt(t))return t;if(It(t))return`${t}${e}`}const qe={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},bB=["year","month","date","dates","week","datetime","datetimerange","daterange","monthrange"],_p=["sun","mon","tue","wed","thu","fri","sat"],bt="update:modelValue",zn="change",os="input",Ki=["","default","small","large"],Hr=t=>["",...Ki].includes(t),$M=t=>[...bB].includes(t);var qr=(t=>(t[t.TEXT=1]="TEXT",t[t.CLASS=2]="CLASS",t[t.STYLE=4]="STYLE",t[t.PROPS=8]="PROPS",t[t.FULL_PROPS=16]="FULL_PROPS",t[t.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",t[t.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",t[t.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",t[t.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",t[t.NEED_PATCH=512]="NEED_PATCH",t[t.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",t[t.HOISTED=-1]="HOISTED",t[t.BAIL=-2]="BAIL",t))(qr||{});function NM(t){return Mn(t)&&t.type===Ze}function wB(t){return Mn(t)&&t.type===wr}function _B(t){return Mn(t)&&!NM(t)&&!wB(t)}const SB=t=>{if(!Mn(t))return{};const e=t.props||{},n=(Mn(t.type)?t.type.props:void 0)||{},r={};return Object.keys(n).forEach(i=>{Et(n[i],"default")&&(r[i]=n[i].default)}),Object.keys(e).forEach(i=>{r[Qr(i)]=e[i]}),r},CB=t=>{if(!ct(t)||t.length>1)throw new Error("expect to receive a single Vue element child");return t[0]},qb=t=>t**3,MB=t=>t<.5?qb(t*2)/2:1-qb((1-t)*2)/2,Yb=t=>[...new Set(t)],qs=t=>!t&&t!==0?[]:Array.isArray(t)?t:[t],t0=()=>Tt&&/firefox/i.test(window.navigator.userAgent),Ph=t=>/([(\uAC00-\uD7AF)|(\u3130-\u318F)])+/gi.test(t),OM=t=>Tt?window.requestAnimationFrame(t):setTimeout(t,16),FM=t=>Tt?window.cancelAnimationFrame(t):clearTimeout(t),$c=()=>Math.floor(Math.random()*1e4),fn=t=>t,xB=["class","style"],EB=/^on[A-Z]/,n0=(t={})=>{const{excludeListeners:e=!1,excludeKeys:n=[]}=t,r=n.concat(xB),i=wt();return k(i?()=>{var o;return wM(Object.entries((o=i.proxy)==null?void 0:o.$attrs).filter(([s])=>!r.includes(s)&&!(e&&EB.test(s))))}:()=>({}))},BM=Symbol("breadcrumbKey"),zM=Symbol("buttonGroupContextKey"),VM=Symbol("carouselContextKey"),HM=Symbol("collapseContextKey"),UM=Symbol(),WM=Symbol("dialogInjectionKey"),Wr=Symbol("formContextKey"),ni=Symbol("formItemContextKey"),GM=Symbol("elPaginationKey"),jM=Symbol("radioGroupKey"),KM=Symbol("rowContextKey"),qM=Symbol("scrollbarContextKey"),Lh=Symbol("tabsRootContextKey"),YM=Symbol("uploadContextKey"),r0=Symbol("popper"),XM=Symbol("popperContent"),Rh=Symbol("tooltipV2"),ZM=Symbol("tooltipV2Content"),Sp="tooltip_v2.open",JM=t=>{const e=wt();return k(()=>{var n,r;return(r=(n=e.proxy)==null?void 0:n.$props[t])!=null?r:void 0})},jf=F();function Hl(t,e=void 0){const n=wt()?Ke(UM,jf):jf;return t?k(()=>{var r,i;return(i=(r=n.value)==null?void 0:r[t])!=null?i:e}):n}const QM=(t,e,n=!1)=>{var r;const i=!!wt(),o=i?Hl():void 0,s=(r=e==null?void 0:e.provide)!=null?r:i?Ct:void 0;if(!s)return;const a=k(()=>{const l=C(t);return o!=null&&o.value?TB(o.value,l):l});return s(UM,a),(n||!jf.value)&&(jf.value=a.value),a},TB=(t,e)=>{var n;const r=[...new Set([...lg(t),...lg(e)])],i={};for(const o of r)i[o]=(n=e[o])!=null?n:t[o];return i},Ih=Pi({type:String,values:Ki,required:!1}),Pn=(t,e={})=>{const n=F(void 0),r=e.prop?n:JM("size"),i=e.global?n:Hl("size"),o=e.form?{size:void 0}:Ke(Wr,void 0),s=e.formItem?{size:void 0}:Ke(ni,void 0);return k(()=>r.value||C(t)||(s==null?void 0:s.size)||(o==null?void 0:o.size)||i.value||"")},Ul=t=>{const e=JM("disabled"),n=Ke(Wr,void 0);return k(()=>e.value||C(t)||(n==null?void 0:n.disabled)||!1)},Nc=({from:t,replacement:e,scope:n,version:r,ref:i,type:o="API"},s)=>{Me(()=>C(s),a=>{},{immediate:!0})},e2=(t,e,n)=>{let r={offsetX:0,offsetY:0};const i=a=>{const l=a.clientX,u=a.clientY,{offsetX:c,offsetY:d}=r,f=t.value.getBoundingClientRect(),h=f.left,m=f.top,g=f.width,p=f.height,v=document.documentElement.clientWidth,y=document.documentElement.clientHeight,w=-h+c,_=-m+d,b=v-h-g+c,S=y-m-p+d,M=N=>{const I=Math.min(Math.max(c+N.clientX-l,w),b),x=Math.min(Math.max(d+N.clientY-u,_),S);r={offsetX:I,offsetY:x},t.value.style.transform=`translate(${Ei(I)}, ${Ei(x)})`},T=()=>{document.removeEventListener("mousemove",M),document.removeEventListener("mouseup",T)};document.addEventListener("mousemove",M),document.addEventListener("mouseup",T)},o=()=>{e.value&&t.value&&e.value.addEventListener("mousedown",i)},s=()=>{e.value&&t.value&&e.value.removeEventListener("mousedown",i)};ft(()=>{Xr(()=>{n.value?o():s()})}),rn(()=>{s()})},AB=t=>({focus:()=>{var e,n;(n=(e=t.value)==null?void 0:e.focus)==null||n.call(e)}}),Wl=()=>{const t=Ke(Wr,void 0),e=Ke(ni,void 0);return{form:t,formItem:e}};var kB={name:"en",el:{colorpicker:{confirm:"OK",clear:"Clear"},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"}}};const PB=t=>(e,n)=>LB(e,n,C(t)),LB=(t,e,n)=>cn(n,t,t).replace(/\{(\w+)\}/g,(r,i)=>{var o;return`${(o=e==null?void 0:e[i])!=null?o:`{${i}}`}`}),RB=t=>{const e=k(()=>C(t).name),n=hn(t)?t:F(t);return{lang:e,locale:n,t:PB(t)}},Gt=()=>{const t=Hl("locale");return RB(k(()=>t.value||kB))},t2=t=>{if(hn(t)||kn("[useLockscreen]","You need to pass a ref param to this function"),!Tt||_i(document.body,"el-popup-parent--hidden"))return;let e=0,n=!1,r="0",i=0;const o=()=>{vr(document.body,"el-popup-parent--hidden"),n&&(document.body.style.paddingRight=r)};Me(t,s=>{if(!s){o();return}n=!_i(document.body,"el-popup-parent--hidden"),n&&(r=document.body.style.paddingRight,i=Number.parseInt(zi(document.body,"paddingRight"),10)),e=sN();const a=document.documentElement.clientHeight<document.body.scrollHeight,l=zi(document.body,"overflowY");e>0&&(a||l==="scroll")&&n&&(document.body.style.paddingRight=`${i+e}px`),Hi(document.body,"el-popup-parent--hidden")}),BS(()=>o())},ll=[],IB=t=>{ll.length!==0&&t.code===qe.esc&&(t.stopPropagation(),ll[ll.length-1].handleClose())},n2=(t,e)=>{Me(e,n=>{n?ll.push(t):ll.splice(ll.indexOf(t),1)})};Tt&&xn(document,"keydown",IB);const DB=Pi({type:Fe(Boolean),default:null}),$B=Pi({type:Fe(Function)}),NB=t=>{const e={[t]:DB,[`onUpdate:${t}`]:$B},n=[`update:${t}`];return{useModelToggle:({indicator:i,shouldHideWhenRouteChanges:o,shouldProceed:s,onShow:a,onHide:l})=>{const u=wt(),c=u.props,{emit:d}=u,f=`update:${t}`,h=k(()=>gt(c[`onUpdate:${t}`])),m=k(()=>c[t]===null),g=()=>{i.value!==!0&&(i.value=!0,gt(a)&&a())},p=()=>{i.value!==!1&&(i.value=!1,gt(l)&&l())},v=()=>{if(c.disabled===!0||gt(s)&&!s())return;const b=h.value&&Tt;b&&d(f,!0),(m.value||!b)&&g()},y=()=>{if(c.disabled===!0||!Tt)return;const b=h.value&&Tt;b&&d(f,!1),(m.value||!b)&&p()},w=b=>{!Qn(b)||(c.disabled&&b?h.value&&d(f,!1):i.value!==b&&(b?g():p()))},_=()=>{i.value?y():v()};return Me(()=>c[t],w),o&&u.appContext.config.globalProperties.$route!==void 0&&Me(()=>Ee({},u.proxy.$route),()=>{o.value&&i.value&&y()}),ft(()=>{w(c[t])}),{hide:y,show:v,toggle:_}},useModelToggleProps:e,useModelToggleEmits:n}},OB=(t,e,n)=>{const r=o=>{n(o)&&o.stopImmediatePropagation()};let i;Me(()=>t.value,o=>{o?i=xn(document,e,r,!0):i==null||i()},{immediate:!0})},r2=(t,e)=>{let n;Me(()=>t.value,r=>{var i,o;r?(n=document.activeElement,hn(e)&&((o=(i=e.value).focus)==null||o.call(i))):n.focus()})},i0=t=>{if(!t)return{onClick:Vt,onMousedown:Vt,onMouseup:Vt};let e=!1,n=!1;return{onClick:s=>{e&&n&&t(s),e=n=!1},onMousedown:s=>{e=s.target===s.currentTarget},onMouseup:s=>{n=s.target===s.currentTarget}}},FB=(t,e=0)=>{if(e===0)return t;const n=F(!1);let r=0;const i=()=>{r&&clearTimeout(r),r=window.setTimeout(()=>{n.value=t.value},e)};return ft(i),Me(()=>t.value,o=>{o?i():n.value=o}),n};function BB(){let t;const e=(r,i)=>{n(),t=window.setTimeout(r,i)},n=()=>window.clearTimeout(t);return Eh(()=>n()),{registerTimeout:e,cancelTimeout:n}}const zB={prefix:Math.floor(Math.random()*1e4),current:0},VB=Symbol("elIdInjection"),o0=t=>{const e=Ke(VB,zB);return k(()=>C(t)||`el-id-${e.prefix}-${e.current++}`)},HB=t=>{const e=n=>{const r=n;r.key===qe.esc&&(t==null||t(r))};ft(()=>{sn(document,"keydown",e)}),rn(()=>{wn(document,"keydown",e)})};let Xb;const i2=`el-popper-container-${$c()}`,UB=`#${i2}`,WB=()=>{Ac(()=>{if(!!Tt&&!Xb){const t=document.createElement("div");t.id=i2,document.body.appendChild(t),Xb=t}})},GB=Je({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200}}),jB=({showAfter:t,hideAfter:e,open:n,close:r})=>{const{registerTimeout:i}=BB();return{onOpen:()=>{i(()=>{n()},C(t))},onClose:()=>{i(()=>{r()},C(e))}}},o2=Symbol("elForwardRef"),KB=t=>{Ct(o2,{setForwardRef:n=>{t.value=n}})},qB=t=>({mounted(e){t(e)},updated(e){t(e)},unmounted(){t(null)}}),YB="el",XB="is-",bs=(t,e,n,r,i)=>{let o=`${t}-${e}`;return n&&(o+=`-${n}`),r&&(o+=`__${r}`),i&&(o+=`--${i}`),o},$e=t=>{const e=Hl("namespace"),n=k(()=>e.value||YB);return{namespace:n,b:(d="")=>bs(C(n),t,d,"",""),e:d=>d?bs(C(n),t,"",d,""):"",m:d=>d?bs(C(n),t,"","",d):"",be:(d,f)=>d&&f?bs(C(n),t,d,f,""):"",em:(d,f)=>d&&f?bs(C(n),t,"",d,f):"",bm:(d,f)=>d&&f?bs(C(n),t,d,"",f):"",bem:(d,f,h)=>d&&f&&h?bs(C(n),t,d,f,h):"",is:(d,...f)=>{const h=f.length>=1?f[0]:!0;return d&&h?`${XB}${d}`:""}}},Zb=F(0),To=()=>{const t=Hl("zIndex",2e3),e=k(()=>t.value+Zb.value);return{initialZIndex:t,currentZIndex:e,nextZIndex:()=>(Zb.value++,e.value)}};function s0(t){return t.split("-")[0]}function s2(t){return t.split("-")[1]}function a0(t){return["top","bottom"].includes(s0(t))?"x":"y"}function a2(t){return t==="y"?"height":"width"}function Jb(t,e,n){let{reference:r,floating:i}=t;const o=r.x+r.width/2-i.width/2,s=r.y+r.height/2-i.height/2,a=a0(e),l=a2(a),u=r[l]/2-i[l]/2,c=a==="x";let d;switch(s0(e)){case"top":d={x:o,y:r.y-i.height};break;case"bottom":d={x:o,y:r.y+r.height};break;case"right":d={x:r.x+r.width,y:s};break;case"left":d={x:r.x-i.width,y:s};break;default:d={x:r.x,y:r.y}}switch(s2(e)){case"start":d[a]-=u*(n&&c?-1:1);break;case"end":d[a]+=u*(n&&c?-1:1)}return d}const ZB=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=await(s.isRTL==null?void 0:s.isRTL(e));let l=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:c}=Jb(l,r,a),d=r,f={};for(let h=0;h<o.length;h++){const{name:m,fn:g}=o[h],{x:p,y:v,data:y,reset:w}=await g({x:u,y:c,initialPlacement:r,placement:d,strategy:i,middlewareData:f,rects:l,platform:s,elements:{reference:t,floating:e}});u=p!=null?p:u,c=v!=null?v:c,f=Ue(Ee({},f),{[m]:Ee(Ee({},f[m]),y)}),w&&(typeof w=="object"&&(w.placement&&(d=w.placement),w.rects&&(l=w.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):w.rects),{x:u,y:c}=Jb(l,d,a)),h=-1)}return{x:u,y:c,placement:d,strategy:i,middlewareData:f}};function JB(t){return typeof t!="number"?function(e){return Ee({top:0,right:0,bottom:0,left:0},e)}(t):{top:t,right:t,bottom:t,left:t}}function Qb(t){return Ue(Ee({},t),{top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height})}const QB=Math.min,e5=Math.max;function t5(t,e,n){return e5(t,QB(e,n))}const n5=t=>({name:"arrow",options:t,async fn(e){const{element:n,padding:r=0}=t!=null?t:{},{x:i,y:o,placement:s,rects:a,platform:l}=e;if(n==null)return{};const u=JB(r),c={x:i,y:o},d=a0(s),f=a2(d),h=await l.getDimensions(n),m=d==="y"?"top":"left",g=d==="y"?"bottom":"right",p=a.reference[f]+a.reference[d]-c[d]-a.floating[f],v=c[d]-a.reference[d],y=await(l.getOffsetParent==null?void 0:l.getOffsetParent(n)),w=y?d==="y"?y.clientHeight||0:y.clientWidth||0:0,_=p/2-v/2,b=u[m],S=w-h[f]-u[g],M=w/2-h[f]/2+_,T=t5(b,M,S);return{data:{[d]:T,centerOffset:M-T}}}}),r5=["top","right","bottom","left"];r5.reduce((t,e)=>t.concat(e,e+"-start",e+"-end"),[]);const i5=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){const{x:n,y:r,placement:i,rects:o,platform:s,elements:a}=e,l=function(u,c,d,f){f===void 0&&(f=!1);const h=s0(u),m=s2(u),g=a0(u)==="x",p=["left","top"].includes(h)?-1:1,v=f&&g?-1:1,y=typeof d=="function"?d(Ue(Ee({},c),{placement:u})):d,w=typeof y=="number";let{mainAxis:_,crossAxis:b,alignmentAxis:S}=w?{mainAxis:y,crossAxis:0,alignmentAxis:null}:Ee({mainAxis:0,crossAxis:0,alignmentAxis:null},y);return m&&typeof S=="number"&&(b=m==="end"?-1*S:S),g?{x:b*v,y:_*p}:{x:_*p,y:b*v}}(i,o,t,await(s.isRTL==null?void 0:s.isRTL(a.floating)));return{x:n+l.x,y:r+l.y,data:l}}}};function l2(t){return t&&t.document&&t.location&&t.alert&&t.setInterval}function Ao(t){if(t==null)return window;if(!l2(t)){const e=t.ownerDocument;return e&&e.defaultView||window}return t}function Oc(t){return Ao(t).getComputedStyle(t)}function ho(t){return l2(t)?"":t?(t.nodeName||"").toLowerCase():""}function Wi(t){return t instanceof Ao(t).HTMLElement}function wl(t){return t instanceof Ao(t).Element}function l0(t){return t instanceof Ao(t).ShadowRoot||t instanceof ShadowRoot}function Dh(t){const{overflow:e,overflowX:n,overflowY:r}=Oc(t);return/auto|scroll|overlay|hidden/.test(e+r+n)}function o5(t){return["table","td","th"].includes(ho(t))}function e1(t){const e=navigator.userAgent.toLowerCase().includes("firefox"),n=Oc(t);return n.transform!=="none"||n.perspective!=="none"||n.contain==="paint"||["transform","perspective"].includes(n.willChange)||e&&n.willChange==="filter"||e&&!!n.filter&&n.filter!=="none"}function u2(){return!/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}const t1=Math.min,Ou=Math.max,Kf=Math.round;function Ys(t,e,n){var r,i,o,s;e===void 0&&(e=!1),n===void 0&&(n=!1);const a=t.getBoundingClientRect();let l=1,u=1;e&&Wi(t)&&(l=t.offsetWidth>0&&Kf(a.width)/t.offsetWidth||1,u=t.offsetHeight>0&&Kf(a.height)/t.offsetHeight||1);const c=wl(t)?Ao(t):window,d=!u2()&&n,f=(a.left+(d&&(r=(i=c.visualViewport)==null?void 0:i.offsetLeft)!=null?r:0))/l,h=(a.top+(d&&(o=(s=c.visualViewport)==null?void 0:s.offsetTop)!=null?o:0))/u,m=a.width/l,g=a.height/u;return{width:m,height:g,top:h,right:f+m,bottom:h+g,left:f,x:f,y:h}}function Zo(t){return(e=t,(e instanceof Ao(e).Node?t.ownerDocument:t.document)||window.document).documentElement;var e}function $h(t){return wl(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function c2(t){return Ys(Zo(t)).left+$h(t).scrollLeft}function s5(t,e,n){const r=Wi(e),i=Zo(e),o=Ys(t,r&&function(l){const u=Ys(l);return Kf(u.width)!==l.offsetWidth||Kf(u.height)!==l.offsetHeight}(e),n==="fixed");let s={scrollLeft:0,scrollTop:0};const a={x:0,y:0};if(r||!r&&n!=="fixed")if((ho(e)!=="body"||Dh(i))&&(s=$h(e)),Wi(e)){const l=Ys(e,!0);a.x=l.x+e.clientLeft,a.y=l.y+e.clientTop}else i&&(a.x=c2(i));return{x:o.left+s.scrollLeft-a.x,y:o.top+s.scrollTop-a.y,width:o.width,height:o.height}}function d2(t){return ho(t)==="html"?t:t.assignedSlot||t.parentNode||(l0(t)?t.host:null)||Zo(t)}function n1(t){return Wi(t)&&getComputedStyle(t).position!=="fixed"?t.offsetParent:null}function cg(t){const e=Ao(t);let n=n1(t);for(;n&&o5(n)&&getComputedStyle(n).position==="static";)n=n1(n);return n&&(ho(n)==="html"||ho(n)==="body"&&getComputedStyle(n).position==="static"&&!e1(n))?e:n||function(r){let i=d2(r);for(l0(i)&&(i=i.host);Wi(i)&&!["html","body"].includes(ho(i));){if(e1(i))return i;i=i.parentNode}return null}(t)||e}function r1(t){if(Wi(t))return{width:t.offsetWidth,height:t.offsetHeight};const e=Ys(t);return{width:e.width,height:e.height}}function f2(t){const e=d2(t);return["html","body","#document"].includes(ho(e))?t.ownerDocument.body:Wi(e)&&Dh(e)?e:f2(e)}function h2(t,e){var n;e===void 0&&(e=[]);const r=f2(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),o=Ao(r),s=i?[o].concat(o.visualViewport||[],Dh(r)?r:[]):r,a=e.concat(s);return i?a:a.concat(h2(s))}function i1(t,e,n){return e==="viewport"?Qb(function(r,i){const o=Ao(r),s=Zo(r),a=o.visualViewport;let l=s.clientWidth,u=s.clientHeight,c=0,d=0;if(a){l=a.width,u=a.height;const f=u2();(f||!f&&i==="fixed")&&(c=a.offsetLeft,d=a.offsetTop)}return{width:l,height:u,x:c,y:d}}(t,n)):wl(e)?function(r,i){const o=Ys(r,!1,i==="fixed"),s=o.top+r.clientTop,a=o.left+r.clientLeft;return{top:s,left:a,x:a,y:s,right:a+r.clientWidth,bottom:s+r.clientHeight,width:r.clientWidth,height:r.clientHeight}}(e,n):Qb(function(r){var i;const o=Zo(r),s=$h(r),a=(i=r.ownerDocument)==null?void 0:i.body,l=Ou(o.scrollWidth,o.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),u=Ou(o.scrollHeight,o.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0);let c=-s.scrollLeft+c2(r);const d=-s.scrollTop;return Oc(a||o).direction==="rtl"&&(c+=Ou(o.clientWidth,a?a.clientWidth:0)-l),{width:l,height:u,x:c,y:d}}(Zo(t)))}function a5(t){const e=h2(t),n=["absolute","fixed"].includes(Oc(t).position)&&Wi(t)?cg(t):t;return wl(n)?e.filter(r=>wl(r)&&function(i,o){const s=o==null||o.getRootNode==null?void 0:o.getRootNode();if(i!=null&&i.contains(o))return!0;if(s&&l0(s)){let a=o;do{if(a&&i===a)return!0;a=a.parentNode||a.host}while(a)}return!1}(r,n)&&ho(r)!=="body"):[]}const l5={getClippingRect:function(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?a5(e):[].concat(n),r],s=o[0],a=o.reduce((l,u)=>{const c=i1(e,u,i);return l.top=Ou(c.top,l.top),l.right=t1(c.right,l.right),l.bottom=t1(c.bottom,l.bottom),l.left=Ou(c.left,l.left),l},i1(e,s,i));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{rect:e,offsetParent:n,strategy:r}=t;const i=Wi(n),o=Zo(n);if(n===o)return e;let s={scrollLeft:0,scrollTop:0};const a={x:0,y:0};if((i||!i&&r!=="fixed")&&((ho(n)!=="body"||Dh(o))&&(s=$h(n)),Wi(n))){const l=Ys(n,!0);a.x=l.x+n.clientLeft,a.y=l.y+n.clientTop}return Ue(Ee({},e),{x:e.x-s.scrollLeft+a.x,y:e.y-s.scrollTop+a.y})},isElement:wl,getDimensions:r1,getOffsetParent:cg,getDocumentElement:Zo,getElementRects:t=>{let{reference:e,floating:n,strategy:r}=t;return{reference:s5(e,cg(n),r),floating:Ue(Ee({},r1(n)),{x:0,y:0})}},getClientRects:t=>Array.from(t.getClientRects()),isRTL:t=>Oc(t).direction==="rtl"},u5=(t,e,n)=>ZB(t,e,Ee({platform:l5},n));Je({});const c5=t=>{if(!Tt)return;if(!t)return t;const e=wi(t);return e||(hn(t)?e:t)},d5=({middleware:t,placement:e,strategy:n})=>{const r=F(),i=F(),o=F(),s=F(),a=F({}),l={x:o,y:s,placement:e,strategy:n,middlewareData:a},u=async()=>{if(!Tt)return;const c=c5(r),d=wi(i);if(!c||!d)return;const f=await u5(c,d,{placement:C(e),strategy:C(n),middleware:C(t)});Object.keys(l).forEach(h=>{l[h].value=f[h]})};return ft(()=>{Xr(()=>{u()})}),Ue(Ee({},l),{update:u,referenceRef:r,contentRef:i})},f5=({arrowRef:t,padding:e})=>({name:"arrow",options:{element:t,padding:e},fn(n){const r=C(t);return r?n5({element:r,padding:e}).fn(n):{}}}),h5="2.1.8",o1=Symbol("INSTALLED_KEY"),p5=(t=[])=>({version:h5,install:(n,r)=>{n[o1]||(n[o1]=!0,t.forEach(i=>n.use(i)),r&&QM(r,n,!0))}}),m5=Je({zIndex:{type:Fe([Number,String]),default:100},target:{type:String,default:""},offset:{type:Number,default:0},position:{type:String,values:["top","bottom"],default:"top"}}),g5={scroll:({scrollTop:t,fixed:e})=>typeof t=="number"&&typeof e=="boolean",change:t=>typeof t=="boolean"};var De=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n};const v5={name:"ElAffix"},y5=pe(Ue(Ee({},v5),{props:m5,emits:g5,setup(t,{expose:e,emit:n}){const r=t,i="ElAffix",o=$e("affix"),s=Ln(),a=Ln(),l=Ln(),{height:u}=J$(),{height:c,width:d,top:f,bottom:h,update:m}=Ub(a),g=Ub(s),p=F(!1),v=F(0),y=F(0),w=k(()=>({height:p.value?`${c.value}px`:"",width:p.value?`${d.value}px`:""})),_=k(()=>{if(!p.value)return{};const M=r.offset?`${r.offset}px`:0;return{height:`${c.value}px`,width:`${d.value}px`,top:r.position==="top"?M:"",bottom:r.position==="bottom"?M:"",transform:y.value?`translateY(${y.value}px)`:"",zIndex:r.zIndex}}),b=()=>{if(!!l.value)if(v.value=l.value instanceof Window?document.documentElement.scrollTop:l.value.scrollTop||0,r.position==="top")if(r.target){const M=g.bottom.value-r.offset-c.value;p.value=r.offset>f.value&&g.bottom.value>0,y.value=M<0?M:0}else p.value=r.offset>f.value;else if(r.target){const M=u.value-g.top.value-r.offset-c.value;p.value=u.value-r.offset<h.value&&u.value>g.top.value,y.value=M<0?-M:0}else p.value=u.value-r.offset<h.value},S=()=>{n("scroll",{scrollTop:v.value,fixed:p.value})};return Me(p,M=>n("change",M)),ft(()=>{var M;r.target?(s.value=(M=document.querySelector(r.target))!=null?M:void 0,s.value||kn(i,`Target is not existed: ${r.target}`)):s.value=document.documentElement,l.value=Zv(a.value,!0),m()}),xn(l,"scroll",S),Xr(b),e({update:b}),(M,T)=>(E(),V("div",{ref_key:"root",ref:a,class:$(C(o).b()),style:Ye(C(w))},[G("div",{class:$({[C(o).m("fixed")]:p.value}),style:Ye(C(_))},[Ce(M.$slots,"default")],6)],6))}}));var b5=De(y5,[["__file","/home/runner/work/element-plus/element-plus/packages/components/affix/src/affix.vue"]]);const w5=_t(b5),_5=Je({size:{type:Fe([Number,String])},color:{type:String}}),S5={name:"ElIcon",inheritAttrs:!1},C5=pe(Ue(Ee({},S5),{props:_5,setup(t){const e=t,n=$e("icon"),r=k(()=>!e.size&&!e.color?{}:{fontSize:Rr(e.size)?void 0:Ei(e.size),"--color":e.color});return(i,o)=>(E(),V("i",Qt({class:C(n).b(),style:C(r)},i.$attrs),[Ce(i.$slots,"default")],16))}}));var M5=De(C5,[["__file","/home/runner/work/element-plus/element-plus/packages/components/icon/src/icon.vue"]]);const st=_t(M5),x5=["light","dark"],E5=Je({title:{type:String,default:""},description:{type:String,default:""},type:{type:String,values:lg(wo),default:"info"},closable:{type:Boolean,default:!0},closeText:{type:String,default:""},showIcon:Boolean,center:Boolean,effect:{type:String,values:x5,default:"light"}}),T5={close:t=>t instanceof MouseEvent},A5={name:"ElAlert"},k5=pe(Ue(Ee({},A5),{props:E5,emits:T5,setup(t,{emit:e}){const n=t,{Close:r}=kh,i=Rc(),o=$e("alert"),s=F(!0),a=k(()=>wo[n.type]||wo.info),l=k(()=>n.description||{[o.is("big")]:i.default}),u=k(()=>n.description||{[o.is("bold")]:i.default}),c=d=>{s.value=!1,e("close",d)};return(d,f)=>(E(),fe(En,{name:C(o).b("fade")},{default:X(()=>[ut(G("div",{class:$([C(o).b(),C(o).m(d.type),C(o).is("center",d.center),C(o).is(d.effect)]),role:"alert"},[d.showIcon&&C(a)?(E(),fe(C(st),{key:0,class:$([C(o).e("icon"),C(l)])},{default:X(()=>[(E(),fe(Pt(C(a))))]),_:1},8,["class"])):ue("v-if",!0),G("div",{class:$(C(o).e("content"))},[d.title||d.$slots.title?(E(),V("span",{key:0,class:$([C(o).e("title"),C(u)])},[Ce(d.$slots,"title",{},()=>[lt(Pe(d.title),1)])],2)):ue("v-if",!0),d.$slots.default||d.description?(E(),V("p",{key:1,class:$(C(o).e("description"))},[Ce(d.$slots,"default",{},()=>[lt(Pe(d.description),1)])],2)):ue("v-if",!0),d.closable?(E(),V(Ze,{key:2},[d.closeText?(E(),V("div",{key:0,class:$([C(o).e("close-btn"),C(o).is("customed")]),onClick:c},Pe(d.closeText),3)):(E(),fe(C(st),{key:1,class:$(C(o).e("close-btn")),onClick:c},{default:X(()=>[Z(C(r))]),_:1},8,["class"]))],2112)):ue("v-if",!0)],2)],2),[[Lt,s.value]])]),_:3},8,["name"]))}}));var P5=De(k5,[["__file","/home/runner/work/element-plus/element-plus/packages/components/alert/src/alert.vue"]]);const L5=_t(P5);let di;const R5=`
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,I5=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function D5(t){const e=window.getComputedStyle(t),n=e.getPropertyValue("box-sizing"),r=Number.parseFloat(e.getPropertyValue("padding-bottom"))+Number.parseFloat(e.getPropertyValue("padding-top")),i=Number.parseFloat(e.getPropertyValue("border-bottom-width"))+Number.parseFloat(e.getPropertyValue("border-top-width"));return{contextStyle:I5.map(s=>`${s}:${e.getPropertyValue(s)}`).join(";"),paddingSize:r,borderSize:i,boxSizing:n}}function s1(t,e=1,n){var r;di||(di=document.createElement("textarea"),document.body.appendChild(di));const{paddingSize:i,borderSize:o,boxSizing:s,contextStyle:a}=D5(t);di.setAttribute("style",`${a};${R5}`),di.value=t.value||t.placeholder||"";let l=di.scrollHeight;const u={};s==="border-box"?l=l+o:s==="content-box"&&(l=l-i),di.value="";const c=di.scrollHeight-i;if(It(e)){let d=c*e;s==="border-box"&&(d=d+i+o),l=Math.max(d,l),u.minHeight=`${d}px`}if(It(n)){let d=c*n;s==="border-box"&&(d=d+i+o),l=Math.min(d,l)}return u.height=`${l}px`,(r=di.parentNode)==null||r.removeChild(di),di=void 0,u}const $5=Je({size:Ih,disabled:Boolean,modelValue:{type:Fe([String,Number,Object]),default:""},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:Fe([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},placeholder:{type:String},form:{type:String,default:""},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:tr,default:""},prefixIcon:{type:tr,default:""},label:{type:String},tabindex:{type:[Number,String]},validateEvent:{type:Boolean,default:!0},inputStyle:{type:Fe([Object,Array,String]),default:()=>fn({})}}),N5={[bt]:t=>pt(t),input:t=>pt(t),change:t=>pt(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0,mouseleave:t=>t instanceof MouseEvent,mouseenter:t=>t instanceof MouseEvent,keydown:t=>t instanceof Event,compositionstart:t=>t instanceof CompositionEvent,compositionupdate:t=>t instanceof CompositionEvent,compositionend:t=>t instanceof CompositionEvent},O5=["type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder"],F5=["tabindex","disabled","readonly","autocomplete","aria-label","placeholder"],B5={name:"ElInput",inheritAttrs:!1},z5=pe(Ue(Ee({},B5),{props:$5,emits:N5,setup(t,{expose:e,emit:n}){const r=t,i={suffix:"append",prefix:"prepend"},o=wt(),s=DC(),a=Rc(),l=n0(),{form:u,formItem:c}=Wl(),d=Pn(),f=Ul(),h=$e("input"),m=$e("textarea"),g=Ln(),p=Ln(),v=F(!1),y=F(!1),w=F(!1),_=F(!1),b=Ln(r.inputStyle),S=k(()=>g.value||p.value),M=k(()=>{var ee;return(ee=u==null?void 0:u.statusIcon)!=null?ee:!1}),T=k(()=>(c==null?void 0:c.validateState)||""),N=k(()=>IM[T.value]),I=k(()=>_.value?eB:vO),x=k(()=>[s.style,r.inputStyle]),R=k(()=>[r.inputStyle,b.value,{resize:r.resize}]),O=k(()=>Yv(r.modelValue)?"":String(r.modelValue)),D=k(()=>r.clearable&&!f.value&&!r.readonly&&!!O.value&&(v.value||y.value)),B=k(()=>r.showPassword&&!f.value&&!r.readonly&&(!!O.value||v.value)),L=k(()=>r.showWordLimit&&!!l.value.maxlength&&(r.type==="text"||r.type==="textarea")&&!f.value&&!r.readonly&&!r.showPassword),A=k(()=>Array.from(O.value).length),P=k(()=>!!L.value&&A.value>Number(l.value.maxlength)),W=k(()=>!!a.suffix||!!r.suffixIcon||D.value||r.showPassword||L.value||!!T.value&&M.value),K=()=>{const{type:ee,autosize:le}=r;if(!(!Tt||ee!=="textarea"))if(le){const ae=kt(le)?le.minRows:void 0,z=kt(le)?le.maxRows:void 0;b.value=Ee({},s1(p.value,ae,z))}else b.value={minHeight:s1(p.value).minHeight}},te=()=>{const ee=S.value;!ee||ee.value===O.value||(ee.value=O.value)},J=ee=>{const{el:le}=o.vnode;if(!le)return;const z=Array.from(le.querySelectorAll(`.${h.e(ee)}`)).find(j=>j.parentNode===le);if(!z)return;const H=i[ee];a[H]?z.style.transform=`translateX(${ee==="suffix"?"-":""}${le.querySelector(`.${h.be("group",H)}`).offsetWidth}px)`:z.removeAttribute("style")},se=()=>{J("prefix"),J("suffix")},Te=async ee=>{const{value:le}=ee.target;w.value||le!==O.value&&(n(bt,le),n("input",le),await et(),te())},Le=ee=>{n("change",ee.target.value)},q=ee=>{n("compositionstart",ee),w.value=!0},re=ee=>{var le;n("compositionupdate",ee);const ae=(le=ee.target)==null?void 0:le.value,z=ae[ae.length-1]||"";w.value=!Ph(z)},he=ee=>{n("compositionend",ee),w.value&&(w.value=!1,Te(ee))},we=()=>{_.value=!_.value,ye()},ye=async()=>{var ee;await et(),(ee=S.value)==null||ee.focus()},ze=()=>{var ee;return(ee=S.value)==null?void 0:ee.blur()},be=ee=>{v.value=!0,n("focus",ee)},U=ee=>{var le;v.value=!1,n("blur",ee),r.validateEvent&&((le=c==null?void 0:c.validate)==null||le.call(c,"blur").catch(ae=>void 0))},Q=ee=>{y.value=!1,n("mouseleave",ee)},de=ee=>{y.value=!0,n("mouseenter",ee)},me=ee=>{n("keydown",ee)},Se=()=>{var ee;(ee=S.value)==null||ee.select()},Ae=()=>{n(bt,""),n("change",""),n("clear"),n("input","")};return Me(()=>r.modelValue,()=>{var ee;et(()=>K()),r.validateEvent&&((ee=c==null?void 0:c.validate)==null||ee.call(c,"change").catch(le=>void 0))}),Me(O,()=>te()),Me(()=>r.type,async()=>{await et(),te(),K(),se()}),ft(async()=>{te(),se(),await et(),K()}),Ai(async()=>{await et(),se()}),e({input:g,textarea:p,ref:S,textareaStyle:R,autosize:Nn(r,"autosize"),focus:ye,blur:ze,select:Se,clear:Ae,resizeTextarea:K}),(ee,le)=>ut((E(),V("div",{class:$([ee.type==="textarea"?C(m).b():C(h).b(),C(h).m(C(d)),C(h).is("disabled",C(f)),C(h).is("exceed",C(P)),{[C(h).b("group")]:ee.$slots.prepend||ee.$slots.append,[C(h).bm("group","append")]:ee.$slots.append,[C(h).bm("group","prepend")]:ee.$slots.prepend,[C(h).m("prefix")]:ee.$slots.prefix||ee.prefixIcon,[C(h).m("suffix")]:ee.$slots.suffix||ee.suffixIcon||ee.clearable||ee.showPassword,[C(h).m("suffix--password-clear")]:C(D)&&C(B)},ee.$attrs.class]),style:Ye(C(x)),onMouseenter:de,onMouseleave:Q},[ue(" input "),ee.type!=="textarea"?(E(),V(Ze,{key:0},[ue(" prepend slot "),ee.$slots.prepend?(E(),V("div",{key:0,class:$(C(h).be("group","prepend"))},[Ce(ee.$slots,"prepend")],2)):ue("v-if",!0),G("input",Qt({ref_key:"input",ref:g,class:C(h).e("inner")},C(l),{type:ee.showPassword?_.value?"text":"password":ee.type,disabled:C(f),readonly:ee.readonly,autocomplete:ee.autocomplete,tabindex:ee.tabindex,"aria-label":ee.label,placeholder:ee.placeholder,style:ee.inputStyle,onCompositionstart:q,onCompositionupdate:re,onCompositionend:he,onInput:Te,onFocus:be,onBlur:U,onChange:Le,onKeydown:me}),null,16,O5),ue(" prefix slot "),ee.$slots.prefix||ee.prefixIcon?(E(),V("span",{key:1,class:$(C(h).e("prefix"))},[G("span",{class:$(C(h).e("prefix-inner"))},[Ce(ee.$slots,"prefix"),ee.prefixIcon?(E(),fe(C(st),{key:0,class:$(C(h).e("icon"))},{default:X(()=>[(E(),fe(Pt(ee.prefixIcon)))]),_:1},8,["class"])):ue("v-if",!0)],2)],2)):ue("v-if",!0),ue(" suffix slot "),C(W)?(E(),V("span",{key:2,class:$(C(h).e("suffix"))},[G("span",{class:$(C(h).e("suffix-inner"))},[!C(D)||!C(B)||!C(L)?(E(),V(Ze,{key:0},[Ce(ee.$slots,"suffix"),ee.suffixIcon?(E(),fe(C(st),{key:0,class:$(C(h).e("icon"))},{default:X(()=>[(E(),fe(Pt(ee.suffixIcon)))]),_:1},8,["class"])):ue("v-if",!0)],64)):ue("v-if",!0),C(D)?(E(),fe(C(st),{key:1,class:$([C(h).e("icon"),C(h).e("clear")]),onMousedown:le[0]||(le[0]=ot(()=>{},["prevent"])),onClick:Ae},{default:X(()=>[Z(C(bo))]),_:1},8,["class"])):ue("v-if",!0),C(B)?(E(),fe(C(st),{key:2,class:$([C(h).e("icon"),C(h).e("clear")]),onClick:we},{default:X(()=>[(E(),fe(Pt(C(I))))]),_:1},8,["class"])):ue("v-if",!0),C(L)?(E(),V("span",{key:3,class:$(C(h).e("count"))},[G("span",{class:$(C(h).e("count-inner"))},Pe(C(A))+" / "+Pe(C(l).maxlength),3)],2)):ue("v-if",!0)],2),C(T)&&C(N)&&C(M)?(E(),fe(C(st),{key:0,class:$([C(h).e("icon"),C(h).e("validateIcon"),C(h).is("loading",C(T)==="validating")])},{default:X(()=>[(E(),fe(Pt(C(N))))]),_:1},8,["class"])):ue("v-if",!0)],2)):ue("v-if",!0),ue(" append slot "),ee.$slots.append?(E(),V("div",{key:3,class:$(C(h).be("group","append"))},[Ce(ee.$slots,"append")],2)):ue("v-if",!0)],64)):(E(),V(Ze,{key:1},[ue(" textarea "),G("textarea",Qt({ref_key:"textarea",ref:p,class:C(m).e("inner")},C(l),{tabindex:ee.tabindex,disabled:C(f),readonly:ee.readonly,autocomplete:ee.autocomplete,style:C(R),"aria-label":ee.label,placeholder:ee.placeholder,onCompositionstart:q,onCompositionupdate:re,onCompositionend:he,onInput:Te,onFocus:be,onBlur:U,onChange:Le,onKeydown:me}),null,16,F5),C(L)?(E(),V("span",{key:0,class:$(C(h).e("count"))},Pe(C(A))+" / "+Pe(C(l).maxlength),3)):ue("v-if",!0)],64))],38)),[[Lt,ee.type!=="hidden"]])}}));var V5=De(z5,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input/src/input.vue"]]);const ai=_t(V5),p2={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},H5=({move:t,size:e,bar:n})=>({[n.size]:e,transform:`translate${n.axis}(${t}%)`}),U5=Je({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),a1="Thumb",W5=pe({name:a1,props:U5,setup(t){const e=Ke(qM),n=$e("scrollbar");e||kn(a1,"can not inject scrollbar context");const r=F(),i=F(),o=F({}),s=F(!1);let a=!1,l=!1,u=Tt?document.onselectstart:null;const c=k(()=>p2[t.vertical?"vertical":"horizontal"]),d=k(()=>H5({size:t.size,move:t.move,bar:c.value})),f=k(()=>r.value[c.value.offset]**2/e.wrapElement[c.value.scrollSize]/t.ratio/i.value[c.value.offset]),h=b=>{var S;if(b.stopPropagation(),b.ctrlKey||[1,2].includes(b.button))return;(S=window.getSelection())==null||S.removeAllRanges(),g(b);const M=b.currentTarget;!M||(o.value[c.value.axis]=M[c.value.offset]-(b[c.value.client]-M.getBoundingClientRect()[c.value.direction]))},m=b=>{if(!i.value||!r.value||!e.wrapElement)return;const S=Math.abs(b.target.getBoundingClientRect()[c.value.direction]-b[c.value.client]),M=i.value[c.value.offset]/2,T=(S-M)*100*f.value/r.value[c.value.offset];e.wrapElement[c.value.scroll]=T*e.wrapElement[c.value.scrollSize]/100},g=b=>{b.stopImmediatePropagation(),a=!0,document.addEventListener("mousemove",p),document.addEventListener("mouseup",v),u=document.onselectstart,document.onselectstart=()=>!1},p=b=>{if(!r.value||!i.value||a===!1)return;const S=o.value[c.value.axis];if(!S)return;const M=(r.value.getBoundingClientRect()[c.value.direction]-b[c.value.client])*-1,T=i.value[c.value.offset]-S,N=(M-T)*100*f.value/r.value[c.value.offset];e.wrapElement[c.value.scroll]=N*e.wrapElement[c.value.scrollSize]/100},v=()=>{a=!1,o.value[c.value.axis]=0,document.removeEventListener("mousemove",p),document.removeEventListener("mouseup",v),_(),l&&(s.value=!1)},y=()=>{l=!1,s.value=!!t.size},w=()=>{l=!0,s.value=a};rn(()=>{_(),document.removeEventListener("mouseup",v)});const _=()=>{document.onselectstart!==u&&(document.onselectstart=u)};return xn(Nn(e,"scrollbarElement"),"mousemove",y),xn(Nn(e,"scrollbarElement"),"mouseleave",w),{ns:n,instance:r,thumb:i,bar:c,thumbStyle:d,visible:s,clickTrackHandler:m,clickThumbHandler:h}}});function G5(t,e,n,r,i,o){return E(),fe(En,{name:t.ns.b("fade")},{default:X(()=>[ut(G("div",{ref:"instance",class:$([t.ns.e("bar"),t.ns.is(t.bar.key)]),onMousedown:e[1]||(e[1]=(...s)=>t.clickTrackHandler&&t.clickTrackHandler(...s))},[G("div",{ref:"thumb",class:$(t.ns.e("thumb")),style:Ye(t.thumbStyle),onMousedown:e[0]||(e[0]=(...s)=>t.clickThumbHandler&&t.clickThumbHandler(...s))},null,38)],34),[[Lt,t.always||t.visible]])]),_:1},8,["name"])}var j5=De(W5,[["render",G5],["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/thumb.vue"]]);const K5=Je({always:{type:Boolean,default:!0},width:{type:String,default:""},height:{type:String,default:""},ratioX:{type:Number,default:1},ratioY:{type:Number,default:1}}),q5=pe({components:{Thumb:j5},props:K5,setup(t){const e=F(0),n=F(0),r=4;return{handleScroll:o=>{if(o){const s=o.offsetHeight-r,a=o.offsetWidth-r;n.value=o.scrollTop*100/s*t.ratioY,e.value=o.scrollLeft*100/a*t.ratioX}},moveX:e,moveY:n}}});function Y5(t,e,n,r,i,o){const s=ve("thumb");return E(),V(Ze,null,[Z(s,{move:t.moveX,ratio:t.ratioX,size:t.width,always:t.always},null,8,["move","ratio","size","always"]),Z(s,{move:t.moveY,ratio:t.ratioY,size:t.height,vertical:"",always:t.always},null,8,["move","ratio","size","always"])],64)}var X5=De(q5,[["render",Y5],["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/bar.vue"]]);const Z5=Je({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:Fe([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:{type:Boolean,default:!1},minSize:{type:Number,default:20}}),J5={scroll:({scrollTop:t,scrollLeft:e})=>It(t)&&It(e)},Q5=pe({name:"ElScrollbar",components:{Bar:X5},props:Z5,emits:J5,setup(t,{emit:e}){const n=$e("scrollbar");let r,i;const o=F(),s=F(),a=F(),l=F("0"),u=F("0"),c=F(),d=F(0),f=F(0),h=F(1),m=F(1),g=4,p=k(()=>{const S={};return t.height&&(S.height=Ei(t.height)),t.maxHeight&&(S.maxHeight=Ei(t.maxHeight)),[t.wrapStyle,S]}),v=()=>{var S;s.value&&((S=c.value)==null||S.handleScroll(s.value),e("scroll",{scrollTop:s.value.scrollTop,scrollLeft:s.value.scrollLeft}))};function y(S,M){kt(S)?s.value.scrollTo(S):It(S)&&It(M)&&s.value.scrollTo(S,M)}const w=S=>{!It(S)||(s.value.scrollTop=S)},_=S=>{!It(S)||(s.value.scrollLeft=S)},b=()=>{if(!s.value)return;const S=s.value.offsetHeight-g,M=s.value.offsetWidth-g,T=S**2/s.value.scrollHeight,N=M**2/s.value.scrollWidth,I=Math.max(T,t.minSize),x=Math.max(N,t.minSize);h.value=T/(S-T)/(I/(S-I)),m.value=N/(M-N)/(x/(M-x)),u.value=I+g<S?`${I}px`:"",l.value=x+g<M?`${x}px`:""};return Me(()=>t.noresize,S=>{S?(r==null||r(),i==null||i()):({stop:r}=Bl(a,b),i=xn("resize",b))},{immediate:!0}),Me(()=>[t.maxHeight,t.height],()=>{t.native||et(()=>{var S;b(),s.value&&((S=c.value)==null||S.handleScroll(s.value))})}),Ct(qM,Ot({scrollbarElement:o,wrapElement:s})),ft(()=>{t.native||et(()=>b())}),{ns:n,scrollbar$:o,wrap$:s,resize$:a,barRef:c,moveX:d,moveY:f,ratioX:m,ratioY:h,sizeWidth:l,sizeHeight:u,style:p,update:b,handleScroll:v,scrollTo:y,setScrollTop:w,setScrollLeft:_}}});function e6(t,e,n,r,i,o){const s=ve("bar");return E(),V("div",{ref:"scrollbar$",class:$(t.ns.b())},[G("div",{ref:"wrap$",class:$([t.wrapClass,t.ns.e("wrap"),{[t.ns.em("wrap","hidden-default")]:!t.native}]),style:Ye(t.style),onScroll:e[0]||(e[0]=(...a)=>t.handleScroll&&t.handleScroll(...a))},[(E(),fe(Pt(t.tag),{ref:"resize$",class:$([t.ns.e("view"),t.viewClass]),style:Ye(t.viewStyle)},{default:X(()=>[Ce(t.$slots,"default")]),_:3},8,["class","style"]))],38),t.native?ue("v-if",!0):(E(),fe(s,{key:0,ref:"barRef",height:t.sizeHeight,width:t.sizeWidth,always:t.always,"ratio-x":t.ratioX,"ratio-y":t.ratioY},null,8,["height","width","always","ratio-x","ratio-y"]))],2)}var t6=De(Q5,[["render",e6],["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/scrollbar.vue"]]);const ko=_t(t6),n6={name:"ElPopperRoot",inheritAttrs:!1},r6=pe(Ue(Ee({},n6),{setup(t,{expose:e}){const n=F(),r=F(),i=F(),o=F(),s={triggerRef:n,popperInstanceRef:r,contentRef:i,referenceRef:o};return e(s),Ct(r0,s),(a,l)=>Ce(a.$slots,"default")}}));var i6=De(r6,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/popper.vue"]]);const m2=Je({arrowOffset:{type:Number,default:5}}),o6={name:"ElPopperArrow",inheritAttrs:!1},s6=pe(Ue(Ee({},o6),{props:m2,setup(t,{expose:e}){const n=t,r=$e("popper"),{arrowOffset:i,arrowRef:o}=Ke(XM,void 0);return Me(()=>n.arrowOffset,s=>{i.value=s}),rn(()=>{o.value=void 0}),e({arrowRef:o}),(s,a)=>(E(),V("span",{ref_key:"arrowRef",ref:o,class:$(C(r).e("arrow")),"data-popper-arrow":""},null,2))}}));var a6=De(s6,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/arrow.vue"]]);const l6="ElOnlyChild",u6=pe({name:l6,setup(t,{slots:e,attrs:n}){var r;const i=Ke(o2),o=qB((r=i==null?void 0:i.setForwardRef)!=null?r:Vt);return()=>{var s;const a=(s=e.default)==null?void 0:s.call(e,n);if(!a||a.length>1)return null;const l=g2(a);return l?ut(ta(l,n),[[o]]):null}}});function g2(t){if(!t)return null;const e=t;for(const n of e){if(kt(n))switch(n.type){case wr:continue;case Lc:return Cp(n);case"svg":return Cp(n);case Ze:return g2(n.children);default:return n}return Cp(n)}return null}function Cp(t){return Z("span",{class:"el-only-child__content"},[t])}const v2=Je({virtualRef:{type:Fe(Object)},virtualTriggering:Boolean,onMouseenter:Function,onMouseleave:Function,onClick:Function,onKeydown:Function,onFocus:Function,onBlur:Function,onContextmenu:Function,id:String,open:Boolean}),c6={name:"ElPopperTrigger",inheritAttrs:!1},d6=pe(Ue(Ee({},c6),{props:v2,setup(t,{expose:e}){const n=t,{triggerRef:r}=Ke(r0,void 0);return KB(r),ft(()=>{Me(()=>n.virtualRef,i=>{i&&(r.value=wi(i))},{immediate:!0}),Me(()=>r.value,(i,o)=>{ia(i)&&["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"].forEach(s=>{var a;const l=n[s];l&&(i.addEventListener(s.slice(2).toLowerCase(),l),(a=o==null?void 0:o.removeEventListener)==null||a.call(o,s.slice(2).toLowerCase(),l))})},{immediate:!0})}),e({triggerRef:r}),(i,o)=>i.virtualTriggering?ue("v-if",!0):(E(),fe(C(u6),Qt({key:0},i.$attrs,{"aria-describedby":i.open?i.id:void 0}),{default:X(()=>[Ce(i.$slots,"default")]),_:3},16,["aria-describedby"]))}}));var f6=De(d6,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/trigger.vue"]]),yr="top",ri="bottom",ii="right",br="left",u0="auto",Fc=[yr,ri,ii,br],_l="start",cc="end",h6="clippingParents",y2="viewport",uu="popper",p6="reference",l1=Fc.reduce(function(t,e){return t.concat([e+"-"+_l,e+"-"+cc])},[]),c0=[].concat(Fc,[u0]).reduce(function(t,e){return t.concat([e,e+"-"+_l,e+"-"+cc])},[]),m6="beforeRead",g6="read",v6="afterRead",y6="beforeMain",b6="main",w6="afterMain",_6="beforeWrite",S6="write",C6="afterWrite",M6=[m6,g6,v6,y6,b6,w6,_6,S6,C6];function Gi(t){return t?(t.nodeName||"").toLowerCase():null}function Li(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Sl(t){var e=Li(t).Element;return t instanceof e||t instanceof Element}function Zr(t){var e=Li(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function d0(t){if(typeof ShadowRoot=="undefined")return!1;var e=Li(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function x6(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},o=e.elements[n];!Zr(o)||!Gi(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(s){var a=i[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function E6(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],o=e.attributes[r]||{},s=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=s.reduce(function(l,u){return l[u]="",l},{});!Zr(i)||!Gi(i)||(Object.assign(i.style,a),Object.keys(o).forEach(function(l){i.removeAttribute(l)}))})}}var T6={name:"applyStyles",enabled:!0,phase:"write",fn:x6,effect:E6,requires:["computeStyles"]};function Ui(t){return t.split("-")[0]}var Xs=Math.max,qf=Math.min,Cl=Math.round;function Ml(t,e){e===void 0&&(e=!1);var n=t.getBoundingClientRect(),r=1,i=1;if(Zr(t)&&e){var o=t.offsetHeight,s=t.offsetWidth;s>0&&(r=Cl(n.width)/s||1),o>0&&(i=Cl(n.height)/o||1)}return{width:n.width/r,height:n.height/i,top:n.top/i,right:n.right/r,bottom:n.bottom/i,left:n.left/r,x:n.left/r,y:n.top/i}}function f0(t){var e=Ml(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function b2(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&d0(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function _o(t){return Li(t).getComputedStyle(t)}function A6(t){return["table","td","th"].indexOf(Gi(t))>=0}function cs(t){return((Sl(t)?t.ownerDocument:t.document)||window.document).documentElement}function Nh(t){return Gi(t)==="html"?t:t.assignedSlot||t.parentNode||(d0(t)?t.host:null)||cs(t)}function u1(t){return!Zr(t)||_o(t).position==="fixed"?null:t.offsetParent}function k6(t){var e=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,n=navigator.userAgent.indexOf("Trident")!==-1;if(n&&Zr(t)){var r=_o(t);if(r.position==="fixed")return null}var i=Nh(t);for(d0(i)&&(i=i.host);Zr(i)&&["html","body"].indexOf(Gi(i))<0;){var o=_o(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function Bc(t){for(var e=Li(t),n=u1(t);n&&A6(n)&&_o(n).position==="static";)n=u1(n);return n&&(Gi(n)==="html"||Gi(n)==="body"&&_o(n).position==="static")?e:n||k6(t)||e}function h0(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Fu(t,e,n){return Xs(t,qf(e,n))}function P6(t,e,n){var r=Fu(t,e,n);return r>n?n:r}function w2(){return{top:0,right:0,bottom:0,left:0}}function _2(t){return Object.assign({},w2(),t)}function S2(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var L6=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,_2(typeof e!="number"?e:S2(e,Fc))};function R6(t){var e,n=t.state,r=t.name,i=t.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=Ui(n.placement),l=h0(a),u=[br,ii].indexOf(a)>=0,c=u?"height":"width";if(!(!o||!s)){var d=L6(i.padding,n),f=f0(o),h=l==="y"?yr:br,m=l==="y"?ri:ii,g=n.rects.reference[c]+n.rects.reference[l]-s[l]-n.rects.popper[c],p=s[l]-n.rects.reference[l],v=Bc(o),y=v?l==="y"?v.clientHeight||0:v.clientWidth||0:0,w=g/2-p/2,_=d[h],b=y-f[c]-d[m],S=y/2-f[c]/2+w,M=Fu(_,S,b),T=l;n.modifiersData[r]=(e={},e[T]=M,e.centerOffset=M-S,e)}}function I6(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||!b2(e.elements.popper,i)||(e.elements.arrow=i))}var D6={name:"arrow",enabled:!0,phase:"main",fn:R6,effect:I6,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function xl(t){return t.split("-")[1]}var $6={top:"auto",right:"auto",bottom:"auto",left:"auto"};function N6(t){var e=t.x,n=t.y,r=window,i=r.devicePixelRatio||1;return{x:Cl(e*i)/i||0,y:Cl(n*i)/i||0}}function c1(t){var e,n=t.popper,r=t.popperRect,i=t.placement,o=t.variation,s=t.offsets,a=t.position,l=t.gpuAcceleration,u=t.adaptive,c=t.roundOffsets,d=t.isFixed,f=s.x,h=f===void 0?0:f,m=s.y,g=m===void 0?0:m,p=typeof c=="function"?c({x:h,y:g}):{x:h,y:g};h=p.x,g=p.y;var v=s.hasOwnProperty("x"),y=s.hasOwnProperty("y"),w=br,_=yr,b=window;if(u){var S=Bc(n),M="clientHeight",T="clientWidth";if(S===Li(n)&&(S=cs(n),_o(S).position!=="static"&&a==="absolute"&&(M="scrollHeight",T="scrollWidth")),S=S,i===yr||(i===br||i===ii)&&o===cc){_=ri;var N=d&&S===b&&b.visualViewport?b.visualViewport.height:S[M];g-=N-r.height,g*=l?1:-1}if(i===br||(i===yr||i===ri)&&o===cc){w=ii;var I=d&&S===b&&b.visualViewport?b.visualViewport.width:S[T];h-=I-r.width,h*=l?1:-1}}var x=Object.assign({position:a},u&&$6),R=c===!0?N6({x:h,y:g}):{x:h,y:g};if(h=R.x,g=R.y,l){var O;return Object.assign({},x,(O={},O[_]=y?"0":"",O[w]=v?"0":"",O.transform=(b.devicePixelRatio||1)<=1?"translate("+h+"px, "+g+"px)":"translate3d("+h+"px, "+g+"px, 0)",O))}return Object.assign({},x,(e={},e[_]=y?g+"px":"",e[w]=v?h+"px":"",e.transform="",e))}function O6(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,s=o===void 0?!0:o,a=n.roundOffsets,l=a===void 0?!0:a,u={placement:Ui(e.placement),variation:xl(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,c1(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,c1(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var F6={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:O6,data:{}},nd={passive:!0};function B6(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,o=i===void 0?!0:i,s=r.resize,a=s===void 0?!0:s,l=Li(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&u.forEach(function(c){c.addEventListener("scroll",n.update,nd)}),a&&l.addEventListener("resize",n.update,nd),function(){o&&u.forEach(function(c){c.removeEventListener("scroll",n.update,nd)}),a&&l.removeEventListener("resize",n.update,nd)}}var z6={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:B6,data:{}},V6={left:"right",right:"left",bottom:"top",top:"bottom"};function nf(t){return t.replace(/left|right|bottom|top/g,function(e){return V6[e]})}var H6={start:"end",end:"start"};function d1(t){return t.replace(/start|end/g,function(e){return H6[e]})}function p0(t){var e=Li(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function m0(t){return Ml(cs(t)).left+p0(t).scrollLeft}function U6(t){var e=Li(t),n=cs(t),r=e.visualViewport,i=n.clientWidth,o=n.clientHeight,s=0,a=0;return r&&(i=r.width,o=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(s=r.offsetLeft,a=r.offsetTop)),{width:i,height:o,x:s+m0(t),y:a}}function W6(t){var e,n=cs(t),r=p0(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=Xs(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=Xs(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+m0(t),l=-r.scrollTop;return _o(i||n).direction==="rtl"&&(a+=Xs(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}function g0(t){var e=_o(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function C2(t){return["html","body","#document"].indexOf(Gi(t))>=0?t.ownerDocument.body:Zr(t)&&g0(t)?t:C2(Nh(t))}function Bu(t,e){var n;e===void 0&&(e=[]);var r=C2(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),o=Li(r),s=i?[o].concat(o.visualViewport||[],g0(r)?r:[]):r,a=e.concat(s);return i?a:a.concat(Bu(Nh(s)))}function dg(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function G6(t){var e=Ml(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}function f1(t,e){return e===y2?dg(U6(t)):Sl(e)?G6(e):dg(W6(cs(t)))}function j6(t){var e=Bu(Nh(t)),n=["absolute","fixed"].indexOf(_o(t).position)>=0,r=n&&Zr(t)?Bc(t):t;return Sl(r)?e.filter(function(i){return Sl(i)&&b2(i,r)&&Gi(i)!=="body"}):[]}function K6(t,e,n){var r=e==="clippingParents"?j6(t):[].concat(e),i=[].concat(r,[n]),o=i[0],s=i.reduce(function(a,l){var u=f1(t,l);return a.top=Xs(u.top,a.top),a.right=qf(u.right,a.right),a.bottom=qf(u.bottom,a.bottom),a.left=Xs(u.left,a.left),a},f1(t,o));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function M2(t){var e=t.reference,n=t.element,r=t.placement,i=r?Ui(r):null,o=r?xl(r):null,s=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(i){case yr:l={x:s,y:e.y-n.height};break;case ri:l={x:s,y:e.y+e.height};break;case ii:l={x:e.x+e.width,y:a};break;case br:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var u=i?h0(i):null;if(u!=null){var c=u==="y"?"height":"width";switch(o){case _l:l[u]=l[u]-(e[c]/2-n[c]/2);break;case cc:l[u]=l[u]+(e[c]/2-n[c]/2);break}}return l}function dc(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,o=n.boundary,s=o===void 0?h6:o,a=n.rootBoundary,l=a===void 0?y2:a,u=n.elementContext,c=u===void 0?uu:u,d=n.altBoundary,f=d===void 0?!1:d,h=n.padding,m=h===void 0?0:h,g=_2(typeof m!="number"?m:S2(m,Fc)),p=c===uu?p6:uu,v=t.rects.popper,y=t.elements[f?p:c],w=K6(Sl(y)?y:y.contextElement||cs(t.elements.popper),s,l),_=Ml(t.elements.reference),b=M2({reference:_,element:v,strategy:"absolute",placement:i}),S=dg(Object.assign({},v,b)),M=c===uu?S:_,T={top:w.top-M.top+g.top,bottom:M.bottom-w.bottom+g.bottom,left:w.left-M.left+g.left,right:M.right-w.right+g.right},N=t.modifiersData.offset;if(c===uu&&N){var I=N[i];Object.keys(T).forEach(function(x){var R=[ii,ri].indexOf(x)>=0?1:-1,O=[yr,ri].indexOf(x)>=0?"y":"x";T[x]+=I[O]*R})}return T}function q6(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,u=l===void 0?c0:l,c=xl(r),d=c?a?l1:l1.filter(function(m){return xl(m)===c}):Fc,f=d.filter(function(m){return u.indexOf(m)>=0});f.length===0&&(f=d);var h=f.reduce(function(m,g){return m[g]=dc(t,{placement:g,boundary:i,rootBoundary:o,padding:s})[Ui(g)],m},{});return Object.keys(h).sort(function(m,g){return h[m]-h[g]})}function Y6(t){if(Ui(t)===u0)return[];var e=nf(t);return[d1(t),e,d1(e)]}function X6(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!0:s,l=n.fallbackPlacements,u=n.padding,c=n.boundary,d=n.rootBoundary,f=n.altBoundary,h=n.flipVariations,m=h===void 0?!0:h,g=n.allowedAutoPlacements,p=e.options.placement,v=Ui(p),y=v===p,w=l||(y||!m?[nf(p)]:Y6(p)),_=[p].concat(w).reduce(function(Te,Le){return Te.concat(Ui(Le)===u0?q6(e,{placement:Le,boundary:c,rootBoundary:d,padding:u,flipVariations:m,allowedAutoPlacements:g}):Le)},[]),b=e.rects.reference,S=e.rects.popper,M=new Map,T=!0,N=_[0],I=0;I<_.length;I++){var x=_[I],R=Ui(x),O=xl(x)===_l,D=[yr,ri].indexOf(R)>=0,B=D?"width":"height",L=dc(e,{placement:x,boundary:c,rootBoundary:d,altBoundary:f,padding:u}),A=D?O?ii:br:O?ri:yr;b[B]>S[B]&&(A=nf(A));var P=nf(A),W=[];if(o&&W.push(L[R]<=0),a&&W.push(L[A]<=0,L[P]<=0),W.every(function(Te){return Te})){N=x,T=!1;break}M.set(x,W)}if(T)for(var K=m?3:1,te=function(Le){var q=_.find(function(re){var he=M.get(re);if(he)return he.slice(0,Le).every(function(we){return we})});if(q)return N=q,"break"},J=K;J>0;J--){var se=te(J);if(se==="break")break}e.placement!==N&&(e.modifiersData[r]._skip=!0,e.placement=N,e.reset=!0)}}var Z6={name:"flip",enabled:!0,phase:"main",fn:X6,requiresIfExists:["offset"],data:{_skip:!1}};function h1(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function p1(t){return[yr,ii,ri,br].some(function(e){return t[e]>=0})}function J6(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,s=dc(e,{elementContext:"reference"}),a=dc(e,{altBoundary:!0}),l=h1(s,r),u=h1(a,i,o),c=p1(l),d=p1(u);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}var Q6={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:J6};function ez(t,e,n){var r=Ui(t),i=[br,yr].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[br,ii].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}function tz(t){var e=t.state,n=t.options,r=t.name,i=n.offset,o=i===void 0?[0,0]:i,s=c0.reduce(function(c,d){return c[d]=ez(d,e.rects,o),c},{}),a=s[e.placement],l=a.x,u=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[r]=s}var nz={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:tz};function rz(t){var e=t.state,n=t.name;e.modifiersData[n]=M2({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var iz={name:"popperOffsets",enabled:!0,phase:"read",fn:rz,data:{}};function oz(t){return t==="x"?"y":"x"}function sz(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!1:s,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,d=n.padding,f=n.tether,h=f===void 0?!0:f,m=n.tetherOffset,g=m===void 0?0:m,p=dc(e,{boundary:l,rootBoundary:u,padding:d,altBoundary:c}),v=Ui(e.placement),y=xl(e.placement),w=!y,_=h0(v),b=oz(_),S=e.modifiersData.popperOffsets,M=e.rects.reference,T=e.rects.popper,N=typeof g=="function"?g(Object.assign({},e.rects,{placement:e.placement})):g,I=typeof N=="number"?{mainAxis:N,altAxis:N}:Object.assign({mainAxis:0,altAxis:0},N),x=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,R={x:0,y:0};if(!!S){if(o){var O,D=_==="y"?yr:br,B=_==="y"?ri:ii,L=_==="y"?"height":"width",A=S[_],P=A+p[D],W=A-p[B],K=h?-T[L]/2:0,te=y===_l?M[L]:T[L],J=y===_l?-T[L]:-M[L],se=e.elements.arrow,Te=h&&se?f0(se):{width:0,height:0},Le=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:w2(),q=Le[D],re=Le[B],he=Fu(0,M[L],Te[L]),we=w?M[L]/2-K-he-q-I.mainAxis:te-he-q-I.mainAxis,ye=w?-M[L]/2+K+he+re+I.mainAxis:J+he+re+I.mainAxis,ze=e.elements.arrow&&Bc(e.elements.arrow),be=ze?_==="y"?ze.clientTop||0:ze.clientLeft||0:0,U=(O=x==null?void 0:x[_])!=null?O:0,Q=A+we-U-be,de=A+ye-U,me=Fu(h?qf(P,Q):P,A,h?Xs(W,de):W);S[_]=me,R[_]=me-A}if(a){var Se,Ae=_==="x"?yr:br,ee=_==="x"?ri:ii,le=S[b],ae=b==="y"?"height":"width",z=le+p[Ae],H=le-p[ee],j=[yr,br].indexOf(v)!==-1,ce=(Se=x==null?void 0:x[b])!=null?Se:0,ke=j?z:le-M[ae]-T[ae]-ce+I.altAxis,Ve=j?le+M[ae]+T[ae]-ce-I.altAxis:H,Ne=h&&j?P6(ke,le,Ve):Fu(h?ke:z,le,h?Ve:H);S[b]=Ne,R[b]=Ne-le}e.modifiersData[r]=R}}var az={name:"preventOverflow",enabled:!0,phase:"main",fn:sz,requiresIfExists:["offset"]};function lz(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function uz(t){return t===Li(t)||!Zr(t)?p0(t):lz(t)}function cz(t){var e=t.getBoundingClientRect(),n=Cl(e.width)/t.offsetWidth||1,r=Cl(e.height)/t.offsetHeight||1;return n!==1||r!==1}function dz(t,e,n){n===void 0&&(n=!1);var r=Zr(e),i=Zr(e)&&cz(e),o=cs(e),s=Ml(t,i),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((Gi(e)!=="body"||g0(o))&&(a=uz(e)),Zr(e)?(l=Ml(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):o&&(l.x=m0(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function fz(t){var e=new Map,n=new Set,r=[];t.forEach(function(o){e.set(o.name,o)});function i(o){n.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&i(l)}}),r.push(o)}return t.forEach(function(o){n.has(o.name)||i(o)}),r}function hz(t){var e=fz(t);return M6.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function pz(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function mz(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var m1={placement:"bottom",modifiers:[],strategy:"absolute"};function g1(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function gz(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,o=i===void 0?m1:i;return function(a,l,u){u===void 0&&(u=o);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},m1,o),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],f=!1,h={state:c,setOptions:function(v){var y=typeof v=="function"?v(c.options):v;g(),c.options=Object.assign({},o,c.options,y),c.scrollParents={reference:Sl(a)?Bu(a):a.contextElement?Bu(a.contextElement):[],popper:Bu(l)};var w=hz(mz([].concat(r,c.options.modifiers)));return c.orderedModifiers=w.filter(function(_){return _.enabled}),m(),h.update()},forceUpdate:function(){if(!f){var v=c.elements,y=v.reference,w=v.popper;if(!!g1(y,w)){c.rects={reference:dz(y,Bc(w),c.options.strategy==="fixed"),popper:f0(w)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(I){return c.modifiersData[I.name]=Object.assign({},I.data)});for(var _=0;_<c.orderedModifiers.length;_++){if(c.reset===!0){c.reset=!1,_=-1;continue}var b=c.orderedModifiers[_],S=b.fn,M=b.options,T=M===void 0?{}:M,N=b.name;typeof S=="function"&&(c=S({state:c,options:T,name:N,instance:h})||c)}}}},update:pz(function(){return new Promise(function(p){h.forceUpdate(),p(c)})}),destroy:function(){g(),f=!0}};if(!g1(a,l))return h;h.setOptions(u).then(function(p){!f&&u.onFirstUpdate&&u.onFirstUpdate(p)});function m(){c.orderedModifiers.forEach(function(p){var v=p.name,y=p.options,w=y===void 0?{}:y,_=p.effect;if(typeof _=="function"){var b=_({state:c,name:v,instance:h,options:w}),S=function(){};d.push(b||S)}})}function g(){d.forEach(function(p){return p()}),d=[]}return h}}var vz=[z6,iz,F6,T6,nz,Z6,az,D6,Q6],x2=gz({defaultModifiers:vz});const yz=["fixed","absolute"],bz=Je({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:Fe(Array),default:()=>[]},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:c0,default:"bottom"},popperOptions:{type:Fe(Object),default:()=>({})},strategy:{type:String,values:yz,default:"absolute"}}),E2=Je(Ue(Ee({},bz),{style:{type:Fe([String,Array,Object])},className:{type:Fe([String,Array,Object])},effect:{type:String,default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,popperClass:{type:Fe([String,Array,Object])},popperStyle:{type:Fe([String,Array,Object])},referenceEl:{type:Fe(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},zIndex:Number})),v1=(t,e)=>{const{placement:n,strategy:r,popperOptions:i}=t,o=Ue(Ee({placement:n,strategy:r},i),{modifiers:_z(t)});return Sz(o,e),Cz(o,i==null?void 0:i.modifiers),o},wz=t=>{if(!!Tt)return wi(t)};function _z(t){const{offset:e,gpuAcceleration:n,fallbackPlacements:r}=t;return[{name:"offset",options:{offset:[0,e!=null?e:12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:r!=null?r:[]}},{name:"computeStyles",options:{gpuAcceleration:n,adaptive:n}}]}function Sz(t,{arrowEl:e,arrowOffset:n}){t.modifiers.push({name:"arrow",options:{element:e,padding:n!=null?n:5}})}function Cz(t,e){e&&(t.modifiers=[...t.modifiers,...e!=null?e:[]])}const Mz={name:"ElPopperContent"},xz=pe(Ue(Ee({},Mz),{props:E2,emits:["mouseenter","mouseleave"],setup(t,{expose:e}){const n=t,{popperInstanceRef:r,contentRef:i,triggerRef:o}=Ke(r0,void 0),{nextZIndex:s}=To(),a=$e("popper"),l=F(),u=F(),c=F();Ct(XM,{arrowRef:u,arrowOffset:c});const d=F(n.zIndex||s()),f=k(()=>wz(n.referenceEl)||C(o)),h=k(()=>[{zIndex:C(d)},n.popperStyle]),m=k(()=>[a.b(),a.is("pure",n.pure),a.is(n.effect),n.popperClass]),g=({referenceEl:y,popperContentEl:w,arrowEl:_})=>{const b=v1(n,{arrowEl:_,arrowOffset:C(c)});return x2(y,w,b)},p=()=>{var y;(y=C(r))==null||y.update(),d.value=n.zIndex||s()},v=()=>{var y,w;const _={name:"eventListeners",enabled:n.visible};(w=(y=C(r))==null?void 0:y.setOptions)==null||w.call(y,b=>Ue(Ee({},b),{modifiers:[...b.modifiers||[],_]})),p()};return ft(()=>{let y;Me(f,w=>{var _;y==null||y();const b=C(r);if((_=b==null?void 0:b.destroy)==null||_.call(b),w){const S=C(l);i.value=S,r.value=g({referenceEl:w,popperContentEl:S,arrowEl:C(u)}),y=Me(()=>w.getBoundingClientRect(),()=>p(),{immediate:!0})}else r.value=void 0},{immediate:!0}),Me(()=>n.visible,v,{immediate:!0}),Me(()=>v1(n,{arrowEl:C(u),arrowOffset:C(c)}),w=>{var _;return(_=r.value)==null?void 0:_.setOptions(w)})}),e({popperContentRef:l,popperInstanceRef:r,updatePopper:p,contentStyle:h}),(y,w)=>(E(),V("div",{ref_key:"popperContentRef",ref:l,style:Ye(C(h)),class:$(C(m)),role:"tooltip",onMouseenter:w[0]||(w[0]=_=>y.$emit("mouseenter",_)),onMouseleave:w[1]||(w[1]=_=>y.$emit("mouseleave",_))},[Ce(y.$slots,"default")],38))}}));var Ez=De(xz,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/content.vue"]]);const Tz={LIGHT:"light",DARK:"dark"};Je({autoClose:{type:Number,default:0},cutoff:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}});function Gl(t,e){const n=wt(),r=k(()=>Qn(n.props[e])?n.props[e]:n.props.teleported);return Nc({scope:t,from:e,replacement:"teleported",version:"2.1.0",ref:"https://element-plus.org/en-US/component/tooltip.html#attributes"},k(()=>Qn(n.props[e]))),{compatTeleported:r}}const T2=_t(i6),Az=pe({name:"ElVisuallyHidden",props:{style:{type:[String,Object,Array]}},setup(t){return{computedStyle:k(()=>[t.style,{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}])}}});function kz(t,e,n,r,i,o){return E(),V("span",Qt(t.$attrs,{style:t.computedStyle}),[Ce(t.$slots,"default")],16)}var A2=De(Az,[["render",kz],["__file","/home/runner/work/element-plus/element-plus/packages/components/visual-hidden/src/visual-hidden.vue"]]);const qn=Je(Ue(Ee(Ee({},GB),E2),{appendTo:{type:Fe([String,Object]),default:UB},content:{type:String,default:""},rawContent:{type:Boolean,default:!1},persistent:Boolean,ariaLabel:String,visible:{type:Fe(Boolean),default:null},transition:{type:String,default:"el-fade-in-linear"},teleported:{type:Boolean,default:!0},disabled:{type:Boolean}})),fc=Je(Ue(Ee({},v2),{disabled:Boolean,trigger:{type:Fe([String,Array]),default:"hover"}})),Pz=Je({openDelay:{type:Number},visibleArrow:{type:Boolean,default:void 0},hideAfter:{type:Number,default:200},showArrow:{type:Boolean,default:!0}}),Oh=Symbol("elTooltip"),Lz=pe({name:"ElTooltipContent",components:{ElPopperContent:Ez,ElVisuallyHidden:A2},inheritAttrs:!1,props:qn,setup(t){const e=F(null),n=F(!1),r=F(!1),i=F(!1),o=F(!1),{controlled:s,id:a,open:l,trigger:u,onClose:c,onOpen:d,onShow:f,onHide:h,onBeforeShow:m,onBeforeHide:g}=Ke(Oh,void 0),p=k(()=>t.persistent);rn(()=>{o.value=!0});const v=k(()=>C(p)?!0:C(l)),y=k(()=>t.disabled?!1:C(l)),w=k(()=>{var O;return(O=t.style)!=null?O:{}}),_=k(()=>!C(l));HB(c);const b=()=>{h()},S=()=>{if(C(s))return!0},M=dn(S,()=>{t.enterable&&C(u)==="hover"&&d()}),T=dn(S,()=>{C(u)==="hover"&&c()}),N=()=>{var O,D;(D=(O=e.value)==null?void 0:O.updatePopper)==null||D.call(O),m==null||m()},I=()=>{g==null||g()},x=()=>{f()};let R;return Me(()=>C(l),O=>{O?R=Wf(k(()=>{var D;return(D=e.value)==null?void 0:D.popperContentRef}),()=>{if(C(s))return;C(u)!=="hover"&&c()}):R==null||R()},{flush:"post"}),{ariaHidden:_,entering:r,leaving:i,id:a,intermediateOpen:n,contentStyle:w,contentRef:e,destroyed:o,shouldRender:v,shouldShow:y,open:l,onAfterShow:x,onBeforeEnter:N,onBeforeLeave:I,onContentEnter:M,onContentLeave:T,onTransitionLeave:b}}});function Rz(t,e,n,r,i,o){const s=ve("el-visually-hidden"),a=ve("el-popper-content");return E(),fe(Pc,{disabled:!t.teleported,to:t.appendTo},[Z(En,{name:t.transition,onAfterLeave:t.onTransitionLeave,onBeforeEnter:t.onBeforeEnter,onAfterEnter:t.onAfterShow,onBeforeLeave:t.onBeforeLeave},{default:X(()=>[t.shouldRender?ut((E(),fe(a,Qt({key:0,ref:"contentRef"},t.$attrs,{"aria-hidden":t.ariaHidden,"boundaries-padding":t.boundariesPadding,"fallback-placements":t.fallbackPlacements,"gpu-acceleration":t.gpuAcceleration,offset:t.offset,placement:t.placement,"popper-options":t.popperOptions,strategy:t.strategy,effect:t.effect,enterable:t.enterable,pure:t.pure,"popper-class":t.popperClass,"popper-style":[t.popperStyle,t.contentStyle],"reference-el":t.referenceEl,visible:t.shouldShow,"z-index":t.zIndex,onMouseenter:t.onContentEnter,onMouseleave:t.onContentLeave}),{default:X(()=>[ue(" Workaround bug #6378 "),t.destroyed?ue("v-if",!0):(E(),V(Ze,{key:0},[Ce(t.$slots,"default"),Z(s,{id:t.id,role:"tooltip"},{default:X(()=>[lt(Pe(t.ariaLabel),1)]),_:1},8,["id"])],64))]),_:3},16,["aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","visible","z-index","onMouseenter","onMouseleave"])),[[Lt,t.shouldShow]]):ue("v-if",!0)]),_:3},8,["name","onAfterLeave","onBeforeEnter","onAfterEnter","onBeforeLeave"])],8,["disabled","to"])}var Iz=De(Lz,[["render",Rz],["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/content.vue"]]);const Dz=(t,e)=>ct(t)?t.includes(e):t===e,Sa=(t,e,n)=>r=>{Dz(C(t),e)&&n(r)},$z=pe({name:"ElTooltipTrigger",components:{ElPopperTrigger:f6},props:fc,setup(t){const e=$e("tooltip"),{controlled:n,id:r,open:i,onOpen:o,onClose:s,onToggle:a}=Ke(Oh,void 0),l=F(null),u=()=>{if(C(n)||t.disabled)return!0},c=Nn(t,"trigger"),d=dn(u,Sa(c,"hover",o)),f=dn(u,Sa(c,"hover",s)),h=dn(u,Sa(c,"click",y=>{y.button===0&&a(y)})),m=dn(u,Sa(c,"focus",o)),g=dn(u,Sa(c,"focus",s)),p=dn(u,Sa(c,"contextmenu",y=>{y.preventDefault(),a(y)})),v=dn(u,y=>{const{code:w}=y;(w===qe.enter||w===qe.space)&&a(y)});return{onBlur:g,onContextMenu:p,onFocus:m,onMouseenter:d,onMouseleave:f,onClick:h,onKeydown:v,open:i,id:r,triggerRef:l,ns:e}}});function Nz(t,e,n,r,i,o){const s=ve("el-popper-trigger");return E(),fe(s,{id:t.id,"virtual-ref":t.virtualRef,open:t.open,"virtual-triggering":t.virtualTriggering,class:$(t.ns.e("trigger")),onBlur:t.onBlur,onClick:t.onClick,onContextmenu:t.onContextMenu,onFocus:t.onFocus,onMouseenter:t.onMouseenter,onMouseleave:t.onMouseleave,onKeydown:t.onKeydown},{default:X(()=>[Ce(t.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"])}var Oz=De($z,[["render",Nz],["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/trigger.vue"]]);const{useModelToggleProps:Fz,useModelToggle:Bz,useModelToggleEmits:zz}=NB("visible"),Vz=pe({name:"ElTooltip",components:{ElPopper:T2,ElPopperArrow:a6,ElTooltipContent:Iz,ElTooltipTrigger:Oz},props:Ee(Ee(Ee(Ee(Ee({},Fz),qn),fc),m2),Pz),emits:[...zz,"before-show","before-hide","show","hide"],setup(t,{emit:e}){WB();const n=k(()=>(Rr(t.openDelay),t.openDelay||t.showAfter)),r=k(()=>(Rr(t.visibleArrow),Qn(t.visibleArrow)?t.visibleArrow:t.showArrow)),i=o0(),o=F(null),s=()=>{var h;const m=C(o);m&&((h=m.popperInstanceRef)==null||h.update())},a=F(!1),{show:l,hide:u}=Bz({indicator:a}),{onOpen:c,onClose:d}=jB({showAfter:n,hideAfter:Nn(t,"hideAfter"),open:l,close:u}),f=k(()=>Qn(t.visible));return Ct(Oh,{controlled:f,id:i,open:Tc(a),trigger:Nn(t,"trigger"),onOpen:c,onClose:d,onToggle:()=>{C(a)?d():c()},onShow:()=>{e("show")},onHide:()=>{e("hide")},onBeforeShow:()=>{e("before-show")},onBeforeHide:()=>{e("before-hide")},updatePopper:s}),Me(()=>t.disabled,h=>{h&&a.value&&(a.value=!1)}),{compatShowAfter:n,compatShowArrow:r,popperRef:o,open:a,hide:u,updatePopper:s,onOpen:c,onClose:d}}}),Hz=["innerHTML"],Uz={key:1};function Wz(t,e,n,r,i,o){const s=ve("el-tooltip-trigger"),a=ve("el-popper-arrow"),l=ve("el-tooltip-content"),u=ve("el-popper");return E(),fe(u,{ref:"popperRef"},{default:X(()=>[Z(s,{disabled:t.disabled,trigger:t.trigger,"virtual-ref":t.virtualRef,"virtual-triggering":t.virtualTriggering},{default:X(()=>[t.$slots.default?Ce(t.$slots,"default",{key:0}):ue("v-if",!0)]),_:3},8,["disabled","trigger","virtual-ref","virtual-triggering"]),Z(l,{"aria-label":t.ariaLabel,"boundaries-padding":t.boundariesPadding,content:t.content,disabled:t.disabled,effect:t.effect,enterable:t.enterable,"fallback-placements":t.fallbackPlacements,"hide-after":t.hideAfter,"gpu-acceleration":t.gpuAcceleration,offset:t.offset,persistent:t.persistent,"popper-class":t.popperClass,"popper-style":t.popperStyle,placement:t.placement,"popper-options":t.popperOptions,pure:t.pure,"raw-content":t.rawContent,"reference-el":t.referenceEl,"show-after":t.compatShowAfter,strategy:t.strategy,teleported:t.teleported,transition:t.transition,"z-index":t.zIndex,"append-to":t.appendTo},{default:X(()=>[Ce(t.$slots,"content",{},()=>[t.rawContent?(E(),V("span",{key:0,innerHTML:t.content},null,8,Hz)):(E(),V("span",Uz,Pe(t.content),1))]),t.compatShowArrow?(E(),fe(a,{key:0,"arrow-offset":t.arrowOffset},null,8,["arrow-offset"])):ue("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","show-after","strategy","teleported","transition","z-index","append-to"])]),_:3},512)}var Gz=De(Vz,[["render",Wz],["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/tooltip.vue"]]);const Cr=_t(Gz),jz=Je({valueKey:{type:String,default:"value"},modelValue:{type:[String,Number],default:""},debounce:{type:Number,default:300},placement:{type:Fe(String),values:["top","top-start","top-end","bottom","bottom-start","bottom-end"],default:"bottom-start"},fetchSuggestions:{type:Fe([Function,Array]),default:Vt},popperClass:{type:String,default:""},triggerOnFocus:{type:Boolean,default:!0},selectWhenUnmatched:{type:Boolean,default:!1},hideLoading:{type:Boolean,default:!1},popperAppendToBody:{type:Boolean,default:void 0},teleported:qn.teleported,highlightFirstItem:{type:Boolean,default:!1}}),Kz={[bt]:t=>pt(t),input:t=>pt(t),change:t=>pt(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0,select:t=>kt(t)},qz=["aria-expanded","aria-owns"],Yz={key:0},Xz=["id","aria-selected","onClick"],Zz={name:"ElAutocomplete",inheritAttrs:!1},Jz=pe(Ue(Ee({},Zz),{props:jz,emits:Kz,setup(t,{expose:e,emit:n}){const r=t,i="ElAutocomplete",o=$e("autocomplete"),{compatTeleported:s}=Gl(i,"popperAppendToBody");let a=!1;const l=n0(),u=DC(),c=F([]),d=F(-1),f=F(""),h=F(!1),m=F(!1),g=F(!1),p=F(),v=F(),y=F(),w=F(),_=k(()=>o.b(String($c()))),b=k(()=>u.style),S=k(()=>(ct(c.value)&&c.value.length>0||g.value)&&h.value),M=k(()=>!r.hideLoading&&g.value),T=()=>{et(()=>{S.value&&(f.value=`${p.value.$el.offsetWidth}px`)})},I=_r(te=>{if(m.value)return;g.value=!0;const J=se=>{g.value=!1,!m.value&&(ct(se)?(c.value=se,d.value=r.highlightFirstItem?0:-1):kn(i,"autocomplete suggestions must be an array"))};if(ct(r.fetchSuggestions))J(r.fetchSuggestions);else{const se=r.fetchSuggestions(te,J);ct(se)?J(se):ea(se)&&se.then(J)}},r.debounce),x=te=>{const J=Boolean(te);if(n("input",te),n(bt,te),m.value=!1,h.value||(h.value=a&&J),!r.triggerOnFocus&&!te){m.value=!0,c.value=[];return}a&&J&&(a=!1),I(te)},R=te=>{n("change",te)},O=te=>{h.value=!0,n("focus",te),r.triggerOnFocus&&I(String(r.modelValue))},D=te=>{n("blur",te)},B=()=>{h.value=!1,a=!0,n(bt,""),n("clear")},L=()=>{S.value&&d.value>=0&&d.value<c.value.length?W(c.value[d.value]):r.selectWhenUnmatched&&(n("select",{value:r.modelValue}),et(()=>{c.value=[],d.value=-1}))},A=()=>{h.value=!1},P=()=>{var te;(te=p.value)==null||te.focus()},W=te=>{n("input",te[r.valueKey]),n(bt,te[r.valueKey]),n("select",te),et(()=>{c.value=[],d.value=-1})},K=te=>{if(!S.value||g.value)return;if(te<0){d.value=-1;return}te>=c.value.length&&(te=c.value.length-1);const J=v.value.querySelector(`.${o.be("suggestion","wrap")}`),Te=J.querySelectorAll(`.${o.be("suggestion","list")} li`)[te],Le=J.scrollTop,{offsetTop:q,scrollHeight:re}=Te;q+re>Le+J.clientHeight&&(J.scrollTop+=re),q<Le&&(J.scrollTop-=re),d.value=te,p.value.ref.setAttribute("aria-activedescendant",`${_.value}-item-${d.value}`)};return Wf(w,A),ft(()=>{p.value.ref.setAttribute("role","textbox"),p.value.ref.setAttribute("aria-autocomplete","list"),p.value.ref.setAttribute("aria-controls","id"),p.value.ref.setAttribute("aria-activedescendant",`${_.value}-item-${d.value}`)}),e({highlightedIndex:d,activated:h,loading:g,inputRef:p,popperRef:y,suggestions:c,handleSelect:W,handleKeyEnter:L,focus:P,close:A,highlight:K}),(te,J)=>(E(),fe(C(Cr),{ref_key:"popperRef",ref:y,visible:C(S),"onUpdate:visible":J[2]||(J[2]=se=>hn(S)?S.value=se:null),placement:te.placement,"fallback-placements":["bottom-start","top-start"],"popper-class":[C(o).e("popper"),te.popperClass],teleported:C(s),"gpu-acceleration":!1,pure:"","manual-mode":"",effect:"light",trigger:"click",transition:`${C(o).namespace.value}-zoom-in-top`,persistent:"",onBeforeShow:T},{content:X(()=>[G("div",{ref_key:"regionRef",ref:v,class:$([C(o).b("suggestion"),C(o).is("loading",C(M))]),style:Ye({minWidth:f.value,outline:"none"}),role:"region"},[Z(C(ko),{id:C(_),tag:"ul","wrap-class":C(o).be("suggestion","wrap"),"view-class":C(o).be("suggestion","list"),role:"listbox"},{default:X(()=>[C(M)?(E(),V("li",Yz,[Z(C(st),{class:$(C(o).is("loading"))},{default:X(()=>[Z(C(us))]),_:1},8,["class"])])):(E(!0),V(Ze,{key:1},xt(c.value,(se,Te)=>(E(),V("li",{id:`${C(_)}-item-${Te}`,key:Te,class:$({highlighted:d.value===Te}),role:"option","aria-selected":d.value===Te,onClick:Le=>W(se)},[Ce(te.$slots,"default",{item:se},()=>[lt(Pe(se[te.valueKey]),1)])],10,Xz))),128))]),_:3},8,["id","wrap-class","view-class"])],6)]),default:X(()=>[G("div",{ref_key:"listboxRef",ref:w,class:$([C(o).b(),te.$attrs.class]),style:Ye(C(b)),role:"combobox","aria-haspopup":"listbox","aria-expanded":C(S),"aria-owns":C(_)},[Z(C(ai),Qt({ref_key:"inputRef",ref:p},C(l),{"model-value":te.modelValue,onInput:x,onChange:R,onFocus:O,onBlur:D,onClear:B,onKeydown:[J[0]||(J[0]=Mt(ot(se=>K(d.value-1),["prevent"]),["up"])),J[1]||(J[1]=Mt(ot(se=>K(d.value+1),["prevent"]),["down"])),Mt(L,["enter"]),Mt(A,["tab"])]}),is({_:2},[te.$slots.prepend?{name:"prepend",fn:X(()=>[Ce(te.$slots,"prepend")])}:void 0,te.$slots.append?{name:"append",fn:X(()=>[Ce(te.$slots,"append")])}:void 0,te.$slots.prefix?{name:"prefix",fn:X(()=>[Ce(te.$slots,"prefix")])}:void 0,te.$slots.suffix?{name:"suffix",fn:X(()=>[Ce(te.$slots,"suffix")])}:void 0]),1040,["model-value","onKeydown"])],14,qz)]),_:3},8,["visible","placement","popper-class","teleported","transition"]))}}));var Qz=De(Jz,[["__file","/home/runner/work/element-plus/element-plus/packages/components/autocomplete/src/autocomplete.vue"]]);const e8=_t(Qz),t8=Je({size:{type:[Number,String],values:Ki,default:"",validator:t=>typeof t=="number"},shape:{type:String,values:["circle","square"],default:"circle"},icon:{type:tr},src:{type:String,default:""},alt:String,srcSet:String,fit:{type:Fe(String),default:"cover"}}),n8={error:t=>t instanceof Event},r8=["src","alt","srcset"],i8={name:"ElAvatar"},o8=pe(Ue(Ee({},i8),{props:t8,emits:n8,setup(t,{emit:e}){const n=t,r=$e("avatar"),i=F(!1),o=k(()=>{const{size:u,icon:c,shape:d}=n,f=[r.b()];return pt(u)&&f.push(r.m(u)),c&&f.push(r.m("icon")),d&&f.push(r.m(d)),f}),s=k(()=>{const{size:u}=n;return It(u)?{"--el-avatar-size":Ei(u)}:void 0}),a=k(()=>({objectFit:n.fit}));Me(()=>n.src,()=>i.value=!1);function l(u){i.value=!0,e("error",u)}return(u,c)=>(E(),V("span",{class:$(C(o)),style:Ye(C(s))},[(u.src||u.srcSet)&&!i.value?(E(),V("img",{key:0,src:u.src,alt:u.alt,srcset:u.srcSet,style:Ye(C(a)),onError:l},null,44,r8)):u.icon?(E(),fe(C(st),{key:1},{default:X(()=>[(E(),fe(Pt(u.icon)))]),_:1})):Ce(u.$slots,"default",{key:2})],6))}}));var s8=De(o8,[["__file","/home/runner/work/element-plus/element-plus/packages/components/avatar/src/avatar.vue"]]);const a8=_t(s8),l8={visibilityHeight:{type:Number,default:200},target:{type:String,default:""},right:{type:Number,default:40},bottom:{type:Number,default:40}},u8={click:t=>t instanceof MouseEvent},c8=["onClick"],d8={name:"ElBacktop"},f8=pe(Ue(Ee({},d8),{props:l8,emits:u8,setup(t,{emit:e}){const n=t,r="ElBacktop",i=$e("backtop"),o=Ln(),s=Ln(),a=F(!1),l=k(()=>({right:`${n.right}px`,bottom:`${n.bottom}px`})),u=()=>{if(!o.value)return;const h=Date.now(),m=o.value.scrollTop,g=()=>{if(!o.value)return;const p=(Date.now()-h)/500;p<1?(o.value.scrollTop=m*(1-MB(p)),requestAnimationFrame(g)):o.value.scrollTop=0};requestAnimationFrame(g)},c=()=>{o.value&&(a.value=o.value.scrollTop>=n.visibilityHeight)},d=h=>{u(),e("click",h)},f=xM(c,300);return ft(()=>{var h;s.value=document,o.value=document.documentElement,n.target&&(o.value=(h=document.querySelector(n.target))!=null?h:void 0,o.value||kn(r,`target is not existed: ${n.target}`),s.value=o.value),xn(s,"scroll",f)}),(h,m)=>(E(),fe(En,{name:`${C(i).namespace.value}-fade-in`},{default:X(()=>[a.value?(E(),V("div",{key:0,style:Ye(C(l)),class:$(C(i).b()),onClick:ot(d,["stop"])},[Ce(h.$slots,"default",{},()=>[Z(C(st),{class:$(C(i).e("icon"))},{default:X(()=>[Z(C(XN))]),_:1},8,["class"])])],14,c8)):ue("v-if",!0)]),_:3},8,["name"]))}}));var h8=De(f8,[["__file","/home/runner/work/element-plus/element-plus/packages/components/backtop/src/backtop.vue"]]);const p8=_t(h8),m8=Je({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"}}),g8=["textContent"],v8={name:"ElBadge"},y8=pe(Ue(Ee({},v8),{props:m8,setup(t,{expose:e}){const n=t,r=$e("badge"),i=k(()=>n.isDot?"":It(n.value)&&It(n.max)?n.max<n.value?`${n.max}+`:`${n.value}`:`${n.value}`);return e({content:i}),(o,s)=>(E(),V("div",{class:$(C(r).b())},[Ce(o.$slots,"default"),Z(En,{name:`${C(r).namespace.value}-zoom-in-center`},{default:X(()=>[ut(G("sup",{class:$([C(r).e("content"),C(r).em("content",o.type),C(r).is("fixed",!!o.$slots.default),C(r).is("dot",o.isDot)]),textContent:Pe(C(i))},null,10,g8),[[Lt,!o.hidden&&(C(i)||C(i)==="0"||o.isDot)]])]),_:1},8,["name"])],2))}}));var b8=De(y8,[["__file","/home/runner/work/element-plus/element-plus/packages/components/badge/src/badge.vue"]]);const k2=_t(b8),w8=Je({separator:{type:String,default:"/"},separatorIcon:{type:tr,default:""}}),_8={name:"ElBreadcrumb"},S8=pe(Ue(Ee({},_8),{props:w8,setup(t){const e=t,n=$e("breadcrumb"),r=F();return Ct(BM,e),ft(()=>{const i=r.value.querySelectorAll(`.${n.e("item")}`);i.length&&i[i.length-1].setAttribute("aria-current","page")}),(i,o)=>(E(),V("div",{ref_key:"breadcrumb",ref:r,class:$(C(n).b()),"aria-label":"Breadcrumb",role:"navigation"},[Ce(i.$slots,"default")],2))}}));var C8=De(S8,[["__file","/home/runner/work/element-plus/element-plus/packages/components/breadcrumb/src/breadcrumb.vue"]]);const M8=Je({to:{type:Fe([String,Object]),default:""},replace:{type:Boolean,default:!1}}),x8={name:"ElBreadcrumbItem"},E8=pe(Ue(Ee({},x8),{props:M8,setup(t){const e=t,r=wt().appContext.config.globalProperties.$router,i=Ke(BM,{}),o=$e("breadcrumb"),{separator:s,separatorIcon:a}=i,l=F(),u=()=>{!e.to||!r||(e.replace?r.replace(e.to):r.push(e.to))};return(c,d)=>(E(),V("span",{class:$(C(o).e("item"))},[G("span",{ref_key:"link",ref:l,class:$([C(o).e("inner"),C(o).is("link",!!c.to)]),role:"link",onClick:u},[Ce(c.$slots,"default")],2),C(a)?(E(),fe(C(st),{key:0,class:$(C(o).e("separator"))},{default:X(()=>[(E(),fe(Pt(C(a))))]),_:1},8,["class"])):(E(),V("span",{key:1,class:$(C(o).e("separator")),role:"presentation"},Pe(C(s)),3))],2))}}));var P2=De(E8,[["__file","/home/runner/work/element-plus/element-plus/packages/components/breadcrumb/src/breadcrumb-item.vue"]]);const T8=_t(C8,{BreadcrumbItem:P2}),A8=pn(P2);function er(t,e){k8(t)&&(t="100%");var n=P8(t);return t=e===360?t:Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(String(t*e),10)/100),Math.abs(t-e)<1e-6?1:(e===360?t=(t<0?t%e+e:t%e)/parseFloat(String(e)):t=t%e/parseFloat(String(e)),t)}function rd(t){return Math.min(1,Math.max(0,t))}function k8(t){return typeof t=="string"&&t.indexOf(".")!==-1&&parseFloat(t)===1}function P8(t){return typeof t=="string"&&t.indexOf("%")!==-1}function L2(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function id(t){return t<=1?Number(t)*100+"%":t}function Fs(t){return t.length===1?"0"+t:String(t)}function L8(t,e,n){return{r:er(t,255)*255,g:er(e,255)*255,b:er(n,255)*255}}function y1(t,e,n){t=er(t,255),e=er(e,255),n=er(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),o=0,s=0,a=(r+i)/2;if(r===i)s=0,o=0;else{var l=r-i;switch(s=a>.5?l/(2-r-i):l/(r+i),r){case t:o=(e-n)/l+(e<n?6:0);break;case e:o=(n-t)/l+2;break;case n:o=(t-e)/l+4;break}o/=6}return{h:o,s,l:a}}function Mp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*(6*n):n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function R8(t,e,n){var r,i,o;if(t=er(t,360),e=er(e,100),n=er(n,100),e===0)i=n,o=n,r=n;else{var s=n<.5?n*(1+e):n+e-n*e,a=2*n-s;r=Mp(a,s,t+1/3),i=Mp(a,s,t),o=Mp(a,s,t-1/3)}return{r:r*255,g:i*255,b:o*255}}function b1(t,e,n){t=er(t,255),e=er(e,255),n=er(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),o=0,s=r,a=r-i,l=r===0?0:a/r;if(r===i)o=0;else{switch(r){case t:o=(e-n)/a+(e<n?6:0);break;case e:o=(n-t)/a+2;break;case n:o=(t-e)/a+4;break}o/=6}return{h:o,s:l,v:s}}function I8(t,e,n){t=er(t,360)*6,e=er(e,100),n=er(n,100);var r=Math.floor(t),i=t-r,o=n*(1-e),s=n*(1-i*e),a=n*(1-(1-i)*e),l=r%6,u=[n,s,o,o,a,n][l],c=[a,n,n,s,o,o][l],d=[o,o,a,n,n,s][l];return{r:u*255,g:c*255,b:d*255}}function w1(t,e,n,r){var i=[Fs(Math.round(t).toString(16)),Fs(Math.round(e).toString(16)),Fs(Math.round(n).toString(16))];return r&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function D8(t,e,n,r,i){var o=[Fs(Math.round(t).toString(16)),Fs(Math.round(e).toString(16)),Fs(Math.round(n).toString(16)),Fs($8(r))];return i&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))&&o[3].startsWith(o[3].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function $8(t){return Math.round(parseFloat(t)*255).toString(16)}function _1(t){return Ar(t)/255}function Ar(t){return parseInt(t,16)}function N8(t){return{r:t>>16,g:(t&65280)>>8,b:t&255}}var fg={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function O8(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,o=null,s=!1,a=!1;return typeof t=="string"&&(t=z8(t)),typeof t=="object"&&(Ji(t.r)&&Ji(t.g)&&Ji(t.b)?(e=L8(t.r,t.g,t.b),s=!0,a=String(t.r).substr(-1)==="%"?"prgb":"rgb"):Ji(t.h)&&Ji(t.s)&&Ji(t.v)?(r=id(t.s),i=id(t.v),e=I8(t.h,r,i),s=!0,a="hsv"):Ji(t.h)&&Ji(t.s)&&Ji(t.l)&&(r=id(t.s),o=id(t.l),e=R8(t.h,r,o),s=!0,a="hsl"),Object.prototype.hasOwnProperty.call(t,"a")&&(n=t.a)),n=L2(n),{ok:s,format:t.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}var F8="[-\\+]?\\d+%?",B8="[-\\+]?\\d*\\.\\d+%?",Yo="(?:"+B8+")|(?:"+F8+")",xp="[\\s|\\(]+("+Yo+")[,|\\s]+("+Yo+")[,|\\s]+("+Yo+")\\s*\\)?",Ep="[\\s|\\(]+("+Yo+")[,|\\s]+("+Yo+")[,|\\s]+("+Yo+")[,|\\s]+("+Yo+")\\s*\\)?",gi={CSS_UNIT:new RegExp(Yo),rgb:new RegExp("rgb"+xp),rgba:new RegExp("rgba"+Ep),hsl:new RegExp("hsl"+xp),hsla:new RegExp("hsla"+Ep),hsv:new RegExp("hsv"+xp),hsva:new RegExp("hsva"+Ep),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function z8(t){if(t=t.trim().toLowerCase(),t.length===0)return!1;var e=!1;if(fg[t])t=fg[t],e=!0;else if(t==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n=gi.rgb.exec(t);return n?{r:n[1],g:n[2],b:n[3]}:(n=gi.rgba.exec(t),n?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=gi.hsl.exec(t),n?{h:n[1],s:n[2],l:n[3]}:(n=gi.hsla.exec(t),n?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=gi.hsv.exec(t),n?{h:n[1],s:n[2],v:n[3]}:(n=gi.hsva.exec(t),n?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=gi.hex8.exec(t),n?{r:Ar(n[1]),g:Ar(n[2]),b:Ar(n[3]),a:_1(n[4]),format:e?"name":"hex8"}:(n=gi.hex6.exec(t),n?{r:Ar(n[1]),g:Ar(n[2]),b:Ar(n[3]),format:e?"name":"hex"}:(n=gi.hex4.exec(t),n?{r:Ar(n[1]+n[1]),g:Ar(n[2]+n[2]),b:Ar(n[3]+n[3]),a:_1(n[4]+n[4]),format:e?"name":"hex8"}:(n=gi.hex3.exec(t),n?{r:Ar(n[1]+n[1]),g:Ar(n[2]+n[2]),b:Ar(n[3]+n[3]),format:e?"name":"hex"}:!1)))))))))}function Ji(t){return Boolean(gi.CSS_UNIT.exec(String(t)))}var R2=function(){function t(e,n){e===void 0&&(e=""),n===void 0&&(n={});var r;if(e instanceof t)return e;typeof e=="number"&&(e=N8(e)),this.originalInput=e;var i=O8(e);this.originalInput=e,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=(r=n.format)!==null&&r!==void 0?r:i.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}return t.prototype.isDark=function(){return this.getBrightness()<128},t.prototype.isLight=function(){return!this.isDark()},t.prototype.getBrightness=function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},t.prototype.getLuminance=function(){var e=this.toRgb(),n,r,i,o=e.r/255,s=e.g/255,a=e.b/255;return o<=.03928?n=o/12.92:n=Math.pow((o+.055)/1.055,2.4),s<=.03928?r=s/12.92:r=Math.pow((s+.055)/1.055,2.4),a<=.03928?i=a/12.92:i=Math.pow((a+.055)/1.055,2.4),.2126*n+.7152*r+.0722*i},t.prototype.getAlpha=function(){return this.a},t.prototype.setAlpha=function(e){return this.a=L2(e),this.roundA=Math.round(100*this.a)/100,this},t.prototype.toHsv=function(){var e=b1(this.r,this.g,this.b);return{h:e.h*360,s:e.s,v:e.v,a:this.a}},t.prototype.toHsvString=function(){var e=b1(this.r,this.g,this.b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this.a===1?"hsv("+n+", "+r+"%, "+i+"%)":"hsva("+n+", "+r+"%, "+i+"%, "+this.roundA+")"},t.prototype.toHsl=function(){var e=y1(this.r,this.g,this.b);return{h:e.h*360,s:e.s,l:e.l,a:this.a}},t.prototype.toHslString=function(){var e=y1(this.r,this.g,this.b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this.a===1?"hsl("+n+", "+r+"%, "+i+"%)":"hsla("+n+", "+r+"%, "+i+"%, "+this.roundA+")"},t.prototype.toHex=function(e){return e===void 0&&(e=!1),w1(this.r,this.g,this.b,e)},t.prototype.toHexString=function(e){return e===void 0&&(e=!1),"#"+this.toHex(e)},t.prototype.toHex8=function(e){return e===void 0&&(e=!1),D8(this.r,this.g,this.b,this.a,e)},t.prototype.toHex8String=function(e){return e===void 0&&(e=!1),"#"+this.toHex8(e)},t.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},t.prototype.toRgbString=function(){var e=Math.round(this.r),n=Math.round(this.g),r=Math.round(this.b);return this.a===1?"rgb("+e+", "+n+", "+r+")":"rgba("+e+", "+n+", "+r+", "+this.roundA+")"},t.prototype.toPercentageRgb=function(){var e=function(n){return Math.round(er(n,255)*100)+"%"};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},t.prototype.toPercentageRgbString=function(){var e=function(n){return Math.round(er(n,255)*100)};return this.a===1?"rgb("+e(this.r)+"%, "+e(this.g)+"%, "+e(this.b)+"%)":"rgba("+e(this.r)+"%, "+e(this.g)+"%, "+e(this.b)+"%, "+this.roundA+")"},t.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var e="#"+w1(this.r,this.g,this.b,!1),n=0,r=Object.entries(fg);n<r.length;n++){var i=r[n],o=i[0],s=i[1];if(e===s)return o}return!1},t.prototype.toString=function(e){var n=Boolean(e);e=e!=null?e:this.format;var r=!1,i=this.a<1&&this.a>=0,o=!n&&i&&(e.startsWith("hex")||e==="name");return o?e==="name"&&this.a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},t.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},t.prototype.clone=function(){return new t(this.toString())},t.prototype.lighten=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.l+=e/100,n.l=rd(n.l),new t(n)},t.prototype.brighten=function(e){e===void 0&&(e=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),new t(n)},t.prototype.darken=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.l-=e/100,n.l=rd(n.l),new t(n)},t.prototype.tint=function(e){return e===void 0&&(e=10),this.mix("white",e)},t.prototype.shade=function(e){return e===void 0&&(e=10),this.mix("black",e)},t.prototype.desaturate=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.s-=e/100,n.s=rd(n.s),new t(n)},t.prototype.saturate=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.s+=e/100,n.s=rd(n.s),new t(n)},t.prototype.greyscale=function(){return this.desaturate(100)},t.prototype.spin=function(e){var n=this.toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,new t(n)},t.prototype.mix=function(e,n){n===void 0&&(n=50);var r=this.toRgb(),i=new t(e).toRgb(),o=n/100,s={r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a};return new t(s)},t.prototype.analogous=function(e,n){e===void 0&&(e=6),n===void 0&&(n=30);var r=this.toHsl(),i=360/n,o=[this];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,o.push(new t(r));return o},t.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new t(e)},t.prototype.monochromatic=function(e){e===void 0&&(e=6);for(var n=this.toHsv(),r=n.h,i=n.s,o=n.v,s=[],a=1/e;e--;)s.push(new t({h:r,s:i,v:o})),o=(o+a)%1;return s},t.prototype.splitcomplement=function(){var e=this.toHsl(),n=e.h;return[this,new t({h:(n+72)%360,s:e.s,l:e.l}),new t({h:(n+216)%360,s:e.s,l:e.l})]},t.prototype.onBackground=function(e){var n=this.toRgb(),r=new t(e).toRgb();return new t({r:r.r+(n.r-r.r)*n.a,g:r.g+(n.g-r.g)*n.a,b:r.b+(n.b-r.b)*n.a})},t.prototype.triad=function(){return this.polyad(3)},t.prototype.tetrad=function(){return this.polyad(4)},t.prototype.polyad=function(e){for(var n=this.toHsl(),r=n.h,i=[this],o=360/e,s=1;s<e;s++)i.push(new t({h:(r+s*o)%360,s:n.s,l:n.l}));return i},t.prototype.equals=function(e){return this.toRgbString()===new t(e).toRgbString()},t}();const hg=["default","primary","success","warning","info","danger","text",""],V8=["button","submit","reset"],pg=Je({size:Ih,disabled:Boolean,type:{type:String,values:hg,default:""},icon:{type:tr,default:""},nativeType:{type:String,values:V8,default:"button"},loading:Boolean,loadingIcon:{type:tr,default:()=>us},plain:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,autoInsertSpace:{type:Boolean,default:void 0}}),H8={click:t=>t instanceof MouseEvent},U8=["disabled","autofocus","type"],W8={name:"ElButton"},G8=pe(Ue(Ee({},W8),{props:pg,emits:H8,setup(t,{expose:e,emit:n}){const r=t,i=Rc(),o=Ke(zM,void 0),s=Hl("button"),a=$e("button"),{form:l}=Wl(),u=Pn(k(()=>o==null?void 0:o.size)),c=Ul(),d=F(),f=k(()=>r.type||(o==null?void 0:o.type)||""),h=k(()=>{var v,y,w;return(w=(y=r.autoInsertSpace)!=null?y:(v=s.value)==null?void 0:v.autoInsertSpace)!=null?w:!1}),m=k(()=>{var v;const y=(v=i.default)==null?void 0:v.call(i);if(h.value&&(y==null?void 0:y.length)===1){const w=y[0];if((w==null?void 0:w.type)===Lc){const _=w.children;return/^\p{Unified_Ideograph}{2}$/u.test(_.trim())}}return!1}),g=k(()=>{let v={};const y=r.color;if(y){const w=new R2(y),_=w.shade(20).toString();if(r.plain)v={"--el-button-bg-color":w.tint(90).toString(),"--el-button-text-color":y,"--el-button-hover-text-color":"var(--el-color-white)","--el-button-hover-bg-color":y,"--el-button-hover-border-color":y,"--el-button-active-bg-color":_,"--el-button-active-text-color":"var(--el-color-white)","--el-button-active-border-color":_};else{const b=w.tint(30).toString();v={"--el-button-bg-color":y,"--el-button-border-color":y,"--el-button-hover-bg-color":b,"--el-button-hover-border-color":b,"--el-button-active-bg-color":_,"--el-button-active-border-color":_}}if(c.value){const b=w.tint(50).toString();v["--el-button-disabled-bg-color"]=b,v["--el-button-disabled-border-color"]=b}}return v}),p=v=>{r.nativeType==="reset"&&(l==null||l.resetFields()),n("click",v)};return e({ref:d,size:u,type:f,disabled:c,shouldAddSpace:m}),(v,y)=>(E(),V("button",{ref_key:"_ref",ref:d,class:$([C(a).b(),C(a).m(C(f)),C(a).m(C(u)),C(a).is("disabled",C(c)),C(a).is("loading",v.loading),C(a).is("plain",v.plain),C(a).is("round",v.round),C(a).is("circle",v.circle)]),disabled:C(c)||v.loading,autofocus:v.autofocus,type:v.nativeType,style:Ye(C(g)),onClick:p},[v.loading?(E(),V(Ze,{key:0},[v.$slots.loading?Ce(v.$slots,"loading",{key:0}):(E(),fe(C(st),{key:1,class:$(C(a).is("loading"))},{default:X(()=>[(E(),fe(Pt(v.loadingIcon)))]),_:1},8,["class"]))],2112)):v.icon||v.$slots.icon?(E(),fe(C(st),{key:1},{default:X(()=>[v.icon?(E(),fe(Pt(v.icon),{key:0})):Ce(v.$slots,"icon",{key:1})]),_:3})):ue("v-if",!0),v.$slots.default?(E(),V("span",{key:2,class:$({[C(a).em("text","expand")]:C(m)})},[Ce(v.$slots,"default")],2)):ue("v-if",!0)],14,U8))}}));var j8=De(G8,[["__file","/home/runner/work/element-plus/element-plus/packages/components/button/src/button.vue"]]);const K8={size:pg.size,type:pg.type},q8={name:"ElButtonGroup"},Y8=pe(Ue(Ee({},q8),{props:K8,setup(t){const e=t;Ct(zM,Ot({size:Nn(e,"size"),type:Nn(e,"type")}));const n=$e("button");return(r,i)=>(E(),V("div",{class:$(`${C(n).b("group")}`)},[Ce(r.$slots,"default")],2))}}));var I2=De(Y8,[["__file","/home/runner/work/element-plus/element-plus/packages/components/button/src/button-group.vue"]]);const Jr=_t(j8,{ButtonGroup:I2}),D2=pn(I2);var qi=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},$2={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(qi,function(){var n=1e3,r=6e4,i=36e5,o="millisecond",s="second",a="minute",l="hour",u="day",c="week",d="month",f="quarter",h="year",m="date",g="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},w=function(O,D,B){var L=String(O);return!L||L.length>=D?O:""+Array(D+1-L.length).join(B)+O},_={s:w,z:function(O){var D=-O.utcOffset(),B=Math.abs(D),L=Math.floor(B/60),A=B%60;return(D<=0?"+":"-")+w(L,2,"0")+":"+w(A,2,"0")},m:function O(D,B){if(D.date()<B.date())return-O(B,D);var L=12*(B.year()-D.year())+(B.month()-D.month()),A=D.clone().add(L,d),P=B-A<0,W=D.clone().add(L+(P?-1:1),d);return+(-(L+(B-A)/(P?A-W:W-A))||0)},a:function(O){return O<0?Math.ceil(O)||0:Math.floor(O)},p:function(O){return{M:d,y:h,w:c,d:u,D:m,h:l,m:a,s,ms:o,Q:f}[O]||String(O||"").toLowerCase().replace(/s$/,"")},u:function(O){return O===void 0}},b="en",S={};S[b]=y;var M=function(O){return O instanceof x},T=function O(D,B,L){var A;if(!D)return b;if(typeof D=="string"){var P=D.toLowerCase();S[P]&&(A=P),B&&(S[P]=B,A=P);var W=D.split("-");if(!A&&W.length>1)return O(W[0])}else{var K=D.name;S[K]=D,A=K}return!L&&A&&(b=A),A||!L&&b},N=function(O,D){if(M(O))return O.clone();var B=typeof D=="object"?D:{};return B.date=O,B.args=arguments,new x(B)},I=_;I.l=T,I.i=M,I.w=function(O,D){return N(O,{locale:D.$L,utc:D.$u,x:D.$x,$offset:D.$offset})};var x=function(){function O(B){this.$L=T(B.locale,null,!0),this.parse(B)}var D=O.prototype;return D.parse=function(B){this.$d=function(L){var A=L.date,P=L.utc;if(A===null)return new Date(NaN);if(I.u(A))return new Date;if(A instanceof Date)return new Date(A);if(typeof A=="string"&&!/Z$/i.test(A)){var W=A.match(p);if(W){var K=W[2]-1||0,te=(W[7]||"0").substring(0,3);return P?new Date(Date.UTC(W[1],K,W[3]||1,W[4]||0,W[5]||0,W[6]||0,te)):new Date(W[1],K,W[3]||1,W[4]||0,W[5]||0,W[6]||0,te)}}return new Date(A)}(B),this.$x=B.x||{},this.init()},D.init=function(){var B=this.$d;this.$y=B.getFullYear(),this.$M=B.getMonth(),this.$D=B.getDate(),this.$W=B.getDay(),this.$H=B.getHours(),this.$m=B.getMinutes(),this.$s=B.getSeconds(),this.$ms=B.getMilliseconds()},D.$utils=function(){return I},D.isValid=function(){return this.$d.toString()!==g},D.isSame=function(B,L){var A=N(B);return this.startOf(L)<=A&&A<=this.endOf(L)},D.isAfter=function(B,L){return N(B)<this.startOf(L)},D.isBefore=function(B,L){return this.endOf(L)<N(B)},D.$g=function(B,L,A){return I.u(B)?this[L]:this.set(A,B)},D.unix=function(){return Math.floor(this.valueOf()/1e3)},D.valueOf=function(){return this.$d.getTime()},D.startOf=function(B,L){var A=this,P=!!I.u(L)||L,W=I.p(B),K=function(he,we){var ye=I.w(A.$u?Date.UTC(A.$y,we,he):new Date(A.$y,we,he),A);return P?ye:ye.endOf(u)},te=function(he,we){return I.w(A.toDate()[he].apply(A.toDate("s"),(P?[0,0,0,0]:[23,59,59,999]).slice(we)),A)},J=this.$W,se=this.$M,Te=this.$D,Le="set"+(this.$u?"UTC":"");switch(W){case h:return P?K(1,0):K(31,11);case d:return P?K(1,se):K(0,se+1);case c:var q=this.$locale().weekStart||0,re=(J<q?J+7:J)-q;return K(P?Te-re:Te+(6-re),se);case u:case m:return te(Le+"Hours",0);case l:return te(Le+"Minutes",1);case a:return te(Le+"Seconds",2);case s:return te(Le+"Milliseconds",3);default:return this.clone()}},D.endOf=function(B){return this.startOf(B,!1)},D.$set=function(B,L){var A,P=I.p(B),W="set"+(this.$u?"UTC":""),K=(A={},A[u]=W+"Date",A[m]=W+"Date",A[d]=W+"Month",A[h]=W+"FullYear",A[l]=W+"Hours",A[a]=W+"Minutes",A[s]=W+"Seconds",A[o]=W+"Milliseconds",A)[P],te=P===u?this.$D+(L-this.$W):L;if(P===d||P===h){var J=this.clone().set(m,1);J.$d[K](te),J.init(),this.$d=J.set(m,Math.min(this.$D,J.daysInMonth())).$d}else K&&this.$d[K](te);return this.init(),this},D.set=function(B,L){return this.clone().$set(B,L)},D.get=function(B){return this[I.p(B)]()},D.add=function(B,L){var A,P=this;B=Number(B);var W=I.p(L),K=function(se){var Te=N(P);return I.w(Te.date(Te.date()+Math.round(se*B)),P)};if(W===d)return this.set(d,this.$M+B);if(W===h)return this.set(h,this.$y+B);if(W===u)return K(1);if(W===c)return K(7);var te=(A={},A[a]=r,A[l]=i,A[s]=n,A)[W]||1,J=this.$d.getTime()+B*te;return I.w(J,this)},D.subtract=function(B,L){return this.add(-1*B,L)},D.format=function(B){var L=this,A=this.$locale();if(!this.isValid())return A.invalidDate||g;var P=B||"YYYY-MM-DDTHH:mm:ssZ",W=I.z(this),K=this.$H,te=this.$m,J=this.$M,se=A.weekdays,Te=A.months,Le=function(we,ye,ze,be){return we&&(we[ye]||we(L,P))||ze[ye].substr(0,be)},q=function(we){return I.s(K%12||12,we,"0")},re=A.meridiem||function(we,ye,ze){var be=we<12?"AM":"PM";return ze?be.toLowerCase():be},he={YY:String(this.$y).slice(-2),YYYY:this.$y,M:J+1,MM:I.s(J+1,2,"0"),MMM:Le(A.monthsShort,J,Te,3),MMMM:Le(Te,J),D:this.$D,DD:I.s(this.$D,2,"0"),d:String(this.$W),dd:Le(A.weekdaysMin,this.$W,se,2),ddd:Le(A.weekdaysShort,this.$W,se,3),dddd:se[this.$W],H:String(K),HH:I.s(K,2,"0"),h:q(1),hh:q(2),a:re(K,te,!0),A:re(K,te,!1),m:String(te),mm:I.s(te,2,"0"),s:String(this.$s),ss:I.s(this.$s,2,"0"),SSS:I.s(this.$ms,3,"0"),Z:W};return P.replace(v,function(we,ye){return ye||he[we]||W.replace(":","")})},D.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},D.diff=function(B,L,A){var P,W=I.p(L),K=N(B),te=(K.utcOffset()-this.utcOffset())*r,J=this-K,se=I.m(this,K);return se=(P={},P[h]=se/12,P[d]=se,P[f]=se/3,P[c]=(J-te)/6048e5,P[u]=(J-te)/864e5,P[l]=J/i,P[a]=J/r,P[s]=J/n,P)[W]||J,A?se:I.a(se)},D.daysInMonth=function(){return this.endOf(d).$D},D.$locale=function(){return S[this.$L]},D.locale=function(B,L){if(!B)return this.$L;var A=this.clone(),P=T(B,L,!0);return P&&(A.$L=P),A},D.clone=function(){return I.w(this.$d,this)},D.toDate=function(){return new Date(this.valueOf())},D.toJSON=function(){return this.isValid()?this.toISOString():null},D.toISOString=function(){return this.$d.toISOString()},D.toString=function(){return this.$d.toUTCString()},O}(),R=x.prototype;return N.prototype=R,[["$ms",o],["$s",s],["$m",a],["$H",l],["$W",u],["$M",d],["$y",h],["$D",m]].forEach(function(O){R[O[1]]=function(D){return this.$g(D,O[0],O[1])}}),N.extend=function(O,D){return O.$i||(O(D,x,N),O.$i=!0),N},N.locale=T,N.isDayjs=M,N.unix=function(O){return N(1e3*O)},N.en=S[b],N.Ls=S,N.p={},N})})($2);var dt=$2.exports,N2={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(qi,function(){return function(n,r,i){var o=r.prototype,s=function(d){return d&&(d.indexOf?d:d.s)},a=function(d,f,h,m,g){var p=d.name?d:d.$locale(),v=s(p[f]),y=s(p[h]),w=v||y.map(function(b){return b.substr(0,m)});if(!g)return w;var _=p.weekStart;return w.map(function(b,S){return w[(S+(_||0))%7]})},l=function(){return i.Ls[i.locale()]},u=function(d,f){return d.formats[f]||function(h){return h.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(m,g,p){return g||p.slice(1)})}(d.formats[f.toUpperCase()])},c=function(){var d=this;return{months:function(f){return f?f.format("MMMM"):a(d,"months")},monthsShort:function(f){return f?f.format("MMM"):a(d,"monthsShort","months",3)},firstDayOfWeek:function(){return d.$locale().weekStart||0},weekdays:function(f){return f?f.format("dddd"):a(d,"weekdays")},weekdaysMin:function(f){return f?f.format("dd"):a(d,"weekdaysMin","weekdays",2)},weekdaysShort:function(f){return f?f.format("ddd"):a(d,"weekdaysShort","weekdays",3)},longDateFormat:function(f){return u(d.$locale(),f)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};o.localeData=function(){return c.bind(this)()},i.localeData=function(){var d=l();return{firstDayOfWeek:function(){return d.weekStart||0},weekdays:function(){return i.weekdays()},weekdaysShort:function(){return i.weekdaysShort()},weekdaysMin:function(){return i.weekdaysMin()},months:function(){return i.months()},monthsShort:function(){return i.monthsShort()},longDateFormat:function(f){return u(d,f)},meridiem:d.meridiem,ordinal:d.ordinal}},i.months=function(){return a(l(),"months")},i.monthsShort=function(){return a(l(),"monthsShort","months",3)},i.weekdays=function(d){return a(l(),"weekdays",null,null,d)},i.weekdaysShort=function(d){return a(l(),"weekdaysShort","weekdays",3,d)},i.weekdaysMin=function(d){return a(l(),"weekdaysMin","weekdays",2,d)}}})})(N2);var O2=N2.exports,F2={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(qi,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},r=/(\[[^[]*\])|([-:/.()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,i=/\d\d/,o=/\d\d?/,s=/\d*[^\s\d-_:/()]+/,a={},l=function(g){return(g=+g)+(g>68?1900:2e3)},u=function(g){return function(p){this[g]=+p}},c=[/[+-]\d\d:?(\d\d)?|Z/,function(g){(this.zone||(this.zone={})).offset=function(p){if(!p||p==="Z")return 0;var v=p.match(/([+-]|\d\d)/g),y=60*v[1]+(+v[2]||0);return y===0?0:v[0]==="+"?-y:y}(g)}],d=function(g){var p=a[g];return p&&(p.indexOf?p:p.s.concat(p.f))},f=function(g,p){var v,y=a.meridiem;if(y){for(var w=1;w<=24;w+=1)if(g.indexOf(y(w,0,p))>-1){v=w>12;break}}else v=g===(p?"pm":"PM");return v},h={A:[s,function(g){this.afternoon=f(g,!1)}],a:[s,function(g){this.afternoon=f(g,!0)}],S:[/\d/,function(g){this.milliseconds=100*+g}],SS:[i,function(g){this.milliseconds=10*+g}],SSS:[/\d{3}/,function(g){this.milliseconds=+g}],s:[o,u("seconds")],ss:[o,u("seconds")],m:[o,u("minutes")],mm:[o,u("minutes")],H:[o,u("hours")],h:[o,u("hours")],HH:[o,u("hours")],hh:[o,u("hours")],D:[o,u("day")],DD:[i,u("day")],Do:[s,function(g){var p=a.ordinal,v=g.match(/\d+/);if(this.day=v[0],p)for(var y=1;y<=31;y+=1)p(y).replace(/\[|\]/g,"")===g&&(this.day=y)}],M:[o,u("month")],MM:[i,u("month")],MMM:[s,function(g){var p=d("months"),v=(d("monthsShort")||p.map(function(y){return y.substr(0,3)})).indexOf(g)+1;if(v<1)throw new Error;this.month=v%12||v}],MMMM:[s,function(g){var p=d("months").indexOf(g)+1;if(p<1)throw new Error;this.month=p%12||p}],Y:[/[+-]?\d+/,u("year")],YY:[i,function(g){this.year=l(g)}],YYYY:[/\d{4}/,u("year")],Z:c,ZZ:c};function m(g){var p,v;p=g,v=a&&a.formats;for(var y=(g=p.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(N,I,x){var R=x&&x.toUpperCase();return I||v[x]||n[x]||v[R].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(O,D,B){return D||B.slice(1)})})).match(r),w=y.length,_=0;_<w;_+=1){var b=y[_],S=h[b],M=S&&S[0],T=S&&S[1];y[_]=T?{regex:M,parser:T}:b.replace(/^\[|\]$/g,"")}return function(N){for(var I={},x=0,R=0;x<w;x+=1){var O=y[x];if(typeof O=="string")R+=O.length;else{var D=O.regex,B=O.parser,L=N.substr(R),A=D.exec(L)[0];B.call(I,A),N=N.replace(A,"")}}return function(P){var W=P.afternoon;if(W!==void 0){var K=P.hours;W?K<12&&(P.hours+=12):K===12&&(P.hours=0),delete P.afternoon}}(I),I}}return function(g,p,v){v.p.customParseFormat=!0,g&&g.parseTwoDigitYear&&(l=g.parseTwoDigitYear);var y=p.prototype,w=y.parse;y.parse=function(_){var b=_.date,S=_.utc,M=_.args;this.$u=S;var T=M[1];if(typeof T=="string"){var N=M[2]===!0,I=M[3]===!0,x=N||I,R=M[2];I&&(R=M[2]),a=this.$locale(),!N&&R&&(a=v.Ls[R]),this.$d=function(L,A,P){try{if(["x","X"].indexOf(A)>-1)return new Date((A==="X"?1e3:1)*L);var W=m(A)(L),K=W.year,te=W.month,J=W.day,se=W.hours,Te=W.minutes,Le=W.seconds,q=W.milliseconds,re=W.zone,he=new Date,we=J||(K||te?1:he.getDate()),ye=K||he.getFullYear(),ze=0;K&&!te||(ze=te>0?te-1:he.getMonth());var be=se||0,U=Te||0,Q=Le||0,de=q||0;return re?new Date(Date.UTC(ye,ze,we,be,U,Q,de+60*re.offset*1e3)):P?new Date(Date.UTC(ye,ze,we,be,U,Q,de)):new Date(ye,ze,we,be,U,Q,de)}catch{return new Date("")}}(b,T,S),this.init(),R&&R!==!0&&(this.$L=this.locale(R).$L),x&&b!=this.format(T)&&(this.$d=new Date("")),a={}}else if(T instanceof Array)for(var O=T.length,D=1;D<=O;D+=1){M[1]=T[D-1];var B=v.apply(this,M);if(B.isValid()){this.$d=B.$d,this.$L=B.$L,this.init();break}D===O&&(this.$d=new Date(""))}else w.call(this,_)}}})})(F2);var v0=F2.exports;const mg="HH:mm:ss",Mu="YYYY-MM-DD",X8={date:Mu,week:"gggg[w]ww",year:"YYYY",month:"YYYY-MM",datetime:`${Mu} ${mg}`,monthrange:"YYYY-MM",daterange:Mu,datetimerange:`${Mu} ${mg}`},y0={id:{type:[Array,String]},name:{type:[Array,String],default:""},popperClass:{type:String,default:""},format:{type:String},valueFormat:{type:String},type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:[String,Object],default:bo},editable:{type:Boolean,default:!0},prefixIcon:{type:[String,Object],default:""},size:{type:String,validator:Hr},readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:""},popperOptions:{type:Object,default:()=>({})},modelValue:{type:[Date,Array,String,Number],default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:[Date,Array]},defaultTime:{type:[Date,Array]},isRange:{type:Boolean,default:!1},disabledHours:{type:Function},disabledMinutes:{type:Function},disabledSeconds:{type:Function},disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:{type:Boolean,default:!1},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean},S1=function(t,e){const n=t instanceof Date,r=e instanceof Date;return n&&r?t.getTime()===e.getTime():!n&&!r?t===e:!1},C1=function(t,e){const n=Array.isArray(t),r=Array.isArray(e);return n&&r?t.length!==e.length?!1:t.every((i,o)=>S1(i,e[o])):!n&&!r?S1(t,e):!1},M1=function(t,e,n){const r=lc(e)||e==="x"?dt(t).locale(n):dt(t,e).locale(n);return r.isValid()?r:void 0},x1=function(t,e,n){return lc(e)?t:e==="x"?+t:dt(t).locale(n).format(e)},Z8=pe({name:"Picker",components:{ElInput:ai,ElTooltip:Cr,ElIcon:st},props:y0,emits:["update:modelValue","change","focus","blur","calendar-change","panel-change","visible-change"],setup(t,e){const{lang:n}=Gt(),r=$e("date"),i=$e("input"),o=$e("range"),s=Ke(Wr,{}),a=Ke(ni,{}),l=Ke("ElPopperOptions",{}),u=F(),c=F(),d=F(!1),f=F(!1),h=F(null);Me(d,j=>{var ce;j?h.value=t.modelValue:(he.value=null,et(()=>{m(t.modelValue)}),e.emit("blur"),ye(),t.validateEvent&&((ce=a.validate)==null||ce.call(a,"blur").catch(ke=>void 0)))});const m=(j,ce)=>{var ke;(ce||!C1(j,h.value))&&(e.emit("change",j),t.validateEvent&&((ke=a.validate)==null||ke.call(a,"change").catch(Ve=>void 0)))},g=j=>{if(!C1(t.modelValue,j)){let ce;Array.isArray(j)?ce=j.map(ke=>x1(ke,t.valueFormat,n.value)):j&&(ce=x1(j,t.valueFormat,n.value)),e.emit("update:modelValue",j&&ce,n.value)}},p=k(()=>{if(c.value){const j=se.value?c.value:c.value.$el;return Array.from(j.querySelectorAll("input"))}return[]}),v=k(()=>p==null?void 0:p.value[0]),y=k(()=>p==null?void 0:p.value[1]),w=(j,ce,ke)=>{const Ve=p.value;!Ve.length||(!ke||ke==="min"?(Ve[0].setSelectionRange(j,ce),Ve[0].focus()):ke==="max"&&(Ve[1].setSelectionRange(j,ce),Ve[1].focus()))},_=(j="",ce=!1)=>{d.value=ce;let ke;Array.isArray(j)?ke=j.map(Ve=>Ve.toDate()):ke=j&&j.toDate(),he.value=null,g(ke)},b=()=>{f.value=!0},S=()=>{e.emit("visible-change",!0)},M=()=>{f.value=!1,e.emit("visible-change",!1)},T=(j=!0)=>{let ce=v.value;!j&&se.value&&(ce=y.value),ce&&ce.focus()},N=j=>{t.readonly||x.value||d.value||(d.value=!0,e.emit("focus",j))},I=()=>{var j;(j=u.value)==null||j.onClose(),ye()},x=k(()=>t.disabled||s.disabled),R=k(()=>{let j;if(K.value?le.value.getDefaultValue&&(j=le.value.getDefaultValue()):Array.isArray(t.modelValue)?j=t.modelValue.map(ce=>M1(ce,t.valueFormat,n.value)):j=M1(t.modelValue,t.valueFormat,n.value),le.value.getRangeAvailableTime){const ce=le.value.getRangeAvailableTime(j);Fr(ce,j)||(j=ce,g(Array.isArray(j)?j.map(ke=>ke.toDate()):j.toDate()))}return Array.isArray(j)&&j.some(ce=>!ce)&&(j=[]),j}),O=k(()=>{if(!le.value.panelReady)return;const j=be(R.value);if(Array.isArray(he.value))return[he.value[0]||j&&j[0]||"",he.value[1]||j&&j[1]||""];if(he.value!==null)return he.value;if(!(!B.value&&K.value)&&!(!d.value&&K.value))return j?L.value?j.join(", "):j:""}),D=k(()=>t.type.includes("time")),B=k(()=>t.type.startsWith("time")),L=k(()=>t.type==="dates"),A=k(()=>t.prefixIcon||(D.value?kM:BN)),P=F(!1),W=j=>{t.readonly||x.value||P.value&&(j.stopPropagation(),g(null),m(null,!0),P.value=!1,d.value=!1,le.value.handleClear&&le.value.handleClear())},K=k(()=>!t.modelValue||Array.isArray(t.modelValue)&&!t.modelValue.length),te=()=>{t.readonly||x.value||!K.value&&t.clearable&&(P.value=!0)},J=()=>{P.value=!1},se=k(()=>t.type.includes("range")),Te=Pn(),Le=k(()=>{var j,ce;return(ce=(j=u.value)==null?void 0:j.popperRef)==null?void 0:ce.contentRef}),q=k(()=>{var j,ce;return(ce=(j=C(u))==null?void 0:j.popperRef)==null?void 0:ce.contentRef}),re=k(()=>{var j;return C(se)?C(c):(j=C(c))==null?void 0:j.$el});Wf(re,j=>{const ce=C(q),ke=C(re);ce&&(j.target===ce||j.composedPath().includes(ce))||j.target===ke||j.composedPath().includes(ke)||(d.value=!1)});const he=F(null),we=()=>{if(he.value){const j=ze(O.value);j&&U(j)&&(g(Array.isArray(j)?j.map(ce=>ce.toDate()):j.toDate()),he.value=null)}he.value===""&&(g(null),m(null),he.value=null)},ye=()=>{p.value.forEach(j=>j.blur())},ze=j=>j?le.value.parseUserInput(j):null,be=j=>j?le.value.formatToString(j):null,U=j=>le.value.isValidValue(j),Q=j=>{const ce=j.code;if(ce===qe.esc){d.value=!1,j.stopPropagation();return}if(ce===qe.tab){se.value?setTimeout(()=>{p.value.includes(document.activeElement)||(d.value=!1,ye())},0):(we(),d.value=!1,j.stopPropagation());return}if(ce===qe.enter||ce===qe.numpadEnter){(he.value===null||he.value===""||U(ze(O.value)))&&(we(),d.value=!1),j.stopPropagation();return}if(he.value){j.stopPropagation();return}le.value.handleKeydown&&le.value.handleKeydown(j)},de=j=>{he.value=j},me=j=>{he.value?he.value=[j.target.value,he.value[1]]:he.value=[j.target.value,null]},Se=j=>{he.value?he.value=[he.value[0],j.target.value]:he.value=[null,j.target.value]},Ae=()=>{const j=ze(he.value&&he.value[0]);if(j&&j.isValid()){he.value=[be(j),O.value[1]];const ce=[j,R.value&&R.value[1]];U(ce)&&(g(ce),he.value=null)}},ee=()=>{const j=ze(he.value&&he.value[1]);if(j&&j.isValid()){he.value=[O.value[0],be(j)];const ce=[R.value&&R.value[0],j];U(ce)&&(g(ce),he.value=null)}},le=F({}),ae=j=>{le.value[j[0]]=j[1],le.value.panelReady=!0},z=j=>{e.emit("calendar-change",j)},H=(j,ce,ke)=>{e.emit("panel-change",j,ce,ke)};return Ct("EP_PICKER_BASE",{props:t}),{nsDate:r,nsInput:i,nsRange:o,elPopperOptions:l,isDatesPicker:L,handleEndChange:ee,handleStartChange:Ae,handleStartInput:me,handleEndInput:Se,onUserInput:de,handleChange:we,handleKeydown:Q,popperPaneRef:Le,onClickOutside:Wf,pickerSize:Te,isRangeInput:se,onMouseLeave:J,onMouseEnter:te,onClearIconClick:W,showClose:P,triggerIcon:A,onPick:_,handleFocus:N,handleBlur:I,pickerVisible:d,pickerActualVisible:f,displayValue:O,parsedValue:R,setSelectionRange:w,refPopper:u,inputRef:c,pickerDisabled:x,onSetPickerOption:ae,onCalendarChange:z,onPanelChange:H,focus:T,onShow:S,onBeforeShow:b,onHide:M}}}),J8=["id","name","placeholder","value","disabled","readonly"],Q8=["id","name","placeholder","value","disabled","readonly"];function eV(t,e,n,r,i,o){const s=ve("el-icon"),a=ve("el-input"),l=ve("el-tooltip");return E(),fe(l,Qt({ref:"refPopper",visible:t.pickerVisible,"onUpdate:visible":e[17]||(e[17]=u=>t.pickerVisible=u),effect:"light",pure:"",trigger:"click"},t.$attrs,{"append-to-body":"",transition:`${t.nsDate.namespace.value}-zoom-in-top`,"popper-class":[`${t.nsDate.namespace.value}-picker__popper`,t.popperClass],"popper-options":t.elPopperOptions,"fallback-placements":["bottom","top","right","left"],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"hide-after":0,persistent:"",onBeforeShow:t.onBeforeShow,onShow:t.onShow,onHide:t.onHide}),{default:X(()=>[t.isRangeInput?(E(),V("div",{key:1,ref:"inputRef",class:$([t.nsDate.b("editor"),t.nsDate.bm("editor",t.type),t.nsInput.e("inner"),t.nsDate.is("disabled",t.pickerDisabled),t.nsDate.is("active",t.pickerVisible),t.nsRange.b("editor"),t.pickerSize?t.nsRange.bm("editor",t.pickerSize):"",t.$attrs.class]),style:Ye(t.$attrs.style),onClick:e[7]||(e[7]=(...u)=>t.handleFocus&&t.handleFocus(...u)),onMouseenter:e[8]||(e[8]=(...u)=>t.onMouseEnter&&t.onMouseEnter(...u)),onMouseleave:e[9]||(e[9]=(...u)=>t.onMouseLeave&&t.onMouseLeave(...u)),onKeydown:e[10]||(e[10]=(...u)=>t.handleKeydown&&t.handleKeydown(...u))},[t.triggerIcon?(E(),fe(s,{key:0,class:$([t.nsInput.e("icon"),t.nsRange.e("icon")]),onClick:t.handleFocus},{default:X(()=>[(E(),fe(Pt(t.triggerIcon)))]),_:1},8,["class","onClick"])):ue("v-if",!0),G("input",{id:t.id&&t.id[0],autocomplete:"off",name:t.name&&t.name[0],placeholder:t.startPlaceholder,value:t.displayValue&&t.displayValue[0],disabled:t.pickerDisabled,readonly:!t.editable||t.readonly,class:$(t.nsRange.b("input")),onInput:e[1]||(e[1]=(...u)=>t.handleStartInput&&t.handleStartInput(...u)),onChange:e[2]||(e[2]=(...u)=>t.handleStartChange&&t.handleStartChange(...u)),onFocus:e[3]||(e[3]=(...u)=>t.handleFocus&&t.handleFocus(...u))},null,42,J8),Ce(t.$slots,"range-separator",{},()=>[G("span",{class:$(t.nsRange.b("separator"))},Pe(t.rangeSeparator),3)]),G("input",{id:t.id&&t.id[1],autocomplete:"off",name:t.name&&t.name[1],placeholder:t.endPlaceholder,value:t.displayValue&&t.displayValue[1],disabled:t.pickerDisabled,readonly:!t.editable||t.readonly,class:$(t.nsRange.b("input")),onFocus:e[4]||(e[4]=(...u)=>t.handleFocus&&t.handleFocus(...u)),onInput:e[5]||(e[5]=(...u)=>t.handleEndInput&&t.handleEndInput(...u)),onChange:e[6]||(e[6]=(...u)=>t.handleEndChange&&t.handleEndChange(...u))},null,42,Q8),t.clearIcon?(E(),fe(s,{key:1,class:$([t.nsInput.e("icon"),t.nsRange.e("close-icon"),{[t.nsRange.e("close-icon--hidden")]:!t.showClose}]),onClick:t.onClearIconClick},{default:X(()=>[(E(),fe(Pt(t.clearIcon)))]),_:1},8,["class","onClick"])):ue("v-if",!0)],38)):(E(),fe(a,{key:0,id:t.id,ref:"inputRef","model-value":t.displayValue,name:t.name,size:t.pickerSize,disabled:t.pickerDisabled,placeholder:t.placeholder,class:$([t.nsDate.b("editor"),t.nsDate.bm("editor",t.type),t.$attrs.class]),style:Ye(t.$attrs.style),readonly:!t.editable||t.readonly||t.isDatesPicker||t.type==="week",onInput:t.onUserInput,onFocus:t.handleFocus,onKeydown:t.handleKeydown,onChange:t.handleChange,onMouseenter:t.onMouseEnter,onMouseleave:t.onMouseLeave,onClick:e[0]||(e[0]=ot(()=>{},["stop"]))},{prefix:X(()=>[t.triggerIcon?(E(),fe(s,{key:0,class:$(t.nsInput.e("icon")),onClick:t.handleFocus},{default:X(()=>[(E(),fe(Pt(t.triggerIcon)))]),_:1},8,["class","onClick"])):ue("v-if",!0)]),suffix:X(()=>[t.showClose&&t.clearIcon?(E(),fe(s,{key:0,class:$(`${t.nsInput.e("icon")} clear-icon`),onClick:t.onClearIconClick},{default:X(()=>[(E(),fe(Pt(t.clearIcon)))]),_:1},8,["class","onClick"])):ue("v-if",!0)]),_:1},8,["id","model-value","name","size","disabled","placeholder","class","style","readonly","onInput","onFocus","onKeydown","onChange","onMouseenter","onMouseleave"]))]),content:X(()=>[Ce(t.$slots,"default",{visible:t.pickerVisible,actualVisible:t.pickerActualVisible,parsedValue:t.parsedValue,format:t.format,unlinkPanels:t.unlinkPanels,type:t.type,defaultValue:t.defaultValue,onPick:e[11]||(e[11]=(...u)=>t.onPick&&t.onPick(...u)),onSelectRange:e[12]||(e[12]=(...u)=>t.setSelectionRange&&t.setSelectionRange(...u)),onSetPickerOption:e[13]||(e[13]=(...u)=>t.onSetPickerOption&&t.onSetPickerOption(...u)),onCalendarChange:e[14]||(e[14]=(...u)=>t.onCalendarChange&&t.onCalendarChange(...u)),onPanelChange:e[15]||(e[15]=(...u)=>t.onPanelChange&&t.onPanelChange(...u)),onMousedown:e[16]||(e[16]=ot(()=>{},["stop"]))})]),_:3},16,["visible","transition","popper-class","popper-options","onBeforeShow","onShow","onHide"])}var B2=De(Z8,[["render",eV],["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/common/picker.vue"]]);const Wo=new Map;let E1;Tt&&(document.addEventListener("mousedown",t=>E1=t),document.addEventListener("mouseup",t=>{for(const e of Wo.values())for(const{documentHandler:n}of e)n(t,E1)}));function T1(t,e){let n=[];return Array.isArray(e.arg)?n=e.arg:ia(e.arg)&&n.push(e.arg),function(r,i){const o=e.instance.popperRef,s=r.target,a=i==null?void 0:i.target,l=!e||!e.instance,u=!s||!a,c=t.contains(s)||t.contains(a),d=t===s,f=n.length&&n.some(m=>m==null?void 0:m.contains(s))||n.length&&n.includes(a),h=o&&(o.contains(s)||o.contains(a));l||u||c||d||f||h||e.value(r,i)}}const ma={beforeMount(t,e){Wo.has(t)||Wo.set(t,[]),Wo.get(t).push({documentHandler:T1(t,e),bindingFn:e.value})},updated(t,e){Wo.has(t)||Wo.set(t,[]);const n=Wo.get(t),r=n.findIndex(o=>o.bindingFn===e.oldValue),i={documentHandler:T1(t,e),bindingFn:e.value};r>=0?n.splice(r,1,i):n.push(i)},unmounted(t){Wo.delete(t)}};var z2={beforeMount(t,e){let n=null,r;const i=()=>e.value&&e.value(),o=()=>{Date.now()-r<100&&i(),clearInterval(n),n=null};sn(t,"mousedown",s=>{s.button===0&&(r=Date.now(),R$(document,"mouseup",o),clearInterval(n),n=setInterval(i,100))})}};const gg="_trap-focus-children",Bs=[],A1=t=>{if(Bs.length===0)return;const e=Bs[Bs.length-1][gg];if(e.length>0&&t.code===qe.tab){if(e.length===1){t.preventDefault(),document.activeElement!==e[0]&&e[0].focus();return}const n=t.shiftKey,r=t.target===e[0],i=t.target===e[e.length-1];r&&n&&(t.preventDefault(),e[e.length-1].focus()),i&&!n&&(t.preventDefault(),e[0].focus())}},V2={beforeMount(t){t[gg]=Ob(t),Bs.push(t),Bs.length<=1&&sn(document,"keydown",A1)},updated(t){et(()=>{t[gg]=Ob(t)})},unmounted(){Bs.shift(),Bs.length===0&&wn(document,"keydown",A1)}};var k1=!1,Is,vg,yg,rf,of,H2,sf,bg,wg,_g,U2,Sg,Cg,W2,G2;function hr(){if(!k1){k1=!0;var t=navigator.userAgent,e=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(t),n=/(Mac OS X)|(Windows)|(Linux)/.exec(t);if(Sg=/\b(iPhone|iP[ao]d)/.exec(t),Cg=/\b(iP[ao]d)/.exec(t),_g=/Android/i.exec(t),W2=/FBAN\/\w+;/i.exec(t),G2=/Mobile/i.exec(t),U2=!!/Win64/.exec(t),e){Is=e[1]?parseFloat(e[1]):e[5]?parseFloat(e[5]):NaN,Is&&document&&document.documentMode&&(Is=document.documentMode);var r=/(?:Trident\/(\d+.\d+))/.exec(t);H2=r?parseFloat(r[1])+4:Is,vg=e[2]?parseFloat(e[2]):NaN,yg=e[3]?parseFloat(e[3]):NaN,rf=e[4]?parseFloat(e[4]):NaN,rf?(e=/(?:Chrome\/(\d+\.\d+))/.exec(t),of=e&&e[1]?parseFloat(e[1]):NaN):of=NaN}else Is=vg=yg=of=rf=NaN;if(n){if(n[1]){var i=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(t);sf=i?parseFloat(i[1].replace("_",".")):!0}else sf=!1;bg=!!n[2],wg=!!n[3]}else sf=bg=wg=!1}}var Mg={ie:function(){return hr()||Is},ieCompatibilityMode:function(){return hr()||H2>Is},ie64:function(){return Mg.ie()&&U2},firefox:function(){return hr()||vg},opera:function(){return hr()||yg},webkit:function(){return hr()||rf},safari:function(){return Mg.webkit()},chrome:function(){return hr()||of},windows:function(){return hr()||bg},osx:function(){return hr()||sf},linux:function(){return hr()||wg},iphone:function(){return hr()||Sg},mobile:function(){return hr()||Sg||Cg||_g||G2},nativeApp:function(){return hr()||W2},android:function(){return hr()||_g},ipad:function(){return hr()||Cg}},tV=Mg,od=!!(typeof window<"u"&&window.document&&window.document.createElement),nV={canUseDOM:od,canUseWorkers:typeof Worker<"u",canUseEventListeners:od&&!!(window.addEventListener||window.attachEvent),canUseViewport:od&&!!window.screen,isInWorker:!od},j2=nV,K2;j2.canUseDOM&&(K2=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);function rV(t,e){if(!j2.canUseDOM||e&&!("addEventListener"in document))return!1;var n="on"+t,r=n in document;if(!r){var i=document.createElement("div");i.setAttribute(n,"return;"),r=typeof i[n]=="function"}return!r&&K2&&t==="wheel"&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var iV=rV,P1=10,L1=40,R1=800;function q2(t){var e=0,n=0,r=0,i=0;return"detail"in t&&(n=t.detail),"wheelDelta"in t&&(n=-t.wheelDelta/120),"wheelDeltaY"in t&&(n=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(e=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=n,n=0),r=e*P1,i=n*P1,"deltaY"in t&&(i=t.deltaY),"deltaX"in t&&(r=t.deltaX),(r||i)&&t.deltaMode&&(t.deltaMode==1?(r*=L1,i*=L1):(r*=R1,i*=R1)),r&&!e&&(e=r<1?-1:1),i&&!n&&(n=i<1?-1:1),{spinX:e,spinY:n,pixelX:r,pixelY:i}}q2.getEventType=function(){return tV.firefox()?"DOMMouseScroll":iV("wheel")?"wheel":"mousewheel"};var oV=q2;/**
* Checks if an event is supported in the current execution environment.
*
* NOTE: This will not work correctly for non-generic events such as `change`,
* `reset`, `load`, `error`, and `select`.
*
* Borrows from Modernizr.
*
* @param {string} eventNameSuffix Event name, e.g. "click".
* @param {?boolean} capture Check if the capture phase is supported.
* @return {boolean} True if the event is supported.
* @internal
* @license Modernizr 3.0.0pre (Custom Build) | MIT
*/const sV=function(t,e){if(t&&t.addEventListener){const n=function(r){const i=oV(r);e&&Reflect.apply(e,this,[r,i])};t0()?t.addEventListener("DOMMouseScroll",n):t.onmousewheel=n}},aV={beforeMount(t,e){sV(t,e.value)}},lV={beforeMount(t,e){t._handleResize=()=>{var n;t&&((n=e.value)==null||n.call(e,t))},zl(t,t._handleResize)},beforeUnmount(t){Vl(t,t._handleResize)}},Tp=(t,e,n)=>{const r=[],i=e&&n();for(let o=0;o<t;o++)r[o]=i?i.includes(o):!1;return r},Ap=t=>t.map((e,n)=>e||n).filter(e=>e!==!0),Y2=(t,e,n)=>({getHoursList:(s,a)=>Tp(24,t,()=>t(s,a)),getMinutesList:(s,a,l)=>Tp(60,e,()=>e(s,a,l)),getSecondsList:(s,a,l,u)=>Tp(60,n,()=>n(s,a,l,u))}),X2=(t,e,n)=>{const{getHoursList:r,getMinutesList:i,getSecondsList:o}=Y2(t,e,n);return{getAvailableHours:(u,c)=>Ap(r(u,c)),getAvailableMinutes:(u,c,d)=>Ap(i(u,c,d)),getAvailableSeconds:(u,c,d,f)=>Ap(o(u,c,d,f))}},Z2=t=>{const e=F(t.parsedValue);return Me(()=>t.visible,n=>{n||(e.value=t.parsedValue)}),e},uV=pe({directives:{repeatClick:z2},components:{ElScrollbar:ko,ElIcon:st,ArrowUp:Dc,ArrowDown:ha},props:{role:{type:String,required:!0},spinnerDate:{type:Object,required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:String,default:""},disabledHours:{type:Function},disabledMinutes:{type:Function},disabledSeconds:{type:Function}},emits:["change","select-range","set-option"],setup(t,e){const n=$e("time");let r=!1;const i=_r(q=>{r=!1,N(q)},200),o=F(null),s=F(null),a=F(null),l=F(null),u={hours:s,minutes:a,seconds:l},c=k(()=>{const q=["hours","minutes","seconds"];return t.showSeconds?q:q.slice(0,2)}),d=k(()=>t.spinnerDate.hour()),f=k(()=>t.spinnerDate.minute()),h=k(()=>t.spinnerDate.second()),m=k(()=>({hours:d,minutes:f,seconds:h})),g=k(()=>se(t.role)),p=k(()=>Te(d.value,t.role)),v=k(()=>Le(d.value,f.value,t.role)),y=k(()=>({hours:g,minutes:p,seconds:v})),w=k(()=>{const q=d.value;return[q>0?q-1:void 0,q,q<23?q+1:void 0]}),_=k(()=>{const q=f.value;return[q>0?q-1:void 0,q,q<59?q+1:void 0]}),b=k(()=>{const q=h.value;return[q>0?q-1:void 0,q,q<59?q+1:void 0]}),S=k(()=>({hours:w,minutes:_,seconds:b})),M=q=>{if(!!!t.amPmMode)return"";const he=t.amPmMode==="A";let we=q<12?" am":" pm";return he&&(we=we.toUpperCase()),we},T=q=>{q==="hours"?e.emit("select-range",0,2):q==="minutes"?e.emit("select-range",3,5):q==="seconds"&&e.emit("select-range",6,8),o.value=q},N=q=>{R(q,m.value[q].value)},I=()=>{N("hours"),N("minutes"),N("seconds")},x=q=>q.querySelector(`.${n.namespace.value}-scrollbar__wrap`),R=(q,re)=>{if(t.arrowControl)return;const he=u[q];he&&he.$el&&(x(he.$el).scrollTop=Math.max(0,re*O(q)))},O=q=>u[q].$el.querySelector("li").offsetHeight,D=()=>{L(1)},B=()=>{L(-1)},L=q=>{o.value||T("hours");const re=o.value;let he=m.value[re].value;const we=o.value==="hours"?24:60;he=(he+q+we)%we,A(re,he),R(re,he),et(()=>T(o.value))},A=(q,re)=>{if(!y.value[q].value[re])switch(q){case"hours":e.emit("change",t.spinnerDate.hour(re).minute(f.value).second(h.value));break;case"minutes":e.emit("change",t.spinnerDate.hour(d.value).minute(re).second(h.value));break;case"seconds":e.emit("change",t.spinnerDate.hour(d.value).minute(f.value).second(re));break}},P=(q,{value:re,disabled:he})=>{he||(A(q,re),T(q),R(q,re))},W=q=>{r=!0,i(q);const re=Math.min(Math.round((x(u[q].$el).scrollTop-(K(q)*.5-10)/O(q)+3)/O(q)),q==="hours"?23:59);A(q,re)},K=q=>u[q].$el.offsetHeight,te=()=>{const q=re=>{u[re]&&u[re].$el&&(x(u[re].$el).onscroll=()=>{W(re)})};q("hours"),q("minutes"),q("seconds")};ft(()=>{et(()=>{!t.arrowControl&&te(),I(),t.role==="start"&&T("hours")})});const J=(q,re)=>{u[re]=q};e.emit("set-option",[`${t.role}_scrollDown`,L]),e.emit("set-option",[`${t.role}_emitSelectRange`,T]);const{getHoursList:se,getMinutesList:Te,getSecondsList:Le}=Y2(t.disabledHours,t.disabledMinutes,t.disabledSeconds);return Me(()=>t.spinnerDate,()=>{r||I()}),{ns:n,setRef:J,spinnerItems:c,currentScrollbar:o,hours:d,minutes:f,seconds:h,hoursList:g,minutesList:p,arrowHourList:w,arrowMinuteList:_,arrowSecondList:b,getAmPmFlag:M,emitSelectRange:T,adjustCurrentSpinner:N,typeItemHeight:O,listHoursRef:s,listMinutesRef:a,listSecondsRef:l,onIncreaseClick:D,onDecreaseClick:B,handleClick:P,secondsList:v,timePartsMap:m,arrowListMap:S,listMap:y}}}),cV=["onClick"],dV=["onMouseenter"];function fV(t,e,n,r,i,o){const s=ve("el-scrollbar"),a=ve("arrow-up"),l=ve("el-icon"),u=ve("arrow-down"),c=Vr("repeat-click");return E(),V("div",{class:$([t.ns.b("spinner"),{"has-seconds":t.showSeconds}])},[t.arrowControl?ue("v-if",!0):(E(!0),V(Ze,{key:0},xt(t.spinnerItems,d=>(E(),fe(s,{key:d,ref_for:!0,ref:f=>t.setRef(f,d),class:$(t.ns.be("spinner","wrapper")),"wrap-style":"max-height: inherit;","view-class":t.ns.be("spinner","list"),noresize:"",tag:"ul",onMouseenter:f=>t.emitSelectRange(d),onMousemove:f=>t.adjustCurrentSpinner(d)},{default:X(()=>[(E(!0),V(Ze,null,xt(t.listMap[d].value,(f,h)=>(E(),V("li",{key:h,class:$([t.ns.be("spinner","item"),t.ns.is("active",h===t.timePartsMap[d].value),t.ns.is("disabled",f)]),onClick:m=>t.handleClick(d,{value:h,disabled:f})},[d==="hours"?(E(),V(Ze,{key:0},[lt(Pe(("0"+(t.amPmMode?h%12||12:h)).slice(-2))+Pe(t.getAmPmFlag(h)),1)],2112)):(E(),V(Ze,{key:1},[lt(Pe(("0"+h).slice(-2)),1)],2112))],10,cV))),128))]),_:2},1032,["class","view-class","onMouseenter","onMousemove"]))),128)),t.arrowControl?(E(!0),V(Ze,{key:1},xt(t.spinnerItems,d=>(E(),V("div",{key:d,class:$([t.ns.be("spinner","wrapper"),t.ns.is("arrow")]),onMouseenter:f=>t.emitSelectRange(d)},[ut((E(),fe(l,{class:$(["arrow-up",t.ns.be("spinner","arrow")])},{default:X(()=>[Z(a)]),_:1},8,["class"])),[[c,t.onDecreaseClick]]),ut((E(),fe(l,{class:$(["arrow-down",t.ns.be("spinner","arrow")])},{default:X(()=>[Z(u)]),_:1},8,["class"])),[[c,t.onIncreaseClick]]),G("ul",{class:$(t.ns.be("spinner","list"))},[(E(!0),V(Ze,null,xt(t.arrowListMap[d].value,(f,h)=>(E(),V("li",{key:h,class:$([t.ns.be("spinner","item"),t.ns.is("active",f===t.timePartsMap[d].value),t.ns.is("disabled",t.listMap[d].value[f])])},[typeof f=="number"?(E(),V(Ze,{key:0},[d==="hours"?(E(),V(Ze,{key:0},[lt(Pe(("0"+(t.amPmMode?f%12||12:f)).slice(-2))+Pe(t.getAmPmFlag(f)),1)],2112)):(E(),V(Ze,{key:1},[lt(Pe(("0"+f).slice(-2)),1)],2112))],2112)):ue("v-if",!0)],2))),128))],2)],42,dV))),128)):ue("v-if",!0)],2)}var J2=De(uV,[["render",fV],["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/basic-time-spinner.vue"]]);const hV=pe({components:{TimeSpinner:J2},props:{visible:Boolean,actualVisible:{type:Boolean,default:void 0},datetimeRole:{type:String},parsedValue:{type:[Object,String]},format:{type:String,default:""}},emits:["pick","select-range","set-picker-option"],setup(t,e){const n=$e("time"),{t:r,lang:i}=Gt(),o=F([0,2]),s=Z2(t),a=k(()=>Rr(t.actualVisible)?`${n.namespace.value}-zoom-in-top`:""),l=k(()=>t.format.includes("ss")),u=k(()=>t.format.includes("A")?"A":t.format.includes("a")?"a":""),c=L=>{const A=dt(L).locale(i.value),P=v(A);return A.isSame(P)},d=()=>{e.emit("pick",s.value,!1)},f=(L=!1,A=!1)=>{A||e.emit("pick",t.parsedValue,L)},h=L=>{if(!t.visible)return;const A=v(L).millisecond(0);e.emit("pick",A,!0)},m=(L,A)=>{e.emit("select-range",L,A),o.value=[L,A]},g=L=>{const A=[0,3].concat(l.value?[6]:[]),P=["hours","minutes"].concat(l.value?["seconds"]:[]),K=(A.indexOf(o.value[0])+L+A.length)%A.length;b.start_emitSelectRange(P[K])},p=L=>{const A=L.code;if(A===qe.left||A===qe.right){const P=A===qe.left?-1:1;g(P),L.preventDefault();return}if(A===qe.up||A===qe.down){const P=A===qe.up?-1:1;b.start_scrollDown(P),L.preventDefault();return}},v=L=>{const A={hour:O,minute:D,second:B};let P=L;return["hour","minute","second"].forEach(W=>{if(A[W]){let K;const te=A[W];W==="minute"?K=te(P.hour(),t.datetimeRole):W==="second"?K=te(P.hour(),P.minute(),t.datetimeRole):K=te(t.datetimeRole),K&&K.length&&!K.includes(P[W]())&&(P=P[W](K[0]))}}),P},y=L=>L?dt(L,t.format).locale(i.value):null,w=L=>L?L.format(t.format):null,_=()=>dt(R).locale(i.value);e.emit("set-picker-option",["isValidValue",c]),e.emit("set-picker-option",["formatToString",w]),e.emit("set-picker-option",["parseUserInput",y]),e.emit("set-picker-option",["handleKeydown",p]),e.emit("set-picker-option",["getRangeAvailableTime",v]),e.emit("set-picker-option",["getDefaultValue",_]);const b={},S=L=>{b[L[0]]=L[1]},M=Ke("EP_PICKER_BASE"),{arrowControl:T,disabledHours:N,disabledMinutes:I,disabledSeconds:x,defaultValue:R}=M.props,{getAvailableHours:O,getAvailableMinutes:D,getAvailableSeconds:B}=X2(N,I,x);return{ns:n,transitionName:a,arrowControl:T,onSetOption:S,t:r,handleConfirm:f,handleChange:h,setSelectionRange:m,amPmMode:u,showSeconds:l,handleCancel:d,disabledHours:N,disabledMinutes:I,disabledSeconds:x}}});function pV(t,e,n,r,i,o){const s=ve("time-spinner");return E(),fe(En,{name:t.transitionName},{default:X(()=>[t.actualVisible||t.visible?(E(),V("div",{key:0,class:$(t.ns.b("panel"))},[G("div",{class:$([t.ns.be("panel","content"),{"has-seconds":t.showSeconds}])},[Z(s,{ref:"spinner",role:t.datetimeRole||"start","arrow-control":t.arrowControl,"show-seconds":t.showSeconds,"am-pm-mode":t.amPmMode,"spinner-date":t.parsedValue,"disabled-hours":t.disabledHours,"disabled-minutes":t.disabledMinutes,"disabled-seconds":t.disabledSeconds,onChange:t.handleChange,onSetOption:t.onSetOption,onSelectRange:t.setSelectionRange},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onChange","onSetOption","onSelectRange"])],2),G("div",{class:$(t.ns.be("panel","footer"))},[G("button",{type:"button",class:$([t.ns.be("panel","btn"),"cancel"]),onClick:e[0]||(e[0]=(...a)=>t.handleCancel&&t.handleCancel(...a))},Pe(t.t("el.datepicker.cancel")),3),G("button",{type:"button",class:$([t.ns.be("panel","btn"),"confirm"]),onClick:e[1]||(e[1]=a=>t.handleConfirm())},Pe(t.t("el.datepicker.confirm")),3)],2)],2)):ue("v-if",!0)]),_:1},8,["name"])}var b0=De(hV,[["render",pV],["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/panel-time-pick.vue"]]);const Ca=(t,e)=>{const n=[];for(let r=t;r<=e;r++)n.push(r);return n},mV=pe({components:{TimeSpinner:J2},props:{visible:Boolean,actualVisible:Boolean,parsedValue:{type:[Array]},format:{type:String,default:""}},emits:["pick","select-range","set-picker-option"],setup(t,e){const{t:n,lang:r}=Gt(),i=$e("time"),o=$e("picker"),s=k(()=>t.parsedValue[0]),a=k(()=>t.parsedValue[1]),l=Z2(t),u=()=>{e.emit("pick",l.value,!1)},c=k(()=>t.format.includes("ss")),d=k(()=>t.format.includes("A")?"A":t.format.includes("a")?"a":""),f=F([]),h=F([]),m=(we=!1)=>{e.emit("pick",[s.value,a.value],we)},g=we=>{y(we.millisecond(0),a.value)},p=we=>{y(s.value,we.millisecond(0))},v=we=>{const ye=we.map(be=>dt(be).locale(r.value)),ze=O(ye);return ye[0].isSame(ze[0])&&ye[1].isSame(ze[1])},y=(we,ye)=>{e.emit("pick",[we,ye],!0)},w=k(()=>s.value>a.value),_=F([0,2]),b=(we,ye)=>{e.emit("select-range",we,ye,"min"),_.value=[we,ye]},S=k(()=>c.value?11:8),M=(we,ye)=>{e.emit("select-range",we,ye,"max"),_.value=[we+S.value,ye+S.value]},T=we=>{const ye=c.value?[0,3,6,11,14,17]:[0,3,8,11],ze=["hours","minutes"].concat(c.value?["seconds"]:[]),U=(ye.indexOf(_.value[0])+we+ye.length)%ye.length,Q=ye.length/2;U<Q?te.start_emitSelectRange(ze[U]):te.end_emitSelectRange(ze[U-Q])},N=we=>{const ye=we.code;if(ye===qe.left||ye===qe.right){const ze=ye===qe.left?-1:1;T(ze),we.preventDefault();return}if(ye===qe.up||ye===qe.down){const ze=ye===qe.up?-1:1,be=_.value[0]<S.value?"start":"end";te[`${be}_scrollDown`](ze),we.preventDefault();return}},I=(we,ye)=>{const ze=Le?Le(we):[],be=we==="start",Q=(ye||(be?a.value:s.value)).hour(),de=be?Ca(Q+1,23):Ca(0,Q-1);return bp(ze,de)},x=(we,ye,ze)=>{const be=q?q(we,ye):[],U=ye==="start",Q=ze||(U?a.value:s.value),de=Q.hour();if(we!==de)return be;const me=Q.minute(),Se=U?Ca(me+1,59):Ca(0,me-1);return bp(be,Se)},R=(we,ye,ze,be)=>{const U=re?re(we,ye,ze):[],Q=ze==="start",de=be||(Q?a.value:s.value),me=de.hour(),Se=de.minute();if(we!==me||ye!==Se)return U;const Ae=de.second(),ee=Q?Ca(Ae+1,59):Ca(0,Ae-1);return bp(U,ee)},O=we=>we.map((ye,ze)=>A(we[0],we[1],ze===0?"start":"end")),{getAvailableHours:D,getAvailableMinutes:B,getAvailableSeconds:L}=X2(I,x,R),A=(we,ye,ze)=>{const be={hour:D,minute:B,second:L},U=ze==="start";let Q=U?we:ye;const de=U?ye:we;return["hour","minute","second"].forEach(me=>{if(be[me]){let Se;const Ae=be[me];if(me==="minute"?Se=Ae(Q.hour(),ze,de):me==="second"?Se=Ae(Q.hour(),Q.minute(),ze,de):Se=Ae(ze,de),Se&&Se.length&&!Se.includes(Q[me]())){const ee=U?0:Se.length-1;Q=Q[me](Se[ee])}}}),Q},P=we=>we?Array.isArray(we)?we.map(ye=>dt(ye,t.format).locale(r.value)):dt(we,t.format).locale(r.value):null,W=we=>we?Array.isArray(we)?we.map(ye=>ye.format(t.format)):we.format(t.format):null,K=()=>{if(Array.isArray(he))return he.map(ye=>dt(ye).locale(r.value));const we=dt(he).locale(r.value);return[we,we.add(60,"m")]};e.emit("set-picker-option",["formatToString",W]),e.emit("set-picker-option",["parseUserInput",P]),e.emit("set-picker-option",["isValidValue",v]),e.emit("set-picker-option",["handleKeydown",N]),e.emit("set-picker-option",["getDefaultValue",K]),e.emit("set-picker-option",["getRangeAvailableTime",O]);const te={},J=we=>{te[we[0]]=we[1]},se=Ke("EP_PICKER_BASE"),{arrowControl:Te,disabledHours:Le,disabledMinutes:q,disabledSeconds:re,defaultValue:he}=se.props;return{nsTime:i,nsPicker:o,arrowControl:Te,onSetOption:J,setMaxSelectionRange:M,setMinSelectionRange:b,btnConfirmDisabled:w,handleCancel:u,handleConfirm:m,t:n,showSeconds:c,minDate:s,maxDate:a,amPmMode:d,handleMinChange:g,handleMaxChange:p,minSelectableRange:f,maxSelectableRange:h,disabledHours_:I,disabledMinutes_:x,disabledSeconds_:R}}}),gV=["disabled"];function vV(t,e,n,r,i,o){const s=ve("time-spinner");return t.actualVisible?(E(),V("div",{key:0,class:$([t.nsTime.b("range-picker"),t.nsPicker.b("panel")])},[G("div",{class:$(t.nsTime.be("range-picker","content"))},[G("div",{class:$(t.nsTime.be("range-picker","cell"))},[G("div",{class:$(t.nsTime.be("range-picker","header"))},Pe(t.t("el.datepicker.startTime")),3),G("div",{class:$([t.nsTime.be("range-picker","body"),t.nsTime.be("panel","content"),t.nsTime.is("arrow",t.arrowControl),{"has-seconds":t.showSeconds}])},[Z(s,{ref:"minSpinner",role:"start","show-seconds":t.showSeconds,"am-pm-mode":t.amPmMode,"arrow-control":t.arrowControl,"spinner-date":t.minDate,"disabled-hours":t.disabledHours_,"disabled-minutes":t.disabledMinutes_,"disabled-seconds":t.disabledSeconds_,onChange:t.handleMinChange,onSetOption:t.onSetOption,onSelectRange:t.setMinSelectionRange},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onChange","onSetOption","onSelectRange"])],2)],2),G("div",{class:$(t.nsTime.be("range-picker","cell"))},[G("div",{class:$(t.nsTime.be("range-picker","header"))},Pe(t.t("el.datepicker.endTime")),3),G("div",{class:$([t.nsTime.be("range-picker","body"),t.nsTime.be("panel","content"),t.nsTime.is("arrow",t.arrowControl),{"has-seconds":t.showSeconds}])},[Z(s,{ref:"maxSpinner",role:"end","show-seconds":t.showSeconds,"am-pm-mode":t.amPmMode,"arrow-control":t.arrowControl,"spinner-date":t.maxDate,"disabled-hours":t.disabledHours_,"disabled-minutes":t.disabledMinutes_,"disabled-seconds":t.disabledSeconds_,onChange:t.handleMaxChange,onSetOption:t.onSetOption,onSelectRange:t.setMaxSelectionRange},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onChange","onSetOption","onSelectRange"])],2)],2)],2),G("div",{class:$(t.nsTime.be("panel","footer"))},[G("button",{type:"button",class:$([t.nsTime.be("panel","btn"),"cancel"]),onClick:e[0]||(e[0]=a=>t.handleCancel())},Pe(t.t("el.datepicker.cancel")),3),G("button",{type:"button",class:$([t.nsTime.be("panel","btn"),"confirm"]),disabled:t.btnConfirmDisabled,onClick:e[1]||(e[1]=a=>t.handleConfirm())},Pe(t.t("el.datepicker.confirm")),11,gV)],2)],2)):ue("v-if",!0)}var yV=De(mV,[["render",vV],["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/panel-time-range.vue"]]);dt.extend(v0);var bV=pe({name:"ElTimePicker",install:null,props:Ue(Ee({},y0),{isRange:{type:Boolean,default:!1}}),emits:["update:modelValue"],setup(t,e){const n=F(null),r=t.isRange?"timerange":"time",i=t.isRange?yV:b0,o=Ue(Ee({},t),{focus:()=>{var s;(s=n.value)==null||s.handleFocus()},blur:()=>{var s;(s=n.value)==null||s.handleBlur()}});return Ct("ElPopperOptions",t.popperOptions),e.expose(o),()=>{var s;const a=(s=t.format)!=null?s:mg;return Xe(B2,Ue(Ee({},t),{format:a,type:r,ref:n,"onUpdate:modelValue":l=>e.emit("update:modelValue",l)}),{default:l=>Xe(i,l)})}}});const Jo=t=>Array.from(Array.from({length:t}).keys()),Q2=t=>t.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim(),ex=t=>t.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?Y{2,4}/g,"").trim(),af=bV;af.install=t=>{t.component(af.name,af)};const wV=af,_V=(t,e)=>{const n=t.subtract(1,"month").endOf("month").date();return Jo(e).map((r,i)=>n-(e-i-1))},SV=t=>{const e=t.daysInMonth();return Jo(e).map((n,r)=>r+1)},CV=t=>Jo(t.length/7).map(e=>{const n=e*7;return t.slice(n,n+7)}),MV=Je({selectedDay:{type:Fe(Object)},range:{type:Fe(Array)},date:{type:Fe(Object),required:!0},hideHeader:{type:Boolean}}),xV={pick:t=>kt(t)},EV={key:0},TV=["onClick"],AV={name:"DateTable"},kV=pe(Ue(Ee({},AV),{props:MV,emits:xV,setup(t,{expose:e,emit:n}){const r=t;dt.extend(O2);const{t:i,lang:o}=Gt(),s=$e("calendar-table"),a=$e("calendar-day"),l=dt().locale(o.value),u=l.$locale().weekStart||0,c=k(()=>!!r.range&&!!r.range.length),d=k(()=>{let v=[];if(c.value){const[y,w]=r.range,_=Jo(w.date()-y.date()+1).map(M=>({text:y.date()+M,type:"current"}));let b=_.length%7;b=b===0?0:7-b;const S=Jo(b).map((M,T)=>({text:T+1,type:"next"}));v=_.concat(S)}else{const y=r.date.startOf("month").day()||7,w=_V(r.date,y-u).map(S=>({text:S,type:"prev"})),_=SV(r.date).map(S=>({text:S,type:"current"}));v=[...w,..._];const b=Jo(42-v.length).map((S,M)=>({text:M+1,type:"next"}));v=v.concat(b)}return CV(v)}),f=k(()=>{const v=u;return v===0?_p.map(y=>i(`el.datepicker.weeks.${y}`)):_p.slice(v).concat(_p.slice(0,v)).map(y=>i(`el.datepicker.weeks.${y}`))}),h=(v,y)=>{switch(y){case"prev":return r.date.startOf("month").subtract(1,"month").date(v);case"next":return r.date.startOf("month").add(1,"month").date(v);case"current":return r.date.date(v)}},m=({text:v,type:y})=>{const w=[y];if(y==="current"){const _=h(v,y);_.isSame(r.selectedDay,"day")&&w.push(a.is("selected")),_.isSame(l,"day")&&w.push(a.is("today"))}return w},g=({text:v,type:y})=>{const w=h(v,y);n("pick",w)},p=({text:v,type:y})=>{const w=h(v,y);return{isSelected:w.isSame(r.selectedDay),type:`${y}-month`,day:w.format("YYYY-MM-DD"),date:w.toDate()}};return e({getFormattedDate:h}),(v,y)=>(E(),V("table",{class:$([C(s).b(),C(s).is("range",C(c))]),cellspacing:"0",cellpadding:"0"},[v.hideHeader?ue("v-if",!0):(E(),V("thead",EV,[(E(!0),V(Ze,null,xt(C(f),w=>(E(),V("th",{key:w},Pe(w),1))),128))])),G("tbody",null,[(E(!0),V(Ze,null,xt(C(d),(w,_)=>(E(),V("tr",{key:_,class:$({[C(s).e("row")]:!0,[C(s).em("row","hide-border")]:_===0&&v.hideHeader})},[(E(!0),V(Ze,null,xt(w,(b,S)=>(E(),V("td",{key:S,class:$(m(b)),onClick:M=>g(b)},[G("div",{class:$(C(a).b())},[Ce(v.$slots,"dateCell",{data:p(b)},()=>[G("span",null,Pe(b.text),1)])],2)],10,TV))),128))],2))),128))])],2))}}));var I1=De(kV,[["__file","/home/runner/work/element-plus/element-plus/packages/components/calendar/src/date-table.vue"]]);const PV=Je({modelValue:{type:Date},range:{type:Fe(Array),validator:t=>Array.isArray(t)&&t.length===2&&t.every(e=>e instanceof Date)}}),LV={[bt]:t=>t instanceof Date,input:t=>t instanceof Date},RV={name:"ElCalendar"},IV=pe(Ue(Ee({},RV),{props:PV,emits:LV,setup(t,{expose:e,emit:n}){const r=t,i=$e("calendar"),{t:o,lang:s}=Gt(),a=F(),l=dt().locale(s.value),u=k(()=>g.value.subtract(1,"month").date(1)),c=k(()=>g.value.add(1,"month").date(1)),d=k(()=>g.value.subtract(1,"year").date(1)),f=k(()=>g.value.add(1,"year").date(1)),h=k(()=>{const _=`el.datepicker.month${g.value.format("M")}`;return`${g.value.year()} ${o("el.datepicker.year")} ${o(_)}`}),m=k({get(){return r.modelValue?g.value:a.value},set(_){if(!_)return;a.value=_;const b=_.toDate();n("input",b),n("update:modelValue",b)}}),g=k(()=>r.modelValue?dt(r.modelValue).locale(s.value):m.value?m.value:v.value.length?v.value[0][0]:l),p=(_,b)=>{const S=_.startOf("week"),M=b.endOf("week"),T=S.get("month"),N=M.get("month");if(T===N)return[[S,M]];if(T+1===N){const I=S.endOf("month"),x=M.startOf("month"),O=I.isSame(x,"week")?x.add(1,"week"):x;return[[S,I],[O.startOf("week"),M]]}else if(T+2===N){const I=S.endOf("month"),x=S.add(1,"month").startOf("month"),R=I.isSame(x,"week")?x.add(1,"week"):x,O=R.endOf("month"),D=M.startOf("month"),B=O.isSame(D,"week")?D.add(1,"week"):D;return[[S,I],[R.startOf("week"),O],[B.startOf("week"),M]]}else return[]},v=k(()=>{if(!r.range)return[];const _=r.range.map(M=>dt(M).locale(s.value)),[b,S]=_;return b.isAfter(S)?[]:b.isSame(S,"month")?p(b,S):b.add(1,"month").month()!==S.month()?[]:p(b,S)}),y=_=>{m.value=_},w=_=>{let b;_==="prev-month"?b=u.value:_==="next-month"?b=c.value:_==="prev-year"?b=d.value:_==="next-year"?b=f.value:b=l,!b.isSame(g.value,"day")&&y(b)};return e({selectedDay:m,pickDay:y,selectDate:w,calculateValidatedDateRange:p}),(_,b)=>(E(),V("div",{class:$(C(i).b())},[G("div",{class:$(C(i).e("header"))},[Ce(_.$slots,"header",{date:C(h)},()=>[G("div",{class:$(C(i).e("title"))},Pe(C(h)),3),C(v).length===0?(E(),V("div",{key:0,class:$(C(i).e("button-group"))},[Z(C(D2),null,{default:X(()=>[Z(C(Jr),{size:"small",onClick:b[0]||(b[0]=S=>w("prev-month"))},{default:X(()=>[lt(Pe(C(o)("el.datepicker.prevMonth")),1)]),_:1}),Z(C(Jr),{size:"small",onClick:b[1]||(b[1]=S=>w("today"))},{default:X(()=>[lt(Pe(C(o)("el.datepicker.today")),1)]),_:1}),Z(C(Jr),{size:"small",onClick:b[2]||(b[2]=S=>w("next-month"))},{default:X(()=>[lt(Pe(C(o)("el.datepicker.nextMonth")),1)]),_:1})]),_:1})],2)):ue("v-if",!0)])],2),C(v).length===0?(E(),V("div",{key:0,class:$(C(i).e("body"))},[Z(I1,{date:C(g),"selected-day":C(m),onPick:y},is({_:2},[_.$slots.dateCell?{name:"dateCell",fn:X(S=>[Ce(_.$slots,"dateCell",bi(rs(S)))])}:void 0]),1032,["date","selected-day"])],2)):(E(),V("div",{key:1,class:$(C(i).e("body"))},[(E(!0),V(Ze,null,xt(C(v),(S,M)=>(E(),fe(I1,{key:M,date:S[0],"selected-day":C(m),range:S,"hide-header":M!==0,onPick:y},is({_:2},[_.$slots.dateCell?{name:"dateCell",fn:X(T=>[Ce(_.$slots,"dateCell",bi(rs(T)))])}:void 0]),1032,["date","selected-day","range","hide-header"]))),128))],2))],2))}}));var DV=De(IV,[["__file","/home/runner/work/element-plus/element-plus/packages/components/calendar/src/calendar.vue"]]);const $V=_t(DV),NV=Je({header:{type:String,default:""},bodyStyle:{type:Fe([String,Object,Array]),default:""},shadow:{type:String,default:"always"}}),OV={name:"ElCard"},FV=pe(Ue(Ee({},OV),{props:NV,setup(t){const e=$e("card");return(n,r)=>(E(),V("div",{class:$([C(e).b(),C(e).is(`${n.shadow}-shadow`)])},[n.$slots.header||n.header?(E(),V("div",{key:0,class:$(C(e).e("header"))},[Ce(n.$slots,"header",{},()=>[lt(Pe(n.header),1)])],2)):ue("v-if",!0),G("div",{class:$(C(e).e("body")),style:Ye(n.bodyStyle)},[Ce(n.$slots,"default")],6)],2))}}));var BV=De(FV,[["__file","/home/runner/work/element-plus/element-plus/packages/components/card/src/card.vue"]]);const zV=_t(BV),VV=Je({initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,default:""},indicator:{type:Boolean,default:!0},arrow:{type:String,default:"hover"},type:{type:String,default:""},loop:{type:Boolean,default:!0},direction:{type:String,default:"horizontal",validator(t){return["horizontal","vertical"].includes(t)}},pauseOnHover:{type:Boolean,default:!0}}),HV={change:(t,e)=>[t,e].every(It)},UV=["onMouseenter","onMouseleave"],WV=["onMouseenter","onClick"],GV={key:0},jV={name:"ElCarousel"},KV=pe(Ue(Ee({},jV),{props:VV,emits:HV,setup(t,{expose:e,emit:n}){const r=t,i=$e("carousel"),o=300,s=F(-1),a=F(null),l=F(!1),u=F(),c=F([]),d=k(()=>r.arrow!=="never"&&!C(p)),f=k(()=>c.value.some(K=>K.props.label.toString().length>0)),h=k(()=>{const K=[i.b(),i.m(r.direction)];return C(g)&&K.push(i.m("card")),K}),m=k(()=>{const K=[i.e("indicators"),i.em("indicators",r.direction)];return f.value&&K.push(i.em("indicators","labels")),(r.indicatorPosition==="outside"||C(g))&&K.push(i.em("indicators","outside")),K}),g=k(()=>r.type==="card"),p=k(()=>r.direction==="vertical"),v=Ks(K=>{S(K)},o,{trailing:!0}),y=Ks(K=>{L(K)},o);function w(){a.value&&(clearInterval(a.value),a.value=null)}function _(){r.interval<=0||!r.autoplay||a.value||(a.value=setInterval(()=>b(),r.interval))}const b=()=>{s.value<c.value.length-1?s.value=s.value+1:r.loop&&(s.value=0)};function S(K){if(pt(K)){const se=c.value.filter(Te=>Te.props.name===K);se.length>0&&(K=c.value.indexOf(se[0]))}if(K=Number(K),Number.isNaN(K)||K!==Math.floor(K))return;const te=c.value.length,J=s.value;K<0?s.value=r.loop?te-1:0:K>=te?s.value=r.loop?0:te-1:s.value=K,J===s.value&&M(J)}function M(K){c.value.forEach((te,J)=>{te.translateItem(J,s.value,K)})}function T(K){c.value.push(K)}function N(K){const te=c.value.findIndex(J=>J.uid===K);te!==-1&&(c.value.splice(te,1),s.value===te&&P())}function I(K,te){var J,se,Te,Le;const q=C(c),re=q.length;if(re===0||!K.states.inStage)return!1;const he=te+1,we=te-1,ye=re-1,ze=q[ye].states.active,be=q[0].states.active,U=(se=(J=q[he])==null?void 0:J.states)==null?void 0:se.active,Q=(Le=(Te=q[we])==null?void 0:Te.states)==null?void 0:Le.active;return te===ye&&be||U?"left":te===0&&ze||Q?"right":!1}function x(){l.value=!0,r.pauseOnHover&&w()}function R(){l.value=!1,_()}function O(K){C(p)||c.value.forEach((te,J)=>{K===I(te,J)&&(te.states.hover=!0)})}function D(){C(p)||c.value.forEach(K=>{K.states.hover=!1})}function B(K){s.value=K}function L(K){r.trigger==="hover"&&K!==s.value&&(s.value=K)}function A(){S(s.value-1)}function P(){S(s.value+1)}Me(()=>s.value,(K,te)=>{M(te),te>-1&&n("change",K,te)}),Me(()=>r.autoplay,K=>{K?_():w()}),Me(()=>r.loop,()=>{S(s.value)});const W=Ln();return ft(async()=>{await et(),W.value=Bl(u.value,()=>{M()}),r.initialIndex<c.value.length&&r.initialIndex>=0&&(s.value=r.initialIndex),_()}),rn(()=>{w(),u.value&&W.value&&W.value.stop()}),Ct(VM,{root:u,isCardType:g,isVertical:p,items:c,loop:r.loop,addItem:T,removeItem:N,setActiveItem:S}),e({setActiveItem:S,prev:A,next:P}),(K,te)=>(E(),V("div",{ref_key:"root",ref:u,class:$(C(h)),onMouseenter:ot(x,["stop"]),onMouseleave:ot(R,["stop"])},[G("div",{class:$(C(i).e("container")),style:Ye({height:K.height})},[C(d)?(E(),fe(En,{key:0,name:"carousel-arrow-left"},{default:X(()=>[ut(G("button",{type:"button",class:$([C(i).e("arrow"),C(i).em("arrow","left")]),onMouseenter:te[0]||(te[0]=J=>O("left")),onMouseleave:D,onClick:te[1]||(te[1]=ot(J=>C(v)(s.value-1),["stop"]))},[Z(C(st),null,{default:X(()=>[Z(C(pa))]),_:1})],34),[[Lt,(K.arrow==="always"||l.value)&&(r.loop||s.value>0)]])]),_:1})):ue("v-if",!0),C(d)?(E(),fe(En,{key:1,name:"carousel-arrow-right"},{default:X(()=>[ut(G("button",{type:"button",class:$([C(i).e("arrow"),C(i).em("arrow","right")]),onMouseenter:te[2]||(te[2]=J=>O("right")),onMouseleave:D,onClick:te[3]||(te[3]=ot(J=>C(v)(s.value+1),["stop"]))},[Z(C(st),null,{default:X(()=>[Z(C(si))]),_:1})],34),[[Lt,(K.arrow==="always"||l.value)&&(r.loop||s.value<c.value.length-1)]])]),_:1})):ue("v-if",!0),Ce(K.$slots,"default")],6),K.indicatorPosition!=="none"?(E(),V("ul",{key:0,class:$(C(m))},[(E(!0),V(Ze,null,xt(c.value,(J,se)=>(E(),V("li",{key:se,class:$([C(i).e("indicator"),C(i).em("indicator",K.direction),C(i).is("active",se===s.value)]),onMouseenter:Te=>C(y)(se),onClick:ot(Te=>B(se),["stop"])},[G("button",{class:$(C(i).e("button"))},[C(f)?(E(),V("span",GV,Pe(J.props.label),1)):ue("v-if",!0)],2)],42,WV))),128))],2)):ue("v-if",!0)],42,UV))}}));var qV=De(KV,[["__file","/home/runner/work/element-plus/element-plus/packages/components/carousel/src/carousel.vue"]]);const YV=Je({name:{type:String,default:""},label:{type:[String,Number],default:""}}),XV={name:"ElCarouselItem"},ZV=pe(Ue(Ee({},XV),{props:YV,setup(t){const e=t,n=$e("carousel"),r=Ke(VM),i=wt(),o=.83,s=F(!1),a=F(0),l=F(1),u=F(!1),c=F(!1),d=F(!1),f=F(!1),{isCardType:h,isVertical:m}=r,g=k(()=>{const S=`${`translate${C(m)?"Y":"X"}`}(${C(a)}px)`,M=`scale(${C(l)})`;return{transform:[S,M].join(" ")}});function p(b,S,M){const T=M-1,N=S-1,I=S+1,x=M/2;return S===0&&b===T?-1:S===T&&b===0?M:b<N&&S-b>=x?M+1:b>I&&b-S>=x?-2:b}function v(b,S){var M;const T=((M=r.root.value)==null?void 0:M.offsetWidth)||0;return d.value?T*((2-o)*(b-S)+1)/4:b<S?-(1+o)*T/4:(3+o)*T/4}function y(b,S,M){const T=r.root.value;return T?((M?T.offsetHeight:T.offsetWidth)||0)*(b-S):0}const w=(b,S,M)=>{var T;const N=C(h),I=(T=r.items.value.length)!=null?T:Number.NaN,x=b===S;!N&&!Rr(M)&&(f.value=x||b===M),!x&&I>2&&r.loop&&(b=p(b,S,I));const R=C(m);u.value=x,N?(d.value=Math.round(Math.abs(b-S))<=1,a.value=v(b,S),l.value=C(u)?1:o):a.value=y(b,S,R),c.value=!0};function _(){if(r&&C(h)){const b=r.items.value.findIndex(({uid:S})=>S===i.uid);r.setActiveItem(b)}}return ft(()=>{r.addItem({props:e,states:Ot({hover:s,translate:a,scale:l,active:u,ready:c,inStage:d,animating:f}),uid:i.uid,translateItem:w})}),kc(()=>{r.removeItem(i.uid)}),(b,S)=>ut((E(),V("div",{class:$([C(n).e("item"),C(n).is("active",u.value),C(n).is("in-stage",d.value),C(n).is("hover",s.value),C(n).is("animating",f.value),{[C(n).em("item","card")]:C(h)}]),style:Ye(C(g)),onClick:_},[C(h)?ut((E(),V("div",{key:0,class:$(C(n).e("mask"))},null,2)),[[Lt,!u.value]]):ue("v-if",!0),Ce(b.$slots,"default")],6)),[[Lt,c.value]])}}));var tx=De(ZV,[["__file","/home/runner/work/element-plus/element-plus/packages/components/carousel/src/carousel-item.vue"]]);const JV=_t(qV,{CarouselItem:tx}),QV=pn(tx),eH={modelValue:{type:[Boolean,Number,String],default:()=>{}},label:{type:[String,Boolean,Number,Object]},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},tabindex:[String,Number],size:String},jl=()=>{const t=Ke(Wr,{}),e=Ke(ni,{}),n=Ke("CheckboxGroup",{}),r=k(()=>n&&(n==null?void 0:n.name)==="ElCheckboxGroup"),i=k(()=>e.size);return{isGroup:r,checkboxGroup:n,elForm:t,elFormItemSize:i,elFormItem:e}},tH=t=>{const e=F(!1),{emit:n}=wt(),{isGroup:r,checkboxGroup:i}=jl(),o=F(!1);return{model:k({get(){var a,l;return r.value?(a=i.modelValue)==null?void 0:a.value:(l=t.modelValue)!=null?l:e.value},set(a){var l;r.value&&Array.isArray(a)?(o.value=i.max!==void 0&&a.length>i.max.value,o.value===!1&&((l=i==null?void 0:i.changeEvent)==null||l.call(i,a))):(n(bt,a),e.value=a)}}),isLimitExceeded:o}},nH=(t,{model:e})=>{const{isGroup:n,checkboxGroup:r}=jl(),i=F(!1),o=Pn(r==null?void 0:r.checkboxGroupSize,{prop:!0}),s=k(()=>{const l=e.value;return Ec(l)==="[object Boolean]"?l:Array.isArray(l)?l.includes(t.label):l!=null?l===t.trueLabel:!!l}),a=Pn(k(()=>{var l;return n.value?(l=r==null?void 0:r.checkboxGroupSize)==null?void 0:l.value:void 0}));return{isChecked:s,focus:i,size:o,checkboxSize:a}},rH=(t,{model:e,isChecked:n})=>{const{elForm:r,isGroup:i,checkboxGroup:o}=jl(),s=k(()=>{var l,u;const c=(l=o.max)==null?void 0:l.value,d=(u=o.min)==null?void 0:u.value;return!!(c||d)&&e.value.length>=c&&!n.value||e.value.length<=d&&n.value});return{isDisabled:k(()=>{var l,u;const c=t.disabled||r.disabled;return(u=i.value?((l=o.disabled)==null?void 0:l.value)||c||s.value:t.disabled||r.disabled)!=null?u:!1}),isLimitDisabled:s}},iH=(t,{model:e})=>{function n(){Array.isArray(e.value)&&!e.value.includes(t.label)?e.value.push(t.label):e.value=t.trueLabel||!0}t.checked&&n()},oH=(t,{isLimitExceeded:e})=>{const{elFormItem:n}=jl(),{emit:r}=wt();function i(o){var s,a;if(e.value)return;const u=o.target.checked?(s=t.trueLabel)!=null?s:!0:(a=t.falseLabel)!=null?a:!1;r("change",u,o)}return Me(()=>t.modelValue,()=>{var o;(o=n.validate)==null||o.call(n,"change").catch(s=>void 0)}),{handleChange:i}},nx=t=>{const{model:e,isLimitExceeded:n}=tH(t),{focus:r,size:i,isChecked:o,checkboxSize:s}=nH(t,{model:e}),{isDisabled:a}=rH(t,{model:e,isChecked:o}),{handleChange:l}=oH(t,{isLimitExceeded:n});return iH(t,{model:e}),{isChecked:o,isDisabled:a,checkboxSize:s,model:e,handleChange:l,focus:r,size:i}},sH=pe({name:"ElCheckbox",props:{modelValue:{type:[Number,String,Boolean],default:()=>{}},label:{type:[String,Boolean,Number,Object]},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},controls:{type:String,default:void 0},border:Boolean,size:{type:String,validator:Hr},tabindex:[String,Number]},emits:[bt,"change"],setup(t){const e=$e("checkbox");return Ee({ns:e},nx(t))}}),aH=["id","aria-controls"],lH=["tabindex","role","aria-checked"],uH=["aria-hidden","name","tabindex","disabled","true-value","false-value"],cH=["aria-hidden","disabled","value","name","tabindex"];function dH(t,e,n,r,i,o){return E(),V("label",{id:t.id,class:$([t.ns.b(),t.ns.m(t.checkboxSize),t.ns.is("disabled",t.isDisabled),t.ns.is("bordered",t.border),t.ns.is("checked",t.isChecked)]),"aria-controls":t.indeterminate?t.controls:null},[G("span",{class:$([t.ns.e("input"),t.ns.is("disabled",t.isDisabled),t.ns.is("checked",t.isChecked),t.ns.is("indeterminate",t.indeterminate),t.ns.is("focus",t.focus)]),tabindex:t.indeterminate?0:void 0,role:t.indeterminate?"checkbox":void 0,"aria-checked":t.indeterminate?"mixed":!1},[G("span",{class:$(t.ns.e("inner"))},null,2),t.trueLabel||t.falseLabel?ut((E(),V("input",{key:0,"onUpdate:modelValue":e[0]||(e[0]=s=>t.model=s),class:$(t.ns.e("original")),type:"checkbox","aria-hidden":t.indeterminate?"true":"false",name:t.name,tabindex:t.tabindex,disabled:t.isDisabled,"true-value":t.trueLabel,"false-value":t.falseLabel,onChange:e[1]||(e[1]=(...s)=>t.handleChange&&t.handleChange(...s)),onFocus:e[2]||(e[2]=s=>t.focus=!0),onBlur:e[3]||(e[3]=s=>t.focus=!1)},null,42,uH)),[[zf,t.model]]):ut((E(),V("input",{key:1,"onUpdate:modelValue":e[4]||(e[4]=s=>t.model=s),class:$(t.ns.e("original")),type:"checkbox","aria-hidden":t.indeterminate?"true":"false",disabled:t.isDisabled,value:t.label,name:t.name,tabindex:t.tabindex,onChange:e[5]||(e[5]=(...s)=>t.handleChange&&t.handleChange(...s)),onFocus:e[6]||(e[6]=s=>t.focus=!0),onBlur:e[7]||(e[7]=s=>t.focus=!1)},null,42,cH)),[[zf,t.model]])],10,lH),t.$slots.default||t.label?(E(),V("span",{key:0,class:$(t.ns.e("label"))},[Ce(t.$slots,"default"),t.$slots.default?ue("v-if",!0):(E(),V(Ze,{key:0},[lt(Pe(t.label),1)],2112))],2)):ue("v-if",!0)],10,aH)}var fH=De(sH,[["render",dH],["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox.vue"]]);const hH=pe({name:"ElCheckboxButton",props:eH,emits:[bt,"change"],setup(t){const{focus:e,isChecked:n,isDisabled:r,size:i,model:o,handleChange:s}=nx(t),{checkboxGroup:a}=jl(),l=$e("checkbox"),u=k(()=>{var c,d,f,h;const m=(d=(c=a==null?void 0:a.fill)==null?void 0:c.value)!=null?d:"";return{backgroundColor:m,borderColor:m,color:(h=(f=a==null?void 0:a.textColor)==null?void 0:f.value)!=null?h:"",boxShadow:m?`-1px 0 0 0 ${m}`:null}});return{focus:e,isChecked:n,isDisabled:r,model:o,handleChange:s,activeStyle:u,size:i,ns:l}}}),pH=["aria-checked","aria-disabled"],mH=["name","tabindex","disabled","true-value","false-value"],gH=["name","tabindex","disabled","value"];function vH(t,e,n,r,i,o){return E(),V("label",{class:$([t.ns.b("button"),t.ns.bm("button",t.size),t.ns.is("disabled",t.isDisabled),t.ns.is("checked",t.isChecked),t.ns.is("focus",t.focus)]),role:"checkbox","aria-checked":t.isChecked,"aria-disabled":t.isDisabled},[t.trueLabel||t.falseLabel?ut((E(),V("input",{key:0,"onUpdate:modelValue":e[0]||(e[0]=s=>t.model=s),class:$(t.ns.be("button","original")),type:"checkbox",name:t.name,tabindex:t.tabindex,disabled:t.isDisabled,"true-value":t.trueLabel,"false-value":t.falseLabel,onChange:e[1]||(e[1]=(...s)=>t.handleChange&&t.handleChange(...s)),onFocus:e[2]||(e[2]=s=>t.focus=!0),onBlur:e[3]||(e[3]=s=>t.focus=!1)},null,42,mH)),[[zf,t.model]]):ut((E(),V("input",{key:1,"onUpdate:modelValue":e[4]||(e[4]=s=>t.model=s),class:$(t.ns.be("button","original")),type:"checkbox",name:t.name,tabindex:t.tabindex,disabled:t.isDisabled,value:t.label,onChange:e[5]||(e[5]=(...s)=>t.handleChange&&t.handleChange(...s)),onFocus:e[6]||(e[6]=s=>t.focus=!0),onBlur:e[7]||(e[7]=s=>t.focus=!1)},null,42,gH)),[[zf,t.model]]),t.$slots.default||t.label?(E(),V("span",{key:2,class:$(t.ns.be("button","inner")),style:Ye(t.isChecked?t.activeStyle:null)},[Ce(t.$slots,"default",{},()=>[lt(Pe(t.label),1)])],6)):ue("v-if",!0)],10,pH)}var rx=De(hH,[["render",vH],["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-button.vue"]]);const yH=pe({name:"ElCheckboxGroup",props:{modelValue:{type:Array,default:()=>[]},disabled:Boolean,min:{type:Number,default:void 0},max:{type:Number,default:void 0},size:{type:String,validator:Hr},fill:{type:String,default:void 0},textColor:{type:String,default:void 0},tag:{type:String,default:"div"}},emits:[bt,"change"],setup(t,{emit:e,slots:n}){const{elFormItem:r}=jl(),i=Pn(),o=$e("checkbox"),s=l=>{e(bt,l),et(()=>{e("change",l)})},a=k({get(){return t.modelValue},set(l){s(l)}});return Ct("CheckboxGroup",Ue(Ee({name:"ElCheckboxGroup",modelValue:a},Bn(t)),{checkboxGroupSize:i,changeEvent:s})),Me(()=>t.modelValue,()=>{var l;(l=r.validate)==null||l.call(r,"change").catch(u=>void 0)}),()=>Xe(t.tag,{class:o.b("group"),role:"group","aria-label":"checkbox-group"},[Ce(n,"default")])}});var ix=De(yH,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-group.vue"]]);const Ti=_t(fH,{CheckboxButton:rx,CheckboxGroup:ix}),bH=pn(rx),ox=pn(ix),sx=Je({size:Ih,disabled:Boolean,label:{type:[String,Number,Boolean],default:""}}),wH=Je(Ue(Ee({},sx),{modelValue:{type:[String,Number,Boolean],default:""},name:{type:String,default:""},border:Boolean})),ax={[bt]:t=>pt(t)||It(t)||Qn(t),change:t=>pt(t)||It(t)||Qn(t)},lx=(t,e)=>{const n=F(),r=Ke(jM,void 0),i=k(()=>!!r),o=k({get(){return i.value?r.modelValue:t.modelValue},set(c){i.value?r.changeEvent(c):e(bt,c),n.value.checked=t.modelValue===t.label}}),s=Pn(k(()=>r==null?void 0:r.size)),a=Ul(k(()=>r==null?void 0:r.disabled)),l=F(!1),u=k(()=>a.value||i.value&&o.value!==t.label?-1:0);return{radioRef:n,isGroup:i,radioGroup:r,focus:l,size:s,disabled:a,tabIndex:u,modelValue:o}},_H=pe({name:"ElRadio",props:wH,emits:ax,setup(t,{emit:e}){const n=$e("radio"),{radioRef:r,isGroup:i,focus:o,size:s,disabled:a,tabIndex:l,modelValue:u}=lx(t,e);function c(){et(()=>e("change",u.value))}return{ns:n,focus:o,isGroup:i,modelValue:u,tabIndex:l,size:s,disabled:a,radioRef:r,handleChange:c}}}),SH=["aria-checked","aria-disabled","tabindex"],CH=["value","name","disabled"];function MH(t,e,n,r,i,o){return E(),V("label",{class:$([t.ns.b(),t.ns.is("disabled",t.disabled),t.ns.is("focus",t.focus),t.ns.is("bordered",t.border),t.ns.is("checked",t.modelValue===t.label),t.ns.m(t.size)]),role:"radio","aria-checked":t.modelValue===t.label,"aria-disabled":t.disabled,tabindex:t.tabIndex,onKeydown:e[5]||(e[5]=Mt(ot(s=>t.modelValue=t.disabled?t.modelValue:t.label,["stop","prevent"]),["space"]))},[G("span",{class:$([t.ns.e("input"),t.ns.is("disabled",t.disabled),t.ns.is("checked",t.modelValue===t.label)])},[G("span",{class:$(t.ns.e("inner"))},null,2),ut(G("input",{ref:"radioRef","onUpdate:modelValue":e[0]||(e[0]=s=>t.modelValue=s),class:$(t.ns.e("original")),value:t.label,type:"radio","aria-hidden":"true",name:t.name,disabled:t.disabled,tabindex:"-1",onFocus:e[1]||(e[1]=s=>t.focus=!0),onBlur:e[2]||(e[2]=s=>t.focus=!1),onChange:e[3]||(e[3]=(...s)=>t.handleChange&&t.handleChange(...s))},null,42,CH),[[UC,t.modelValue]])],2),G("span",{class:$(t.ns.e("label")),onKeydown:e[4]||(e[4]=ot(()=>{},["stop"]))},[Ce(t.$slots,"default",{},()=>[lt(Pe(t.label),1)])],34)],42,SH)}var xH=De(_H,[["render",MH],["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio.vue"]]);const EH=Je(Ue(Ee({},sx),{name:{type:String,default:""}})),TH=pe({name:"ElRadioButton",props:EH,setup(t,{emit:e}){const n=$e("radio"),{radioRef:r,isGroup:i,focus:o,size:s,disabled:a,tabIndex:l,modelValue:u,radioGroup:c}=lx(t,e),d=k(()=>({backgroundColor:(c==null?void 0:c.fill)||"",borderColor:(c==null?void 0:c.fill)||"",boxShadow:c!=null&&c.fill?`-1px 0 0 0 ${c.fill}`:"",color:(c==null?void 0:c.textColor)||""}));return{ns:n,isGroup:i,size:s,disabled:a,tabIndex:l,modelValue:u,focus:o,activeStyle:d,radioRef:r}}}),AH=["aria-checked","aria-disabled","tabindex"],kH=["value","name","disabled"];function PH(t,e,n,r,i,o){return E(),V("label",{class:$([t.ns.b("button"),t.ns.is("active",t.modelValue===t.label),t.ns.is("disabled",t.disabled),t.ns.is("focus",t.focus),t.ns.bm("button",t.size)]),role:"radio","aria-checked":t.modelValue===t.label,"aria-disabled":t.disabled,tabindex:t.tabIndex,onKeydown:e[4]||(e[4]=Mt(ot(s=>t.modelValue=t.disabled?t.modelValue:t.label,["stop","prevent"]),["space"]))},[ut(G("input",{ref:"radioRef","onUpdate:modelValue":e[0]||(e[0]=s=>t.modelValue=s),class:$(t.ns.be("button","original-radio")),value:t.label,type:"radio",name:t.name,disabled:t.disabled,tabindex:"-1",onFocus:e[1]||(e[1]=s=>t.focus=!0),onBlur:e[2]||(e[2]=s=>t.focus=!1)},null,42,kH),[[UC,t.modelValue]]),G("span",{class:$(t.ns.be("button","inner")),style:Ye(t.modelValue===t.label?t.activeStyle:{}),onKeydown:e[3]||(e[3]=ot(()=>{},["stop"]))},[Ce(t.$slots,"default",{},()=>[lt(Pe(t.label),1)])],38)],42,AH)}var ux=De(TH,[["render",PH],["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio-button.vue"]]);const LH=Je({size:Ih,disabled:Boolean,modelValue:{type:[String,Number,Boolean],default:""},fill:{type:String,default:""},textColor:{type:String,default:""}}),RH=ax,IH=pe({name:"ElRadioGroup",props:LH,emits:RH,setup(t,e){const n=$e("radio"),r=F(),{formItem:i}=Wl(),o=a=>{e.emit(bt,a),et(()=>e.emit("change",a))},s=a=>{if(!r.value)return;const l=a.target,u=l.nodeName==="INPUT"?"[type=radio]":"[role=radio]",c=r.value.querySelectorAll(u),d=c.length,f=Array.from(c).indexOf(l),h=r.value.querySelectorAll("[role=radio]");let m=null;switch(a.code){case qe.left:case qe.up:a.stopPropagation(),a.preventDefault(),m=f===0?d-1:f-1;break;case qe.right:case qe.down:a.stopPropagation(),a.preventDefault(),m=f===d-1?0:f+1;break}m!==null&&(h[m].click(),h[m].focus())};return ft(()=>{const a=r.value.querySelectorAll("[type=radio]"),l=a[0];!Array.from(a).some(u=>u.checked)&&l&&(l.tabIndex=0)}),Ct(jM,Ot(Ue(Ee({},Bn(t)),{changeEvent:o}))),Me(()=>t.modelValue,()=>i==null?void 0:i.validate("change").catch(a=>void 0)),{ns:n,radioGroupRef:r,handleKeydown:s}}});function DH(t,e,n,r,i,o){return E(),V("div",{ref:"radioGroupRef",class:$(t.ns.b("group")),role:"radiogroup",onKeydown:e[0]||(e[0]=(...s)=>t.handleKeydown&&t.handleKeydown(...s))},[Ce(t.$slots,"default")],34)}var cx=De(IH,[["render",DH],["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio-group.vue"]]);const dx=_t(xH,{RadioButton:ux,RadioGroup:cx}),$H=pn(cx),NH=pn(ux);var OH=pe({name:"NodeContent",setup(){return{ns:$e("cascader-node")}},render(){const{ns:t}=this,{node:e,panel:n}=this.$parent,{data:r,label:i}=e,{renderLabelFn:o}=n;return Xe("span",{class:t.e("label")},o?o({node:e,data:r}):i)}});const w0=Symbol(),FH=pe({name:"ElCascaderNode",components:{ElCheckbox:Ti,ElRadio:dx,NodeContent:OH,ElIcon:st,Check:bl,Loading:us,ArrowRight:si},props:{node:{type:Object,required:!0},menuId:String},emits:["expand"],setup(t,{emit:e}){const n=Ke(w0),r=$e("cascader-node"),i=k(()=>n.isHoverMenu),o=k(()=>n.config.multiple),s=k(()=>n.config.checkStrictly),a=k(()=>{var S;return(S=n.checkedNodes[0])==null?void 0:S.uid}),l=k(()=>t.node.isDisabled),u=k(()=>t.node.isLeaf),c=k(()=>s.value&&!u.value||!l.value),d=k(()=>h(n.expandingNode)),f=k(()=>s.value&&n.checkedNodes.some(h)),h=S=>{var M;const{level:T,uid:N}=t.node;return((M=S==null?void 0:S.pathNodes[T-1])==null?void 0:M.uid)===N},m=()=>{d.value||n.expandNode(t.node)},g=S=>{const{node:M}=t;S!==M.checked&&n.handleCheckChange(M,S)},p=()=>{n.lazyLoad(t.node,()=>{u.value||m()})},v=S=>{!i.value||(y(),!u.value&&e("expand",S))},y=()=>{const{node:S}=t;!c.value||S.loading||(S.loaded?m():p())},w=()=>{i.value&&!u.value||(u.value&&!l.value&&!s.value&&!o.value?b(!0):y())},_=S=>{s.value?(g(S),t.node.loaded&&m()):b(S)},b=S=>{t.node.loaded?(g(S),!s.value&&m()):p()};return{panel:n,isHoverMenu:i,multiple:o,checkStrictly:s,checkedNodeId:a,isDisabled:l,isLeaf:u,expandable:c,inExpandingPath:d,inCheckedPath:f,ns:r,handleHoverExpand:v,handleExpand:y,handleClick:w,handleCheck:b,handleSelectCheck:_}}}),BH=["id","aria-haspopup","aria-owns","aria-expanded","tabindex"],zH=G("span",null,null,-1);function VH(t,e,n,r,i,o){const s=ve("el-checkbox"),a=ve("el-radio"),l=ve("check"),u=ve("el-icon"),c=ve("node-content"),d=ve("loading"),f=ve("arrow-right");return E(),V("li",{id:`${t.menuId}-${t.node.uid}`,role:"menuitem","aria-haspopup":!t.isLeaf,"aria-owns":t.isLeaf?null:t.menuId,"aria-expanded":t.inExpandingPath,tabindex:t.expandable?-1:void 0,class:$([t.ns.b(),t.ns.is("selectable",t.checkStrictly),t.ns.is("active",t.node.checked),t.ns.is("disabled",!t.expandable),t.inExpandingPath&&"in-active-path",t.inCheckedPath&&"in-checked-path"]),onMouseenter:e[2]||(e[2]=(...h)=>t.handleHoverExpand&&t.handleHoverExpand(...h)),onFocus:e[3]||(e[3]=(...h)=>t.handleHoverExpand&&t.handleHoverExpand(...h)),onClick:e[4]||(e[4]=(...h)=>t.handleClick&&t.handleClick(...h))},[ue(" prefix "),t.multiple?(E(),fe(s,{key:0,"model-value":t.node.checked,indeterminate:t.node.indeterminate,disabled:t.isDisabled,onClick:e[0]||(e[0]=ot(()=>{},["stop"])),"onUpdate:modelValue":t.handleSelectCheck},null,8,["model-value","indeterminate","disabled","onUpdate:modelValue"])):t.checkStrictly?(E(),fe(a,{key:1,"model-value":t.checkedNodeId,label:t.node.uid,disabled:t.isDisabled,"onUpdate:modelValue":t.handleSelectCheck,onClick:e[1]||(e[1]=ot(()=>{},["stop"]))},{default:X(()=>[ue(`
        Add an empty element to avoid render label,
        do not use empty fragment here for https://github.com/vuejs/vue-next/pull/2485
      `),zH]),_:1},8,["model-value","label","disabled","onUpdate:modelValue"])):t.isLeaf&&t.node.checked?(E(),fe(u,{key:2,class:$(t.ns.e("prefix"))},{default:X(()=>[Z(l)]),_:1},8,["class"])):ue("v-if",!0),ue(" content "),Z(c),ue(" postfix "),t.isLeaf?ue("v-if",!0):(E(),V(Ze,{key:3},[t.node.loading?(E(),fe(u,{key:0,class:$([t.ns.is("loading"),t.ns.e("postfix")])},{default:X(()=>[Z(d)]),_:1},8,["class"])):(E(),fe(u,{key:1,class:$(["arrow-right",t.ns.e("postfix")])},{default:X(()=>[Z(f)]),_:1},8,["class"]))],2112))],42,BH)}var HH=De(FH,[["render",VH],["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/node.vue"]]);const UH=pe({name:"ElCascaderMenu",components:{Loading:us,ElIcon:st,ElScrollbar:ko,ElCascaderNode:HH},props:{nodes:{type:Array,required:!0},index:{type:Number,required:!0}},setup(t){const e=wt(),n=$e("cascader-menu"),{t:r}=Gt(),i=$c();let o=null,s=null;const a=Ke(w0),l=F(null),u=k(()=>!t.nodes.length),c=k(()=>!a.initialLoaded),d=k(()=>`cascader-menu-${i}-${t.index}`),f=p=>{o=p.target},h=p=>{if(!(!a.isHoverMenu||!o||!l.value))if(o.contains(p.target)){m();const v=e.vnode.el,{left:y}=v.getBoundingClientRect(),{offsetWidth:w,offsetHeight:_}=v,b=p.clientX-y,S=o.offsetTop,M=S+o.offsetHeight;l.value.innerHTML=`
          <path style="pointer-events: auto;" fill="transparent" d="M${b} ${S} L${w} 0 V${S} Z" />
          <path style="pointer-events: auto;" fill="transparent" d="M${b} ${M} L${w} ${_} V${M} Z" />
        `}else s||(s=window.setTimeout(g,a.config.hoverThreshold))},m=()=>{!s||(clearTimeout(s),s=null)},g=()=>{!l.value||(l.value.innerHTML="",m())};return{ns:n,panel:a,hoverZone:l,isEmpty:u,isLoading:c,menuId:d,t:r,handleExpand:f,handleMouseMove:h,clearHoverZone:g}}});function WH(t,e,n,r,i,o){const s=ve("el-cascader-node"),a=ve("loading"),l=ve("el-icon"),u=ve("el-scrollbar");return E(),fe(u,{key:t.menuId,tag:"ul",role:"menu",class:$(t.ns.b()),"wrap-class":t.ns.e("wrap"),"view-class":[t.ns.e("list"),t.ns.is("empty",t.isEmpty)],onMousemove:t.handleMouseMove,onMouseleave:t.clearHoverZone},{default:X(()=>{var c;return[(E(!0),V(Ze,null,xt(t.nodes,d=>(E(),fe(s,{key:d.uid,node:d,"menu-id":t.menuId,onExpand:t.handleExpand},null,8,["node","menu-id","onExpand"]))),128)),t.isLoading?(E(),V("div",{key:0,class:$(t.ns.e("empty-text"))},[Z(l,{size:"14",class:$(t.ns.is("loading"))},{default:X(()=>[Z(a)]),_:1},8,["class"]),lt(" "+Pe(t.t("el.cascader.loading")),1)],2)):t.isEmpty?(E(),V("div",{key:1,class:$(t.ns.e("empty-text"))},Pe(t.t("el.cascader.noData")),3)):(c=t.panel)!=null&&c.isHoverMenu?(E(),V("svg",{key:2,ref:"hoverZone",class:$(t.ns.e("hover-zone"))},null,2)):ue("v-if",!0)]}),_:1},8,["class","wrap-class","view-class","onMousemove","onMouseleave"])}var GH=De(UH,[["render",WH],["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/menu.vue"]]),_0=(t=>(t.CLICK="click",t.HOVER="hover",t))(_0||{});let jH=0;const KH=t=>{const e=[t];let{parent:n}=t;for(;n;)e.unshift(n),n=n.parent;return e};class El{constructor(e,n,r,i=!1){this.data=e,this.config=n,this.parent=r,this.root=i,this.uid=jH++,this.checked=!1,this.indeterminate=!1,this.loading=!1;const{value:o,label:s,children:a}=n,l=e[a],u=KH(this);this.level=i?0:r?r.level+1:1,this.value=e[o],this.label=e[s],this.pathNodes=u,this.pathValues=u.map(c=>c.value),this.pathLabels=u.map(c=>c.label),this.childrenData=l,this.children=(l||[]).map(c=>new El(c,n,this)),this.loaded=!n.lazy||this.isLeaf||!lc(l)}get isDisabled(){const{data:e,parent:n,config:r}=this,{disabled:i,checkStrictly:o}=r;return(gt(i)?i(e,this):!!e[i])||!o&&(n==null?void 0:n.isDisabled)}get isLeaf(){const{data:e,config:n,childrenData:r,loaded:i}=this,{lazy:o,leaf:s}=n,a=gt(s)?s(e,this):e[s];return Rr(a)?o&&!i?!1:!(Array.isArray(r)&&r.length):!!a}get valueByOption(){return this.config.emitPath?this.pathValues:this.value}appendChild(e){const{childrenData:n,children:r}=this,i=new El(e,this.config,this);return Array.isArray(n)?n.push(e):this.childrenData=[e],r.push(i),i}calcText(e,n){const r=e?this.pathLabels.join(n):this.label;return this.text=r,r}broadcast(e,...n){const r=`onParent${Pr(e)}`;this.children.forEach(i=>{i&&(i.broadcast(e,...n),i[r]&&i[r](...n))})}emit(e,...n){const{parent:r}=this,i=`onChild${Pr(e)}`;r&&(r[i]&&r[i](...n),r.emit(e,...n))}onParentCheck(e){this.isDisabled||this.setCheckState(e)}onChildCheck(){const{children:e}=this,n=e.filter(i=>!i.isDisabled),r=n.length?n.every(i=>i.checked):!1;this.setCheckState(r)}setCheckState(e){const n=this.children.length,r=this.children.reduce((i,o)=>{const s=o.checked?1:o.indeterminate?.5:0;return i+s},0);this.checked=this.loaded&&this.children.every(i=>i.loaded&&i.checked)&&e,this.indeterminate=this.loaded&&r!==n&&r>0}doCheck(e){if(this.checked===e)return;const{checkStrictly:n,multiple:r}=this.config;n||!r?this.checked=e:(this.broadcast("check",e),this.setCheckState(e),this.emit("check"))}}const xg=(t,e)=>t.reduce((n,r)=>(r.isLeaf?n.push(r):(!e&&n.push(r),n=n.concat(xg(r.children,e))),n),[]);class D1{constructor(e,n){this.config=n;const r=(e||[]).map(i=>new El(i,this.config));this.nodes=r,this.allNodes=xg(r,!1),this.leafNodes=xg(r,!0)}getNodes(){return this.nodes}getFlattedNodes(e){return e?this.leafNodes:this.allNodes}appendNode(e,n){const r=n?n.appendChild(e):new El(e,this.config);n||this.nodes.push(r),this.allNodes.push(r),r.isLeaf&&this.leafNodes.push(r)}appendNodes(e,n){e.forEach(r=>this.appendNode(r,n))}getNodeByValue(e,n=!1){return!e&&e!==0?null:this.getFlattedNodes(n).find(i=>Fr(i.value,e)||Fr(i.pathValues,e))||null}getSameNode(e){return e&&this.getFlattedNodes(!1).find(({value:r,level:i})=>Fr(e.value,r)&&e.level===i)||null}}const fx={modelValue:[Number,String,Array],options:{type:Array,default:()=>[]},props:{type:Object,default:()=>({})}},qH={expandTrigger:_0.CLICK,multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:Vt,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500},YH=t=>k(()=>Ee(Ee({},qH),t.props)),$1=t=>{if(!t)return 0;const e=t.id.split("-");return Number(e[e.length-2])},XH=t=>{if(!t)return;const e=t.querySelector("input");e?e.click():SM(t)&&t.click()},ZH=(t,e)=>{const n=e.slice(0),r=n.map(o=>o.uid),i=t.reduce((o,s)=>{const a=r.indexOf(s.uid);return a>-1&&(o.push(s),n.splice(a,1),r.splice(a,1)),o},[]);return i.push(...n),i},JH=pe({name:"ElCascaderPanel",components:{ElCascaderMenu:GH},props:Ue(Ee({},fx),{border:{type:Boolean,default:!0},renderLabel:Function}),emits:[bt,zn,"close","expand-change"],setup(t,{emit:e,slots:n}){let r=!1;const i=$e("cascader"),o=YH(t);let s=null;const a=F(!0),l=F([]),u=F(null),c=F([]),d=F(null),f=F([]),h=k(()=>o.value.expandTrigger===_0.HOVER),m=k(()=>t.renderLabel||n.default),g=()=>{const{options:R}=t,O=o.value;r=!1,s=new D1(R,O),c.value=[s.getNodes()],O.lazy&&lc(t.options)?(a.value=!1,p(void 0,D=>{D&&(s=new D1(D,O),c.value=[s.getNodes()]),a.value=!0,T(!1,!0)})):T(!1,!0)},p=(R,O)=>{const D=o.value;R=R||new El({},D,void 0,!0),R.loading=!0;const B=L=>{const A=R,P=A.root?null:A;L&&(s==null||s.appendNodes(L,P)),A.loading=!1,A.loaded=!0,A.childrenData=A.childrenData||[],O&&O(L)};D.lazyLoad(R,B)},v=(R,O)=>{var D;const{level:B}=R,L=c.value.slice(0,B);let A;R.isLeaf?A=R.pathNodes[B-2]:(A=R,L.push(R.children)),((D=d.value)==null?void 0:D.uid)!==(A==null?void 0:A.uid)&&(d.value=R,c.value=L,!O&&e("expand-change",(R==null?void 0:R.pathValues)||[]))},y=(R,O,D=!0)=>{const{checkStrictly:B,multiple:L}=o.value,A=f.value[0];r=!0,!L&&(A==null||A.doCheck(!1)),R.doCheck(O),M(),D&&!L&&!B&&e("close"),!D&&!L&&!B&&w(R)},w=R=>{!R||(R=R.parent,w(R),R&&v(R))},_=R=>s==null?void 0:s.getFlattedNodes(R),b=R=>{var O;return(O=_(R))==null?void 0:O.filter(D=>D.checked!==!1)},S=()=>{f.value.forEach(R=>R.doCheck(!1)),M()},M=()=>{var R;const{checkStrictly:O,multiple:D}=o.value,B=f.value,L=b(!O),A=ZH(B,L),P=A.map(W=>W.valueByOption);f.value=A,u.value=D?P:(R=P[0])!=null?R:null},T=(R=!1,O=!1)=>{const{modelValue:D}=t,{lazy:B,multiple:L,checkStrictly:A}=o.value,P=!A;if(!(!a.value||r||!O&&Fr(D,u.value)))if(B&&!R){const K=Yb(v$(qs(D))).map(te=>s==null?void 0:s.getNodeByValue(te)).filter(te=>!!te&&!te.loaded&&!te.loading);K.length?K.forEach(te=>{p(te,()=>T(!1,O))}):T(!0,O)}else{const W=L?qs(D):[D],K=Yb(W.map(te=>s==null?void 0:s.getNodeByValue(te,P)));N(K,!1),u.value=D}},N=(R,O=!0)=>{const{checkStrictly:D}=o.value,B=f.value,L=R.filter(W=>!!W&&(D||W.isLeaf)),A=s==null?void 0:s.getSameNode(d.value),P=O&&A||L[0];P?P.pathNodes.forEach(W=>v(W,!0)):d.value=null,B.forEach(W=>W.doCheck(!1)),L.forEach(W=>W.doCheck(!0)),f.value=L,et(I)},I=()=>{!Tt||l.value.forEach(R=>{const O=R==null?void 0:R.$el;if(O){const D=O.querySelector(`.${i.namespace.value}-scrollbar__wrap`),B=O.querySelector(`.${i.b("node")}.${i.is("active")}`)||O.querySelector(`.${i.b("node")}.in-active-path`);TM(D,B)}})},x=R=>{const O=R.target,{code:D}=R;switch(D){case qe.up:case qe.down:{R.preventDefault();const B=D===qe.up?-1:1;ef(CM(O,B,`.${i.b("node")}[tabindex="-1"]`));break}case qe.left:{R.preventDefault();const B=l.value[$1(O)-1],L=B==null?void 0:B.$el.querySelector(`.${i.b("node")}[aria-expanded="true"]`);ef(L);break}case qe.right:{R.preventDefault();const B=l.value[$1(O)+1],L=B==null?void 0:B.$el.querySelector(`.${i.b("node")}[tabindex="-1"]`);ef(L);break}case qe.enter:XH(O);break;case qe.esc:case qe.tab:e("close");break}};return Ct(w0,Ot({config:o,expandingNode:d,checkedNodes:f,isHoverMenu:h,initialLoaded:a,renderLabelFn:m,lazyLoad:p,expandNode:v,handleCheckChange:y})),Me([o,()=>t.options],g,{deep:!0,immediate:!0}),Me(()=>t.modelValue,()=>{r=!1,T()}),Me(u,R=>{Fr(R,t.modelValue)||(e(bt,R),e(zn,R))}),gC(()=>l.value=[]),ft(()=>!lc(t.modelValue)&&T()),{ns:i,menuList:l,menus:c,checkedNodes:f,handleKeyDown:x,handleCheckChange:y,getFlattedNodes:_,getCheckedNodes:b,clearCheckedNodes:S,calculateCheckedValue:M,scrollToExpandingNode:I}}});function QH(t,e,n,r,i,o){const s=ve("el-cascader-menu");return E(),V("div",{class:$([t.ns.b("panel"),t.ns.is("bordered",t.border)]),onKeydown:e[0]||(e[0]=(...a)=>t.handleKeyDown&&t.handleKeyDown(...a))},[(E(!0),V(Ze,null,xt(t.menus,(a,l)=>(E(),fe(s,{key:l,ref_for:!0,ref:u=>t.menuList[l]=u,index:l,nodes:[...a]},null,8,["index","nodes"]))),128))],34)}var lf=De(JH,[["render",QH],["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/index.vue"]]);lf.install=t=>{t.component(lf.name,lf)};const hx=lf,eU=hx,S0=Je({closable:Boolean,type:{type:String,values:["success","info","warning","danger",""],default:""},hit:Boolean,disableTransitions:Boolean,color:{type:String,default:""},size:{type:String,values:Ki,default:""},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),tU={close:t=>t instanceof MouseEvent,click:t=>t instanceof MouseEvent},nU={name:"ElTag"},rU=pe(Ue(Ee({},nU),{props:S0,emits:tU,setup(t,{emit:e}){const n=t,r=Pn(),i=$e("tag"),o=k(()=>{const{type:l,hit:u,effect:c,closable:d,round:f}=n;return[i.b(),i.is("closable",d),i.m(l),i.m(r.value),i.m(c),i.is("hit",u),i.is("round",f)]}),s=l=>{l.stopPropagation(),e("close",l)},a=l=>{e("click",l)};return(l,u)=>l.disableTransitions?(E(),fe(En,{key:1,name:`${C(i).namespace.value}-zoom-in-center`},{default:X(()=>[G("span",{class:$(C(o)),style:Ye({backgroundColor:l.color}),onClick:a},[G("span",{class:$(C(i).e("content"))},[Ce(l.$slots,"default")],2),l.closable?(E(),fe(C(st),{key:0,class:$(C(i).e("close")),onClick:s},{default:X(()=>[Z(C(ti))]),_:1},8,["class"])):ue("v-if",!0)],6)]),_:3},8,["name"])):(E(),V("span",{key:0,class:$(C(o)),style:Ye({backgroundColor:l.color}),onClick:a},[G("span",{class:$(C(i).e("content"))},[Ce(l.$slots,"default")],2),l.closable?(E(),fe(C(st),{key:0,class:$(C(i).e("close")),onClick:s},{default:X(()=>[Z(C(ti))]),_:1},8,["class"])):ue("v-if",!0)],6))}}));var iU=De(rU,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tag/src/tag.vue"]]);const Fh=_t(iU),oU=40,sU={large:36,default:32,small:28},aU={modifiers:[{name:"arrowPosition",enabled:!0,phase:"main",fn:({state:t})=>{const{modifiersData:e,placement:n}=t;["right","left","bottom","top"].includes(n)||(e.arrow.x=35)},requires:["arrow"]}]},N1="ElCascader",lU=pe({name:N1,components:{ElCascaderPanel:hx,ElInput:ai,ElTooltip:Cr,ElScrollbar:ko,ElTag:Fh,ElIcon:st,CircleClose:bo,Check:bl,ArrowDown:ha},directives:{Clickoutside:ma},props:Ue(Ee({},fx),{size:{type:String,validator:Hr},placeholder:{type:String},disabled:Boolean,clearable:Boolean,filterable:Boolean,filterMethod:{type:Function,default:(t,e)=>t.text.includes(e)},separator:{type:String,default:" / "},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,collapseTagsTooltip:{type:Boolean,default:!1},debounce:{type:Number,default:300},beforeFilter:{type:Function,default:()=>!0},popperClass:{type:String,default:""},popperAppendToBody:{type:Boolean,default:void 0},teleported:qn.teleported,tagType:Ue(Ee({},S0.type),{default:"info"})}),emits:[bt,zn,"focus","blur","visible-change","expand-change","remove-tag"],setup(t,{emit:e}){let n=0,r=0;const{compatTeleported:i}=Gl(N1,"popperAppendToBody"),o=$e("cascader"),s=$e("input"),{t:a}=Gt(),l=Ke(Wr,{}),u=Ke(ni,{}),c=F(null),d=F(null),f=F(null),h=F(null),m=F(null),g=F(!1),p=F(!1),v=F(!1),y=F(""),w=F(""),_=F([]),b=F([]),S=F([]),M=F(!1),T=k(()=>t.disabled||l.disabled),N=k(()=>t.placeholder||a("el.cascader.placeholder")),I=Pn(),x=k(()=>["small"].includes(I.value)?"small":"default"),R=k(()=>!!t.props.multiple),O=k(()=>!t.filterable||R.value),D=k(()=>R.value?w.value:y.value),B=k(()=>{var ee;return((ee=h.value)==null?void 0:ee.checkedNodes)||[]}),L=k(()=>!t.clearable||T.value||v.value||!p.value?!1:!!B.value.length),A=k(()=>{const{showAllLevels:ee,separator:le}=t,ae=B.value;return ae.length?R.value?" ":ae[0].calcText(ee,le):""}),P=k({get(){return t.modelValue},set(ee){var le;e(bt,ee),e(zn,ee),(le=u.validate)==null||le.call(u,"change").catch(ae=>void 0)}}),W=k(()=>{var ee,le;return(le=(ee=c.value)==null?void 0:ee.popperRef)==null?void 0:le.contentRef}),K=ee=>{var le,ae,z;if(!T.value&&(ee=ee!=null?ee:!g.value,ee!==g.value)){if(g.value=ee,(ae=(le=d.value)==null?void 0:le.input)==null||ae.setAttribute("aria-expanded",`${ee}`),ee)te(),et((z=h.value)==null?void 0:z.scrollToExpandingNode);else if(t.filterable){const{value:H}=A;y.value=H,w.value=H}e("visible-change",ee)}},te=()=>{et(()=>{var ee;(ee=c.value)==null||ee.updatePopper()})},J=()=>{v.value=!1},se=ee=>{const{showAllLevels:le,separator:ae}=t;return{node:ee,key:ee.uid,text:ee.calcText(le,ae),hitState:!1,closable:!T.value&&!ee.isDisabled,isCollapseTag:!1}},Te=ee=>{var le;const ae=ee.node;ae.doCheck(!1),(le=h.value)==null||le.calculateCheckedValue(),e("remove-tag",ae.valueByOption)},Le=()=>{if(!R.value)return;const ee=B.value,le=[],ae=[];if(ee.forEach(z=>ae.push(se(z))),b.value=ae,ee.length){const[z,...H]=ee,j=H.length;le.push(se(z)),j&&(t.collapseTags?le.push({key:-1,text:`+ ${j}`,closable:!1,isCollapseTag:!0}):H.forEach(ce=>le.push(se(ce))))}_.value=le},q=()=>{var ee,le;const{filterMethod:ae,showAllLevels:z,separator:H}=t,j=(le=(ee=h.value)==null?void 0:ee.getFlattedNodes(!t.props.checkStrictly))==null?void 0:le.filter(ce=>ce.isDisabled?!1:(ce.calcText(z,H),ae(ce,D.value)));R.value&&(_.value.forEach(ce=>{ce.hitState=!1}),b.value.forEach(ce=>{ce.hitState=!1})),v.value=!0,S.value=j,te()},re=()=>{var ee;let le;v.value&&m.value?le=m.value.$el.querySelector(`.${o.e("suggestion-item")}`):le=(ee=h.value)==null?void 0:ee.$el.querySelector(`.${o.b("node")}[tabindex="-1"]`),le&&(le.focus(),!v.value&&le.click())},he=()=>{var ee,le;const ae=(ee=d.value)==null?void 0:ee.input,z=f.value,H=(le=m.value)==null?void 0:le.$el;if(!(!Tt||!ae)){if(H){const j=H.querySelector(`.${o.e("suggestion-list")}`);j.style.minWidth=`${ae.offsetWidth}px`}if(z){const{offsetHeight:j}=z,ce=_.value.length>0?`${Math.max(j+6,n)}px`:`${n}px`;ae.style.height=ce,te()}}},we=ee=>{var le;return(le=h.value)==null?void 0:le.getCheckedNodes(ee)},ye=ee=>{te(),e("expand-change",ee)},ze=ee=>{var le;const ae=(le=ee.target)==null?void 0:le.value;if(ee.type==="compositionend")M.value=!1,et(()=>Ae(ae));else{const z=ae[ae.length-1]||"";M.value=!Ph(z)}},be=ee=>{if(!M.value)switch(ee.code){case qe.enter:K();break;case qe.down:K(!0),et(re),ee.preventDefault();break;case qe.esc:case qe.tab:K(!1);break}},U=()=>{var ee;(ee=h.value)==null||ee.clearCheckedNodes(),K(!1)},Q=ee=>{var le,ae;const{checked:z}=ee;R.value?(le=h.value)==null||le.handleCheckChange(ee,!z,!1):(!z&&((ae=h.value)==null||ae.handleCheckChange(ee,!0,!1)),K(!1))},de=ee=>{const le=ee.target,{code:ae}=ee;switch(ae){case qe.up:case qe.down:{const z=ae===qe.up?-1:1;ef(CM(le,z,`.${o.e("suggestion-item")}[tabindex="-1"]`));break}case qe.enter:le.click();break;case qe.esc:case qe.tab:K(!1);break}},me=()=>{const ee=_.value,le=ee[ee.length-1];r=w.value?0:r+1,!(!le||!r)&&(le.hitState?Te(le):le.hitState=!0)},Se=_r(()=>{const{value:ee}=D;if(!ee)return;const le=t.beforeFilter(ee);ea(le)?le.then(q).catch(()=>{}):le!==!1?q():J()},t.debounce),Ae=(ee,le)=>{!g.value&&K(!0),!(le!=null&&le.isComposing)&&(ee?Se():J())};return Me(v,te),Me([B,T],Le),Me(_,()=>{et(()=>he())}),Me(A,ee=>y.value=ee,{immediate:!0}),ft(()=>{var ee;const le=(ee=d.value)==null?void 0:ee.$el;n=(le==null?void 0:le.offsetHeight)||sU[I.value]||oU,zl(le,he)}),rn(()=>{var ee;Vl((ee=d.value)==null?void 0:ee.$el,he)}),{popperOptions:aU,tooltipRef:c,popperPaneRef:W,input:d,tagWrapper:f,panel:h,suggestionPanel:m,popperVisible:g,inputHover:p,inputPlaceholder:N,filtering:v,presentText:A,checkedValue:P,inputValue:y,searchInputValue:w,presentTags:_,allPresentTags:b,suggestions:S,isDisabled:T,isOnComposition:M,realSize:I,tagSize:x,multiple:R,readonly:O,clearBtnVisible:L,compatTeleported:i,nsCascader:o,nsInput:s,t:a,togglePopperVisible:K,hideSuggestionPanel:J,deleteTag:Te,focusFirstNode:re,getCheckedNodes:we,handleExpandChange:ye,handleKeyDown:be,handleComposition:ze,handleClear:U,handleSuggestionClick:Q,handleSuggestionKeyDown:de,handleDelete:me,handleInput:Ae}}}),uU={key:0},cU={class:"el-cascader__collapse-tags"},dU=["placeholder"],fU=["onClick"];function hU(t,e,n,r,i,o){const s=ve("circle-close"),a=ve("el-icon"),l=ve("arrow-down"),u=ve("el-input"),c=ve("el-tag"),d=ve("el-tooltip"),f=ve("el-cascader-panel"),h=ve("check"),m=ve("el-scrollbar"),g=Vr("clickoutside");return E(),fe(d,{ref:"tooltipRef",visible:t.popperVisible,"onUpdate:visible":e[17]||(e[17]=p=>t.popperVisible=p),teleported:t.compatTeleported,"popper-class":[t.nsCascader.e("dropdown"),t.popperClass],"popper-options":t.popperOptions,"fallback-placements":["bottom-start","bottom","top-start","top","right","left"],"stop-popper-mouse-event":!1,"gpu-acceleration":!1,placement:"bottom-start",transition:`${t.nsCascader.namespace.value}-zoom-in-top`,effect:"light",pure:"",persistent:"",onHide:t.hideSuggestionPanel},{default:X(()=>[ut((E(),V("div",{class:$([t.nsCascader.b(),t.nsCascader.m(t.realSize),t.nsCascader.is("disabled",t.isDisabled),t.$attrs.class]),style:Ye(t.$attrs.style),onClick:e[11]||(e[11]=()=>t.togglePopperVisible(t.readonly?void 0:!0)),onKeydown:e[12]||(e[12]=(...p)=>t.handleKeyDown&&t.handleKeyDown(...p)),onMouseenter:e[13]||(e[13]=p=>t.inputHover=!0),onMouseleave:e[14]||(e[14]=p=>t.inputHover=!1)},[Z(u,{ref:"input",modelValue:t.inputValue,"onUpdate:modelValue":e[1]||(e[1]=p=>t.inputValue=p),placeholder:t.inputPlaceholder,readonly:t.readonly,disabled:t.isDisabled,"validate-event":!1,size:t.realSize,class:$(t.nsCascader.is("focus",t.popperVisible)),onCompositionstart:t.handleComposition,onCompositionupdate:t.handleComposition,onCompositionend:t.handleComposition,onFocus:e[2]||(e[2]=p=>t.$emit("focus",p)),onBlur:e[3]||(e[3]=p=>t.$emit("blur",p)),onInput:t.handleInput},{suffix:X(()=>[t.clearBtnVisible?(E(),fe(a,{key:"clear",class:$([t.nsInput.e("icon"),"icon-circle-close"]),onClick:ot(t.handleClear,["stop"])},{default:X(()=>[Z(s)]),_:1},8,["class","onClick"])):(E(),fe(a,{key:"arrow-down",class:$([t.nsInput.e("icon"),"icon-arrow-down",t.nsCascader.is("reverse",t.popperVisible)]),onClick:e[0]||(e[0]=ot(p=>t.togglePopperVisible(),["stop"]))},{default:X(()=>[Z(l)]),_:1},8,["class"]))]),_:1},8,["modelValue","placeholder","readonly","disabled","size","class","onCompositionstart","onCompositionupdate","onCompositionend","onInput"]),t.multiple?(E(),V("div",{key:0,ref:"tagWrapper",class:$(t.nsCascader.e("tags"))},[(E(!0),V(Ze,null,xt(t.presentTags,p=>(E(),fe(c,{key:p.key,type:t.tagType,size:t.tagSize,hit:p.hitState,closable:p.closable,"disable-transitions":"",onClose:v=>t.deleteTag(p)},{default:X(()=>[p.isCollapseTag===!1?(E(),V("span",uU,Pe(p.text),1)):(E(),fe(d,{key:1,teleported:!1,disabled:t.popperVisible||!t.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],placement:"bottom",effect:"light"},{default:X(()=>[G("span",null,Pe(p.text),1)]),content:X(()=>[G("div",cU,[(E(!0),V(Ze,null,xt(t.allPresentTags,(v,y)=>(E(),V("div",{key:y,class:"el-cascader__collapse-tag"},[(E(),fe(c,{key:v.key,class:"in-tooltip",type:t.tagType,size:t.tagSize,hit:v.hitState,closable:v.closable,"disable-transitions":"",onClose:w=>t.deleteTag(v)},{default:X(()=>[G("span",null,Pe(v.text),1)]),_:2},1032,["type","size","hit","closable","onClose"]))]))),128))])]),_:2},1032,["disabled"]))]),_:2},1032,["type","size","hit","closable","onClose"]))),128)),t.filterable&&!t.isDisabled?ut((E(),V("input",{key:0,"onUpdate:modelValue":e[4]||(e[4]=p=>t.searchInputValue=p),type:"text",class:$(t.nsCascader.e("search-input")),placeholder:t.presentText?"":t.inputPlaceholder,onInput:e[5]||(e[5]=p=>t.handleInput(t.searchInputValue,p)),onClick:e[6]||(e[6]=ot(p=>t.togglePopperVisible(!0),["stop"])),onKeydown:e[7]||(e[7]=Mt((...p)=>t.handleDelete&&t.handleDelete(...p),["delete"])),onCompositionstart:e[8]||(e[8]=(...p)=>t.handleComposition&&t.handleComposition(...p)),onCompositionupdate:e[9]||(e[9]=(...p)=>t.handleComposition&&t.handleComposition(...p)),onCompositionend:e[10]||(e[10]=(...p)=>t.handleComposition&&t.handleComposition(...p))},null,42,dU)),[[Iv,t.searchInputValue]]):ue("v-if",!0)],2)):ue("v-if",!0)],38)),[[g,()=>t.togglePopperVisible(!1),t.popperPaneRef]])]),content:X(()=>[ut(Z(f,{ref:"panel",modelValue:t.checkedValue,"onUpdate:modelValue":e[15]||(e[15]=p=>t.checkedValue=p),options:t.options,props:t.props,border:!1,"render-label":t.$slots.default,onExpandChange:t.handleExpandChange,onClose:e[16]||(e[16]=p=>t.$nextTick(()=>t.togglePopperVisible(!1)))},null,8,["modelValue","options","props","render-label","onExpandChange"]),[[Lt,!t.filtering]]),t.filterable?ut((E(),fe(m,{key:0,ref:"suggestionPanel",tag:"ul",class:$(t.nsCascader.e("suggestion-panel")),"view-class":t.nsCascader.e("suggestion-list"),onKeydown:t.handleSuggestionKeyDown},{default:X(()=>[t.suggestions.length?(E(!0),V(Ze,{key:0},xt(t.suggestions,p=>(E(),V("li",{key:p.uid,class:$([t.nsCascader.e("suggestion-item"),t.nsCascader.is("checked",p.checked)]),tabindex:-1,onClick:v=>t.handleSuggestionClick(p)},[G("span",null,Pe(p.text),1),p.checked?(E(),fe(a,{key:0},{default:X(()=>[Z(h)]),_:1})):ue("v-if",!0)],10,fU))),128)):Ce(t.$slots,"empty",{key:1},()=>[G("li",{class:$(t.nsCascader.e("empty-text"))},Pe(t.t("el.cascader.noMatch")),3)])]),_:3},8,["class","view-class","onKeydown"])),[[Lt,t.filtering]]):ue("v-if",!0)]),_:3},8,["visible","teleported","popper-class","popper-options","transition","onHide"])}var uf=De(lU,[["render",hU],["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader/src/index.vue"]]);uf.install=t=>{t.component(uf.name,uf)};const pU=uf,mU=pU,gU=Je({checked:{type:Boolean,default:!1}}),vU={"update:checked":t=>Qn(t),change:t=>Qn(t)},yU={name:"ElCheckTag"},bU=pe(Ue(Ee({},yU),{props:gU,emits:vU,setup(t,{emit:e}){const n=t,r=$e("check-tag"),i=()=>{const o=!n.checked;e("change",o),e("update:checked",o)};return(o,s)=>(E(),V("span",{class:$([C(r).b(),C(r).is("checked",o.checked)]),onClick:i},[Ce(o.$slots,"default")],2))}}));var wU=De(bU,[["__file","/home/runner/work/element-plus/element-plus/packages/components/check-tag/src/check-tag.vue"]]);const _U=_t(wU),SU=Je({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:Fe([Number,Object]),default:()=>fn({})},sm:{type:Fe([Number,Object]),default:()=>fn({})},md:{type:Fe([Number,Object]),default:()=>fn({})},lg:{type:Fe([Number,Object]),default:()=>fn({})},xl:{type:Fe([Number,Object]),default:()=>fn({})}});var CU=pe({name:"ElCol",props:SU,setup(t,{slots:e}){const{gutter:n}=Ke(KM,{gutter:k(()=>0)}),r=$e("col"),i=k(()=>n.value?{paddingLeft:`${n.value/2}px`,paddingRight:`${n.value/2}px`}:{}),o=k(()=>{const s=[];return["span","offset","pull","push"].forEach(u=>{const c=t[u];typeof c=="number"&&(u==="span"?s.push(r.b(`${t[u]}`)):c>0&&s.push(r.b(`${u}-${t[u]}`)))}),["xs","sm","md","lg","xl"].forEach(u=>{if(typeof t[u]=="number")s.push(r.b(`${u}-${t[u]}`));else if(typeof t[u]=="object"){const c=t[u];Object.keys(c).forEach(d=>{s.push(d!=="span"?r.b(`${u}-${d}-${c[d]}`):r.b(`${u}-${c[d]}`))})}}),n.value&&s.push(r.is("guttered")),s});return()=>Z(t.tag,{class:[r.b(),o.value],style:i.value},e)}});const MU=_t(CU),O1=t=>typeof It(t),xU=Je({accordion:Boolean,modelValue:{type:Fe([Array,String,Number]),default:()=>fn([])}}),EU={[bt]:O1,[zn]:O1},TU={name:"ElCollapse"},AU=pe(Ue(Ee({},TU),{props:xU,emits:EU,setup(t,{expose:e,emit:n}){const r=t,i=$e("collapse"),o=F(oc(r.modelValue)),s=l=>{o.value=l;const u=r.accordion?o.value[0]:o.value;n(bt,u),n(zn,u)},a=l=>{if(r.accordion)s([(o.value[0]||o.value[0]===0)&&o.value[0]===l?"":l]);else{const u=[...o.value],c=u.indexOf(l);c>-1?u.splice(c,1):u.push(l),s(u)}};return Me(()=>r.modelValue,()=>o.value=oc(r.modelValue),{deep:!0}),Ct(HM,{activeNames:o,handleItemClick:a}),e({activeNames:o,setActiveNames:s}),(l,u)=>(E(),V("div",{class:$(C(i).b()),role:"tablist","aria-multiselectable":"true"},[Ce(l.$slots,"default")],2))}}));var kU=De(AU,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse/src/collapse.vue"]]);const PU=pe({name:"ElCollapseTransition",setup(){return{ns:$e("collapse-transition"),on:{beforeEnter(e){e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.style.maxHeight=0,e.style.paddingTop=0,e.style.paddingBottom=0},enter(e){e.dataset.oldOverflow=e.style.overflow,e.scrollHeight!==0?(e.style.maxHeight=`${e.scrollHeight}px`,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom):(e.style.maxHeight=0,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom),e.style.overflow="hidden"},afterEnter(e){e.style.maxHeight="",e.style.overflow=e.dataset.oldOverflow},beforeLeave(e){e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.dataset.oldOverflow=e.style.overflow,e.style.maxHeight=`${e.scrollHeight}px`,e.style.overflow="hidden"},leave(e){e.scrollHeight!==0&&(e.style.maxHeight=0,e.style.paddingTop=0,e.style.paddingBottom=0)},afterLeave(e){e.style.maxHeight="",e.style.overflow=e.dataset.oldOverflow,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom}}}}});function LU(t,e,n,r,i,o){return E(),fe(En,Qt({name:t.ns.b()},ok(t.on)),{default:X(()=>[Ce(t.$slots,"default")]),_:3},16,["name"])}var cf=De(PU,[["render",LU],["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse-transition/src/collapse-transition.vue"]]);cf.install=t=>{t.component(cf.name,cf)};const Bh=cf,RU=Bh,IU=Je({title:{type:String,default:""},name:{type:Fe([String,Number]),default:()=>$c()},disabled:Boolean}),DU=["aria-expanded","aria-controls","aria-describedby"],$U=["id","tabindex","onKeypress"],NU=["id","aria-hidden","aria-labelledby"],OU={name:"ElCollapseItem"},FU=pe(Ue(Ee({},OU),{props:IU,setup(t,{expose:e}){const n=t,r=Ke(HM),i=$e("collapse"),o=F(!1),s=F(!1),a=F($c()),l=k(()=>r==null?void 0:r.activeNames.value.includes(n.name)),u=()=>{setTimeout(()=>{s.value?s.value=!1:o.value=!0},50)},c=()=>{n.disabled||(r==null||r.handleItemClick(n.name),o.value=!1,s.value=!0)},d=()=>{r==null||r.handleItemClick(n.name)};return e({isActive:l}),(f,h)=>(E(),V("div",{class:$([C(i).b("item"),C(i).is("active",C(l)),C(i).is("disabled",f.disabled)])},[G("div",{role:"tab","aria-expanded":C(l),"aria-controls":C(i).b(`content-${a.value}`),"aria-describedby":C(i).b(`content-${a.value}`)},[G("div",{id:C(i).b(`head-${a.value}`),class:$([C(i).be("item","header"),C(i).is("active",C(l)),{focusing:o.value}]),role:"button",tabindex:f.disabled?-1:0,onClick:c,onKeypress:Mt(ot(d,["stop","prevent"]),["space","enter"]),onFocus:u,onBlur:h[0]||(h[0]=m=>o.value=!1)},[Ce(f.$slots,"title",{},()=>[lt(Pe(f.title),1)]),Z(C(st),{class:$([C(i).be("item","arrow"),C(i).is("active",C(l))])},{default:X(()=>[Z(C(si))]),_:1},8,["class"])],42,$U)],8,DU),Z(C(Bh),null,{default:X(()=>[ut(G("div",{id:C(i).b(`content-${a.value}`),class:$(C(i).be("item","wrap")),role:"tabpanel","aria-hidden":!C(l),"aria-labelledby":C(i).b(`head-${a.value}`)},[G("div",{class:$(C(i).be("item","content"))},[Ce(f.$slots,"default")],2)],10,NU),[[Lt,C(l)]])]),_:3})],2))}}));var px=De(FU,[["__file","/home/runner/work/element-plus/element-plus/packages/components/collapse/src/collapse-item.vue"]]);const BU=_t(kU,{CollapseItem:px}),zU=pn(px);let kp=!1;function hc(t,e){if(!Tt)return;const n=function(o){var s;(s=e.drag)==null||s.call(e,o)},r=function(o){var s;wn(document,"mousemove",n),wn(document,"mouseup",r),wn(document,"touchmove",n),wn(document,"touchend",r),document.onselectstart=null,document.ondragstart=null,kp=!1,(s=e.end)==null||s.call(e,o)},i=function(o){var s;kp||(o.preventDefault(),document.onselectstart=()=>!1,document.ondragstart=()=>!1,sn(document,"mousemove",n),sn(document,"mouseup",r),sn(document,"touchmove",n),sn(document,"touchend",r),kp=!0,(s=e.start)==null||s.call(e,o))};sn(t,"mousedown",i),sn(t,"touchstart",i)}const VU=pe({name:"ElColorAlphaSlider",props:{color:{type:Object,required:!0},vertical:{type:Boolean,default:!1}},setup(t){const e=wt(),n=Ln(null),r=Ln(null),i=F(0),o=F(0),s=F(null);Me(()=>t.color.get("alpha"),()=>{f()}),Me(()=>t.color.value,()=>{f()});function a(){if(t.vertical)return 0;const h=e.vnode.el,m=t.color.get("alpha");return h?Math.round(m*(h.offsetWidth-n.value.offsetWidth/2)/100):0}function l(){const h=e.vnode.el;if(!t.vertical)return 0;const m=t.color.get("alpha");return h?Math.round(m*(h.offsetHeight-n.value.offsetHeight/2)/100):0}function u(){if(t.color&&t.color.value){const{r:h,g:m,b:g}=t.color.toRgb();return`linear-gradient(to right, rgba(${h}, ${m}, ${g}, 0) 0%, rgba(${h}, ${m}, ${g}, 1) 100%)`}return null}function c(h){h.target!==n.value&&d(h)}function d(h){const g=e.vnode.el.getBoundingClientRect(),{clientX:p,clientY:v}=Xv(h);if(t.vertical){let y=v-g.top;y=Math.max(n.value.offsetHeight/2,y),y=Math.min(y,g.height-n.value.offsetHeight/2),t.color.set("alpha",Math.round((y-n.value.offsetHeight/2)/(g.height-n.value.offsetHeight)*100))}else{let y=p-g.left;y=Math.max(n.value.offsetWidth/2,y),y=Math.min(y,g.width-n.value.offsetWidth/2),t.color.set("alpha",Math.round((y-n.value.offsetWidth/2)/(g.width-n.value.offsetWidth)*100))}}function f(){i.value=a(),o.value=l(),s.value=u()}return ft(()=>{const h={drag:m=>{d(m)},end:m=>{d(m)}};hc(r.value,h),hc(n.value,h),f()}),{thumb:n,bar:r,thumbLeft:i,thumbTop:o,background:s,handleClick:c,update:f}}});function HU(t,e,n,r,i,o){return E(),V("div",{class:$(["el-color-alpha-slider",{"is-vertical":t.vertical}])},[G("div",{ref:"bar",class:"el-color-alpha-slider__bar",style:Ye({background:t.background}),onClick:e[0]||(e[0]=(...s)=>t.handleClick&&t.handleClick(...s))},null,4),G("div",{ref:"thumb",class:"el-color-alpha-slider__thumb",style:Ye({left:t.thumbLeft+"px",top:t.thumbTop+"px"})},null,4)],2)}var UU=De(VU,[["render",HU],["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/alpha-slider.vue"]]);const WU=pe({name:"ElColorHueSlider",props:{color:{type:Object,required:!0},vertical:Boolean},setup(t){const e=wt(),n=F(null),r=F(null),i=F(0),o=F(0),s=k(()=>t.color.get("hue"));Me(()=>s.value,()=>{d()});function a(f){f.target!==n.value&&l(f)}function l(f){const m=e.vnode.el.getBoundingClientRect(),{clientX:g,clientY:p}=Xv(f);let v;if(t.vertical){let y=p-m.top;y=Math.min(y,m.height-n.value.offsetHeight/2),y=Math.max(n.value.offsetHeight/2,y),v=Math.round((y-n.value.offsetHeight/2)/(m.height-n.value.offsetHeight)*360)}else{let y=g-m.left;y=Math.min(y,m.width-n.value.offsetWidth/2),y=Math.max(n.value.offsetWidth/2,y),v=Math.round((y-n.value.offsetWidth/2)/(m.width-n.value.offsetWidth)*360)}t.color.set("hue",v)}function u(){const f=e.vnode.el;if(t.vertical)return 0;const h=t.color.get("hue");return f?Math.round(h*(f.offsetWidth-n.value.offsetWidth/2)/360):0}function c(){const f=e.vnode.el;if(!t.vertical)return 0;const h=t.color.get("hue");return f?Math.round(h*(f.offsetHeight-n.value.offsetHeight/2)/360):0}function d(){i.value=u(),o.value=c()}return ft(()=>{const f={drag:h=>{l(h)},end:h=>{l(h)}};hc(r.value,f),hc(n.value,f),d()}),{bar:r,thumb:n,thumbLeft:i,thumbTop:o,hueValue:s,handleClick:a,update:d}}});function GU(t,e,n,r,i,o){return E(),V("div",{class:$(["el-color-hue-slider",{"is-vertical":t.vertical}])},[G("div",{ref:"bar",class:"el-color-hue-slider__bar",onClick:e[0]||(e[0]=(...s)=>t.handleClick&&t.handleClick(...s))},null,512),G("div",{ref:"thumb",class:"el-color-hue-slider__thumb",style:Ye({left:t.thumbLeft+"px",top:t.thumbTop+"px"})},null,4)],2)}var jU=De(WU,[["render",GU],["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/hue-slider.vue"]]);const mx=Symbol(),KU=()=>Ke(mx),F1=function(t,e,n){return[t,e*n/((t=(2-e)*n)<1?t:2-t)||0,t/2]},qU=function(t){return typeof t=="string"&&t.includes(".")&&Number.parseFloat(t)===1},YU=function(t){return typeof t=="string"&&t.includes("%")},ul=function(t,e){qU(t)&&(t="100%");const n=YU(t);return t=Math.min(e,Math.max(0,Number.parseFloat(`${t}`))),n&&(t=Number.parseInt(`${t*e}`,10)/100),Math.abs(t-e)<1e-6?1:t%e/Number.parseFloat(e)},B1={10:"A",11:"B",12:"C",13:"D",14:"E",15:"F"},df=function(t){t=Math.min(Math.round(t),255);const e=Math.floor(t/16),n=t%16;return`${B1[e]||e}${B1[n]||n}`},z1=function({r:t,g:e,b:n}){return Number.isNaN(+t)||Number.isNaN(+e)||Number.isNaN(+n)?"":`#${df(t)}${df(e)}${df(n)}`},Pp={A:10,B:11,C:12,D:13,E:14,F:15},ws=function(t){return t.length===2?(Pp[t[0].toUpperCase()]||+t[0])*16+(Pp[t[1].toUpperCase()]||+t[1]):Pp[t[1].toUpperCase()]||+t[1]},XU=function(t,e,n){e=e/100,n=n/100;let r=e;const i=Math.max(n,.01);n*=2,e*=n<=1?n:2-n,r*=i<=1?i:2-i;const o=(n+e)/2,s=n===0?2*r/(i+r):2*e/(n+e);return{h:t,s:s*100,v:o*100}},V1=function(t,e,n){t=ul(t,255),e=ul(e,255),n=ul(n,255);const r=Math.max(t,e,n),i=Math.min(t,e,n);let o;const s=r,a=r-i,l=r===0?0:a/r;if(r===i)o=0;else{switch(r){case t:{o=(e-n)/a+(e<n?6:0);break}case e:{o=(n-t)/a+2;break}case n:{o=(t-e)/a+4;break}}o/=6}return{h:o*360,s:l*100,v:s*100}},cu=function(t,e,n){t=ul(t,360)*6,e=ul(e,100),n=ul(n,100);const r=Math.floor(t),i=t-r,o=n*(1-e),s=n*(1-i*e),a=n*(1-(1-i)*e),l=r%6,u=[n,s,o,o,a,n][l],c=[a,n,n,s,o,o][l],d=[o,o,a,n,n,s][l];return{r:Math.round(u*255),g:Math.round(c*255),b:Math.round(d*255)}};class zu{constructor(e){this._hue=0,this._saturation=100,this._value=100,this._alpha=100,this.enableAlpha=!1,this.format="hex",this.value="",e=e||{};for(const n in e)Et(e,n)&&(this[n]=e[n]);e.value?this.fromString(e.value):this.doOnChange()}set(e,n){if(arguments.length===1&&typeof e=="object"){for(const r in e)Et(e,r)&&this.set(r,e[r]);return}this[`_${e}`]=n,this.doOnChange()}get(e){return e==="alpha"?Math.floor(this[`_${e}`]):this[`_${e}`]}toRgb(){return cu(this._hue,this._saturation,this._value)}fromString(e){if(!e){this._hue=0,this._saturation=100,this._value=100,this.doOnChange();return}const n=(r,i,o)=>{this._hue=Math.max(0,Math.min(360,r)),this._saturation=Math.max(0,Math.min(100,i)),this._value=Math.max(0,Math.min(100,o)),this.doOnChange()};if(e.includes("hsl")){const r=e.replace(/hsla|hsl|\(|\)/gm,"").split(/\s|,/g).filter(i=>i!=="").map((i,o)=>o>2?Number.parseFloat(i):Number.parseInt(i,10));if(r.length===4?this._alpha=Number.parseFloat(r[3])*100:r.length===3&&(this._alpha=100),r.length>=3){const{h:i,s:o,v:s}=XU(r[0],r[1],r[2]);n(i,o,s)}}else if(e.includes("hsv")){const r=e.replace(/hsva|hsv|\(|\)/gm,"").split(/\s|,/g).filter(i=>i!=="").map((i,o)=>o>2?Number.parseFloat(i):Number.parseInt(i,10));r.length===4?this._alpha=Number.parseFloat(r[3])*100:r.length===3&&(this._alpha=100),r.length>=3&&n(r[0],r[1],r[2])}else if(e.includes("rgb")){const r=e.replace(/rgba|rgb|\(|\)/gm,"").split(/\s|,/g).filter(i=>i!=="").map((i,o)=>o>2?Number.parseFloat(i):Number.parseInt(i,10));if(r.length===4?this._alpha=Number.parseFloat(r[3])*100:r.length===3&&(this._alpha=100),r.length>=3){const{h:i,s:o,v:s}=V1(r[0],r[1],r[2]);n(i,o,s)}}else if(e.includes("#")){const r=e.replace("#","").trim();if(!/^[0-9a-fA-F]{3}$|^[0-9a-fA-F]{6}$|^[0-9a-fA-F]{8}$/.test(r))return;let i,o,s;r.length===3?(i=ws(r[0]+r[0]),o=ws(r[1]+r[1]),s=ws(r[2]+r[2])):(r.length===6||r.length===8)&&(i=ws(r.slice(0,2)),o=ws(r.slice(2,4)),s=ws(r.slice(4,6))),r.length===8?this._alpha=ws(r.slice(6))/255*100:(r.length===3||r.length===6)&&(this._alpha=100);const{h:a,s:l,v:u}=V1(i,o,s);n(a,l,u)}}compare(e){return Math.abs(e._hue-this._hue)<2&&Math.abs(e._saturation-this._saturation)<1&&Math.abs(e._value-this._value)<1&&Math.abs(e._alpha-this._alpha)<1}doOnChange(){const{_hue:e,_saturation:n,_value:r,_alpha:i,format:o}=this;if(this.enableAlpha)switch(o){case"hsl":{const s=F1(e,n/100,r/100);this.value=`hsla(${e}, ${Math.round(s[1]*100)}%, ${Math.round(s[2]*100)}%, ${this.get("alpha")/100})`;break}case"hsv":{this.value=`hsva(${e}, ${Math.round(n)}%, ${Math.round(r)}%, ${this.get("alpha")/100})`;break}case"hex":{this.value=`${z1(cu(e,n,r))}${df(i*255/100)}`;break}default:{const{r:s,g:a,b:l}=cu(e,n,r);this.value=`rgba(${s}, ${a}, ${l}, ${this.get("alpha")/100})`}}else switch(o){case"hsl":{const s=F1(e,n/100,r/100);this.value=`hsl(${e}, ${Math.round(s[1]*100)}%, ${Math.round(s[2]*100)}%)`;break}case"hsv":{this.value=`hsv(${e}, ${Math.round(n)}%, ${Math.round(r)}%)`;break}case"rgb":{const{r:s,g:a,b:l}=cu(e,n,r);this.value=`rgb(${s}, ${a}, ${l})`;break}default:this.value=z1(cu(e,n,r))}}}const ZU=pe({props:{colors:{type:Array,required:!0},color:{type:Object,required:!0}},setup(t){const{currentColor:e}=KU(),n=F(i(t.colors,t.color));Me(()=>e.value,o=>{const s=new zu;s.fromString(o),n.value.forEach(a=>{a.selected=s.compare(a)})}),Xr(()=>{n.value=i(t.colors,t.color)});function r(o){t.color.fromString(t.colors[o])}function i(o,s){return o.map(a=>{const l=new zu;return l.enableAlpha=!0,l.format="rgba",l.fromString(a),l.selected=l.value===s.value,l})}return{rgbaColors:n,handleSelect:r}}}),JU={class:"el-color-predefine"},QU={class:"el-color-predefine__colors"},eW=["onClick"];function tW(t,e,n,r,i,o){return E(),V("div",JU,[G("div",QU,[(E(!0),V(Ze,null,xt(t.rgbaColors,(s,a)=>(E(),V("div",{key:t.colors[a],class:$(["el-color-predefine__color-selector",{selected:s.selected,"is-alpha":s._alpha<100}]),onClick:l=>t.handleSelect(a)},[G("div",{style:Ye({backgroundColor:s.value})},null,4)],10,eW))),128))])])}var nW=De(ZU,[["render",tW],["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/predefine.vue"]]);const rW=pe({name:"ElSlPanel",props:{color:{type:Object,required:!0}},setup(t){const e=wt(),n=F(0),r=F(0),i=F("hsl(0, 100%, 50%)"),o=k(()=>{const l=t.color.get("hue"),u=t.color.get("value");return{hue:l,value:u}});function s(){const l=t.color.get("saturation"),u=t.color.get("value"),c=e.vnode.el,{clientWidth:d,clientHeight:f}=c;r.value=l*d/100,n.value=(100-u)*f/100,i.value=`hsl(${t.color.get("hue")}, 100%, 50%)`}function a(l){const c=e.vnode.el.getBoundingClientRect(),{clientX:d,clientY:f}=Xv(l);let h=d-c.left,m=f-c.top;h=Math.max(0,h),h=Math.min(h,c.width),m=Math.max(0,m),m=Math.min(m,c.height),r.value=h,n.value=m,t.color.set({saturation:h/c.width*100,value:100-m/c.height*100})}return Me(()=>o.value,()=>{s()}),ft(()=>{hc(e.vnode.el,{drag:l=>{a(l)},end:l=>{a(l)}}),s()}),{cursorTop:n,cursorLeft:r,background:i,colorValue:o,handleDrag:a,update:s}}}),iW=G("div",{class:"el-color-svpanel__white"},null,-1),oW=G("div",{class:"el-color-svpanel__black"},null,-1),sW=G("div",null,null,-1),aW=[sW];function lW(t,e,n,r,i,o){return E(),V("div",{class:"el-color-svpanel",style:Ye({backgroundColor:t.background})},[iW,oW,G("div",{class:"el-color-svpanel__cursor",style:Ye({top:t.cursorTop+"px",left:t.cursorLeft+"px"})},aW,4)],4)}var uW=De(rW,[["render",lW],["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/sv-panel.vue"]]);const cW=pe({name:"ElColorPicker",components:{ElButton:Jr,ElTooltip:Cr,ElInput:ai,ElIcon:st,Close:ti,ArrowDown:ha,SvPanel:uW,HueSlider:jU,AlphaSlider:UU,Predefine:nW},directives:{ClickOutside:ma},props:{modelValue:String,showAlpha:Boolean,colorFormat:String,disabled:Boolean,size:{type:String,validator:Hr},popperClass:String,predefine:Array},emits:["change","active-change",bt],setup(t,{emit:e}){const{t:n}=Gt(),r=$e("color"),i=Ke(Wr,{}),o=Ke(ni,{}),s=F(null),a=F(null),l=F(null),u=F(null),c=Ot(new zu({enableAlpha:t.showAlpha,format:t.colorFormat,value:t.modelValue})),d=F(!1),f=F(!1),h=F(""),m=k(()=>!t.modelValue&&!f.value?"transparent":y(c,t.showAlpha)),g=Pn(),p=k(()=>!!(t.disabled||i.disabled)),v=k(()=>!t.modelValue&&!f.value?"":c.value);Me(()=>t.modelValue,x=>{x?x&&x!==c.value&&c.fromString(x):f.value=!1}),Me(()=>v.value,x=>{h.value=x,e("active-change",x)}),Me(()=>c.value,()=>{!t.modelValue&&!f.value&&(f.value=!0)});function y(x,R){if(!(x instanceof zu))throw new TypeError("color should be instance of _color Class");const{r:O,g:D,b:B}=x.toRgb();return R?`rgba(${O}, ${D}, ${B}, ${x.get("alpha")/100})`:`rgb(${O}, ${D}, ${B})`}function w(x){d.value=x}const _=_r(w,100);function b(){_(!1),S()}function S(){et(()=>{t.modelValue?c.fromString(t.modelValue):f.value=!1})}function M(){p.value||_(!d.value)}function T(){c.fromString(h.value)}function N(){var x;const R=c.value;e(bt,R),e("change",R),(x=o.validate)==null||x.call(o,"change").catch(O=>void 0),_(!1),et(()=>{const O=new zu({enableAlpha:t.showAlpha,format:t.colorFormat,value:t.modelValue});c.compare(O)||S()})}function I(){var x;_(!1),e(bt,null),e("change",null),t.modelValue!==null&&((x=o.validate)==null||x.call(o,"change").catch(R=>void 0)),S()}return ft(()=>{t.modelValue&&(h.value=v.value)}),Me(()=>d.value,()=>{et(()=>{var x,R,O;(x=s.value)==null||x.update(),(R=a.value)==null||R.update(),(O=l.value)==null||O.update()})}),Ct(mx,{currentColor:v}),{color:c,colorDisabled:p,colorSize:g,displayedColor:m,showPanelColor:f,showPicker:d,customInput:h,handleConfirm:T,hide:b,handleTrigger:M,clear:I,confirmValue:N,t:n,ns:r,hue:s,svPanel:a,alpha:l,popper:u}}});function dW(t,e,n,r,i,o){const s=ve("hue-slider"),a=ve("sv-panel"),l=ve("alpha-slider"),u=ve("predefine"),c=ve("el-input"),d=ve("el-button"),f=ve("arrow-down"),h=ve("el-icon"),m=ve("close"),g=ve("el-tooltip"),p=Vr("click-outside");return E(),fe(g,{ref:"popper",visible:t.showPicker,"onUpdate:visible":e[2]||(e[2]=v=>t.showPicker=v),"show-arrow":!1,"fallback-placements":["bottom","top","right","left"],offset:0,"gpu-acceleration":!1,"popper-class":[t.ns.be("picker","panel"),t.ns.b("dropdown"),t.popperClass],"stop-popper-mouse-event":!1,effect:"light",trigger:"click",transition:"el-zoom-in-top",persistent:""},{content:X(()=>[ut((E(),V("div",null,[G("div",{class:$(t.ns.be("dropdown","main-wrapper"))},[Z(s,{ref:"hue",class:"hue-slider",color:t.color,vertical:""},null,8,["color"]),Z(a,{ref:"svPanel",color:t.color},null,8,["color"])],2),t.showAlpha?(E(),fe(l,{key:0,ref:"alpha",color:t.color},null,8,["color"])):ue("v-if",!0),t.predefine?(E(),fe(u,{key:1,ref:"predefine",color:t.color,colors:t.predefine},null,8,["color","colors"])):ue("v-if",!0),G("div",{class:$(t.ns.be("dropdown","btns"))},[G("span",{class:$(t.ns.be("dropdown","value"))},[Z(c,{modelValue:t.customInput,"onUpdate:modelValue":e[0]||(e[0]=v=>t.customInput=v),"validate-event":!1,size:"small",onKeyup:Mt(t.handleConfirm,["enter"]),onBlur:t.handleConfirm},null,8,["modelValue","onKeyup","onBlur"])],2),Z(d,{size:"small",type:"text",class:$(t.ns.be("dropdown","link-btn")),onClick:t.clear},{default:X(()=>[lt(Pe(t.t("el.colorpicker.clear")),1)]),_:1},8,["class","onClick"]),Z(d,{plain:"",size:"small",class:$(t.ns.be("dropdown","btn")),onClick:t.confirmValue},{default:X(()=>[lt(Pe(t.t("el.colorpicker.confirm")),1)]),_:1},8,["class","onClick"])],2)])),[[p,t.hide]])]),default:X(()=>[G("div",{class:$([t.ns.b("picker"),t.ns.is("disabled",t.colorDisabled),t.ns.bm("picker",t.colorSize)])},[t.colorDisabled?(E(),V("div",{key:0,class:$(t.ns.be("picker","mask"))},null,2)):ue("v-if",!0),G("div",{class:$(t.ns.be("picker","trigger")),onClick:e[1]||(e[1]=(...v)=>t.handleTrigger&&t.handleTrigger(...v))},[G("span",{class:$([t.ns.be("picker","color"),t.ns.is("alpha",t.showAlpha)])},[G("span",{class:$(t.ns.be("picker","color-inner")),style:Ye({backgroundColor:t.displayedColor})},[ut(Z(h,{class:$([t.ns.be("picker","icon"),t.ns.is("icon-arrow-down")])},{default:X(()=>[Z(f)]),_:1},8,["class"]),[[Lt,t.modelValue||t.showPanelColor]]),!t.modelValue&&!t.showPanelColor?(E(),fe(h,{key:0,class:$([t.ns.be("picker","empty"),t.ns.is("icon-close")])},{default:X(()=>[Z(m)]),_:1},8,["class"])):ue("v-if",!0)],6)],2)],2)],2)]),_:1},8,["visible","popper-class"])}var ff=De(cW,[["render",dW],["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/index.vue"]]);ff.install=t=>{t.component(ff.name,ff)};const fW=ff,hW=fW,Eg={},pW=Je({a11y:{type:Boolean,default:!0},locale:{type:Fe(Object)},size:{type:String,values:Ki,default:""},button:{type:Fe(Object)},experimentalFeatures:{type:Fe(Object)},keyboardNavigation:{type:Boolean,default:!0},message:{type:Fe(Object)},zIndex:{type:Number},namespace:{type:String,default:"el"}});var mW=pe({name:"ElConfigProvider",props:pW,setup(t,{slots:e}){Me(()=>t.message,r=>{Object.assign(Eg,r!=null?r:{})},{immediate:!0,deep:!0});const n=QM(t);return()=>Ce(e,"default",{config:n==null?void 0:n.value})}});const gW=_t(mW),vW=pe({name:"ElContainer",props:{direction:{type:String,default:""}},setup(t,{slots:e}){const n=$e("container");return{isVertical:k(()=>t.direction==="vertical"?!0:t.direction==="horizontal"?!1:e&&e.default?e.default().some(o=>{const s=o.type.name;return s==="ElHeader"||s==="ElFooter"}):!1),ns:n}}});function yW(t,e,n,r,i,o){return E(),V("section",{class:$([t.ns.b(),t.ns.is("vertical",t.isVertical)])},[Ce(t.$slots,"default")],2)}var bW=De(vW,[["render",yW],["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/container.vue"]]);const wW=pe({name:"ElAside",props:{width:{type:String,default:null}},setup(t){const e=$e("aside");return{style:k(()=>t.width?{"--el-aside-width":t.width}:{}),ns:e}}});function _W(t,e,n,r,i,o){return E(),V("aside",{class:$(t.ns.b()),style:Ye(t.style)},[Ce(t.$slots,"default")],6)}var gx=De(wW,[["render",_W],["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/aside.vue"]]);const SW=pe({name:"ElFooter",props:{height:{type:String,default:null}},setup(t){const e=$e("footer");return{style:k(()=>t.height?{"--el-footer-height":t.height}:{}),ns:e}}});function CW(t,e,n,r,i,o){return E(),V("footer",{class:$(t.ns.b()),style:Ye(t.style)},[Ce(t.$slots,"default")],6)}var vx=De(SW,[["render",CW],["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/footer.vue"]]);const MW=pe({name:"ElHeader",props:{height:{type:String,default:null}},setup(t){const e=$e("header");return{style:k(()=>t.height?{"--el-header-height":t.height}:{}),ns:e}}});function xW(t,e,n,r,i,o){return E(),V("header",{class:$(t.ns.b()),style:Ye(t.style)},[Ce(t.$slots,"default")],6)}var yx=De(MW,[["render",xW],["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/header.vue"]]);const EW=pe({name:"ElMain",setup(){return{ns:$e("main")}}});function TW(t,e,n,r,i,o){return E(),V("main",{class:$(t.ns.b())},[Ce(t.$slots,"default")],2)}var bx=De(EW,[["render",TW],["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/main.vue"]]);const AW=_t(bW,{Aside:gx,Footer:vx,Header:yx,Main:bx}),kW=pn(gx),PW=pn(vx),LW=pn(yx),RW=pn(bx);var wx={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(qi,function(){return function(n,r,i){var o=r.prototype,s=o.format;i.en.ordinal=function(a){var l=["th","st","nd","rd"],u=a%100;return"["+a+(l[(u-20)%10]||l[u]||l[0])+"]"},o.format=function(a){var l=this,u=this.$locale();if(!this.isValid())return s.bind(this)(a);var c=this.$utils(),d=(a||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(f){switch(f){case"Q":return Math.ceil((l.$M+1)/3);case"Do":return u.ordinal(l.$D);case"gggg":return l.weekYear();case"GGGG":return l.isoWeekYear();case"wo":return u.ordinal(l.week(),"W");case"w":case"ww":return c.s(l.week(),f==="w"?1:2,"0");case"W":case"WW":return c.s(l.isoWeek(),f==="W"?1:2,"0");case"k":case"kk":return c.s(String(l.$H===0?24:l.$H),f==="k"?1:2,"0");case"X":return Math.floor(l.$d.getTime()/1e3);case"x":return l.$d.getTime();case"z":return"["+l.offsetName()+"]";case"zzz":return"["+l.offsetName("long")+"]";default:return f}});return s.bind(this)(d)}}})})(wx);var IW=wx.exports,_x={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(qi,function(){var n="week",r="year";return function(i,o,s){var a=o.prototype;a.week=function(l){if(l===void 0&&(l=null),l!==null)return this.add(7*(l-this.week()),"day");var u=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var c=s(this).startOf(r).add(1,r).date(u),d=s(this).endOf(n);if(c.isBefore(d))return 1}var f=s(this).startOf(r).date(u).startOf(n).subtract(1,"millisecond"),h=this.diff(f,n,!0);return h<0?s(this).startOf("week").week():Math.ceil(h)},a.weeks=function(l){return l===void 0&&(l=null),this.week(l)}}})})(_x);var DW=_x.exports,Sx={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(qi,function(){return function(n,r){r.prototype.weekYear=function(){var i=this.month(),o=this.week(),s=this.year();return o===1&&i===11?s+1:i===0&&o>=52?s-1:s}}})})(Sx);var $W=Sx.exports,Cx={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(qi,function(){return function(n,r,i){r.prototype.dayOfYear=function(o){var s=Math.round((i(this).startOf("day")-i(this).startOf("year"))/864e5)+1;return o==null?s:this.add(o-s,"day")}}})})(Cx);var NW=Cx.exports,Mx={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(qi,function(){return function(n,r){r.prototype.isSameOrAfter=function(i,o){return this.isSame(i,o)||this.isAfter(i,o)}}})})(Mx);var OW=Mx.exports,xx={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(qi,function(){return function(n,r){r.prototype.isSameOrBefore=function(i,o){return this.isSame(i,o)||this.isBefore(i,o)}}})})(xx);var FW=xx.exports;const Ex=Symbol();var BW=pe({name:"ElDatePickerCell",props:Je({cell:{type:Fe(Object)}}),setup(t){const e=Ke(Ex);return()=>{const n=t.cell;if(e!=null&&e.ctx.slots.default){const r=e.ctx.slots.default(n).filter(i=>i.patchFlag!==-2&&i.type.toString()!=="Symbol(Comment)");if(r.length)return r}return Xe("div",{class:"el-date-table-cell"},[Xe("span",{class:"el-date-table-cell__text"},[n==null?void 0:n.text])])}}});const zW=pe({components:{ElDatePickerCell:BW},props:{date:{type:Object},minDate:{type:Object},maxDate:{type:Object},parsedValue:{type:[Object,Array]},selectionMode:{type:String,default:"day"},showWeekNumber:{type:Boolean,default:!1},disabledDate:{type:Function},cellClassName:{type:Function},rangeState:{type:Object,default:()=>({endDate:null,selecting:!1})}},emits:["changerange","pick","select"],setup(t,e){const{t:n,lang:r}=Gt(),i=F(null),o=F(null),s=F([[],[],[],[],[],[]]),a=t.date.$locale().weekStart||7,l=t.date.locale("en").localeData().weekdaysShort().map(_=>_.toLowerCase()),u=k(()=>a>3?7-a:-a),c=k(()=>{const _=t.date.startOf("month");return _.subtract(_.day()||7,"day")}),d=k(()=>l.concat(l).slice(a,a+7)),f=k(()=>{var _;const b=t.date.startOf("month"),S=b.day()||7,M=b.daysInMonth(),T=b.subtract(1,"month").daysInMonth(),N=u.value,I=s.value;let x=1;const R=t.selectionMode==="dates"?qs(t.parsedValue):[],O=dt().locale(r.value).startOf("day");for(let D=0;D<6;D++){const B=I[D];t.showWeekNumber&&(B[0]||(B[0]={type:"week",text:c.value.add(D*7+1,"day").week()}));for(let L=0;L<7;L++){let A=B[t.showWeekNumber?L+1:L];A||(A={row:D,column:L,type:"normal",inRange:!1,start:!1,end:!1});const P=D*7+L,W=c.value.add(P-N,"day");A.dayjs=W,A.date=W.toDate(),A.timestamp=W.valueOf(),A.type="normal";const K=t.rangeState.endDate||t.maxDate||t.rangeState.selecting&&t.minDate;if(A.inRange=t.minDate&&W.isSameOrAfter(t.minDate,"day")&&K&&W.isSameOrBefore(K,"day")||t.minDate&&W.isSameOrBefore(t.minDate,"day")&&K&&W.isSameOrAfter(K,"day"),(_=t.minDate)!=null&&_.isSameOrAfter(K)?(A.start=K&&W.isSame(K,"day"),A.end=t.minDate&&W.isSame(t.minDate,"day")):(A.start=t.minDate&&W.isSame(t.minDate,"day"),A.end=K&&W.isSame(K,"day")),W.isSame(O,"day")&&(A.type="today"),D>=0&&D<=1){const se=S+N<0?7+S+N:S+N;L+D*7>=se?A.text=x++:(A.text=T-(se-L%7)+1+D*7,A.type="prev-month")}else x<=M?A.text=x++:(A.text=x++-M,A.type="next-month");const J=W.toDate();A.selected=R.find(se=>se.valueOf()===W.valueOf()),A.isSelected=!!A.selected,A.isCurrent=h(A),A.disabled=t.disabledDate&&t.disabledDate(J),A.customClass=t.cellClassName&&t.cellClassName(J),B[t.showWeekNumber?L+1:L]=A}if(t.selectionMode==="week"){const L=t.showWeekNumber?1:0,A=t.showWeekNumber?7:6,P=w(B[L+1]);B[L].inRange=P,B[L].start=P,B[A].inRange=P,B[A].end=P}}return I}),h=_=>t.selectionMode==="day"&&(_.type==="normal"||_.type==="today")&&m(_,t.parsedValue),m=(_,b)=>b?dt(b).locale(r.value).isSame(t.date.date(Number(_.text)),"day"):!1,g=_=>{const b=[];return(_.type==="normal"||_.type==="today")&&!_.disabled?(b.push("available"),_.type==="today"&&b.push("today")):b.push(_.type),h(_)&&b.push("current"),_.inRange&&(_.type==="normal"||_.type==="today"||t.selectionMode==="week")&&(b.push("in-range"),_.start&&b.push("start-date"),_.end&&b.push("end-date")),_.disabled&&b.push("disabled"),_.selected&&b.push("selected"),_.customClass&&b.push(_.customClass),b.join(" ")},p=(_,b)=>{const S=_*7+(b-(t.showWeekNumber?1:0))-u.value;return c.value.add(S,"day")},v=_=>{if(!t.rangeState.selecting)return;let b=_.target;if(b.tagName==="SPAN"&&(b=b.parentNode.parentNode),b.tagName==="DIV"&&(b=b.parentNode),b.tagName!=="TD")return;const S=b.parentNode.rowIndex-1,M=b.cellIndex;f.value[S][M].disabled||(S!==i.value||M!==o.value)&&(i.value=S,o.value=M,e.emit("changerange",{selecting:!0,endDate:p(S,M)}))},y=_=>{let b=_.target;for(;b&&b.tagName!=="TD";)b=b.parentNode;if(!b||b.tagName!=="TD")return;const S=b.parentNode.rowIndex-1,M=b.cellIndex,T=f.value[S][M];if(T.disabled||T.type==="week")return;const N=p(S,M);if(t.selectionMode==="range")t.rangeState.selecting?(N>=t.minDate?e.emit("pick",{minDate:t.minDate,maxDate:N}):e.emit("pick",{minDate:N,maxDate:t.minDate}),e.emit("select",!1)):(e.emit("pick",{minDate:N,maxDate:null}),e.emit("select",!0));else if(t.selectionMode==="day")e.emit("pick",N);else if(t.selectionMode==="week"){const I=N.week(),x=`${N.year()}w${I}`;e.emit("pick",{year:N.year(),week:I,value:x,date:N.startOf("week")})}else if(t.selectionMode==="dates"){const I=T.selected?qs(t.parsedValue).filter(x=>x.valueOf()!==N.valueOf()):qs(t.parsedValue).concat([N]);e.emit("pick",I)}},w=_=>{if(t.selectionMode!=="week")return!1;let b=t.date.startOf("day");if(_.type==="prev-month"&&(b=b.subtract(1,"month")),_.type==="next-month"&&(b=b.add(1,"month")),b=b.date(Number.parseInt(_.text,10)),t.parsedValue&&!Array.isArray(t.parsedValue)){const S=(t.parsedValue.day()-a+7)%7-1;return t.parsedValue.subtract(S,"day").isSame(b,"day")}return!1};return{handleMouseMove:v,t:n,rows:f,isWeekActive:w,getCellClasses:g,WEEKS:d,handleClick:y}}}),VW={key:0};function HW(t,e,n,r,i,o){const s=ve("el-date-picker-cell");return E(),V("table",{cellspacing:"0",cellpadding:"0",class:$(["el-date-table",{"is-week-mode":t.selectionMode==="week"}]),onClick:e[0]||(e[0]=(...a)=>t.handleClick&&t.handleClick(...a)),onMousemove:e[1]||(e[1]=(...a)=>t.handleMouseMove&&t.handleMouseMove(...a))},[G("tbody",null,[G("tr",null,[t.showWeekNumber?(E(),V("th",VW,Pe(t.t("el.datepicker.week")),1)):ue("v-if",!0),(E(!0),V(Ze,null,xt(t.WEEKS,(a,l)=>(E(),V("th",{key:l},Pe(t.t("el.datepicker.weeks."+a)),1))),128))]),(E(!0),V(Ze,null,xt(t.rows,(a,l)=>(E(),V("tr",{key:l,class:$(["el-date-table__row",{current:t.isWeekActive(a[1])}])},[(E(!0),V(Ze,null,xt(a,(u,c)=>(E(),V("td",{key:c,class:$(t.getCellClasses(u))},[Z(s,{cell:u},null,8,["cell"])],2))),128))],2))),128))])],34)}var Tx=De(zW,[["render",HW],["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-date-table.vue"]]);const UW=(t,e,n)=>{const r=dt().locale(n).startOf("month").month(e).year(t),i=r.daysInMonth();return Jo(i).map(o=>r.add(o,"day").toDate())},WW=pe({props:{disabledDate:{type:Function},selectionMode:{type:String,default:"month"},minDate:{type:Object},maxDate:{type:Object},date:{type:Object},parsedValue:{type:Object},rangeState:{type:Object,default:()=>({endDate:null,selecting:!1})}},emits:["changerange","pick","select"],setup(t,e){const{t:n,lang:r}=Gt(),i=F(t.date.locale("en").localeData().monthsShort().map(f=>f.toLowerCase())),o=F([[],[],[]]),s=F(null),a=F(null),l=k(()=>{var f;const h=o.value,m=dt().locale(r.value).startOf("month");for(let g=0;g<3;g++){const p=h[g];for(let v=0;v<4;v++){let y=p[v];y||(y={row:g,column:v,type:"normal",inRange:!1,start:!1,end:!1}),y.type="normal";const w=g*4+v,_=t.date.startOf("year").month(w),b=t.rangeState.endDate||t.maxDate||t.rangeState.selecting&&t.minDate;y.inRange=t.minDate&&_.isSameOrAfter(t.minDate,"month")&&b&&_.isSameOrBefore(b,"month")||t.minDate&&_.isSameOrBefore(t.minDate,"month")&&b&&_.isSameOrAfter(b,"month"),(f=t.minDate)!=null&&f.isSameOrAfter(b)?(y.start=b&&_.isSame(b,"month"),y.end=t.minDate&&_.isSame(t.minDate,"month")):(y.start=t.minDate&&_.isSame(t.minDate,"month"),y.end=b&&_.isSame(b,"month")),m.isSame(_)&&(y.type="today"),y.text=w;const M=_.toDate();y.disabled=t.disabledDate&&t.disabledDate(M),p[v]=y}}return h});return{handleMouseMove:f=>{if(!t.rangeState.selecting)return;let h=f.target;if(h.tagName==="A"&&(h=h.parentNode.parentNode),h.tagName==="DIV"&&(h=h.parentNode),h.tagName!=="TD")return;const m=h.parentNode.rowIndex,g=h.cellIndex;l.value[m][g].disabled||(m!==s.value||g!==a.value)&&(s.value=m,a.value=g,e.emit("changerange",{selecting:!0,endDate:t.date.startOf("year").month(m*4+g)}))},handleMonthTableClick:f=>{let h=f.target;if(h.tagName==="A"&&(h=h.parentNode.parentNode),h.tagName==="DIV"&&(h=h.parentNode),h.tagName!=="TD"||_i(h,"disabled"))return;const m=h.cellIndex,p=h.parentNode.rowIndex*4+m,v=t.date.startOf("year").month(p);t.selectionMode==="range"?t.rangeState.selecting?(v>=t.minDate?e.emit("pick",{minDate:t.minDate,maxDate:v}):e.emit("pick",{minDate:v,maxDate:t.minDate}),e.emit("select",!1)):(e.emit("pick",{minDate:v,maxDate:null}),e.emit("select",!0)):e.emit("pick",p)},rows:l,getCellStyle:f=>{const h={},m=t.date.year(),g=new Date,p=f.text;return h.disabled=t.disabledDate?UW(m,p,r.value).every(t.disabledDate):!1,h.current=qs(t.parsedValue).findIndex(v=>v.year()===m&&v.month()===p)>=0,h.today=g.getFullYear()===m&&g.getMonth()===p,f.inRange&&(h["in-range"]=!0,f.start&&(h["start-date"]=!0),f.end&&(h["end-date"]=!0)),h},t:n,months:i}}}),GW={class:"cell"};function jW(t,e,n,r,i,o){return E(),V("table",{class:"el-month-table",onClick:e[0]||(e[0]=(...s)=>t.handleMonthTableClick&&t.handleMonthTableClick(...s)),onMousemove:e[1]||(e[1]=(...s)=>t.handleMouseMove&&t.handleMouseMove(...s))},[G("tbody",null,[(E(!0),V(Ze,null,xt(t.rows,(s,a)=>(E(),V("tr",{key:a},[(E(!0),V(Ze,null,xt(s,(l,u)=>(E(),V("td",{key:u,class:$(t.getCellStyle(l))},[G("div",null,[G("a",GW,Pe(t.t("el.datepicker.months."+t.months[l.text])),1)])],2))),128))]))),128))])],32)}var Ax=De(WW,[["render",jW],["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-month-table.vue"]]);const KW=(t,e)=>{const n=dt(String(t)).locale(e).startOf("year"),i=n.endOf("year").dayOfYear();return Jo(i).map(o=>n.add(o,"day").toDate())},qW=pe({props:{disabledDate:{type:Function},parsedValue:{type:Object},date:{type:Object}},emits:["pick"],setup(t,e){const{lang:n}=Gt();return{startYear:k(()=>Math.floor(t.date.year()/10)*10),getCellStyle:s=>{const a={},l=dt().locale(n.value);return a.disabled=t.disabledDate?KW(s,n.value).every(t.disabledDate):!1,a.current=qs(t.parsedValue).findIndex(u=>u.year()===s)>=0,a.today=l.year()===s,a},handleYearTableClick:s=>{const a=s.target;if(a.tagName==="A"){if(_i(a.parentNode,"disabled"))return;const l=a.textContent||a.innerText;e.emit("pick",Number(l))}}}}}),YW={class:"cell"},XW={class:"cell"},ZW={class:"cell"},JW={class:"cell"},QW={class:"cell"},e9={class:"cell"},t9={class:"cell"},n9={class:"cell"},r9={class:"cell"},i9={class:"cell"},o9=G("td",null,null,-1),s9=G("td",null,null,-1);function a9(t,e,n,r,i,o){return E(),V("table",{class:"el-year-table",onClick:e[0]||(e[0]=(...s)=>t.handleYearTableClick&&t.handleYearTableClick(...s))},[G("tbody",null,[G("tr",null,[G("td",{class:$(["available",t.getCellStyle(t.startYear+0)])},[G("a",YW,Pe(t.startYear),1)],2),G("td",{class:$(["available",t.getCellStyle(t.startYear+1)])},[G("a",XW,Pe(t.startYear+1),1)],2),G("td",{class:$(["available",t.getCellStyle(t.startYear+2)])},[G("a",ZW,Pe(t.startYear+2),1)],2),G("td",{class:$(["available",t.getCellStyle(t.startYear+3)])},[G("a",JW,Pe(t.startYear+3),1)],2)]),G("tr",null,[G("td",{class:$(["available",t.getCellStyle(t.startYear+4)])},[G("a",QW,Pe(t.startYear+4),1)],2),G("td",{class:$(["available",t.getCellStyle(t.startYear+5)])},[G("a",e9,Pe(t.startYear+5),1)],2),G("td",{class:$(["available",t.getCellStyle(t.startYear+6)])},[G("a",t9,Pe(t.startYear+6),1)],2),G("td",{class:$(["available",t.getCellStyle(t.startYear+7)])},[G("a",n9,Pe(t.startYear+7),1)],2)]),G("tr",null,[G("td",{class:$(["available",t.getCellStyle(t.startYear+8)])},[G("a",r9,Pe(t.startYear+8),1)],2),G("td",{class:$(["available",t.getCellStyle(t.startYear+9)])},[G("a",i9,Pe(t.startYear+9),1)],2),o9,s9])])])}var l9=De(qW,[["render",a9],["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-year-table.vue"]]);const u9=(t,e,n)=>!0,c9=pe({components:{DateTable:Tx,ElInput:ai,ElButton:Jr,ElIcon:st,TimePickPanel:b0,MonthTable:Ax,YearTable:l9,DArrowLeft:Th,ArrowLeft:pa,DArrowRight:Ah,ArrowRight:si},directives:{clickoutside:ma},props:{visible:{type:Boolean,default:!1},parsedValue:{type:[Object,Array]},format:{type:String,default:""},type:{type:String,required:!0,validator:$M}},emits:["pick","set-picker-option","panel-change"],setup(t,e){const{t:n,lang:r}=Gt(),i=Ke("EP_PICKER_BASE"),o=Ke(Oh),{shortcuts:s,disabledDate:a,cellClassName:l,defaultTime:u,arrowControl:c}=i.props,d=Nn(i.props,"defaultValue"),f=F(dt().locale(r.value)),h=k(()=>dt(u).locale(r.value)),m=k(()=>f.value.month()),g=k(()=>f.value.year()),p=F([]),v=F(null),y=F(null),w=ae=>p.value.length>0?u9(ae,p.value,t.format||"HH:mm:ss"):!0,_=ae=>u&&!q.value?h.value.year(ae.year()).month(ae.month()).date(ae.date()):K.value?ae.millisecond(0):ae.startOf("day"),b=(ae,...z)=>{if(!ae)e.emit("pick",ae,...z);else if(Array.isArray(ae)){const H=ae.map(_);e.emit("pick",H,...z)}else e.emit("pick",_(ae),...z);v.value=null,y.value=null},S=ae=>{if(D.value==="day"){let z=t.parsedValue?t.parsedValue.year(ae.year()).month(ae.month()).date(ae.date()):ae;w(z)||(z=p.value[0][0].year(ae.year()).month(ae.month()).date(ae.date())),f.value=z,b(z,K.value)}else D.value==="week"?b(ae.date):D.value==="dates"&&b(ae,!0)},M=()=>{f.value=f.value.subtract(1,"month"),le("month")},T=()=>{f.value=f.value.add(1,"month"),le("month")},N=()=>{x.value==="year"?f.value=f.value.subtract(10,"year"):f.value=f.value.subtract(1,"year"),le("year")},I=()=>{x.value==="year"?f.value=f.value.add(10,"year"):f.value=f.value.add(1,"year"),le("year")},x=F("date"),R=k(()=>{const ae=n("el.datepicker.year");if(x.value==="year"){const z=Math.floor(g.value/10)*10;return ae?`${z} ${ae} - ${z+9} ${ae}`:`${z} - ${z+9}`}return`${g.value} ${ae}`}),O=ae=>{const z=typeof ae.value=="function"?ae.value():ae.value;if(z){b(dt(z).locale(r.value));return}ae.onClick&&ae.onClick(e)},D=k(()=>["week","month","year","dates"].includes(t.type)?t.type:"day");Me(()=>D.value,ae=>{if(["month","year"].includes(ae)){x.value=ae;return}x.value="date"},{immediate:!0}),Me(()=>x.value,()=>{o==null||o.updatePopper()});const B=k(()=>!!s.length),L=ae=>{f.value=f.value.startOf("month").month(ae),D.value==="month"?b(f.value):x.value="date",le("month")},A=ae=>{D.value==="year"?(f.value=f.value.startOf("year").year(ae),b(f.value)):(f.value=f.value.year(ae),x.value="month"),le("year")},P=()=>{x.value="month"},W=()=>{x.value="year"},K=k(()=>t.type==="datetime"||t.type==="datetimerange"),te=k(()=>K.value||D.value==="dates"),J=()=>{if(D.value==="dates")b(t.parsedValue);else{let ae=t.parsedValue;if(!ae){const z=dt(u).locale(r.value),H=Se();ae=z.year(H.year()).month(H.month()).date(H.date())}f.value=ae,b(ae)}},se=()=>{const z=dt().locale(r.value).toDate();(!a||!a(z))&&w(z)&&(f.value=dt().locale(r.value),b(f.value))},Te=k(()=>ex(t.format)),Le=k(()=>Q2(t.format)),q=k(()=>{if(y.value)return y.value;if(!(!t.parsedValue&&!d.value))return(t.parsedValue||f.value).format(Te.value)}),re=k(()=>{if(v.value)return v.value;if(!(!t.parsedValue&&!d.value))return(t.parsedValue||f.value).format(Le.value)}),he=F(!1),we=()=>{he.value=!0},ye=()=>{he.value=!1},ze=(ae,z,H)=>{const j=t.parsedValue?t.parsedValue.hour(ae.hour()).minute(ae.minute()).second(ae.second()):ae;f.value=j,b(f.value,!0),H||(he.value=z)},be=ae=>{const z=dt(ae,Te.value).locale(r.value);z.isValid()&&w(z)&&(f.value=z.year(f.value.year()).month(f.value.month()).date(f.value.date()),y.value=null,he.value=!1,b(f.value,!0))},U=ae=>{const z=dt(ae,Le.value).locale(r.value);if(z.isValid()){if(a&&a(z.toDate()))return;f.value=z.hour(f.value.hour()).minute(f.value.minute()).second(f.value.second()),v.value=null,b(f.value,!0)}},Q=ae=>dt.isDayjs(ae)&&ae.isValid()&&(a?!a(ae.toDate()):!0),de=ae=>D.value==="dates"?ae.map(z=>z.format(t.format)):ae.format(t.format),me=ae=>dt(ae,t.format).locale(r.value),Se=()=>{const ae=dt(d.value).locale(r.value);if(!d.value){const z=h.value;return dt().hour(z.hour()).minute(z.minute()).second(z.second()).locale(r.value)}return ae},Ae=ae=>{const{code:z,keyCode:H}=ae,j=[qe.up,qe.down,qe.left,qe.right];t.visible&&!he.value&&(j.includes(z)&&(ee(H),ae.stopPropagation(),ae.preventDefault()),z===qe.enter&&v.value===null&&y.value===null&&b(f,!1))},ee=ae=>{const z={year:{38:-4,40:4,37:-1,39:1,offset:(j,ce)=>j.setFullYear(j.getFullYear()+ce)},month:{38:-4,40:4,37:-1,39:1,offset:(j,ce)=>j.setMonth(j.getMonth()+ce)},week:{38:-1,40:1,37:-1,39:1,offset:(j,ce)=>j.setDate(j.getDate()+ce*7)},day:{38:-7,40:7,37:-1,39:1,offset:(j,ce)=>j.setDate(j.getDate()+ce)}},H=f.value.toDate();for(;Math.abs(f.value.diff(H,"year",!0))<1;){const j=z[D.value];if(j.offset(H,j[ae]),a&&a(H))continue;const ce=dt(H).locale(r.value);f.value=ce,e.emit("pick",ce,!0);break}},le=ae=>{e.emit("panel-change",f.value.toDate(),ae,x.value)};return e.emit("set-picker-option",["isValidValue",Q]),e.emit("set-picker-option",["formatToString",de]),e.emit("set-picker-option",["parseUserInput",me]),e.emit("set-picker-option",["handleKeydown",Ae]),Me(()=>d.value,ae=>{ae&&(f.value=Se())},{immediate:!0}),Me(()=>t.parsedValue,ae=>{if(ae){if(D.value==="dates"||Array.isArray(ae))return;f.value=ae}else f.value=Se()},{immediate:!0}),{handleTimePick:ze,handleTimePickClose:ye,onTimePickerInputFocus:we,timePickerVisible:he,visibleTime:q,visibleDate:re,showTime:K,changeToNow:se,onConfirm:J,footerVisible:te,handleYearPick:A,showMonthPicker:P,showYearPicker:W,handleMonthPick:L,hasShortcuts:B,shortcuts:s,arrowControl:c,disabledDate:a,cellClassName:l,selectionMode:D,handleShortcutClick:O,prevYear_:N,nextYear_:I,prevMonth_:M,nextMonth_:T,innerDate:f,t:n,yearLabel:R,currentView:x,month:m,handleDatePick:S,handleVisibleTimeChange:be,handleVisibleDateChange:U,timeFormat:Te,userInputTime:y,userInputDate:v}}}),d9={class:"el-picker-panel__body-wrapper"},f9={key:0,class:"el-picker-panel__sidebar"},h9=["onClick"],p9={class:"el-picker-panel__body"},m9={key:0,class:"el-date-picker__time-header"},g9={class:"el-date-picker__editor-wrap"},v9={class:"el-date-picker__editor-wrap"},y9=["aria-label"],b9=["aria-label"],w9=["aria-label"],_9=["aria-label"],S9={class:"el-picker-panel__content"},C9={class:"el-picker-panel__footer"};function M9(t,e,n,r,i,o){const s=ve("el-input"),a=ve("time-pick-panel"),l=ve("d-arrow-left"),u=ve("el-icon"),c=ve("arrow-left"),d=ve("d-arrow-right"),f=ve("arrow-right"),h=ve("date-table"),m=ve("year-table"),g=ve("month-table"),p=ve("el-button"),v=Vr("clickoutside");return E(),V("div",{class:$(["el-picker-panel el-date-picker",[{"has-sidebar":t.$slots.sidebar||t.hasShortcuts,"has-time":t.showTime}]])},[G("div",d9,[Ce(t.$slots,"sidebar",{class:"el-picker-panel__sidebar"}),t.hasShortcuts?(E(),V("div",f9,[(E(!0),V(Ze,null,xt(t.shortcuts,(y,w)=>(E(),V("button",{key:w,type:"button",class:"el-picker-panel__shortcut",onClick:_=>t.handleShortcutClick(y)},Pe(y.text),9,h9))),128))])):ue("v-if",!0),G("div",p9,[t.showTime?(E(),V("div",m9,[G("span",g9,[Z(s,{placeholder:t.t("el.datepicker.selectDate"),"model-value":t.visibleDate,size:"small",onInput:e[0]||(e[0]=y=>t.userInputDate=y),onChange:t.handleVisibleDateChange},null,8,["placeholder","model-value","onChange"])]),ut((E(),V("span",v9,[Z(s,{placeholder:t.t("el.datepicker.selectTime"),"model-value":t.visibleTime,size:"small",onFocus:t.onTimePickerInputFocus,onInput:e[1]||(e[1]=y=>t.userInputTime=y),onChange:t.handleVisibleTimeChange},null,8,["placeholder","model-value","onFocus","onChange"]),Z(a,{visible:t.timePickerVisible,format:t.timeFormat,"time-arrow-control":t.arrowControl,"parsed-value":t.innerDate,onPick:t.handleTimePick},null,8,["visible","format","time-arrow-control","parsed-value","onPick"])])),[[v,t.handleTimePickClose]])])):ue("v-if",!0),ut(G("div",{class:$(["el-date-picker__header",{"el-date-picker__header--bordered":t.currentView==="year"||t.currentView==="month"}])},[G("button",{type:"button","aria-label":t.t("el.datepicker.prevYear"),class:"el-picker-panel__icon-btn el-date-picker__prev-btn d-arrow-left",onClick:e[2]||(e[2]=(...y)=>t.prevYear_&&t.prevYear_(...y))},[Z(u,null,{default:X(()=>[Z(l)]),_:1})],8,y9),ut(G("button",{type:"button","aria-label":t.t("el.datepicker.prevMonth"),class:"el-picker-panel__icon-btn el-date-picker__prev-btn arrow-left",onClick:e[3]||(e[3]=(...y)=>t.prevMonth_&&t.prevMonth_(...y))},[Z(u,null,{default:X(()=>[Z(c)]),_:1})],8,b9),[[Lt,t.currentView==="date"]]),G("span",{role:"button",class:"el-date-picker__header-label",onClick:e[4]||(e[4]=(...y)=>t.showYearPicker&&t.showYearPicker(...y))},Pe(t.yearLabel),1),ut(G("span",{role:"button",class:$(["el-date-picker__header-label",{active:t.currentView==="month"}]),onClick:e[5]||(e[5]=(...y)=>t.showMonthPicker&&t.showMonthPicker(...y))},Pe(t.t(`el.datepicker.month${t.month+1}`)),3),[[Lt,t.currentView==="date"]]),G("button",{type:"button","aria-label":t.t("el.datepicker.nextYear"),class:"el-picker-panel__icon-btn el-date-picker__next-btn d-arrow-right",onClick:e[6]||(e[6]=(...y)=>t.nextYear_&&t.nextYear_(...y))},[Z(u,null,{default:X(()=>[Z(d)]),_:1})],8,w9),ut(G("button",{type:"button","aria-label":t.t("el.datepicker.nextMonth"),class:"el-picker-panel__icon-btn el-date-picker__next-btn arrow-right",onClick:e[7]||(e[7]=(...y)=>t.nextMonth_&&t.nextMonth_(...y))},[Z(u,null,{default:X(()=>[Z(f)]),_:1})],8,_9),[[Lt,t.currentView==="date"]])],2),[[Lt,t.currentView!=="time"]]),G("div",S9,[t.currentView==="date"?(E(),fe(h,{key:0,"selection-mode":t.selectionMode,date:t.innerDate,"parsed-value":t.parsedValue,"disabled-date":t.disabledDate,onPick:t.handleDatePick},null,8,["selection-mode","date","parsed-value","disabled-date","onPick"])):ue("v-if",!0),t.currentView==="year"?(E(),fe(m,{key:1,date:t.innerDate,"disabled-date":t.disabledDate,"parsed-value":t.parsedValue,onPick:t.handleYearPick},null,8,["date","disabled-date","parsed-value","onPick"])):ue("v-if",!0),t.currentView==="month"?(E(),fe(g,{key:2,date:t.innerDate,"parsed-value":t.parsedValue,"disabled-date":t.disabledDate,onPick:t.handleMonthPick},null,8,["date","parsed-value","disabled-date","onPick"])):ue("v-if",!0)])])]),ut(G("div",C9,[ut(Z(p,{size:"small",type:"text",class:"el-picker-panel__link-btn",onClick:t.changeToNow},{default:X(()=>[lt(Pe(t.t("el.datepicker.now")),1)]),_:1},8,["onClick"]),[[Lt,t.selectionMode!=="dates"]]),Z(p,{plain:"",size:"small",class:"el-picker-panel__link-btn",onClick:t.onConfirm},{default:X(()=>[lt(Pe(t.t("el.datepicker.confirm")),1)]),_:1},8,["onClick"])],512),[[Lt,t.footerVisible&&t.currentView==="date"]])],2)}var x9=De(c9,[["render",M9],["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-date-pick.vue"]]);const E9=pe({directives:{clickoutside:ma},components:{TimePickPanel:b0,DateTable:Tx,ElInput:ai,ElButton:Jr,ElIcon:st,DArrowLeft:Th,ArrowLeft:pa,DArrowRight:Ah,ArrowRight:si},props:{unlinkPanels:Boolean,parsedValue:{type:Array},type:{type:String,required:!0,validator:$M}},emits:["pick","set-picker-option","calendar-change","panel-change"],setup(t,e){const{t:n,lang:r}=Gt(),i=F(dt().locale(r.value)),o=F(dt().locale(r.value).add(1,"month")),s=F(null),a=F(null),l=F({min:null,max:null}),u=F({min:null,max:null}),c=k(()=>`${i.value.year()} ${n("el.datepicker.year")} ${n(`el.datepicker.month${i.value.month()+1}`)}`),d=k(()=>`${o.value.year()} ${n("el.datepicker.year")} ${n(`el.datepicker.month${o.value.month()+1}`)}`),f=k(()=>i.value.year()),h=k(()=>i.value.month()),m=k(()=>o.value.year()),g=k(()=>o.value.month()),p=k(()=>!!H.length),v=k(()=>l.value.min!==null?l.value.min:s.value?s.value.format(S.value):""),y=k(()=>l.value.max!==null?l.value.max:a.value||s.value?(a.value||s.value).format(S.value):""),w=k(()=>u.value.min!==null?u.value.min:s.value?s.value.format(b.value):""),_=k(()=>u.value.max!==null?u.value.max:a.value||s.value?(a.value||s.value).format(b.value):""),b=k(()=>ex(ke)),S=k(()=>Q2(ke)),M=()=>{i.value=i.value.subtract(1,"year"),t.unlinkPanels||(o.value=i.value.add(1,"month")),B("year")},T=()=>{i.value=i.value.subtract(1,"month"),t.unlinkPanels||(o.value=i.value.add(1,"month")),B("month")},N=()=>{t.unlinkPanels?o.value=o.value.add(1,"year"):(i.value=i.value.add(1,"year"),o.value=i.value.add(1,"month")),B("year")},I=()=>{t.unlinkPanels?o.value=o.value.add(1,"month"):(i.value=i.value.add(1,"month"),o.value=i.value.add(1,"month")),B("month")},x=()=>{i.value=i.value.add(1,"year"),B("year")},R=()=>{i.value=i.value.add(1,"month"),B("month")},O=()=>{o.value=o.value.subtract(1,"year"),B("year")},D=()=>{o.value=o.value.subtract(1,"month"),B("month")},B=ge=>{e.emit("panel-change",[i.value.toDate(),o.value.toDate()],ge)},L=k(()=>{const ge=(h.value+1)%12,xe=h.value+1>=12?1:0;return t.unlinkPanels&&new Date(f.value+xe,ge)<new Date(m.value,g.value)}),A=k(()=>t.unlinkPanels&&m.value*12+g.value-(f.value*12+h.value+1)>=12),P=ge=>Array.isArray(ge)&&ge[0]&&ge[1]&&ge[0].valueOf()<=ge[1].valueOf(),W=F({endDate:null,selecting:!1}),K=k(()=>!(s.value&&a.value&&!W.value.selecting&&P([s.value,a.value]))),te=ge=>{W.value=ge},J=ge=>{W.value.selecting=ge,ge||(W.value.endDate=null)},se=k(()=>t.type==="datetime"||t.type==="datetimerange"),Te=(ge=!1)=>{P([s.value,a.value])&&e.emit("pick",[s.value,a.value],ge)},Le=(ge,xe)=>{if(!!ge)return Ve?dt(Ve[xe]||Ve).locale(r.value).year(ge.year()).month(ge.month()).date(ge.date()):ge},q=(ge,xe=!0)=>{const ie=ge.minDate,He=ge.maxDate,We=Le(ie,0),rt=Le(He,1);a.value===rt&&s.value===We||(e.emit("calendar-change",[ie.toDate(),He&&He.toDate()]),a.value=rt,s.value=We,!(!xe||se.value)&&Te())},re=ge=>{const xe=typeof ge.value=="function"?ge.value():ge.value;if(xe){e.emit("pick",[dt(xe[0]).locale(r.value),dt(xe[1]).locale(r.value)]);return}ge.onClick&&ge.onClick(e)},he=F(!1),we=F(!1),ye=()=>{he.value=!1},ze=()=>{we.value=!1},be=(ge,xe)=>{l.value[xe]=ge;const ie=dt(ge,S.value).locale(r.value);if(ie.isValid()){if(j&&j(ie.toDate()))return;xe==="min"?(i.value=ie,s.value=(s.value||i.value).year(ie.year()).month(ie.month()).date(ie.date()),t.unlinkPanels||(o.value=ie.add(1,"month"),a.value=s.value.add(1,"month"))):(o.value=ie,a.value=(a.value||o.value).year(ie.year()).month(ie.month()).date(ie.date()),t.unlinkPanels||(i.value=ie.subtract(1,"month"),s.value=a.value.subtract(1,"month")))}},U=(ge,xe)=>{l.value[xe]=null},Q=(ge,xe)=>{u.value[xe]=ge;const ie=dt(ge,b.value).locale(r.value);ie.isValid()&&(xe==="min"?(he.value=!0,s.value=(s.value||i.value).hour(ie.hour()).minute(ie.minute()).second(ie.second()),(!a.value||a.value.isBefore(s.value))&&(a.value=s.value)):(we.value=!0,a.value=(a.value||o.value).hour(ie.hour()).minute(ie.minute()).second(ie.second()),o.value=a.value,a.value&&a.value.isBefore(s.value)&&(s.value=a.value)))},de=(ge,xe)=>{u.value[xe]=null,xe==="min"?(i.value=s.value,he.value=!1):(o.value=a.value,we.value=!1)},me=(ge,xe,ie)=>{u.value.min||(ge&&(i.value=ge,s.value=(s.value||i.value).hour(ge.hour()).minute(ge.minute()).second(ge.second())),ie||(he.value=xe),(!a.value||a.value.isBefore(s.value))&&(a.value=s.value,o.value=ge))},Se=(ge,xe,ie)=>{u.value.max||(ge&&(o.value=ge,a.value=(a.value||o.value).hour(ge.hour()).minute(ge.minute()).second(ge.second())),ie||(we.value=xe),a.value&&a.value.isBefore(s.value)&&(s.value=a.value))},Ae=()=>{i.value=ae()[0],o.value=i.value.add(1,"month"),e.emit("pick",null)},ee=ge=>Array.isArray(ge)?ge.map(xe=>xe.format(ke)):ge.format(ke),le=ge=>Array.isArray(ge)?ge.map(xe=>dt(xe,ke).locale(r.value)):dt(ge,ke).locale(r.value),ae=()=>{let ge;if(Array.isArray(_e.value)){const xe=dt(_e.value[0]);let ie=dt(_e.value[1]);return t.unlinkPanels||(ie=xe.add(1,"month")),[xe,ie]}else _e.value?ge=dt(_e.value):ge=dt();return ge=ge.locale(r.value),[ge,ge.add(1,"month")]};e.emit("set-picker-option",["isValidValue",P]),e.emit("set-picker-option",["parseUserInput",le]),e.emit("set-picker-option",["formatToString",ee]),e.emit("set-picker-option",["handleClear",Ae]);const z=Ke("EP_PICKER_BASE"),{shortcuts:H,disabledDate:j,cellClassName:ce,format:ke,defaultTime:Ve,arrowControl:Ne,clearable:Y}=z.props,_e=Nn(z.props,"defaultValue");return Me(()=>_e.value,ge=>{if(ge){const xe=ae();s.value=null,a.value=null,i.value=xe[0],o.value=xe[1]}},{immediate:!0}),Me(()=>t.parsedValue,ge=>{if(ge&&ge.length===2)if(s.value=ge[0],a.value=ge[1],i.value=s.value,t.unlinkPanels&&a.value){const xe=s.value.year(),ie=s.value.month(),He=a.value.year(),We=a.value.month();o.value=xe===He&&ie===We?a.value.add(1,"month"):a.value}else o.value=i.value.add(1,"month"),a.value&&(o.value=o.value.hour(a.value.hour()).minute(a.value.minute()).second(a.value.second()));else{const xe=ae();s.value=null,a.value=null,i.value=xe[0],o.value=xe[1]}},{immediate:!0}),{shortcuts:H,disabledDate:j,cellClassName:ce,minTimePickerVisible:he,maxTimePickerVisible:we,handleMinTimeClose:ye,handleMaxTimeClose:ze,handleShortcutClick:re,rangeState:W,minDate:s,maxDate:a,handleRangePick:q,onSelect:J,handleChangeRange:te,btnDisabled:K,enableYearArrow:A,enableMonthArrow:L,rightPrevMonth:D,rightPrevYear:O,rightNextMonth:I,rightNextYear:N,leftPrevMonth:T,leftPrevYear:M,leftNextMonth:R,leftNextYear:x,hasShortcuts:p,leftLabel:c,rightLabel:d,leftDate:i,rightDate:o,showTime:se,t:n,minVisibleDate:v,maxVisibleDate:y,minVisibleTime:w,maxVisibleTime:_,arrowControl:Ne,handleDateInput:be,handleDateChange:U,handleTimeInput:Q,handleTimeChange:de,handleMinTimePick:me,handleMaxTimePick:Se,handleClear:Ae,handleConfirm:Te,timeFormat:b,clearable:Y}}}),T9={class:"el-picker-panel__body-wrapper"},A9={key:0,class:"el-picker-panel__sidebar"},k9=["onClick"],P9={class:"el-picker-panel__body"},L9={key:0,class:"el-date-range-picker__time-header"},R9={class:"el-date-range-picker__editors-wrap"},I9={class:"el-date-range-picker__time-picker-wrap"},D9={class:"el-date-range-picker__time-picker-wrap"},$9={class:"el-date-range-picker__editors-wrap is-right"},N9={class:"el-date-range-picker__time-picker-wrap"},O9={class:"el-date-range-picker__time-picker-wrap"},F9={class:"el-picker-panel__content el-date-range-picker__content is-left"},B9={class:"el-date-range-picker__header"},z9=["disabled"],V9=["disabled"],H9={class:"el-picker-panel__content el-date-range-picker__content is-right"},U9={class:"el-date-range-picker__header"},W9=["disabled"],G9=["disabled"],j9={key:0,class:"el-picker-panel__footer"};function K9(t,e,n,r,i,o){const s=ve("el-input"),a=ve("time-pick-panel"),l=ve("arrow-right"),u=ve("el-icon"),c=ve("d-arrow-left"),d=ve("arrow-left"),f=ve("d-arrow-right"),h=ve("date-table"),m=ve("el-button"),g=Vr("clickoutside");return E(),V("div",{class:$(["el-picker-panel el-date-range-picker",[{"has-sidebar":t.$slots.sidebar||t.hasShortcuts,"has-time":t.showTime}]])},[G("div",T9,[Ce(t.$slots,"sidebar",{class:"el-picker-panel__sidebar"}),t.hasShortcuts?(E(),V("div",A9,[(E(!0),V(Ze,null,xt(t.shortcuts,(p,v)=>(E(),V("button",{key:v,type:"button",class:"el-picker-panel__shortcut",onClick:y=>t.handleShortcutClick(p)},Pe(p.text),9,k9))),128))])):ue("v-if",!0),G("div",P9,[t.showTime?(E(),V("div",L9,[G("span",R9,[G("span",I9,[Z(s,{size:"small",disabled:t.rangeState.selecting,placeholder:t.t("el.datepicker.startDate"),class:"el-date-range-picker__editor","model-value":t.minVisibleDate,onInput:e[0]||(e[0]=p=>t.handleDateInput(p,"min")),onChange:e[1]||(e[1]=p=>t.handleDateChange(p,"min"))},null,8,["disabled","placeholder","model-value"])]),ut((E(),V("span",D9,[Z(s,{size:"small",class:"el-date-range-picker__editor",disabled:t.rangeState.selecting,placeholder:t.t("el.datepicker.startTime"),"model-value":t.minVisibleTime,onFocus:e[2]||(e[2]=p=>t.minTimePickerVisible=!0),onInput:e[3]||(e[3]=p=>t.handleTimeInput(p,"min")),onChange:e[4]||(e[4]=p=>t.handleTimeChange(p,"min"))},null,8,["disabled","placeholder","model-value"]),Z(a,{visible:t.minTimePickerVisible,format:t.timeFormat,"datetime-role":"start","time-arrow-control":t.arrowControl,"parsed-value":t.leftDate,onPick:t.handleMinTimePick},null,8,["visible","format","time-arrow-control","parsed-value","onPick"])])),[[g,t.handleMinTimeClose]])]),G("span",null,[Z(u,null,{default:X(()=>[Z(l)]),_:1})]),G("span",$9,[G("span",N9,[Z(s,{size:"small",class:"el-date-range-picker__editor",disabled:t.rangeState.selecting,placeholder:t.t("el.datepicker.endDate"),"model-value":t.maxVisibleDate,readonly:!t.minDate,onInput:e[5]||(e[5]=p=>t.handleDateInput(p,"max")),onChange:e[6]||(e[6]=p=>t.handleDateChange(p,"max"))},null,8,["disabled","placeholder","model-value","readonly"])]),ut((E(),V("span",O9,[Z(s,{size:"small",class:"el-date-range-picker__editor",disabled:t.rangeState.selecting,placeholder:t.t("el.datepicker.endTime"),"model-value":t.maxVisibleTime,readonly:!t.minDate,onFocus:e[7]||(e[7]=p=>t.minDate&&(t.maxTimePickerVisible=!0)),onInput:e[8]||(e[8]=p=>t.handleTimeInput(p,"max")),onChange:e[9]||(e[9]=p=>t.handleTimeChange(p,"max"))},null,8,["disabled","placeholder","model-value","readonly"]),Z(a,{"datetime-role":"end",visible:t.maxTimePickerVisible,format:t.timeFormat,"time-arrow-control":t.arrowControl,"parsed-value":t.rightDate,onPick:t.handleMaxTimePick},null,8,["visible","format","time-arrow-control","parsed-value","onPick"])])),[[g,t.handleMaxTimeClose]])])])):ue("v-if",!0),G("div",F9,[G("div",B9,[G("button",{type:"button",class:"el-picker-panel__icon-btn d-arrow-left",onClick:e[10]||(e[10]=(...p)=>t.leftPrevYear&&t.leftPrevYear(...p))},[Z(u,null,{default:X(()=>[Z(c)]),_:1})]),G("button",{type:"button",class:"el-picker-panel__icon-btn arrow-left",onClick:e[11]||(e[11]=(...p)=>t.leftPrevMonth&&t.leftPrevMonth(...p))},[Z(u,null,{default:X(()=>[Z(d)]),_:1})]),t.unlinkPanels?(E(),V("button",{key:0,type:"button",disabled:!t.enableYearArrow,class:$([{"is-disabled":!t.enableYearArrow},"el-picker-panel__icon-btn d-arrow-right"]),onClick:e[12]||(e[12]=(...p)=>t.leftNextYear&&t.leftNextYear(...p))},[Z(u,null,{default:X(()=>[Z(f)]),_:1})],10,z9)):ue("v-if",!0),t.unlinkPanels?(E(),V("button",{key:1,type:"button",disabled:!t.enableMonthArrow,class:$([{"is-disabled":!t.enableMonthArrow},"el-picker-panel__icon-btn arrow-right"]),onClick:e[13]||(e[13]=(...p)=>t.leftNextMonth&&t.leftNextMonth(...p))},[Z(u,null,{default:X(()=>[Z(l)]),_:1})],10,V9)):ue("v-if",!0),G("div",null,Pe(t.leftLabel),1)]),Z(h,{"selection-mode":"range",date:t.leftDate,"min-date":t.minDate,"max-date":t.maxDate,"range-state":t.rangeState,"disabled-date":t.disabledDate,"cell-class-name":t.cellClassName,onChangerange:t.handleChangeRange,onPick:t.handleRangePick,onSelect:t.onSelect},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onPick","onSelect"])]),G("div",H9,[G("div",U9,[t.unlinkPanels?(E(),V("button",{key:0,type:"button",disabled:!t.enableYearArrow,class:$([{"is-disabled":!t.enableYearArrow},"el-picker-panel__icon-btn d-arrow-left"]),onClick:e[14]||(e[14]=(...p)=>t.rightPrevYear&&t.rightPrevYear(...p))},[Z(u,null,{default:X(()=>[Z(c)]),_:1})],10,W9)):ue("v-if",!0),t.unlinkPanels?(E(),V("button",{key:1,type:"button",disabled:!t.enableMonthArrow,class:$([{"is-disabled":!t.enableMonthArrow},"el-picker-panel__icon-btn arrow-left"]),onClick:e[15]||(e[15]=(...p)=>t.rightPrevMonth&&t.rightPrevMonth(...p))},[Z(u,null,{default:X(()=>[Z(d)]),_:1})],10,G9)):ue("v-if",!0),G("button",{type:"button",class:"el-picker-panel__icon-btn d-arrow-right",onClick:e[16]||(e[16]=(...p)=>t.rightNextYear&&t.rightNextYear(...p))},[Z(u,null,{default:X(()=>[Z(f)]),_:1})]),G("button",{type:"button",class:"el-picker-panel__icon-btn arrow-right",onClick:e[17]||(e[17]=(...p)=>t.rightNextMonth&&t.rightNextMonth(...p))},[Z(u,null,{default:X(()=>[Z(l)]),_:1})]),G("div",null,Pe(t.rightLabel),1)]),Z(h,{"selection-mode":"range",date:t.rightDate,"min-date":t.minDate,"max-date":t.maxDate,"range-state":t.rangeState,"disabled-date":t.disabledDate,"cell-class-name":t.cellClassName,onChangerange:t.handleChangeRange,onPick:t.handleRangePick,onSelect:t.onSelect},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onPick","onSelect"])])])]),t.showTime?(E(),V("div",j9,[t.clearable?(E(),fe(m,{key:0,size:"small",type:"text",class:"el-picker-panel__link-btn",onClick:t.handleClear},{default:X(()=>[lt(Pe(t.t("el.datepicker.clear")),1)]),_:1},8,["onClick"])):ue("v-if",!0),Z(m,{plain:"",size:"small",class:"el-picker-panel__link-btn",disabled:t.btnDisabled,onClick:e[18]||(e[18]=p=>t.handleConfirm(!1))},{default:X(()=>[lt(Pe(t.t("el.datepicker.confirm")),1)]),_:1},8,["disabled"])])):ue("v-if",!0)],2)}var q9=De(E9,[["render",K9],["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-date-range.vue"]]);const Y9=pe({components:{MonthTable:Ax,ElIcon:st,DArrowLeft:Th,DArrowRight:Ah},props:{unlinkPanels:Boolean,parsedValue:{type:Array}},emits:["pick","set-picker-option"],setup(t,e){const{t:n,lang:r}=Gt(),i=F(dt().locale(r.value)),o=F(dt().locale(r.value).add(1,"year")),s=k(()=>!!R.length),a=L=>{const A=typeof L.value=="function"?L.value():L.value;if(A){e.emit("pick",[dt(A[0]).locale(r.value),dt(A[1]).locale(r.value)]);return}L.onClick&&L.onClick(e)},l=()=>{i.value=i.value.subtract(1,"year"),t.unlinkPanels||(o.value=o.value.subtract(1,"year"))},u=()=>{t.unlinkPanels||(i.value=i.value.add(1,"year")),o.value=o.value.add(1,"year")},c=()=>{i.value=i.value.add(1,"year")},d=()=>{o.value=o.value.subtract(1,"year")},f=k(()=>`${i.value.year()} ${n("el.datepicker.year")}`),h=k(()=>`${o.value.year()} ${n("el.datepicker.year")}`),m=k(()=>i.value.year()),g=k(()=>o.value.year()===i.value.year()?i.value.year()+1:o.value.year()),p=k(()=>t.unlinkPanels&&g.value>m.value+1),v=F(null),y=F(null),w=F({endDate:null,selecting:!1}),_=L=>{w.value=L},b=(L,A=!0)=>{const P=L.minDate,W=L.maxDate;y.value===W&&v.value===P||(y.value=W,v.value=P,A&&M())},S=L=>Array.isArray(L)&&L&&L[0]&&L[1]&&L[0].valueOf()<=L[1].valueOf(),M=(L=!1)=>{S([v.value,y.value])&&e.emit("pick",[v.value,y.value],L)},T=L=>{w.value.selecting=L,L||(w.value.endDate=null)},N=L=>L.map(A=>A.format(D)),I=()=>{let L;if(Array.isArray(B.value)){const A=dt(B.value[0]);let P=dt(B.value[1]);return t.unlinkPanels||(P=A.add(1,"year")),[A,P]}else B.value?L=dt(B.value):L=dt();return L=L.locale(r.value),[L,L.add(1,"year")]};e.emit("set-picker-option",["formatToString",N]);const x=Ke("EP_PICKER_BASE"),{shortcuts:R,disabledDate:O,format:D}=x.props,B=Nn(x.props,"defaultValue");return Me(()=>B.value,L=>{if(L){const A=I();i.value=A[0],o.value=A[1]}},{immediate:!0}),Me(()=>t.parsedValue,L=>{if(L&&L.length===2)if(v.value=L[0],y.value=L[1],i.value=v.value,t.unlinkPanels&&y.value){const A=v.value.year(),P=y.value.year();o.value=A===P?y.value.add(1,"year"):y.value}else o.value=i.value.add(1,"year");else{const A=I();v.value=null,y.value=null,i.value=A[0],o.value=A[1]}},{immediate:!0}),{shortcuts:R,disabledDate:O,onSelect:T,handleRangePick:b,rangeState:w,handleChangeRange:_,minDate:v,maxDate:y,enableYearArrow:p,leftLabel:f,rightLabel:h,leftNextYear:c,leftPrevYear:l,rightNextYear:u,rightPrevYear:d,t:n,leftDate:i,rightDate:o,hasShortcuts:s,handleShortcutClick:a}}}),X9={class:"el-picker-panel__body-wrapper"},Z9={key:0,class:"el-picker-panel__sidebar"},J9=["onClick"],Q9={class:"el-picker-panel__body"},e7={class:"el-picker-panel__content el-date-range-picker__content is-left"},t7={class:"el-date-range-picker__header"},n7=["disabled"],r7={class:"el-picker-panel__content el-date-range-picker__content is-right"},i7={class:"el-date-range-picker__header"},o7=["disabled"];function s7(t,e,n,r,i,o){const s=ve("d-arrow-left"),a=ve("el-icon"),l=ve("d-arrow-right"),u=ve("month-table");return E(),V("div",{class:$(["el-picker-panel el-date-range-picker",[{"has-sidebar":t.$slots.sidebar||t.hasShortcuts}]])},[G("div",X9,[Ce(t.$slots,"sidebar",{class:"el-picker-panel__sidebar"}),t.hasShortcuts?(E(),V("div",Z9,[(E(!0),V(Ze,null,xt(t.shortcuts,(c,d)=>(E(),V("button",{key:d,type:"button",class:"el-picker-panel__shortcut",onClick:f=>t.handleShortcutClick(c)},Pe(c.text),9,J9))),128))])):ue("v-if",!0),G("div",Q9,[G("div",e7,[G("div",t7,[G("button",{type:"button",class:"el-picker-panel__icon-btn d-arrow-left",onClick:e[0]||(e[0]=(...c)=>t.leftPrevYear&&t.leftPrevYear(...c))},[Z(a,null,{default:X(()=>[Z(s)]),_:1})]),t.unlinkPanels?(E(),V("button",{key:0,type:"button",disabled:!t.enableYearArrow,class:$([{"is-disabled":!t.enableYearArrow},"el-picker-panel__icon-btn d-arrow-right"]),onClick:e[1]||(e[1]=(...c)=>t.leftNextYear&&t.leftNextYear(...c))},[Z(a,null,{default:X(()=>[Z(l)]),_:1})],10,n7)):ue("v-if",!0),G("div",null,Pe(t.leftLabel),1)]),Z(u,{"selection-mode":"range",date:t.leftDate,"min-date":t.minDate,"max-date":t.maxDate,"range-state":t.rangeState,"disabled-date":t.disabledDate,onChangerange:t.handleChangeRange,onPick:t.handleRangePick,onSelect:t.onSelect},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onPick","onSelect"])]),G("div",r7,[G("div",i7,[t.unlinkPanels?(E(),V("button",{key:0,type:"button",disabled:!t.enableYearArrow,class:$([{"is-disabled":!t.enableYearArrow},"el-picker-panel__icon-btn d-arrow-left"]),onClick:e[2]||(e[2]=(...c)=>t.rightPrevYear&&t.rightPrevYear(...c))},[Z(a,null,{default:X(()=>[Z(s)]),_:1})],10,o7)):ue("v-if",!0),G("button",{type:"button",class:"el-picker-panel__icon-btn d-arrow-right",onClick:e[3]||(e[3]=(...c)=>t.rightNextYear&&t.rightNextYear(...c))},[Z(a,null,{default:X(()=>[Z(l)]),_:1})]),G("div",null,Pe(t.rightLabel),1)]),Z(u,{"selection-mode":"range",date:t.rightDate,"min-date":t.minDate,"max-date":t.maxDate,"range-state":t.rangeState,"disabled-date":t.disabledDate,onChangerange:t.handleChangeRange,onPick:t.handleRangePick,onSelect:t.onSelect},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onPick","onSelect"])])])])],2)}var a7=De(Y9,[["render",s7],["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-month-range.vue"]]);dt.extend(O2);dt.extend(IW);dt.extend(v0);dt.extend(DW);dt.extend($W);dt.extend(NW);dt.extend(OW);dt.extend(FW);const l7=function(t){return t==="daterange"||t==="datetimerange"?q9:t==="monthrange"?a7:x9};var u7=pe({name:"ElDatePicker",install:null,props:Ue(Ee({},y0),{type:{type:String,default:"date"}}),emits:["update:modelValue"],setup(t,e){Ct("ElPopperOptions",t.popperOptions),Ct(Ex,{ctx:e});const n=F(null),r=Ue(Ee({},t),{focus:(i=!0)=>{var o;(o=n.value)==null||o.focus(i)}});return e.expose(r),()=>{var i;const o=(i=t.format)!=null?i:X8[t.type]||Mu;return Xe(B2,Ue(Ee({},t),{format:o,type:t.type,ref:n,"onUpdate:modelValue":s=>e.emit("update:modelValue",s)}),{default:s=>Xe(l7(t.type),s),"range-separator":()=>Ce(e.slots,"range-separator")})}}});const hf=u7;hf.install=t=>{t.component(hf.name,hf)};const c7=hf,C0="elDescriptions";var H1=pe({name:"ElDescriptionsCell",props:{cell:{type:Object},tag:{type:String},type:{type:String}},setup(){return{descriptions:Ke(C0,{})}},render(){var t,e,n,r,i,o;const s=SB(this.cell),{border:a,direction:l}=this.descriptions,u=l==="vertical",c=((n=(e=(t=this.cell)==null?void 0:t.children)==null?void 0:e.label)==null?void 0:n.call(e))||s.label,d=(o=(i=(r=this.cell)==null?void 0:r.children)==null?void 0:i.default)==null?void 0:o.call(i),f=s.span,h=s.align?`is-${s.align}`:"",m=s.labelAlign?`is-${s.labelAlign}`:h,g=s.className,p=s.labelClassName,v={width:Ei(s.width),minWidth:Ei(s.minWidth)},y=$e("descriptions");switch(this.type){case"label":return Xe(this.tag,{style:v,class:[y.e("cell"),y.e("label"),y.is("bordered-label",a),y.is("vertical-label",u),m,p],colSpan:u?f:1},c);case"content":return Xe(this.tag,{style:v,class:[y.e("cell"),y.e("content"),y.is("bordered-content",a),y.is("vertical-content",u),h,g],colSpan:u?f:f*2-1},d);default:return Xe("td",{style:v,class:[y.e("cell"),h],colSpan:f},[Xe("span",{class:[y.e("label"),p]},c),Xe("span",{class:[y.e("content"),g]},d)])}}});const d7=pe({name:"ElDescriptionsRow",components:{[H1.name]:H1},props:{row:{type:Array}},setup(){return{descriptions:Ke(C0,{})}}}),f7={key:1};function h7(t,e,n,r,i,o){const s=ve("el-descriptions-cell");return t.descriptions.direction==="vertical"?(E(),V(Ze,{key:0},[G("tr",null,[(E(!0),V(Ze,null,xt(t.row,(a,l)=>(E(),fe(s,{key:`tr1-${l}`,cell:a,tag:"th",type:"label"},null,8,["cell"]))),128))]),G("tr",null,[(E(!0),V(Ze,null,xt(t.row,(a,l)=>(E(),fe(s,{key:`tr2-${l}`,cell:a,tag:"td",type:"content"},null,8,["cell"]))),128))])],64)):(E(),V("tr",f7,[(E(!0),V(Ze,null,xt(t.row,(a,l)=>(E(),V(Ze,{key:`tr3-${l}`},[t.descriptions.border?(E(),V(Ze,{key:0},[Z(s,{cell:a,tag:"td",type:"label"},null,8,["cell"]),Z(s,{cell:a,tag:"td",type:"content"},null,8,["cell"])],64)):(E(),fe(s,{key:1,cell:a,tag:"td",type:"both"},null,8,["cell"]))],64))),128))]))}var U1=De(d7,[["render",h7],["__file","/home/runner/work/element-plus/element-plus/packages/components/descriptions/src/descriptions-row.vue"]]);const p7=pe({name:"ElDescriptions",components:{[U1.name]:U1},props:{border:{type:Boolean,default:!1},column:{type:Number,default:3},direction:{type:String,default:"horizontal"},size:{type:String,validator:Hr},title:{type:String,default:""},extra:{type:String,default:""}},setup(t,{slots:e}){Ct(C0,t);const n=Pn(),r=$e("descriptions"),i=k(()=>[r.b(),r.is(r.m(n.value),!!n.value)]),o=l=>{const u=Array.isArray(l)?l:[l],c=[];return u.forEach(d=>{Array.isArray(d.children)?c.push(...o(d.children)):c.push(d)}),c},s=(l,u,c,d=!1)=>(l.props||(l.props={}),u>c&&(l.props.span=c),d&&(l.props.span=u),l);return{descriptionKls:i,getRows:()=>{var l;const u=o((l=e.default)==null?void 0:l.call(e)).filter(m=>{var g;return((g=m==null?void 0:m.type)==null?void 0:g.name)==="ElDescriptionsItem"}),c=[];let d=[],f=t.column,h=0;return u.forEach((m,g)=>{var p;const v=((p=m.props)==null?void 0:p.span)||1;if(g<u.length-1&&(h+=v>f?f:v),g===u.length-1){const y=t.column-h%t.column;d.push(s(m,y,f,!0)),c.push(d);return}v<f?(f-=v,d.push(m)):(d.push(s(m,v,f)),c.push(d),f=t.column,d=[])}),c},ns:r}}});function m7(t,e,n,r,i,o){const s=ve("el-descriptions-row");return E(),V("div",{class:$(t.descriptionKls)},[t.title||t.extra||t.$slots.title||t.$slots.extra?(E(),V("div",{key:0,class:$(t.ns.e("header"))},[G("div",{class:$(t.ns.e("title"))},[Ce(t.$slots,"title",{},()=>[lt(Pe(t.title),1)])],2),G("div",{class:$(t.ns.e("extra"))},[Ce(t.$slots,"extra",{},()=>[lt(Pe(t.extra),1)])],2)],2)):ue("v-if",!0),G("div",{class:$(t.ns.e("body"))},[G("table",{class:$([t.ns.e("table"),t.ns.is("bordered",t.border)])},[G("tbody",null,[(E(!0),V(Ze,null,xt(t.getRows(),(a,l)=>(E(),fe(s,{key:l,row:a},null,8,["row"]))),128))])],2)],2)],2)}var g7=De(p7,[["render",m7],["__file","/home/runner/work/element-plus/element-plus/packages/components/descriptions/src/index.vue"]]),kx=pe({name:"ElDescriptionsItem",props:{label:{type:String,default:""},span:{type:Number,default:1},width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},align:{type:String,default:"left"},labelAlign:{type:String,default:""},className:{type:String,default:""},labelClassName:{type:String,default:""}}});const v7=_t(g7,{DescriptionsItem:kx}),y7=pn(kx),b7=Je({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:Fe([String,Array,Object])},zIndex:{type:Fe([String,Number])}}),w7={click:t=>t instanceof MouseEvent};var _7=pe({name:"ElOverlay",props:b7,emits:w7,setup(t,{slots:e,emit:n}){const r=$e("overlay"),i=l=>{n("click",l)},{onClick:o,onMousedown:s,onMouseup:a}=i0(t.customMaskEvent?void 0:i);return()=>t.mask?Z("div",{class:[r.b(),t.overlayClass],style:{zIndex:t.zIndex},onClick:o,onMousedown:s,onMouseup:a},[Ce(e,"default")],qr.STYLE|qr.CLASS|qr.PROPS,["onClick","onMouseup","onMousedown"]):Xe("div",{class:t.overlayClass,style:{zIndex:t.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[Ce(e,"default")])}});const M0=_7,Px=Je({center:{type:Boolean,default:!1},closeIcon:{type:tr,default:""},customClass:{type:String,default:""},draggable:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},showClose:{type:Boolean,default:!0},title:{type:String,default:""}}),S7={close:()=>!0},C7=["aria-label"],M7={name:"ElDialogContent"},x7=pe(Ue(Ee({},M7),{props:Px,emits:S7,setup(t){const{Close:e}=vB,{dialogRef:n,headerRef:r,ns:i,style:o}=Ke(WM);return(s,a)=>(E(),V("div",{ref_key:"dialogRef",ref:n,class:$([C(i).b(),C(i).is("fullscreen",s.fullscreen),C(i).is("draggable",s.draggable),{[C(i).m("center")]:s.center},s.customClass]),"aria-modal":"true",role:"dialog","aria-label":s.title||"dialog",style:Ye(C(o)),onClick:a[1]||(a[1]=ot(()=>{},["stop"]))},[G("div",{ref_key:"headerRef",ref:r,class:$(C(i).e("header"))},[Ce(s.$slots,"title",{},()=>[G("span",{class:$(C(i).e("title"))},Pe(s.title),3)])],2),G("div",{class:$(C(i).e("body"))},[Ce(s.$slots,"default")],2),s.$slots.footer?(E(),V("div",{key:0,class:$(C(i).e("footer"))},[Ce(s.$slots,"footer")],2)):ue("v-if",!0),s.showClose?(E(),V("button",{key:1,"aria-label":"close",class:$(C(i).e("headerbtn")),type:"button",onClick:a[0]||(a[0]=l=>s.$emit("close"))},[Z(C(st),{class:$(C(i).e("close"))},{default:X(()=>[(E(),fe(Pt(s.closeIcon||C(e))))]),_:1},8,["class"])],2)):ue("v-if",!0)],14,C7))}}));var E7=De(x7,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog-content.vue"]]);const Lx=Je(Ue(Ee({},Px),{appendToBody:{type:Boolean,default:!1},beforeClose:{type:Fe(Function)},destroyOnClose:{type:Boolean,default:!1},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:{type:Boolean,required:!0},modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1}})),Rx={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[bt]:t=>Qn(t),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},Ix=(t,e)=>{const r=wt().emit,{nextZIndex:i}=To();let o="";const s=F(!1),a=F(!1),l=F(!1),u=F(t.zIndex||i());let c,d;const f=k(()=>It(t.width)?`${t.width}px`:t.width),h=k(()=>{const M={},T="--el-dialog";return t.fullscreen||(t.top&&(M[`${T}-margin-top`]=t.top),t.width&&(M[`${T}-width`]=f.value)),M});function m(){r("opened")}function g(){r("closed"),r(bt,!1),t.destroyOnClose&&(l.value=!1)}function p(){r("close")}function v(){d==null||d(),c==null||c(),t.openDelay&&t.openDelay>0?{stop:c}=ra(()=>b(),t.openDelay):b()}function y(){c==null||c(),d==null||d(),t.closeDelay&&t.closeDelay>0?{stop:d}=ra(()=>S(),t.closeDelay):S()}function w(){function M(T){T||(a.value=!0,s.value=!1)}t.beforeClose?t.beforeClose(M):y()}function _(){t.closeOnClickModal&&w()}function b(){!Tt||(s.value=!0)}function S(){s.value=!1}return t.lockScroll&&t2(s),t.closeOnPressEscape&&n2({handleClose:w},s),r2(s),Me(()=>t.modelValue,M=>{M?(a.value=!1,v(),l.value=!0,r("open"),u.value=t.zIndex?u.value++:i(),et(()=>{e.value&&(e.value.scrollTop=0)})):s.value&&y()}),Me(()=>t.fullscreen,M=>{!e.value||(M?(o=e.value.style.transform,e.value.style.transform=""):e.value.style.transform=o)}),ft(()=>{t.modelValue&&(s.value=!0,l.value=!0,v())}),{afterEnter:m,afterLeave:g,beforeLeave:p,handleClose:w,onModalClick:_,close:y,doClose:S,closed:a,style:h,rendered:l,visible:s,zIndex:u}},T7={name:"ElDialog"},A7=pe(Ue(Ee({},T7),{props:Lx,emits:Rx,setup(t,{expose:e}){const n=t,r=$e("dialog"),i=F(),o=F(),{visible:s,style:a,rendered:l,zIndex:u,afterEnter:c,afterLeave:d,beforeLeave:f,handleClose:h,onModalClick:m}=Ix(n,i);Ct(WM,{dialogRef:i,headerRef:o,ns:r,rendered:l,style:a});const g=i0(m),p=k(()=>n.draggable&&!n.fullscreen);return e2(i,o,p),e({visible:s}),(v,y)=>(E(),fe(Pc,{to:"body",disabled:!v.appendToBody},[Z(En,{name:"dialog-fade",onAfterEnter:C(c),onAfterLeave:C(d),onBeforeLeave:C(f)},{default:X(()=>[ut(Z(C(M0),{"custom-mask-event":"",mask:v.modal,"overlay-class":v.modalClass,"z-index":C(u)},{default:X(()=>[G("div",{class:$(`${C(r).namespace.value}-overlay-dialog`),onClick:y[0]||(y[0]=(...w)=>C(g).onClick&&C(g).onClick(...w)),onMousedown:y[1]||(y[1]=(...w)=>C(g).onMousedown&&C(g).onMousedown(...w)),onMouseup:y[2]||(y[2]=(...w)=>C(g).onMouseup&&C(g).onMouseup(...w))},[C(l)?(E(),fe(E7,{key:0,"custom-class":v.customClass,center:v.center,"close-icon":v.closeIcon,draggable:C(p),fullscreen:v.fullscreen,"show-close":v.showClose,style:Ye(C(a)),title:v.title,onClose:C(h)},is({title:X(()=>[Ce(v.$slots,"title")]),default:X(()=>[Ce(v.$slots,"default")]),_:2},[v.$slots.footer?{name:"footer",fn:X(()=>[Ce(v.$slots,"footer")])}:void 0]),1032,["custom-class","center","close-icon","draggable","fullscreen","show-close","style","title","onClose"])):ue("v-if",!0)],34)]),_:3},8,["mask","overlay-class","z-index"]),[[Lt,C(s)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}}));var k7=De(A7,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog.vue"]]);const P7=_t(k7),L7=Je({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},contentPosition:{type:String,values:["left","center","right"],default:"center"},borderStyle:{type:Fe(String),default:"solid"}}),R7={name:"ElDivider"},I7=pe(Ue(Ee({},R7),{props:L7,setup(t){const e=t,n=$e("divider"),r=k(()=>({"--el-border-style":e.borderStyle}));return(i,o)=>(E(),V("div",{class:$([C(n).b(),C(n).m(i.direction)]),style:Ye(C(r))},[i.$slots.default&&i.direction!=="vertical"?(E(),V("div",{key:0,class:$([C(n).e("text"),C(n).is(i.contentPosition)])},[Ce(i.$slots,"default")],2)):ue("v-if",!0)],6))}}));var D7=De(I7,[["__file","/home/runner/work/element-plus/element-plus/packages/components/divider/src/divider.vue"]]);const $7=_t(D7),N7=Je(Ue(Ee({},Lx),{direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0}})),O7=Rx,F7=pe({name:"ElDrawer",components:{ElOverlay:M0,ElIcon:st,Close:ti},directives:{TrapFocus:V2},props:N7,emits:O7,setup(t,e){const n=F(),r=$e("drawer"),i=k(()=>t.direction==="rtl"||t.direction==="ltr"),o=k(()=>typeof t.size=="number"?`${t.size}px`:t.size);return Ue(Ee({},Ix(t,e,n)),{drawerRef:n,isHorizontal:i,drawerSize:o,ns:r})}}),B7=["aria-labelledby","aria-label"],z7=["id"],V7=["title"],H7=["aria-label"];function U7(t,e,n,r,i,o){const s=ve("close"),a=ve("el-icon"),l=ve("el-overlay"),u=Vr("trap-focus");return E(),fe(Pc,{to:"body",disabled:!t.appendToBody},[Z(En,{name:t.ns.b("fade"),onAfterEnter:t.afterEnter,onAfterLeave:t.afterLeave,onBeforeLeave:t.beforeLeave},{default:X(()=>[ut(Z(l,{mask:t.modal,"overlay-class":t.modalClass,"z-index":t.zIndex,onClick:t.onModalClick},{default:X(()=>[ut((E(),V("div",{ref:"drawerRef","aria-modal":"true","aria-labelledby":t.ns.e("title"),"aria-label":t.title,class:$([t.ns.b(),t.direction,t.visible&&"open",t.customClass]),style:Ye(t.isHorizontal?"width: "+t.drawerSize:"height: "+t.drawerSize),role:"dialog",onClick:e[1]||(e[1]=ot(()=>{},["stop"]))},[t.withHeader?(E(),V("header",{key:0,id:t.ns.e("title"),class:$(t.ns.e("header"))},[Ce(t.$slots,"title",{},()=>[G("span",{role:"heading",title:t.title},Pe(t.title),9,V7)]),t.showClose?(E(),V("button",{key:0,"aria-label":"close "+(t.title||"drawer"),class:$(t.ns.e("close-btn")),type:"button",onClick:e[0]||(e[0]=(...c)=>t.handleClose&&t.handleClose(...c))},[Z(a,{class:$(t.ns.e("close"))},{default:X(()=>[Z(s)]),_:1},8,["class"])],10,H7)):ue("v-if",!0)],10,z7)):ue("v-if",!0),t.rendered?(E(),V("section",{key:1,class:$(t.ns.e("body"))},[Ce(t.$slots,"default")],2)):ue("v-if",!0),t.$slots.footer?(E(),V("div",{key:2,class:$(t.ns.e("footer"))},[Ce(t.$slots,"footer")],2)):ue("v-if",!0)],14,B7)),[[u]])]),_:3},8,["mask","overlay-class","z-index","onClick"]),[[Lt,t.visible]])]),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"])}var W7=De(F7,[["render",U7],["__file","/home/runner/work/element-plus/element-plus/packages/components/drawer/src/drawer.vue"]]);const G7=_t(W7),Dx=t=>{const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e},W1=(t,e)=>{for(const n of t)if(!j7(n,e))return n},j7=(t,e)=>{if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1},K7=t=>{const e=Dx(t),n=W1(e,t),r=W1(e.reverse(),t);return[n,r]},q7=t=>t instanceof HTMLInputElement&&"select"in t,As=(t,e)=>{if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&q7(t)&&e&&t.select()}};function G1(t,e){const n=[...t],r=t.indexOf(e);return r!==-1&&n.splice(r,1),n}const Y7=()=>{let t=[];return{push:r=>{const i=t[0];i&&r!==i&&i.pause(),t=G1(t,r),t.unshift(r)},remove:r=>{var i,o;t=G1(t,r),(o=(i=t[0])==null?void 0:i.resume)==null||o.call(i)}}},X7=(t,e=!1)=>{const n=document.activeElement;for(const r of t)if(As(r,e),document.activeElement!==n)return},j1=Y7(),Lp="focus-trap.focus-on-mount",Rp="focus-trap.focus-on-unmount",K1={cancelable:!0,bubbles:!1},q1="mountOnFocus",Y1="unmountOnFocus",$x=Symbol("elFocusTrap"),Z7=pe({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean},emits:[q1,Y1],setup(t,{emit:e}){const n=F(),r=F(null);let i,o;const s={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},a=h=>{if(!t.loop&&!t.trapped||s.paused)return;const{key:m,altKey:g,ctrlKey:p,metaKey:v,currentTarget:y,shiftKey:w}=h,{loop:_}=t,b=m===qe.tab&&!g&&!p&&!v,S=document.activeElement;if(b&&S){const M=y,[T,N]=K7(M);T&&N?!w&&S===N?(h.preventDefault(),_&&As(T,!0)):w&&S===T&&(h.preventDefault(),_&&As(N,!0)):S===M&&h.preventDefault()}};Ct($x,{focusTrapRef:r,onKeydown:a});const l=h=>{e(q1,h)},u=h=>e(Y1,h),c=h=>{const m=C(r);if(s.paused||!m)return;const g=h.target;g&&m.contains(g)?o=g:As(o,!0)},d=h=>{const m=C(r);s.paused||!m||m.contains(h.relatedTarget)||As(o,!0)},f=()=>{document.removeEventListener("focusin",c),document.removeEventListener("focusout",d)};return ft(()=>{const h=C(r);if(h){j1.push(s);const m=document.activeElement;if(i=m,!h.contains(m)){const p=new Event(Lp,K1);h.addEventListener(Lp,l),h.dispatchEvent(p),p.defaultPrevented||et(()=>{X7(Dx(h),!0),document.activeElement===m&&As(h)})}}Me(()=>t.trapped,m=>{m?(document.addEventListener("focusin",c),document.addEventListener("focusout",d)):f()},{immediate:!0})}),rn(()=>{f();const h=C(r);if(h){h.removeEventListener(Lp,l);const m=new Event(Rp,K1);h.addEventListener(Rp,u),h.dispatchEvent(m),m.defaultPrevented||As(i!=null?i:document.body,!0),h.removeEventListener(Rp,l),j1.remove(s)}}),{focusTrapRef:n,forwardRef:r,onKeydown:a}}});function J7(t,e,n,r,i,o){return Ce(t.$slots,"default")}var Q7=De(Z7,[["render",J7],["__file","/home/runner/work/element-plus/element-plus/packages/components/focus-trap/src/focus-trap.vue"]]);const eG=pe({inheritAttrs:!1});function tG(t,e,n,r,i,o){return Ce(t.$slots,"default")}var nG=De(eG,[["render",tG],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection.vue"]]);const rG=pe({name:"ElCollectionItem",inheritAttrs:!1});function iG(t,e,n,r,i,o){return Ce(t.$slots,"default")}var oG=De(rG,[["render",iG],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection-item.vue"]]);const Nx="data-el-collection-item",Ox=t=>{const e=`El${t}Collection`,n=`${e}Item`,r=Symbol(e),i=Symbol(n),o=Ue(Ee({},nG),{name:e,setup(){const a=F(null),l=new Map;Ct(r,{itemMap:l,getItems:()=>{const c=C(a);if(!c)return[];const d=Array.from(c.querySelectorAll(`[${Nx}]`));return[...l.values()].sort((m,g)=>d.indexOf(m.ref)-d.indexOf(g.ref))},collectionRef:a})}}),s=Ue(Ee({},oG),{name:n,setup(a,{attrs:l}){const u=F(null),c=Ke(r,void 0);Ct(i,{collectionItemRef:u}),ft(()=>{const d=C(u);d&&c.itemMap.set(d,Ee({ref:d},l))}),rn(()=>{const d=C(u);c.itemMap.delete(d)})}});return{COLLECTION_INJECTION_KEY:r,COLLECTION_ITEM_INJECTION_KEY:i,ElCollection:o,ElCollectionItem:s}},sG=Je({style:{type:Fe([String,Array,Object])},currentTabId:{type:Fe(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:Fe(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:aG,ElCollectionItem:lG,COLLECTION_INJECTION_KEY:x0,COLLECTION_ITEM_INJECTION_KEY:uG}=Ox("RovingFocusGroup"),E0=Symbol("elRovingFocusGroup"),Fx=Symbol("elRovingFocusGroupItem"),cG={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},dG=(t,e)=>{if(e!=="rtl")return t;switch(t){case qe.right:return qe.left;case qe.left:return qe.right;default:return t}},fG=(t,e,n)=>{const r=dG(t.key,n);if(!(e==="vertical"&&[qe.left,qe.right].includes(r))&&!(e==="horizontal"&&[qe.up,qe.down].includes(r)))return cG[r]},hG=(t,e)=>t.map((n,r)=>t[(r+e)%t.length]),T0=t=>{const{activeElement:e}=document;for(const n of t)if(n===e||(n.focus(),e!==document.activeElement))return},X1="currentTabIdChange",Ip="rovingFocusGroup.entryFocus",pG={bubbles:!1,cancelable:!0},mG=pe({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:sG,emits:[X1,"entryFocus"],setup(t,{emit:e}){var n;const r=F((n=t.currentTabId||t.defaultCurrentTabId)!=null?n:null),i=F(!1),o=F(!1),s=F(null),{getItems:a}=Ke(x0,void 0),l=k(()=>[{outline:"none"},t.style]),u=g=>{e(X1,g)},c=()=>{i.value=!0},d=dn(g=>{var p;(p=t.onMousedown)==null||p.call(t,g)},()=>{o.value=!0}),f=dn(g=>{var p;(p=t.onFocus)==null||p.call(t,g)},g=>{const p=!C(o),{target:v,currentTarget:y}=g;if(v===y&&p&&!C(i)){const w=new Event(Ip,pG);if(y==null||y.dispatchEvent(w),!w.defaultPrevented){const _=a().filter(N=>N.focusable),b=_.find(N=>N.active),S=_.find(N=>N.id===C(r)),T=[b,S,..._].filter(Boolean).map(N=>N.ref);T0(T)}}o.value=!1}),h=dn(g=>{var p;(p=t.onBlur)==null||p.call(t,g)},()=>{i.value=!1}),m=(...g)=>{e("entryFocus",...g)};Ct(E0,{currentTabbedId:Tc(r),loop:Nn(t,"loop"),tabIndex:k(()=>C(i)?-1:0),rovingFocusGroupRef:s,rovingFocusGroupRootStyle:l,orientation:Nn(t,"orientation"),dir:Nn(t,"dir"),onItemFocus:u,onItemShiftTab:c,onBlur:h,onFocus:f,onMousedown:d}),Me(()=>t.currentTabId,g=>{r.value=g!=null?g:null}),ft(()=>{const g=C(s);sn(g,Ip,m)}),rn(()=>{const g=C(s);wn(g,Ip,m)})}});function gG(t,e,n,r,i,o){return Ce(t.$slots,"default")}var vG=De(mG,[["render",gG],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-group-impl.vue"]]);const yG=pe({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:aG,ElRovingFocusGroupImpl:vG}});function bG(t,e,n,r,i,o){const s=ve("el-roving-focus-group-impl"),a=ve("el-focus-group-collection");return E(),fe(a,null,{default:X(()=>[Z(s,bi(rs(t.$attrs)),{default:X(()=>[Ce(t.$slots,"default")]),_:3},16)]),_:3})}var wG=De(yG,[["render",bG],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-group.vue"]]);const _G=pe({components:{ElRovingFocusCollectionItem:lG},props:{focusable:{type:Boolean,default:!0},active:{type:Boolean,default:!1}},emits:["mousedown","focus","keydown"],setup(t,{emit:e}){const{currentTabbedId:n,loop:r,onItemFocus:i,onItemShiftTab:o}=Ke(E0,void 0),{getItems:s}=Ke(x0,void 0),a=o0(),l=F(null),u=dn(h=>{e("mousedown",h)},h=>{t.focusable?i(C(a)):h.preventDefault()}),c=dn(h=>{e("focus",h)},()=>{i(C(a))}),d=dn(h=>{e("keydown",h)},h=>{const{key:m,shiftKey:g,target:p,currentTarget:v}=h;if(m===qe.tab&&g){o();return}if(p!==v)return;const y=fG(h);if(y){h.preventDefault();let _=s().filter(b=>b.focusable).map(b=>b.ref);switch(y){case"last":{_.reverse();break}case"prev":case"next":{y==="prev"&&_.reverse();const b=_.indexOf(v);_=r.value?hG(_,b+1):_.slice(b+1);break}}et(()=>{T0(_)})}}),f=k(()=>n.value===C(a));return Ct(Fx,{rovingFocusGroupItemRef:l,tabIndex:k(()=>C(f)?0:-1),handleMousedown:u,handleFocus:c,handleKeydown:d}),{id:a,handleKeydown:d,handleFocus:c,handleMousedown:u}}});function SG(t,e,n,r,i,o){const s=ve("el-roving-focus-collection-item");return E(),fe(s,{id:t.id,focusable:t.focusable,active:t.active},{default:X(()=>[Ce(t.$slots,"default")]),_:3},8,["id","focusable","active"])}var CG=De(_G,[["render",SG],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-item.vue"]]);const pf=Je({trigger:fc.trigger,effect:Ue(Ee({},qn.effect),{default:"light"}),type:{type:Fe(String)},placement:{type:Fe(String),default:"bottom"},popperOptions:{type:Fe(Object),default:()=>({})},size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:Fe([Number,String]),default:0},maxHeight:{type:Fe([Number,String]),default:""},popperClass:{type:String,default:""},disabled:{type:Boolean,default:!1},buttonProps:{type:Fe(Object)}}),Bx=Je({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:tr}}),MG=Je({onKeydown:{type:Fe(Function)}}),xG=[qe.down,qe.pageDown,qe.home],zx=[qe.up,qe.pageUp,qe.end],EG=[...xG,...zx],{ElCollection:TG,ElCollectionItem:AG,COLLECTION_INJECTION_KEY:kG,COLLECTION_ITEM_INJECTION_KEY:PG}=Ox("Dropdown"),A0=Symbol("elDropdown"),{ButtonGroup:LG}=Jr,RG=pe({name:"ElDropdown",components:{ElButton:Jr,ElFocusTrap:Q7,ElButtonGroup:LG,ElScrollbar:ko,ElDropdownCollection:TG,ElTooltip:Cr,ElRovingFocusGroup:wG,ElIcon:st,ArrowDown:ha},props:pf,emits:["visible-change","click","command"],setup(t,{emit:e}){const n=wt(),r=$e("dropdown"),i=F(),o=F(),s=F(null),a=F(null),l=F(null),u=F(null),c=F(!1),d=k(()=>({maxHeight:Ei(t.maxHeight)})),f=k(()=>[r.m(p.value)]);function h(){m()}function m(){var T;(T=s.value)==null||T.onClose()}function g(){var T;(T=s.value)==null||T.onOpen()}const p=Pn();function v(...T){e("command",...T)}function y(){}function w(){const T=C(a);T==null||T.focus(),u.value=null}function _(T){u.value=T}function b(T){c.value||(T.preventDefault(),T.stopImmediatePropagation())}return Ct(A0,{contentRef:a,isUsingKeyboard:c,onItemEnter:y,onItemLeave:w}),Ct("elDropdown",{instance:n,dropdownSize:p,handleClick:h,commandHandler:v,trigger:Nn(t,"trigger"),hideOnClick:Nn(t,"hideOnClick")}),{ns:r,scrollbar:l,wrapStyle:d,dropdownTriggerKls:f,dropdownSize:p,currentTabId:u,handleCurrentTabIdChange:_,handlerMainButtonClick:T=>{e("click",T)},handleEntryFocus:b,handleClose:m,handleOpen:g,onMountOnFocus:T=>{var N,I;T.preventDefault(),(I=(N=a.value)==null?void 0:N.focus)==null||I.call(N,{preventScroll:!0})},popperRef:s,triggeringElementRef:i,referenceElementRef:o}}});function IG(t,e,n,r,i,o){var s;const a=ve("el-dropdown-collection"),l=ve("el-roving-focus-group"),u=ve("el-focus-trap"),c=ve("el-scrollbar"),d=ve("el-tooltip"),f=ve("el-button"),h=ve("arrow-down"),m=ve("el-icon"),g=ve("el-button-group");return E(),V("div",{class:$([t.ns.b(),t.ns.is("disabled",t.disabled)])},[Z(d,{ref:"popperRef",effect:t.effect,"fallback-placements":["bottom","top"],"popper-options":t.popperOptions,"gpu-acceleration":!1,"hide-after":t.trigger==="hover"?t.hideTimeout:0,"manual-mode":!0,placement:t.placement,"popper-class":[t.ns.e("popper"),t.popperClass],"reference-element":(s=t.referenceElementRef)==null?void 0:s.$el,trigger:t.trigger,"show-after":t.trigger==="hover"?t.showTimeout:0,"stop-popper-mouse-event":!1,"virtual-ref":t.triggeringElementRef,"virtual-triggering":t.splitButton,disabled:t.disabled,"append-to-body":"",pure:"",transition:`${t.ns.namespace.value}-zoom-in-top`,persistent:"",onShow:e[0]||(e[0]=p=>t.$emit("visible-change",!0)),onHide:e[1]||(e[1]=p=>t.$emit("visible-change",!1))},is({content:X(()=>[Z(c,{ref:"scrollbar","wrap-style":t.wrapStyle,tag:"div","view-class":t.ns.e("list")},{default:X(()=>[Z(u,{trapped:"",onMountOnFocus:t.onMountOnFocus},{default:X(()=>[Z(l,{loop:t.loop,"current-tab-id":t.currentTabId,orientation:"horizontal",onCurrentTabIdChange:t.handleCurrentTabIdChange,onEntryFocus:t.handleEntryFocus},{default:X(()=>[Z(a,null,{default:X(()=>[Ce(t.$slots,"dropdown")]),_:3})]),_:3},8,["loop","current-tab-id","onCurrentTabIdChange","onEntryFocus"])]),_:3},8,["onMountOnFocus"])]),_:3},8,["wrap-style","view-class"])]),_:2},[t.splitButton?void 0:{name:"default",fn:X(()=>[G("div",{class:$(t.dropdownTriggerKls)},[Ce(t.$slots,"default")],2)])}]),1032,["effect","popper-options","hide-after","placement","popper-class","reference-element","trigger","show-after","virtual-ref","virtual-triggering","disabled","transition"]),t.splitButton?(E(),fe(g,{key:0},{default:X(()=>[Z(f,Qt({ref:"referenceElementRef"},t.buttonProps,{size:t.dropdownSize,type:t.type,disabled:t.disabled,onClick:t.handlerMainButtonClick}),{default:X(()=>[Ce(t.$slots,"default")]),_:3},16,["size","type","disabled","onClick"]),Z(f,Qt({ref:"triggeringElementRef"},t.buttonProps,{size:t.dropdownSize,type:t.type,class:t.ns.e("caret-button"),disabled:t.disabled}),{default:X(()=>[Z(m,{class:$(t.ns.e("icon"))},{default:X(()=>[Z(h)]),_:1},8,["class"])]),_:1},16,["size","type","class","disabled"])]),_:3})):ue("v-if",!0)],2)}var DG=De(RG,[["render",IG],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown.vue"]]);const $G=pe({name:"DropdownItemImpl",components:{ElIcon:st},props:Bx,emits:["pointermove","pointerleave","click","clickimpl"],setup(t,{emit:e}){const n=$e("dropdown"),{collectionItemRef:r}=Ke(PG,void 0),{collectionItemRef:i}=Ke(uG,void 0),{rovingFocusGroupItemRef:o,tabIndex:s,handleFocus:a,handleKeydown:l,handleMousedown:u}=Ke(Fx,void 0),c=e0(r,i,o),d=dn(f=>{const{code:h}=f;if(h===qe.enter||h===qe.space)return f.preventDefault(),f.stopImmediatePropagation(),e("clickimpl",f),!0},l);return{ns:n,itemRef:c,dataset:{[Nx]:""},tabIndex:s,handleFocus:a,handleKeydown:d,handleMousedown:u}}}),NG=["aria-disabled","tabindex"];function OG(t,e,n,r,i,o){const s=ve("el-icon");return E(),V(Ze,null,[t.divided?(E(),V("li",Qt({key:0,class:t.ns.bem("menu","item","divided")},t.$attrs),null,16)):ue("v-if",!0),G("li",Qt({ref:t.itemRef},Ee(Ee({},t.dataset),t.$attrs),{"aria-disabled":t.disabled,class:[t.ns.be("menu","item"),t.ns.is("disabled",t.disabled)],tabindex:t.tabIndex,role:"menuitem",onClick:e[0]||(e[0]=a=>t.$emit("clickimpl",a)),onFocus:e[1]||(e[1]=(...a)=>t.handleFocus&&t.handleFocus(...a)),onKeydown:e[2]||(e[2]=(...a)=>t.handleKeydown&&t.handleKeydown(...a)),onMousedown:e[3]||(e[3]=(...a)=>t.handleMousedown&&t.handleMousedown(...a)),onPointermove:e[4]||(e[4]=a=>t.$emit("pointermove",a)),onPointerleave:e[5]||(e[5]=a=>t.$emit("pointerleave",a))}),[t.icon?(E(),fe(s,{key:0},{default:X(()=>[(E(),fe(Pt(t.icon)))]),_:1})):ue("v-if",!0),Ce(t.$slots,"default")],16,NG)],64)}var FG=De($G,[["render",OG],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-item-impl.vue"]]);const Vx=()=>{const t=Ke("elDropdown",{}),e=k(()=>t==null?void 0:t.dropdownSize);return{elDropdown:t,_elDropdownSize:e}},BG=pe({name:"ElDropdownItem",components:{ElDropdownCollectionItem:AG,ElRovingFocusItem:CG,ElDropdownItemImpl:FG},inheritAttrs:!1,props:Bx,emits:["pointermove","pointerleave","click"],setup(t,{emit:e,attrs:n}){const{elDropdown:r}=Vx(),i=wt(),o=F(null),s=k(()=>{var h,m;return(m=(h=C(o))==null?void 0:h.textContent)!=null?m:""}),{onItemEnter:a,onItemLeave:l}=Ke(A0,void 0),u=dn(h=>(e("pointermove",h),h.defaultPrevented),Fb(h=>{var m;t.disabled?l(h):(a(h),h.defaultPrevented||(m=h.currentTarget)==null||m.focus())})),c=dn(h=>(e("pointerleave",h),h.defaultPrevented),Fb(h=>{l(h)})),d=dn(h=>(e("click",h),h.defaultPrevented),h=>{var m,g,p;if(t.disabled){h.stopImmediatePropagation();return}(m=r==null?void 0:r.hideOnClick)!=null&&m.value&&((g=r.handleClick)==null||g.call(r)),(p=r.commandHandler)==null||p.call(r,t.command,i,h)}),f=k(()=>Ee(Ee({},t),n));return{handleClick:d,handlePointerMove:u,handlePointerLeave:c,textContent:s,propsAndAttrs:f}}});function zG(t,e,n,r,i,o){var s;const a=ve("el-dropdown-item-impl"),l=ve("el-roving-focus-item"),u=ve("el-dropdown-collection-item");return E(),fe(u,{disabled:t.disabled,"text-value":(s=t.textValue)!=null?s:t.textContent},{default:X(()=>[Z(l,{focusable:!t.disabled},{default:X(()=>[Z(a,Qt(t.propsAndAttrs,{onPointerleave:t.handlePointerLeave,onPointermove:t.handlePointerMove,onClickimpl:t.handleClick}),{default:X(()=>[Ce(t.$slots,"default")]),_:3},16,["onPointerleave","onPointermove","onClickimpl"])]),_:3},8,["focusable"])]),_:3},8,["disabled","text-value"])}var Hx=De(BG,[["render",zG],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-item.vue"]]);const VG=pe({name:"ElDropdownMenu",props:MG,setup(t){const e=$e("dropdown"),{_elDropdownSize:n}=Vx(),r=n.value,{focusTrapRef:i,onKeydown:o}=Ke($x,void 0),{contentRef:s}=Ke(A0,void 0),{collectionRef:a,getItems:l}=Ke(kG,void 0),{rovingFocusGroupRef:u,rovingFocusGroupRootStyle:c,tabIndex:d,onBlur:f,onFocus:h,onMousedown:m}=Ke(E0,void 0),{collectionRef:g}=Ke(x0,void 0),p=k(()=>[e.b("menu"),e.bm("menu",r==null?void 0:r.value)]),v=e0(s,a,i,u,g),y=dn(_=>{var b;(b=t.onKeydown)==null||b.call(t,_)},_=>{const{currentTarget:b,code:S,target:M}=_;if(b.contains(M),qe.tab===S&&_.stopImmediatePropagation(),_.preventDefault(),M!==C(s)||!EG.includes(S))return;const N=l().filter(I=>!I.disabled).map(I=>I.ref);zx.includes(S)&&N.reverse(),T0(N)});return{size:r,rovingFocusGroupRootStyle:c,tabIndex:d,dropdownKls:p,dropdownListWrapperRef:v,handleKeydown:_=>{y(_),o(_)},onBlur:f,onFocus:h,onMousedown:m}}});function HG(t,e,n,r,i,o){return E(),V("ul",{ref:t.dropdownListWrapperRef,class:$(t.dropdownKls),style:Ye(t.rovingFocusGroupRootStyle),tabindex:-1,role:"menu",onBlur:e[0]||(e[0]=(...s)=>t.onBlur&&t.onBlur(...s)),onFocus:e[1]||(e[1]=(...s)=>t.onFocus&&t.onFocus(...s)),onKeydown:e[2]||(e[2]=(...s)=>t.handleKeydown&&t.handleKeydown(...s)),onMousedown:e[3]||(e[3]=(...s)=>t.onMousedown&&t.onMousedown(...s))},[Ce(t.$slots,"default")],38)}var Ux=De(VG,[["render",HG],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-menu.vue"]]);const UG=_t(DG,{DropdownItem:Hx,DropdownMenu:Ux}),WG=pn(Hx),GG=pn(Ux);let jG=0;const KG=pe({name:"ImgEmpty",setup(){return{id:++jG}}}),qG={viewBox:"0 0 79 86",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},YG=["id"],XG=G("stop",{"stop-color":"var(--el-empty-fill-color-1)",offset:"0%"},null,-1),ZG=G("stop",{"stop-color":"var(--el-empty-fill-color-4)",offset:"100%"},null,-1),JG=[XG,ZG],QG=["id"],ej=G("stop",{"stop-color":"var(--el-empty-fill-color-1)",offset:"0%"},null,-1),tj=G("stop",{"stop-color":"var(--el-empty-fill-color-6)",offset:"100%"},null,-1),nj=[ej,tj],rj=["id"],ij={id:"Illustrations",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},oj={id:"B-type",transform:"translate(-1268.000000, -535.000000)"},sj={id:"Group-2",transform:"translate(1268.000000, 535.000000)"},aj=G("path",{id:"Oval-Copy-2",d:"M39.5,86 C61.3152476,86 79,83.9106622 79,81.3333333 C79,78.7560045 57.3152476,78 35.5,78 C13.6847524,78 0,78.7560045 0,81.3333333 C0,83.9106622 17.6847524,86 39.5,86 Z",fill:"var(--el-empty-fill-color-3)"},null,-1),lj=G("polygon",{id:"Rectangle-Copy-14",fill:"var(--el-empty-fill-color-7)",transform:"translate(27.500000, 51.500000) scale(1, -1) translate(-27.500000, -51.500000) ",points:"13 58 53 58 42 45 2 45"},null,-1),uj={id:"Group-Copy",transform:"translate(34.500000, 31.500000) scale(-1, 1) rotate(-25.000000) translate(-34.500000, -31.500000) translate(7.000000, 10.000000)"},cj=G("polygon",{id:"Rectangle-Copy-10",fill:"var(--el-empty-fill-color-7)",transform:"translate(11.500000, 5.000000) scale(1, -1) translate(-11.500000, -5.000000) ",points:"2.84078316e-14 3 18 3 23 7 5 7"},null,-1),dj=G("polygon",{id:"Rectangle-Copy-11",fill:"var(--el-empty-fill-color-5)",points:"-3.69149156e-15 7 38 7 38 43 -3.69149156e-15 43"},null,-1),fj=["fill"],hj=G("polygon",{id:"Rectangle-Copy-13",fill:"var(--el-empty-fill-color-2)",transform:"translate(39.500000, 3.500000) scale(-1, 1) translate(-39.500000, -3.500000) ",points:"24 7 41 7 55 -3.63806207e-12 38 -3.63806207e-12"},null,-1),pj=["fill"],mj={id:"Rectangle-Copy-17",transform:"translate(53.000000, 45.000000)"},gj=["id"],vj=["xlink:href"],yj=["xlink:href"],bj=["mask"],wj=G("polygon",{id:"Rectangle-Copy-18",fill:"var(--el-empty-fill-color-2)",transform:"translate(66.000000, 51.500000) scale(-1, 1) translate(-66.000000, -51.500000) ",points:"62 45 79 45 70 58 53 58"},null,-1);function _j(t,e,n,r,i,o){return E(),V("svg",qG,[G("defs",null,[G("linearGradient",{id:`linearGradient-1-${t.id}`,x1:"38.8503086%",y1:"0%",x2:"61.1496914%",y2:"100%"},JG,8,YG),G("linearGradient",{id:`linearGradient-2-${t.id}`,x1:"0%",y1:"9.5%",x2:"100%",y2:"90.5%"},nj,8,QG),G("rect",{id:`path-3-${t.id}`,x:"0",y:"0",width:"17",height:"36"},null,8,rj)]),G("g",ij,[G("g",oj,[G("g",sj,[aj,lj,G("g",uj,[cj,dj,G("rect",{id:"Rectangle-Copy-12",fill:`url(#linearGradient-1-${t.id})`,transform:"translate(46.500000, 25.000000) scale(-1, 1) translate(-46.500000, -25.000000) ",x:"38",y:"7",width:"17",height:"36"},null,8,fj),hj]),G("rect",{id:"Rectangle-Copy-15",fill:`url(#linearGradient-2-${t.id})`,x:"13",y:"45",width:"40",height:"36"},null,8,pj),G("g",mj,[G("mask",{id:`mask-4-${t.id}`,fill:"var(--el-empty-fill-color-0)"},[G("use",{"xlink:href":`#path-3-${t.id}`},null,8,vj)],8,gj),G("use",{id:"Mask",fill:"var(--el-empty-fill-color-8)",transform:"translate(8.500000, 18.000000) scale(-1, 1) translate(-8.500000, -18.000000) ","xlink:href":`#path-3-${t.id}`},null,8,yj),G("polygon",{id:"Rectangle-Copy",fill:"var(--el-empty-fill-color-9)",mask:`url(#mask-4-${t.id})`,transform:"translate(12.000000, 9.000000) scale(-1, 1) translate(-12.000000, -9.000000) ",points:"7 0 24 0 20 18 -1.70530257e-13 16"},null,8,bj)]),wj])])])])}var Sj=De(KG,[["render",_j],["__file","/home/runner/work/element-plus/element-plus/packages/components/empty/src/img-empty.vue"]]);const Cj={image:{type:String,default:""},imageSize:Number,description:{type:String,default:""}},Mj=["src"],xj={key:1},Ej={name:"ElEmpty"},Tj=pe(Ue(Ee({},Ej),{props:Cj,setup(t){const e=t,{t:n}=Gt(),r=$e("empty"),i=k(()=>e.description||n("el.table.emptyText")),o=k(()=>({width:e.imageSize?`${e.imageSize}px`:""}));return(s,a)=>(E(),V("div",{class:$(C(r).b())},[G("div",{class:$(C(r).e("image")),style:Ye(C(o))},[s.image?(E(),V("img",{key:0,src:s.image,ondragstart:"return false"},null,8,Mj)):Ce(s.$slots,"image",{key:1},()=>[Z(Sj)])],6),G("div",{class:$(C(r).e("description"))},[s.$slots.description?Ce(s.$slots,"description",{key:0}):(E(),V("p",xj,Pe(C(i)),1))],2),s.$slots.default?(E(),V("div",{key:0,class:$(C(r).e("bottom"))},[Ce(s.$slots,"default")],2)):ue("v-if",!0)],2))}}));var Aj=De(Tj,[["__file","/home/runner/work/element-plus/element-plus/packages/components/empty/src/empty.vue"]]);const kj=_t(Aj),Pj=Je({model:Object,rules:{type:Fe(Object)},labelPosition:String,labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},size:{type:String,values:Ki},disabled:Boolean,validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:{type:Boolean,default:!1},scrollToError:Boolean}),Lj={validate:(t,e,n)=>(ct(t)||pt(t))&&Qn(e)&&pt(n)};function Rj(){const t=F([]),e=k(()=>{if(!t.value.length)return"0";const o=Math.max(...t.value);return o?`${o}px`:""});function n(o){return t.value.indexOf(o)}function r(o,s){if(o&&s){const a=n(s);t.value.splice(a,1,o)}else o&&t.value.push(o)}function i(o){const s=n(o);s>-1&&t.value.splice(s,1)}return{autoLabelWidth:e,registerLabelWidth:r,deregisterLabelWidth:i}}const sd=(t,e)=>{const n=oc(e);return n.length>0?t.filter(r=>r.prop&&n.includes(r.prop)):t},Ij={name:"ElForm"},Dj=pe(Ue(Ee({},Ij),{props:Pj,emits:Lj,setup(t,{expose:e,emit:n}){const r=t,i=[],o=Pn(),s=$e("form"),a=k(()=>{const{labelPosition:y,inline:w}=r;return[s.b(),s.m(o.value||"default"),{[s.m(`label-${y}`)]:y,[s.m("inline")]:w}]}),l=y=>{i.push(y)},u=y=>{y.prop&&i.splice(i.indexOf(y),1)},c=(y=[])=>{!r.model||sd(i,y).forEach(w=>w.resetField())},d=(y=[])=>{sd(i,y).forEach(w=>w.clearValidate())},f=k(()=>!!r.model),h=y=>{if(i.length===0)return[];const w=sd(i,y);return w.length?w:[]},m=async y=>p(void 0,y),g=async(y=[])=>{if(!f.value)return!1;const w=h(y);if(w.length===0)return!0;let _={};for(const b of w)try{await b.validate("")}catch(S){_=Ee(Ee({},_),S)}return Object.keys(_).length===0?!0:Promise.reject(_)},p=async(y=[],w)=>{const _=!gt(w);try{const b=await g(y);return b===!0&&(w==null||w(b)),b}catch(b){const S=b;return r.scrollToError&&v(Object.keys(S)[0]),w==null||w(!1,S),_&&Promise.reject(S)}},v=y=>{var w;const _=sd(i,y)[0];_&&((w=_.$el)==null||w.scrollIntoView())};return Me(()=>r.rules,()=>{r.validateOnRuleChange&&m()},{deep:!0}),Ct(Wr,Ot(Ee(Ue(Ee({},Bn(r)),{emit:n,resetFields:c,clearValidate:d,validateField:p,addField:l,removeField:u}),Rj()))),e({validate:m,validateField:p,resetFields:c,clearValidate:d,scrollToField:v}),(y,w)=>(E(),V("form",{class:$(C(a))},[Ce(y.$slots,"default")],2))}}));var $j=De(Dj,[["__file","/home/runner/work/element-plus/element-plus/packages/components/form/src/form.vue"]]);function zs(){return zs=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zs.apply(this,arguments)}function Nj(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,pc(t,e)}function Tg(t){return Tg=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Tg(t)}function pc(t,e){return pc=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},pc(t,e)}function Oj(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function mf(t,e,n){return Oj()?mf=Reflect.construct:mf=function(i,o,s){var a=[null];a.push.apply(a,o);var l=Function.bind.apply(i,a),u=new l;return s&&pc(u,s.prototype),u},mf.apply(null,arguments)}function Fj(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function Ag(t){var e=typeof Map=="function"?new Map:void 0;return Ag=function(r){if(r===null||!Fj(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e!="undefined"){if(e.has(r))return e.get(r);e.set(r,i)}function i(){return mf(r,arguments,Tg(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),pc(i,r)},Ag(t)}var Bj=/%[sdj%]/g,zj=function(){};typeof process!="undefined"&&process.env;function kg(t){if(!t||!t.length)return null;var e={};return t.forEach(function(n){var r=n.field;e[r]=e[r]||[],e[r].push(n)}),e}function Dr(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=0,o=n.length;if(typeof t=="function")return t.apply(null,n);if(typeof t=="string"){var s=t.replace(Bj,function(a){if(a==="%%")return"%";if(i>=o)return a;switch(a){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch{return"[Circular]"}break;default:return a}});return s}return t}function Vj(t){return t==="string"||t==="url"||t==="hex"||t==="email"||t==="date"||t==="pattern"}function Vn(t,e){return!!(t==null||e==="array"&&Array.isArray(t)&&!t.length||Vj(e)&&typeof t=="string"&&!t)}function Hj(t,e,n){var r=[],i=0,o=t.length;function s(a){r.push.apply(r,a||[]),i++,i===o&&n(r)}t.forEach(function(a){e(a,s)})}function Z1(t,e,n){var r=0,i=t.length;function o(s){if(s&&s.length){n(s);return}var a=r;r=r+1,a<i?e(t[a],o):n([])}o([])}function Uj(t){var e=[];return Object.keys(t).forEach(function(n){e.push.apply(e,t[n]||[])}),e}var J1=function(t){Nj(e,t);function e(n,r){var i;return i=t.call(this,"Async Validation Error")||this,i.errors=n,i.fields=r,i}return e}(Ag(Error));function Wj(t,e,n,r,i){if(e.first){var o=new Promise(function(f,h){var m=function(v){return r(v),v.length?h(new J1(v,kg(v))):f(i)},g=Uj(t);Z1(g,n,m)});return o.catch(function(f){return f}),o}var s=e.firstFields===!0?Object.keys(t):e.firstFields||[],a=Object.keys(t),l=a.length,u=0,c=[],d=new Promise(function(f,h){var m=function(p){if(c.push.apply(c,p),u++,u===l)return r(c),c.length?h(new J1(c,kg(c))):f(i)};a.length||(r(c),f(i)),a.forEach(function(g){var p=t[g];s.indexOf(g)!==-1?Z1(p,n,m):Hj(p,n,m)})});return d.catch(function(f){return f}),d}function Gj(t){return!!(t&&t.message!==void 0)}function jj(t,e){for(var n=t,r=0;r<e.length;r++){if(n==null)return n;n=n[e[r]]}return n}function Q1(t,e){return function(n){var r;return t.fullFields?r=jj(e,t.fullFields):r=e[n.field||t.fullField],Gj(n)?(n.field=n.field||t.fullField,n.fieldValue=r,n):{message:typeof n=="function"?n():n,fieldValue:r,field:n.field||t.fullField}}}function ew(t,e){if(e){for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];typeof r=="object"&&typeof t[n]=="object"?t[n]=zs({},t[n],r):t[n]=r}}return t}var Wx=function(e,n,r,i,o,s){e.required&&(!r.hasOwnProperty(e.field)||Vn(n,s||e.type))&&i.push(Dr(o.messages.required,e.fullField))},Kj=function(e,n,r,i,o){(/^\s+$/.test(n)||n==="")&&i.push(Dr(o.messages.whitespace,e.fullField))},Dp={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,url:new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i"),hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},xu={integer:function(e){return xu.number(e)&&parseInt(e,10)===e},float:function(e){return xu.number(e)&&!xu.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return typeof e=="object"&&!xu.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&e.length<=320&&!!e.match(Dp.email)},url:function(e){return typeof e=="string"&&e.length<=2048&&!!e.match(Dp.url)},hex:function(e){return typeof e=="string"&&!!e.match(Dp.hex)}},qj=function(e,n,r,i,o){if(e.required&&n===void 0){Wx(e,n,r,i,o);return}var s=["integer","float","array","regexp","object","method","email","number","date","url","hex"],a=e.type;s.indexOf(a)>-1?xu[a](n)||i.push(Dr(o.messages.types[a],e.fullField,e.type)):a&&typeof n!==e.type&&i.push(Dr(o.messages.types[a],e.fullField,e.type))},Yj=function(e,n,r,i,o){var s=typeof e.len=="number",a=typeof e.min=="number",l=typeof e.max=="number",u=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,c=n,d=null,f=typeof n=="number",h=typeof n=="string",m=Array.isArray(n);if(f?d="number":h?d="string":m&&(d="array"),!d)return!1;m&&(c=n.length),h&&(c=n.replace(u,"_").length),s?c!==e.len&&i.push(Dr(o.messages[d].len,e.fullField,e.len)):a&&!l&&c<e.min?i.push(Dr(o.messages[d].min,e.fullField,e.min)):l&&!a&&c>e.max?i.push(Dr(o.messages[d].max,e.fullField,e.max)):a&&l&&(c<e.min||c>e.max)&&i.push(Dr(o.messages[d].range,e.fullField,e.min,e.max))},Ma="enum",Xj=function(e,n,r,i,o){e[Ma]=Array.isArray(e[Ma])?e[Ma]:[],e[Ma].indexOf(n)===-1&&i.push(Dr(o.messages[Ma],e.fullField,e[Ma].join(", ")))},Zj=function(e,n,r,i,o){if(e.pattern){if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(n)||i.push(Dr(o.messages.pattern.mismatch,e.fullField,n,e.pattern));else if(typeof e.pattern=="string"){var s=new RegExp(e.pattern);s.test(n)||i.push(Dr(o.messages.pattern.mismatch,e.fullField,n,e.pattern))}}},Ut={required:Wx,whitespace:Kj,type:qj,range:Yj,enum:Xj,pattern:Zj},Jj=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(Vn(n,"string")&&!e.required)return r();Ut.required(e,n,i,s,o,"string"),Vn(n,"string")||(Ut.type(e,n,i,s,o),Ut.range(e,n,i,s,o),Ut.pattern(e,n,i,s,o),e.whitespace===!0&&Ut.whitespace(e,n,i,s,o))}r(s)},Qj=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(Vn(n)&&!e.required)return r();Ut.required(e,n,i,s,o),n!==void 0&&Ut.type(e,n,i,s,o)}r(s)},eK=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(n===""&&(n=void 0),Vn(n)&&!e.required)return r();Ut.required(e,n,i,s,o),n!==void 0&&(Ut.type(e,n,i,s,o),Ut.range(e,n,i,s,o))}r(s)},tK=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(Vn(n)&&!e.required)return r();Ut.required(e,n,i,s,o),n!==void 0&&Ut.type(e,n,i,s,o)}r(s)},nK=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(Vn(n)&&!e.required)return r();Ut.required(e,n,i,s,o),Vn(n)||Ut.type(e,n,i,s,o)}r(s)},rK=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(Vn(n)&&!e.required)return r();Ut.required(e,n,i,s,o),n!==void 0&&(Ut.type(e,n,i,s,o),Ut.range(e,n,i,s,o))}r(s)},iK=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(Vn(n)&&!e.required)return r();Ut.required(e,n,i,s,o),n!==void 0&&(Ut.type(e,n,i,s,o),Ut.range(e,n,i,s,o))}r(s)},oK=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(n==null&&!e.required)return r();Ut.required(e,n,i,s,o,"array"),n!=null&&(Ut.type(e,n,i,s,o),Ut.range(e,n,i,s,o))}r(s)},sK=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(Vn(n)&&!e.required)return r();Ut.required(e,n,i,s,o),n!==void 0&&Ut.type(e,n,i,s,o)}r(s)},aK="enum",lK=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(Vn(n)&&!e.required)return r();Ut.required(e,n,i,s,o),n!==void 0&&Ut[aK](e,n,i,s,o)}r(s)},uK=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(Vn(n,"string")&&!e.required)return r();Ut.required(e,n,i,s,o),Vn(n,"string")||Ut.pattern(e,n,i,s,o)}r(s)},cK=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(Vn(n,"date")&&!e.required)return r();if(Ut.required(e,n,i,s,o),!Vn(n,"date")){var l;n instanceof Date?l=n:l=new Date(n),Ut.type(e,l,i,s,o),l&&Ut.range(e,l.getTime(),i,s,o)}}r(s)},dK=function(e,n,r,i,o){var s=[],a=Array.isArray(n)?"array":typeof n;Ut.required(e,n,i,s,o,a),r(s)},$p=function(e,n,r,i,o){var s=e.type,a=[],l=e.required||!e.required&&i.hasOwnProperty(e.field);if(l){if(Vn(n,s)&&!e.required)return r();Ut.required(e,n,i,a,o,s),Vn(n,s)||Ut.type(e,n,i,a,o)}r(a)},fK=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(Vn(n)&&!e.required)return r();Ut.required(e,n,i,s,o)}r(s)},Vu={string:Jj,method:Qj,number:eK,boolean:tK,regexp:nK,integer:rK,float:iK,array:oK,object:sK,enum:lK,pattern:uK,date:cK,url:$p,hex:$p,email:$p,required:dK,any:fK};function Pg(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var Lg=Pg(),zc=function(){function t(n){this.rules=null,this._messages=Lg,this.define(n)}var e=t.prototype;return e.define=function(r){var i=this;if(!r)throw new Error("Cannot configure a schema with no rules");if(typeof r!="object"||Array.isArray(r))throw new Error("Rules must be an object");this.rules={},Object.keys(r).forEach(function(o){var s=r[o];i.rules[o]=Array.isArray(s)?s:[s]})},e.messages=function(r){return r&&(this._messages=ew(Pg(),r)),this._messages},e.validate=function(r,i,o){var s=this;i===void 0&&(i={}),o===void 0&&(o=function(){});var a=r,l=i,u=o;if(typeof l=="function"&&(u=l,l={}),!this.rules||Object.keys(this.rules).length===0)return u&&u(null,a),Promise.resolve(a);function c(g){var p=[],v={};function y(_){if(Array.isArray(_)){var b;p=(b=p).concat.apply(b,_)}else p.push(_)}for(var w=0;w<g.length;w++)y(g[w]);p.length?(v=kg(p),u(p,v)):u(null,a)}if(l.messages){var d=this.messages();d===Lg&&(d=Pg()),ew(d,l.messages),l.messages=d}else l.messages=this.messages();var f={},h=l.keys||Object.keys(this.rules);h.forEach(function(g){var p=s.rules[g],v=a[g];p.forEach(function(y){var w=y;typeof w.transform=="function"&&(a===r&&(a=zs({},a)),v=a[g]=w.transform(v)),typeof w=="function"?w={validator:w}:w=zs({},w),w.validator=s.getValidationMethod(w),w.validator&&(w.field=g,w.fullField=w.fullField||g,w.type=s.getType(w),f[g]=f[g]||[],f[g].push({rule:w,value:v,source:a,field:g}))})});var m={};return Wj(f,l,function(g,p){var v=g.rule,y=(v.type==="object"||v.type==="array")&&(typeof v.fields=="object"||typeof v.defaultField=="object");y=y&&(v.required||!v.required&&g.value),v.field=g.field;function w(S,M){return zs({},M,{fullField:v.fullField+"."+S,fullFields:v.fullFields?[].concat(v.fullFields,[S]):[S]})}function _(S){S===void 0&&(S=[]);var M=Array.isArray(S)?S:[S];!l.suppressWarning&&M.length&&t.warning("async-validator:",M),M.length&&v.message!==void 0&&(M=[].concat(v.message));var T=M.map(Q1(v,a));if(l.first&&T.length)return m[v.field]=1,p(T);if(!y)p(T);else{if(v.required&&!g.value)return v.message!==void 0?T=[].concat(v.message).map(Q1(v,a)):l.error&&(T=[l.error(v,Dr(l.messages.required,v.field))]),p(T);var N={};v.defaultField&&Object.keys(g.value).map(function(R){N[R]=v.defaultField}),N=zs({},N,g.rule.fields);var I={};Object.keys(N).forEach(function(R){var O=N[R],D=Array.isArray(O)?O:[O];I[R]=D.map(w.bind(null,R))});var x=new t(I);x.messages(l.messages),g.rule.options&&(g.rule.options.messages=l.messages,g.rule.options.error=l.error),x.validate(g.value,g.rule.options||l,function(R){var O=[];T&&T.length&&O.push.apply(O,T),R&&R.length&&O.push.apply(O,R),p(O.length?O:null)})}}var b;v.asyncValidator?b=v.asyncValidator(v,g.value,_,g.source,l):v.validator&&(b=v.validator(v,g.value,_,g.source,l),b===!0?_():b===!1?_(typeof v.message=="function"?v.message(v.fullField||v.field):v.message||(v.fullField||v.field)+" fails"):b instanceof Array?_(b):b instanceof Error&&_(b.message)),b&&b.then&&b.then(function(){return _()},function(S){return _(S)})},function(g){c(g)},a)},e.getType=function(r){if(r.type===void 0&&r.pattern instanceof RegExp&&(r.type="pattern"),typeof r.validator!="function"&&r.type&&!Vu.hasOwnProperty(r.type))throw new Error(Dr("Unknown rule type %s",r.type));return r.type||"string"},e.getValidationMethod=function(r){if(typeof r.validator=="function")return r.validator;var i=Object.keys(r),o=i.indexOf("message");return o!==-1&&i.splice(o,1),i.length===1&&i[0]==="required"?Vu.required:Vu[this.getType(r)]||void 0},t}();zc.register=function(e,n){if(typeof n!="function")throw new Error("Cannot register a validator by type, validator is not a function");Vu[e]=n};zc.warning=zj;zc.messages=Lg;zc.validators=Vu;const hK=["","error","validating","success"],pK=Je({label:String,labelWidth:{type:[String,Number],default:""},prop:{type:Fe([String,Array])},required:{type:Boolean,default:void 0},rules:{type:Fe([Object,Array])},error:String,validateStatus:{type:String,values:hK},for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:{type:String,values:Ki}}),tw="ElLabelWrap";var mK=pe({name:tw,props:{isAutoWidth:Boolean,updateAll:Boolean},setup(t,{slots:e}){const n=Ke(Wr),r=Ke(ni);(!n||!r)&&kn(tw,"usage: <el-form><el-form-item><label-wrap /></el-form-item></el-form>");const i=$e("form"),o=F(),s=F(0),a=()=>{var c;if((c=o.value)!=null&&c.firstElementChild){const d=window.getComputedStyle(o.value.firstElementChild).width;return Math.ceil(Number.parseFloat(d))}else return 0},l=(c="update")=>{et(()=>{e.default&&t.isAutoWidth&&(c==="update"?s.value=a():c==="remove"&&n.deregisterLabelWidth(s.value))})},u=()=>l("update");return ft(()=>{u()}),rn(()=>{l("remove")}),Ai(()=>u()),Me(s,(c,d)=>{t.updateAll&&n.registerLabelWidth(c,d)}),Bl(k(()=>{var c,d;return(d=(c=o.value)==null?void 0:c.firstElementChild)!=null?d:null}),u),()=>{var c,d;if(!e)return null;const{isAutoWidth:f}=t;if(f){const h=n.autoLabelWidth,m={};if(h&&h!=="auto"){const g=Math.max(0,Number.parseInt(h,10)-s.value),p=n.labelPosition==="left"?"marginRight":"marginLeft";g&&(m[p]=`${g}px`)}return Z("div",{ref:o,class:[i.be("item","label-wrap")],style:m},[(c=e.default)==null?void 0:c.call(e)])}else return Z(Ze,{ref:o},[(d=e.default)==null?void 0:d.call(e)])}}});const gK=["for"],vK={name:"ElFormItem"},yK=pe(Ue(Ee({},vK),{props:pK,setup(t,{expose:e}){const n=t,r="ElFormItem",i=Rc(),o=Ke(Wr);o||kn(r,"usage: <el-form><el-form-item /></el-form>");const s=Ke(ni,void 0),a=Pn(void 0,{formItem:!1}),l=$e("form-item"),u=F(""),c=W$(u,100),d=F(""),f=F();let h,m=!1;const g=k(()=>{if(o.labelPosition==="top")return{};const J=Ei(n.labelWidth||o.labelWidth||"");return J?{width:J}:{}}),p=k(()=>{if(o.labelPosition==="top"||o.inline)return{};if(!n.label&&!n.labelWidth&&S)return{};const J=Ei(n.labelWidth||o.labelWidth||"");return!n.label&&!i.label?{marginLeft:J}:{}}),v=k(()=>[l.b(),l.m(a.value),l.is("error",u.value==="error"),l.is("validating",u.value==="validating"),l.is("success",u.value==="success"),l.is("required",x.value||n.required),l.is("no-asterisk",o.hideRequiredAsterisk),{[l.m("feedback")]:o.statusIcon}]),y=k(()=>Qn(n.inlineMessage)?n.inlineMessage:o.inlineMessage||!1),w=k(()=>[l.e("error"),{[l.em("error","inline")]:y.value}]),_=k(()=>n.prop?pt(n.prop)?n.prop:n.prop.join("."):""),b=k(()=>n.for||_.value),S=!!s,M=k(()=>{const J=o.model;if(!(!J||!n.prop))return tf(J,n.prop).value}),T=k(()=>{const J=n.rules?oc(n.rules):[],se=o.rules;if(se&&n.prop){const Te=tf(se,n.prop).value;Te&&J.push(...oc(Te))}return n.required!==void 0&&J.push({required:!!n.required}),J}),N=k(()=>T.value.length>0),I=J=>T.value.filter(Te=>!Te.trigger||!J?!0:Array.isArray(Te.trigger)?Te.trigger.includes(J):Te.trigger===J).map(q=>{var re=q,{trigger:Te}=re,Le=My(re,["trigger"]);return Le}),x=k(()=>T.value.some(J=>J.required===!0)),R=k(()=>c.value==="error"&&n.showMessage&&o.showMessage),O=k(()=>`${n.label||""}${o.labelSuffix||""}`),D=J=>{u.value=J},B=J=>{var se,Te;const{errors:Le,fields:q}=J;(!Le||!q)&&console.error(J),D("error"),d.value=Le?(Te=(se=Le==null?void 0:Le[0])==null?void 0:se.message)!=null?Te:`${n.prop} is required`:"",o.emit("validate",n.prop,!1,d.value)},L=()=>{D("success"),o.emit("validate",n.prop,!0,"")},A=async J=>{const se=_.value;return new zc({[se]:J}).validate({[se]:M.value},{firstFields:!0}).then(()=>(L(),!0)).catch(Le=>(B(Le),Promise.reject(Le)))},P=async(J,se)=>{if(m)return m=!1,!1;const Te=gt(se);if(!N.value)return se==null||se(!1),!1;const Le=I(J);return Le.length===0?(se==null||se(!0),!0):(D("validating"),A(Le).then(()=>(se==null||se(!0),!0)).catch(q=>{const{fields:re}=q;return se==null||se(!1,re),Te?!1:Promise.reject(re)}))},W=()=>{D(""),d.value=""},K=async()=>{const J=o.model;if(!J||!n.prop)return;const se=tf(J,n.prop);Fr(se.value,h)||(m=!0),se.value=h,await et(),W()};Me(()=>n.error,J=>{d.value=J||"",D(J?"error":"")},{immediate:!0}),Me(()=>n.validateStatus,J=>D(J||""));const te=Ot(Ue(Ee({},Bn(n)),{$el:f,size:a,validateState:u,resetField:K,clearValidate:W,validate:P}));return Ct(ni,te),ft(()=>{n.prop&&(o.addField(te),h=RD(M.value))}),rn(()=>{o.removeField(te)}),e({size:a,validateMessage:d,validateState:u,validate:P,clearValidate:W,resetField:K}),(J,se)=>(E(),V("div",{ref_key:"formItemRef",ref:f,class:$(C(v))},[Z(C(mK),{"is-auto-width":C(g).width==="auto","update-all":C(o).labelWidth==="auto"},{default:X(()=>[J.label||J.$slots.label?(E(),V("label",{key:0,for:C(b),class:$(C(l).e("label")),style:Ye(C(g))},[Ce(J.$slots,"label",{label:C(O)},()=>[lt(Pe(C(O)),1)])],14,gK)):ue("v-if",!0)]),_:3},8,["is-auto-width","update-all"]),G("div",{class:$(C(l).e("content")),style:Ye(C(p))},[Ce(J.$slots,"default"),Z(En,{name:`${C(l).namespace.value}-zoom-in-top`},{default:X(()=>[C(R)?Ce(J.$slots,"error",{key:0,error:d.value},()=>[G("div",{class:$(C(w))},Pe(d.value),3)]):ue("v-if",!0)]),_:3},8,["name"])],6)],2))}}));var Gx=De(yK,[["__file","/home/runner/work/element-plus/element-plus/packages/components/form/src/form-item.vue"]]);const bK=_t($j,{FormItem:Gx}),wK=pn(Gx),_K=Je({urlList:{type:Fe(Array),default:()=>fn([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:{type:Boolean,default:!1},teleported:{type:Boolean,default:!1}}),SK={close:()=>!0,switch:t=>typeof t=="number"},CK=["src"],MK={name:"ElImageViewer"},xK=pe(Ue(Ee({},MK),{props:_K,emits:SK,setup(t,{emit:e}){const n=t,r={CONTAIN:{name:"contain",icon:Zu(cO)},ORIGINAL:{name:"original",icon:Zu(EF)}},i=t0()?"DOMMouseScroll":"mousewheel",{t:o}=Gt(),s=$e("image-viewer"),{nextZIndex:a}=To(),l=F(),u=F([]),c=R3(),d=F(!0),f=F(n.initialIndex),h=F(r.CONTAIN),m=F({scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),g=k(()=>{const{urlList:L}=n;return L.length<=1}),p=k(()=>f.value===0),v=k(()=>f.value===n.urlList.length-1),y=k(()=>n.urlList[f.value]),w=k(()=>{const{scale:L,deg:A,offsetX:P,offsetY:W,enableTransition:K}=m.value;let te=P/L,J=W/L;switch(A%360){case 90:case-270:[te,J]=[J,-te];break;case 180:case-180:[te,J]=[-te,-J];break;case 270:case-90:[te,J]=[-J,te];break}const se={transform:`scale(${L}) rotate(${A}deg) translate(${te}px, ${J}px)`,transition:K?"transform .3s":""};return h.value.name===r.CONTAIN.name&&(se.maxWidth=se.maxHeight="100%"),se}),_=k(()=>It(n.zIndex)?n.zIndex:a());function b(){M(),e("close")}function S(){const L=Ks(P=>{switch(P.code){case qe.esc:b();break;case qe.space:R();break;case qe.left:O();break;case qe.up:B("zoomIn");break;case qe.right:D();break;case qe.down:B("zoomOut");break}}),A=Ks(P=>{(P.wheelDelta?P.wheelDelta:-P.detail)>0?B("zoomIn",{zoomRate:1.2,enableTransition:!1}):B("zoomOut",{zoomRate:1.2,enableTransition:!1})});c.run(()=>{xn(document,"keydown",L),xn(document,i,A)})}function M(){c.stop()}function T(){d.value=!1}function N(L){d.value=!1,L.target.alt=o("el.image.error")}function I(L){if(d.value||L.button!==0||!l.value)return;m.value.enableTransition=!1;const{offsetX:A,offsetY:P}=m.value,W=L.pageX,K=L.pageY,te=Ks(se=>{m.value=Ue(Ee({},m.value),{offsetX:A+se.pageX-W,offsetY:P+se.pageY-K})}),J=xn(document,"mousemove",te);xn(document,"mouseup",()=>{J()}),L.preventDefault()}function x(){m.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function R(){if(d.value)return;const L=Object.keys(r),A=Object.values(r),P=h.value.name,K=(A.findIndex(te=>te.name===P)+1)%L.length;h.value=r[L[K]],x()}function O(){if(p.value&&!n.infinite)return;const L=n.urlList.length;f.value=(f.value-1+L)%L}function D(){if(v.value&&!n.infinite)return;const L=n.urlList.length;f.value=(f.value+1)%L}function B(L,A={}){if(d.value)return;const{zoomRate:P,rotateDeg:W,enableTransition:K}=Ee({zoomRate:1.4,rotateDeg:90,enableTransition:!0},A);switch(L){case"zoomOut":m.value.scale>.2&&(m.value.scale=Number.parseFloat((m.value.scale/P).toFixed(3)));break;case"zoomIn":m.value.scale<7&&(m.value.scale=Number.parseFloat((m.value.scale*P).toFixed(3)));break;case"clockwise":m.value.deg+=W;break;case"anticlockwise":m.value.deg-=W;break}m.value.enableTransition=K}return Me(y,()=>{et(()=>{const L=u.value[0];L!=null&&L.complete||(d.value=!0)})}),Me(f,L=>{x(),e("switch",L)}),ft(()=>{var L,A;S(),(A=(L=l.value)==null?void 0:L.focus)==null||A.call(L)}),(L,A)=>(E(),fe(Pc,{to:"body",disabled:!L.teleported},[Z(En,{name:"viewer-fade",appear:""},{default:X(()=>[G("div",{ref_key:"wrapper",ref:l,tabindex:-1,class:$(C(s).e("wrapper")),style:Ye({zIndex:C(_)})},[G("div",{class:$(C(s).e("mask")),onClick:A[0]||(A[0]=ot(P=>L.hideOnClickModal&&b(),["self"]))},null,2),ue(" CLOSE "),G("span",{class:$([C(s).e("btn"),C(s).e("close")]),onClick:b},[Z(C(st),null,{default:X(()=>[Z(C(ti))]),_:1})],2),ue(" ARROW "),C(g)?ue("v-if",!0):(E(),V(Ze,{key:0},[G("span",{class:$([C(s).e("btn"),C(s).e("prev"),C(s).is("disabled",!L.infinite&&C(p))]),onClick:O},[Z(C(st),null,{default:X(()=>[Z(C(pa))]),_:1})],2),G("span",{class:$([C(s).e("btn"),C(s).e("next"),C(s).is("disabled",!L.infinite&&C(v))]),onClick:D},[Z(C(st),null,{default:X(()=>[Z(C(si))]),_:1})],2)],64)),ue(" ACTIONS "),G("div",{class:$([C(s).e("btn"),C(s).e("actions")])},[G("div",{class:$(C(s).e("actions__inner"))},[Z(C(st),{onClick:A[1]||(A[1]=P=>B("zoomOut"))},{default:X(()=>[Z(C(gB))]),_:1}),Z(C(st),{onClick:A[2]||(A[2]=P=>B("zoomIn"))},{default:X(()=>[Z(C(RM))]),_:1}),G("i",{class:$(C(s).e("actions__divider"))},null,2),Z(C(st),{onClick:R},{default:X(()=>[(E(),fe(Pt(h.value.icon)))]),_:1}),G("i",{class:$(C(s).e("actions__divider"))},null,2),Z(C(st),{onClick:A[3]||(A[3]=P=>B("anticlockwise"))},{default:X(()=>[Z(C(pF))]),_:1}),Z(C(st),{onClick:A[4]||(A[4]=P=>B("clockwise"))},{default:X(()=>[Z(C(wF))]),_:1})],2)],2),ue(" CANVAS "),G("div",{class:$(C(s).e("canvas"))},[(E(!0),V(Ze,null,xt(L.urlList,(P,W)=>ut((E(),V("img",{ref_for:!0,ref:K=>u.value[W]=K,key:P,src:P,style:Ye(C(w)),class:$(C(s).e("img")),onLoad:T,onError:N,onMousedown:I},null,46,CK)),[[Lt,W===f.value]])),128))],2),Ce(L.$slots,"default")],6)]),_:3})],8,["disabled"]))}}));var EK=De(xK,[["__file","/home/runner/work/element-plus/element-plus/packages/components/image-viewer/src/image-viewer.vue"]]);const jx=_t(EK),TK=Je({appendToBody:{type:Boolean,default:void 0},hideOnClickModal:{type:Boolean,default:!1},src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},lazy:{type:Boolean,default:!1},scrollContainer:{type:Fe([String,Object])},previewSrcList:{type:Fe(Array),default:()=>fn([])},previewTeleported:{type:Boolean,default:!1},zIndex:{type:Number},initialIndex:{type:Number,default:0}}),AK={error:t=>t instanceof Event,switch:t=>It(t),close:()=>!0},kK=["src"],PK={key:0},LK={name:"ElImage"},RK=pe(Ue(Ee({},LK),{props:TK,emits:AK,setup(t,{emit:e}){const n=t;let r="";Nc({scope:"el-image",from:"append-to-body",replacement:"preview-teleported",version:"2.2.0",ref:"https://element-plus.org/en-US/component/image.html#image-attributess"},k(()=>Qn(n.appendToBody)));const{t:i}=Gt(),o=$e("image"),s=n0(),a=F(!1),l=F(!0),u=F(0),c=F(0),d=F(!1),f=F(),h=F();let m,g;const p=k(()=>s.value.style),v=k(()=>{const{fit:L}=n;return Tt&&L?{objectFit:L}:{}}),y=k(()=>{const{previewSrcList:L}=n;return Array.isArray(L)&&L.length>0}),w=k(()=>n.appendToBody||n.previewTeleported),_=k(()=>{const{previewSrcList:L,initialIndex:A}=n;let P=A;return A>L.length-1&&(P=0),P}),b=()=>{if(!Tt)return;l.value=!0,a.value=!1;const L=new Image,A=n.src;L.addEventListener("load",P=>{A===n.src&&S(P,L)}),L.addEventListener("error",P=>{A===n.src&&M(P)}),Object.entries(s.value).forEach(([P,W])=>{P.toLowerCase()!=="onload"&&L.setAttribute(P,W)}),L.src=A};function S(L,A){u.value=A.width,c.value=A.height,l.value=!1,a.value=!1}function M(L){l.value=!1,a.value=!0,e("error",L)}function T(){Q$(f.value,h.value)&&(b(),x())}const N=xM(T,200);async function I(){var L;if(!Tt)return;await et();const{scrollContainer:A}=n;ia(A)?h.value=A:pt(A)&&A!==""?h.value=(L=document.querySelector(A))!=null?L:void 0:f.value&&(h.value=Zv(f.value)),h.value&&(m=xn(h,"scroll",N),setTimeout(()=>T(),100))}function x(){!Tt||!h.value||!N||(m(),h.value=void 0)}function R(L){if(!!L.ctrlKey){if(L.deltaY<0)return L.preventDefault(),!1;if(L.deltaY>0)return L.preventDefault(),!1}}function O(){!y.value||(g=xn("wheel",R,{passive:!1}),r=document.body.style.overflow,document.body.style.overflow="hidden",d.value=!0)}function D(){g==null||g(),document.body.style.overflow=r,d.value=!1,e("close")}function B(L){e("switch",L)}return Me(()=>n.src,()=>{n.lazy?(l.value=!0,a.value=!1,x(),I()):b()}),ft(()=>{n.lazy?I():b()}),(L,A)=>(E(),V("div",{ref_key:"container",ref:f,class:$([C(o).b(),L.$attrs.class]),style:Ye(C(p))},[l.value?Ce(L.$slots,"placeholder",{key:0},()=>[G("div",{class:$(C(o).e("placeholder"))},null,2)]):a.value?Ce(L.$slots,"error",{key:1},()=>[G("div",{class:$(C(o).e("error"))},Pe(C(i)("el.image.error")),3)]):(E(),V("img",Qt({key:2},C(s),{src:L.src,style:C(v),class:[C(o).e("inner"),C(y)?C(o).e("preview"):""],onClick:O}),null,16,kK)),C(y)?(E(),V(Ze,{key:3},[d.value?(E(),fe(C(jx),{key:0,"z-index":L.zIndex,"initial-index":C(_),"url-list":L.previewSrcList,"hide-on-click-modal":L.hideOnClickModal,teleported:C(w),onClose:D,onSwitch:B},{default:X(()=>[L.$slots.viewer?(E(),V("div",PK,[Ce(L.$slots,"viewer")])):ue("v-if",!0)]),_:3},8,["z-index","initial-index","url-list","hide-on-click-modal","teleported"])):ue("v-if",!0)],2112)):ue("v-if",!0)],6))}}));var IK=De(RK,[["__file","/home/runner/work/element-plus/element-plus/packages/components/image/src/image.vue"]]);const DK=_t(IK),$K=Je({step:{type:Number,default:1},stepStrictly:{type:Boolean,default:!1},max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:{type:Number},disabled:{type:Boolean,default:!1},size:{type:String,values:Ki},controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},name:String,label:String,placeholder:String,precision:{type:Number,validator:t=>t>=0&&t===Number.parseInt(`${t}`,10)}}),NK={change:(t,e)=>t!==e,blur:t=>t instanceof FocusEvent,focus:t=>t instanceof FocusEvent,input:t=>It(t),"update:modelValue":t=>It(t)||t===void 0},OK=pe({name:"ElInputNumber",components:{ElInput:ai,ElIcon:st,ArrowUp:Dc,ArrowDown:ha,Plus:PM,Minus:IO},directives:{RepeatClick:z2},props:$K,emits:NK,setup(t,{emit:e}){const n=F(),r=Ot({currentValue:t.modelValue,userInput:null}),{formItem:i}=Wl(),o=$e("input-number"),s=k(()=>g(t.modelValue,-1)<t.min),a=k(()=>g(t.modelValue)>t.max),l=k(()=>{const I=m(t.step);return Rr(t.precision)?Math.max(m(t.modelValue),I):(I>t.precision,t.precision)}),u=k(()=>t.controls&&t.controlsPosition==="right"),c=Pn(),d=Ul(),f=k(()=>{if(r.userInput!==null)return r.userInput;let I=r.currentValue;if(It(I)){if(Number.isNaN(I))return"";Rr(t.precision)||(I=I.toFixed(t.precision))}return I}),h=(I,x)=>(Rr(x)&&(x=l.value),Number.parseFloat(`${Math.round(I*10**x)/10**x}`)),m=I=>{if(Rr(I))return 0;const x=I.toString(),R=x.indexOf(".");let O=0;return R!==-1&&(O=x.length-R-1),O},g=(I,x=1)=>It(I)?(I=It(I)?I:Number.NaN,h(I+t.step*x)):r.currentValue,p=()=>{if(d.value||a.value)return;const I=t.modelValue||0,x=g(I);w(x)},v=()=>{if(d.value||s.value)return;const I=t.modelValue||0,x=g(I,-1);w(x)},y=(I,x)=>{const{max:R,min:O,step:D,precision:B,stepStrictly:L}=t;let A=Number(I);return I===null&&(A=Number.NaN),Number.isNaN(A)||(L&&(A=Math.round(A/D)*D),Rr(B)||(A=h(A,B)),(A>R||A<O)&&(A=A>R?R:O,x&&e("update:modelValue",A))),A},w=I=>{var x;const R=r.currentValue;let O=y(I);R!==O&&(Number.isNaN(O)&&(O=void 0),r.userInput=null,e("update:modelValue",O),e("input",O),e("change",O,R),(x=i==null?void 0:i.validate)==null||x.call(i,"change").catch(D=>void 0),r.currentValue=O)},_=I=>r.userInput=I,b=I=>{const x=I!==""?Number(I):"";(It(x)&&!Number.isNaN(x)||I==="")&&w(x),r.userInput=null},S=()=>{var I,x;(x=(I=n.value)==null?void 0:I.focus)==null||x.call(I)},M=()=>{var I,x;(x=(I=n.value)==null?void 0:I.blur)==null||x.call(I)},T=I=>{e("focus",I)},N=I=>{var x;e("blur",I),(x=i==null?void 0:i.validate)==null||x.call(i,"blur").catch(R=>void 0)};return Me(()=>t.modelValue,I=>{const x=y(I,!0);r.currentValue=x,r.userInput=null},{immediate:!0}),ft(()=>{var I;const x=(I=n.value)==null?void 0:I.input;if(x.setAttribute("role","spinbutton"),x.setAttribute("aria-valuemax",String(t.max)),x.setAttribute("aria-valuemin",String(t.min)),x.setAttribute("aria-valuenow",String(r.currentValue)),x.setAttribute("aria-disabled",String(d.value)),!It(t.modelValue)){let R=Number(t.modelValue);Number.isNaN(R)&&(R=void 0),e("update:modelValue",R)}}),Ai(()=>{var I;const x=(I=n.value)==null?void 0:I.input;x==null||x.setAttribute("aria-valuenow",r.currentValue)}),{input:n,displayValue:f,handleInput:_,handleInputChange:b,controlsAtRight:u,decrease:v,increase:p,inputNumberSize:c,inputNumberDisabled:d,maxDisabled:a,minDisabled:s,focus:S,blur:M,handleFocus:T,handleBlur:N,ns:o}}});function FK(t,e,n,r,i,o){const s=ve("arrow-down"),a=ve("minus"),l=ve("el-icon"),u=ve("arrow-up"),c=ve("plus"),d=ve("el-input"),f=Vr("repeat-click");return E(),V("div",{class:$([t.ns.b(),t.ns.m(t.inputNumberSize),t.ns.is("disabled",t.inputNumberDisabled),t.ns.is("without-controls",!t.controls),t.ns.is("controls-right",t.controlsAtRight)]),onDragstart:e[2]||(e[2]=ot(()=>{},["prevent"]))},[t.controls?ut((E(),V("span",{key:0,role:"button",class:$([t.ns.e("decrease"),t.ns.is("disabled",t.minDisabled)]),onKeydown:e[0]||(e[0]=Mt((...h)=>t.decrease&&t.decrease(...h),["enter"]))},[Z(l,null,{default:X(()=>[t.controlsAtRight?(E(),fe(s,{key:0})):(E(),fe(a,{key:1}))]),_:1})],34)),[[f,t.decrease]]):ue("v-if",!0),t.controls?ut((E(),V("span",{key:1,role:"button",class:$([t.ns.e("increase"),t.ns.is("disabled",t.maxDisabled)]),onKeydown:e[1]||(e[1]=Mt((...h)=>t.increase&&t.increase(...h),["enter"]))},[Z(l,null,{default:X(()=>[t.controlsAtRight?(E(),fe(u,{key:0})):(E(),fe(c,{key:1}))]),_:1})],34)),[[f,t.increase]]):ue("v-if",!0),Z(d,{ref:"input",type:"number",step:t.step,"model-value":t.displayValue,placeholder:t.placeholder,disabled:t.inputNumberDisabled,size:t.inputNumberSize,max:t.max,min:t.min,name:t.name,label:t.label,"validate-event":!1,onKeydown:[Mt(ot(t.increase,["prevent"]),["up"]),Mt(ot(t.decrease,["prevent"]),["down"])],onBlur:t.handleBlur,onFocus:t.handleFocus,onInput:t.handleInput,onChange:t.handleInputChange},null,8,["step","model-value","placeholder","disabled","size","max","min","name","label","onKeydown","onBlur","onFocus","onInput","onChange"])],34)}var BK=De(OK,[["render",FK],["__file","/home/runner/work/element-plus/element-plus/packages/components/input-number/src/input-number.vue"]]);const Kx=_t(BK),zK=Je({type:{type:String,values:["primary","success","warning","info","danger","default"],default:"default"},underline:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},href:{type:String,default:""},icon:{type:tr,default:""}}),VK={click:t=>t instanceof MouseEvent},HK=["href"],UK={name:"ElLink"},WK=pe(Ue(Ee({},UK),{props:zK,emits:VK,setup(t,{emit:e}){const n=t,r=$e("link");function i(o){n.disabled||e("click",o)}return(o,s)=>(E(),V("a",{class:$([C(r).b(),C(r).m(o.type),C(r).is("disabled",o.disabled),C(r).is("underline",o.underline&&!o.disabled)]),href:o.disabled||!o.href?void 0:o.href,onClick:i},[o.icon?(E(),fe(C(st),{key:0},{default:X(()=>[(E(),fe(Pt(o.icon)))]),_:1})):ue("v-if",!0),o.$slots.default?(E(),V("span",{key:1,class:$(C(r).e("inner"))},[Ce(o.$slots,"default")],2)):ue("v-if",!0),o.$slots.icon?Ce(o.$slots,"icon",{key:2}):ue("v-if",!0)],10,HK))}}));var GK=De(WK,[["__file","/home/runner/work/element-plus/element-plus/packages/components/link/src/link.vue"]]);const jK=_t(GK);class KK{constructor(e,n){this.parent=e,this.domNode=n,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(e){e===this.subMenuItems.length?e=0:e<0&&(e=this.subMenuItems.length-1),this.subMenuItems[e].focus(),this.subIndex=e}addListeners(){const e=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,n=>{n.addEventListener("keydown",r=>{let i=!1;switch(r.code){case qe.down:{this.gotoSubIndex(this.subIndex+1),i=!0;break}case qe.up:{this.gotoSubIndex(this.subIndex-1),i=!0;break}case qe.tab:{Qd(e,"mouseleave");break}case qe.enter:case qe.space:{i=!0,r.currentTarget.click();break}}return i&&(r.preventDefault(),r.stopPropagation()),!1})})}}class qK{constructor(e){this.domNode=e,this.submenu=null,this.submenu=null,this.init()}init(){this.domNode.setAttribute("tabindex","0");const e=this.domNode.querySelector(".el-menu");e&&(this.submenu=new KK(this,e)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",e=>{let n=!1;switch(e.code){case qe.down:{Qd(e.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),n=!0;break}case qe.up:{Qd(e.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),n=!0;break}case qe.tab:{Qd(e.currentTarget,"mouseleave");break}case qe.enter:case qe.space:{n=!0,e.currentTarget.click();break}}n&&e.preventDefault()})}}class YK{constructor(e){this.domNode=e,this.init()}init(){const e=this.domNode.childNodes;Array.from(e).forEach(n=>{n.nodeType===1&&new qK(n)})}}const XK=pe({name:"ElMenuCollapseTransition",setup(){return{listeners:{onBeforeEnter:e=>e.style.opacity="0.2",onEnter(e,n){Hi(e,"el-opacity-transition"),e.style.opacity="1",n()},onAfterEnter(e){vr(e,"el-opacity-transition"),e.style.opacity=""},onBeforeLeave(e){e.dataset||(e.dataset={}),_i(e,"el-menu--collapse")?(vr(e,"el-menu--collapse"),e.dataset.oldOverflow=e.style.overflow,e.dataset.scrollWidth=e.clientWidth.toString(),Hi(e,"el-menu--collapse")):(Hi(e,"el-menu--collapse"),e.dataset.oldOverflow=e.style.overflow,e.dataset.scrollWidth=e.clientWidth.toString(),vr(e,"el-menu--collapse")),e.style.width=`${e.scrollWidth}px`,e.style.overflow="hidden"},onLeave(e){Hi(e,"horizontal-collapse-transition"),e.style.width=`${e.dataset.scrollWidth}px`}}}}});function ZK(t,e,n,r,i,o){return E(),fe(En,Qt({mode:"out-in"},t.listeners),{default:X(()=>[Ce(t.$slots,"default")]),_:3},16)}var JK=De(XK,[["render",ZK],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-collapse-transition.vue"]]);function qx(t,e){const n=Ke("rootMenu");n||kn("useMenu","can not inject root menu");const r=k(()=>{let s=t.parent;const a=[e.value];for(;s.type.name!=="ElMenu";)s.props.index&&a.unshift(s.props.index),s=s.parent;return a}),i=k(()=>{let s=t.parent;for(;s&&!["ElMenu","ElSubMenu"].includes(s.type.name);)s=s.parent;return s}),o=k(()=>{let s=t.parent;if(n.props.mode!=="vertical")return{};let a=20;if(n.props.collapse)a=20;else for(;s&&s.type.name!=="ElMenu";)s.type.name==="ElSubMenu"&&(a+=20),s=s.parent;return{paddingLeft:`${a}px`}});return{parentMenu:i,paddingStyle:o,indexPath:r}}function QK(t){return k(()=>{const n=t.backgroundColor;return n?new R2(n).shade(20).toString():""})}const Yx=t=>k(()=>({"--el-menu-text-color":t.textColor||"","--el-menu-hover-text-color":t.textColor||"","--el-menu-bg-color":t.backgroundColor||"","--el-menu-hover-bg-color":QK(t).value||"","--el-menu-active-color":t.activeTextColor||""})),eq=Je({index:{type:String,required:!0},showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300},popperClass:String,disabled:Boolean,popperAppendToBody:{type:Boolean,default:void 0},popperOffset:{type:Number,default:6}}),Np="ElSubMenu";var k0=pe({name:Np,props:eq,setup(t,{slots:e,expose:n}){const r=wt(),{paddingStyle:i,indexPath:o,parentMenu:s}=qx(r,k(()=>t.index)),a=Ke("rootMenu");a||kn(Np,"can not inject root menu");const l=Ke(`subMenu:${s.value.uid}`);l||kn(Np,"can not inject sub menu");const u=F({}),c=F({});let d;const f=F(!1),h=F(),m=F(null),g=k(()=>I.value==="horizontal"&&v.value?"bottom-start":"right-start"),p=k(()=>I.value==="horizontal"&&v.value||I.value==="vertical"&&!a.props.collapse?ha:si),v=k(()=>{let P=!0,W=r.parent;for(;W&&W.type.name!=="ElMenu";)if(["ElSubMenu","ElMenuItemGroup"].includes(W.type.name)){P=!1;break}else W=W.parent;return P}),y=k(()=>t.popperAppendToBody===void 0?v.value:Boolean(t.popperAppendToBody)),w=k(()=>a.props.collapse?"el-zoom-in-left":"el-zoom-in-top"),_=k(()=>I.value==="horizontal"&&v.value?["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]:["right-start","left-start","bottom-start","bottom-end","top-start","top-end"]),b=k(()=>a.openedMenus.includes(t.index)),S=k(()=>{let P=!1;return Object.values(u.value).forEach(W=>{W.active&&(P=!0)}),Object.values(c.value).forEach(W=>{W.active&&(P=!0)}),P}),M=k(()=>a.props.backgroundColor||""),T=k(()=>a.props.activeTextColor||""),N=k(()=>a.props.textColor||""),I=k(()=>a.props.mode),x=Ot({index:t.index,indexPath:o,active:S}),R=k(()=>I.value!=="horizontal"?{color:N.value}:{borderBottomColor:S.value?a.props.activeTextColor?T.value:"":"transparent",color:S.value?T.value:N.value}),O=()=>{var P,W,K;return(K=(W=(P=m.value)==null?void 0:P.popperRef)==null?void 0:W.popperInstanceRef)==null?void 0:K.destroy()},D=P=>{P||O()},B=()=>{a.props.menuTrigger==="hover"&&a.props.mode==="horizontal"||a.props.collapse&&a.props.mode==="vertical"||t.disabled||a.handleSubMenuClick({index:t.index,indexPath:o.value,active:S.value})},L=(P,W=t.showTimeout)=>{var K;P.type==="focus"&&!P.relatedTarget||a.props.menuTrigger==="click"&&a.props.mode==="horizontal"||!a.props.collapse&&a.props.mode==="vertical"||t.disabled||(l.mouseInChild.value=!0,d==null||d(),{stop:d}=ra(()=>{a.openMenu(t.index,o.value)},W),y.value&&((K=s.value.vnode.el)==null||K.dispatchEvent(new MouseEvent("mouseenter"))))},A=(P=!1)=>{var W,K;a.props.menuTrigger==="click"&&a.props.mode==="horizontal"||!a.props.collapse&&a.props.mode==="vertical"||(d==null||d(),l.mouseInChild.value=!1,{stop:d}=ra(()=>!f.value&&a.closeMenu(t.index,o.value),t.hideTimeout),y.value&&P&&((W=r.parent)==null?void 0:W.type.name)==="ElSubMenu"&&((K=l.handleMouseleave)==null||K.call(l,!0)))};Me(()=>a.props.collapse,P=>D(Boolean(P)));{const P=K=>{c.value[K.index]=K},W=K=>{delete c.value[K.index]};Ct(`subMenu:${r.uid}`,{addSubMenu:P,removeSubMenu:W,handleMouseleave:A,mouseInChild:f})}return n({opened:b}),ft(()=>{a.addSubMenu(x),l.addSubMenu(x)}),rn(()=>{l.removeSubMenu(x),a.removeSubMenu(x)}),()=>{var P;const W=[(P=e.title)==null?void 0:P.call(e),Xe(st,{class:["el-sub-menu__icon-arrow"]},{default:()=>Xe(p.value)})],K=Yx(a.props),te=a.isMenuPopup?Xe(Cr,{ref:m,visible:b.value,effect:"light",pure:!0,offset:t.popperOffset,showArrow:!1,persistent:!0,popperClass:t.popperClass,placement:g.value,teleported:y.value,fallbackPlacements:_.value,transition:w.value,gpuAcceleration:!1},{content:()=>{var J;return Xe("div",{class:[`el-menu--${I.value}`,t.popperClass],onMouseenter:se=>L(se,100),onMouseleave:()=>A(!0),onFocus:se=>L(se,100)},[Xe("ul",{class:["el-menu el-menu--popup",`el-menu--popup-${g.value}`],style:K.value},[(J=e.default)==null?void 0:J.call(e)])])},default:()=>Xe("div",{class:"el-sub-menu__title",style:[i.value,R.value,{backgroundColor:M.value}],onClick:B},W)}):Xe(Ze,{},[Xe("div",{class:"el-sub-menu__title",style:[i.value,R.value,{backgroundColor:M.value}],ref:h,onClick:B},W),Xe(Bh,{},{default:()=>{var J;return ut(Xe("ul",{role:"menu",class:"el-menu el-menu--inline",style:K.value},[(J=e.default)==null?void 0:J.call(e)]),[[Lt,b.value]])}})]);return Xe("li",{class:["el-sub-menu",{"is-active":S.value,"is-opened":b.value,"is-disabled":t.disabled}],role:"menuitem",ariaHaspopup:!0,ariaExpanded:b.value,onMouseenter:L,onMouseleave:()=>A(!0),onFocus:L},[te])}}});const tq=Je({mode:{type:String,values:["horizontal","vertical"],default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:{type:Fe(Array),default:()=>fn([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:["hover","click"],default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0}}),Op=t=>Array.isArray(t)&&t.every(e=>pt(e)),nq={close:(t,e)=>pt(t)&&Op(e),open:(t,e)=>pt(t)&&Op(e),select:(t,e,n,r)=>pt(t)&&Op(e)&&kt(n)&&(r===void 0||r instanceof Promise)};var rq=pe({name:"ElMenu",props:tq,emits:nq,setup(t,{emit:e,slots:n,expose:r}){const i=wt(),o=i.appContext.config.globalProperties.$router,s=F(),a=F(t.defaultOpeneds&&!t.collapse?t.defaultOpeneds.slice(0):[]),l=F(t.defaultActive),u=F({}),c=F({}),d=k(()=>t.mode==="horizontal"||t.mode==="vertical"&&t.collapse),f=()=>{const b=l.value&&u.value[l.value];if(!b||t.mode==="horizontal"||t.collapse)return;b.indexPath.forEach(M=>{const T=c.value[M];T&&h(M,T.indexPath)})},h=(b,S)=>{a.value.includes(b)||(t.uniqueOpened&&(a.value=a.value.filter(M=>S.includes(M))),a.value.push(b),e("open",b,S))},m=(b,S)=>{const M=a.value.indexOf(b);M!==-1&&a.value.splice(M,1),e("close",b,S)},g=({index:b,indexPath:S})=>{a.value.includes(b)?m(b,S):h(b,S)},p=b=>{(t.mode==="horizontal"||t.collapse)&&(a.value=[]);const{index:S,indexPath:M}=b;if(!(S===void 0||M===void 0))if(t.router&&o){const T=b.route||S,N=o.push(T).then(I=>(I||(l.value=S),I));e("select",S,M,{index:S,indexPath:M,route:T},N)}else l.value=S,e("select",S,M,{index:S,indexPath:M})},v=b=>{const S=u.value,M=S[b]||l.value&&S[l.value]||S[t.defaultActive];M?(l.value=M.index,f()):l.value=b},y=()=>{et(()=>i.proxy.$forceUpdate())};Me(()=>t.defaultActive,b=>{u.value[b]||(l.value=""),v(b)}),Me(u.value,()=>f()),Me(()=>t.collapse,b=>{b&&(a.value=[])});{const b=N=>{c.value[N.index]=N},S=N=>{delete c.value[N.index]};Ct("rootMenu",Ot({props:t,openedMenus:a,items:u,subMenus:c,activeIndex:l,isMenuPopup:d,addMenuItem:N=>{u.value[N.index]=N},removeMenuItem:N=>{delete u.value[N.index]},addSubMenu:b,removeSubMenu:S,openMenu:h,closeMenu:m,handleMenuItemClick:p,handleSubMenuClick:g})),Ct(`subMenu:${i.uid}`,{addSubMenu:b,removeSubMenu:S,mouseInChild:F(!1)})}ft(()=>{f(),t.mode==="horizontal"&&new YK(i.vnode.el)}),r({open:S=>{const{indexPath:M}=c.value[S];M.forEach(T=>h(T,M))},close:m,handleResize:y});const w=b=>{const S=Array.isArray(b)?b:[b],M=[];return S.forEach(T=>{Array.isArray(T.children)?M.push(...w(T.children)):M.push(T)}),M},_=b=>t.mode==="horizontal"?ut(b,[[lV,y]]):b;return()=>{var b,S,M,T;let N=(S=(b=n.default)==null?void 0:b.call(n))!=null?S:[];const I=[];if(t.mode==="horizontal"&&s.value){const D=Array.from((T=(M=s.value)==null?void 0:M.childNodes)!=null?T:[]).filter(Te=>Te.nodeName!=="#text"||Te.nodeValue),B=w(N),L=64,A=Number.parseInt(getComputedStyle(s.value).paddingLeft,10),P=Number.parseInt(getComputedStyle(s.value).paddingRight,10),W=s.value.clientWidth-A-P;let K=0,te=0;D.forEach((Te,Le)=>{K+=Te.offsetWidth||0,K<=W-L&&(te=Le+1)});const J=B.slice(0,te),se=B.slice(te);(se==null?void 0:se.length)&&t.ellipsis&&(N=J,I.push(Xe(k0,{index:"sub-menu-more",class:"el-sub-menu__hide-arrow"},{title:()=>Xe(st,{class:["el-sub-menu__icon-more"]},{default:()=>Xe(GO)}),default:()=>se})))}const x=Yx(t),O=(D=>t.ellipsis?_(D):D)(Xe("ul",{key:String(t.collapse),role:"menubar",ref:s,style:x.value,class:{"el-menu":!0,"el-menu--horizontal":t.mode==="horizontal","el-menu--collapse":t.collapse}},[...N,...I]));return t.collapseTransition&&t.mode==="vertical"?Xe(JK,()=>O):O}}});const iq=Je({index:{type:Fe([String,null]),default:null},route:{type:Fe([String,Object])},disabled:Boolean}),oq={click:t=>pt(t.index)&&Array.isArray(t.indexPath)},Fp="ElMenuItem",sq=pe({name:Fp,components:{ElTooltip:Cr},props:iq,emits:oq,setup(t,{emit:e}){const n=wt(),r=Ke("rootMenu");r||kn(Fp,"can not inject root menu");const{parentMenu:i,paddingStyle:o,indexPath:s}=qx(n,Nn(t,"index")),a=Ke(`subMenu:${i.value.uid}`);a||kn(Fp,"can not inject sub menu");const l=k(()=>t.index===r.activeIndex),u=Ot({index:t.index,indexPath:s,active:l}),c=()=>{t.disabled||(r.handleMenuItemClick({index:t.index,indexPath:s.value,route:t.route}),e("click",u))};return ft(()=>{a.addSubMenu(u),r.addMenuItem(u)}),rn(()=>{a.removeSubMenu(u),r.removeMenuItem(u)}),{Effect:Tz,parentMenu:i,rootMenu:r,paddingStyle:o,active:l,handleClick:c}}}),aq={class:"el-menu-tooltip__trigger"};function lq(t,e,n,r,i,o){const s=ve("el-tooltip");return E(),V("li",{class:$(["el-menu-item",{"is-active":t.active,"is-disabled":t.disabled}]),role:"menuitem",tabindex:"-1",style:Ye(t.paddingStyle),onClick:e[0]||(e[0]=(...a)=>t.handleClick&&t.handleClick(...a))},[t.parentMenu.type.name==="ElMenu"&&t.rootMenu.props.collapse&&t.$slots.title?(E(),fe(s,{key:0,effect:t.Effect.DARK,placement:"right","fallback-placements":["left"],persistent:""},{content:X(()=>[Ce(t.$slots,"title")]),default:X(()=>[G("div",aq,[Ce(t.$slots,"default")])]),_:3},8,["effect"])):(E(),V(Ze,{key:1},[Ce(t.$slots,"default"),Ce(t.$slots,"title")],64))],6)}var Xx=De(sq,[["render",lq],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-item.vue"]]);const uq={title:String},nw="ElMenuItemGroup",cq=pe({name:nw,props:uq,setup(){const t=wt(),e=Ke("rootMenu");return e||kn(nw,"can not inject root menu"),{levelPadding:k(()=>{if(e.props.collapse)return 20;let r=20,i=t.parent;for(;i&&i.type.name!=="ElMenu";)i.type.name==="ElSubMenu"&&(r+=20),i=i.parent;return r})}}}),dq={class:"el-menu-item-group"};function fq(t,e,n,r,i,o){return E(),V("li",dq,[G("div",{class:"el-menu-item-group__title",style:Ye({paddingLeft:`${t.levelPadding}px`})},[t.$slots.title?Ce(t.$slots,"title",{key:1}):(E(),V(Ze,{key:0},[lt(Pe(t.title),1)],2112))],4),G("ul",null,[Ce(t.$slots,"default")])])}var Zx=De(cq,[["render",fq],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-item-group.vue"]]);const hq=_t(rq,{MenuItem:Xx,MenuItemGroup:Zx,SubMenu:k0}),pq=pn(Xx),mq=pn(Zx);pn(k0);const gq=Je({icon:{type:tr,default:()=>IN},title:String,content:{type:String,default:""}}),vq={back:()=>!0},yq={name:"ElPageHeader"},bq=pe(Ue(Ee({},yq),{props:gq,emits:vq,setup(t,{emit:e}){const{t:n}=Gt(),r=$e("page-header");function i(){e("back")}return(o,s)=>(E(),V("div",{class:$(C(r).b())},[G("div",{class:$(C(r).e("left")),onClick:i},[o.icon||o.$slots.icon?(E(),V("div",{key:0,class:$(C(r).e("icon"))},[Ce(o.$slots,"icon",{},()=>[o.icon?(E(),fe(C(st),{key:0},{default:X(()=>[(E(),fe(Pt(o.icon)))]),_:1})):ue("v-if",!0)])],2)):ue("v-if",!0),G("div",{class:$(C(r).e("title"))},[Ce(o.$slots,"title",{},()=>[lt(Pe(o.title||C(n)("el.pageHeader.title")),1)])],2)],2),G("div",{class:$(C(r).e("content"))},[Ce(o.$slots,"content",{},()=>[lt(Pe(o.content),1)])],2)],2))}}));var wq=De(bq,[["__file","/home/runner/work/element-plus/element-plus/packages/components/page-header/src/page-header.vue"]]);const _q=_t(wq),Sq={disabled:Boolean,currentPage:{type:Number,default:1},prevText:{type:String,default:""}},Cq=pe({name:"ElPaginationPrev",components:{ElIcon:st,ArrowLeft:pa},props:Sq,emits:["click"],setup(t){return{internalDisabled:k(()=>t.disabled||t.currentPage<=1)}}}),Mq=["disabled","aria-disabled"],xq={key:0};function Eq(t,e,n,r,i,o){const s=ve("arrow-left"),a=ve("el-icon");return E(),V("button",{type:"button",class:"btn-prev",disabled:t.internalDisabled,"aria-disabled":t.internalDisabled,onClick:e[0]||(e[0]=l=>t.$emit("click",l))},[t.prevText?(E(),V("span",xq,Pe(t.prevText),1)):(E(),fe(a,{key:1},{default:X(()=>[Z(s)]),_:1}))],8,Mq)}var Tq=De(Cq,[["render",Eq],["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/prev.vue"]]);const Aq={disabled:Boolean,currentPage:{type:Number,default:1},pageCount:{type:Number,default:50},nextText:{type:String,default:""}},kq=pe({name:"ElPaginationNext",components:{ElIcon:st,ArrowRight:si},props:Aq,emits:["click"],setup(t){return{internalDisabled:k(()=>t.disabled||t.currentPage===t.pageCount||t.pageCount===0)}}}),Pq=["disabled","aria-disabled"],Lq={key:0};function Rq(t,e,n,r,i,o){const s=ve("arrow-right"),a=ve("el-icon");return E(),V("button",{type:"button",class:"btn-next",disabled:t.internalDisabled,"aria-disabled":t.internalDisabled,onClick:e[0]||(e[0]=l=>t.$emit("click",l))},[t.nextText?(E(),V("span",Lq,Pe(t.nextText),1)):(E(),fe(a,{key:1},{default:X(()=>[Z(s)]),_:1}))],8,Pq)}var Iq=De(kq,[["render",Rq],["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/next.vue"]]);const Jx="ElSelectGroup",zh="ElSelect";function Dq(t,e){const n=Ke(zh),r=Ke(Jx,{disabled:!1}),i=k(()=>Object.prototype.toString.call(t.value).toLowerCase()==="[object object]"),o=k(()=>n.props.multiple?d(n.props.modelValue,t.value):f(t.value,n.props.modelValue)),s=k(()=>{if(n.props.multiple){const g=n.props.modelValue||[];return!o.value&&g.length>=n.props.multipleLimit&&n.props.multipleLimit>0}else return!1}),a=k(()=>t.label||(i.value?"":t.value)),l=k(()=>t.value||t.label||""),u=k(()=>t.disabled||e.groupDisabled||s.value),c=wt(),d=(g=[],p)=>{if(i.value){const v=n.props.valueKey;return g&&g.some(y=>cn(y,v)===cn(p,v))}else return g&&g.includes(p)},f=(g,p)=>{if(i.value){const{valueKey:v}=n.props;return cn(g,v)===cn(p,v)}else return g===p},h=()=>{!t.disabled&&!r.disabled&&(n.hoverIndex=n.optionsArray.indexOf(c.proxy))};Me(()=>a.value,()=>{!t.created&&!n.props.remote&&n.setSelected()}),Me(()=>t.value,(g,p)=>{const{remote:v,valueKey:y}=n.props;if(!t.created&&!v){if(y&&typeof g=="object"&&typeof p=="object"&&g[y]===p[y])return;n.setSelected()}}),Me(()=>r.disabled,()=>{e.groupDisabled=r.disabled},{immediate:!0});const{queryChange:m}=Wt(n);return Me(m,g=>{const{query:p}=C(g),v=new RegExp(rN(p),"i");e.visible=v.test(a.value)||t.created,e.visible||n.filteredOptionsCount--}),{select:n,currentLabel:a,currentValue:l,itemSelected:o,isDisabled:u,hoverItem:h}}const $q=pe({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:{type:Boolean,default:!1}},setup(t){const e=$e("select"),n=Ot({index:-1,groupDisabled:!1,visible:!0,hitState:!1,hover:!1}),{currentLabel:r,itemSelected:i,isDisabled:o,select:s,hoverItem:a}=Dq(t,n),{visible:l,hover:u}=Bn(n),c=wt().proxy,d=c.value;s.onOptionCreate(c),rn(()=>{const{selected:h}=s,g=(s.props.multiple?h:[h]).some(p=>p.value===c.value);s.cachedOptions.get(d)===c&&!g&&et(()=>{s.cachedOptions.delete(d)}),s.onOptionDestroy(d,c)});function f(){t.disabled!==!0&&n.groupDisabled!==!0&&s.handleOptionSelect(c,!0)}return{ns:e,currentLabel:r,itemSelected:i,isDisabled:o,select:s,hoverItem:a,visible:l,hover:u,selectOptionClick:f,states:n}}});function Nq(t,e,n,r,i,o){return ut((E(),V("li",{class:$([t.ns.be("dropdown","item"),t.ns.is("disabled",t.isDisabled),{selected:t.itemSelected,hover:t.hover}]),onMouseenter:e[0]||(e[0]=(...s)=>t.hoverItem&&t.hoverItem(...s)),onClick:e[1]||(e[1]=ot((...s)=>t.selectOptionClick&&t.selectOptionClick(...s),["stop"]))},[Ce(t.$slots,"default",{},()=>[G("span",null,Pe(t.currentLabel),1)])],34)),[[Lt,t.visible]])}var P0=De($q,[["render",Nq],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option.vue"]]);const Oq=pe({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const t=Ke(zh),e=$e("select"),n=k(()=>t.props.popperClass),r=k(()=>t.props.multiple),i=k(()=>t.props.fitInputWidth),o=F("");function s(){var a;o.value=`${(a=t.selectWrapper)==null?void 0:a.getBoundingClientRect().width}px`}return ft(()=>{s(),zl(t.selectWrapper,s)}),rn(()=>{Vl(t.selectWrapper,s)}),{ns:e,minWidth:o,popperClass:n,isMultiple:r,isFitInputWidth:i}}});function Fq(t,e,n,r,i,o){return E(),V("div",{class:$([t.ns.b("dropdown"),t.ns.is("multiple",t.isMultiple),t.popperClass]),style:Ye({[t.isFitInputWidth?"width":"minWidth"]:t.minWidth})},[Ce(t.$slots,"default")],6)}var Bq=De(Oq,[["render",Fq],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select-dropdown.vue"]]);function zq(t){const{t:e}=Gt();return Ot({options:new Map,cachedOptions:new Map,createdLabel:null,createdSelected:!1,selected:t.multiple?[]:{},inputLength:20,inputWidth:0,initialInputHeight:0,optionsCount:0,filteredOptionsCount:0,visible:!1,softFocus:!1,selectedLabel:"",hoverIndex:-1,query:"",previousQuery:null,inputHovering:!1,cachedPlaceHolder:"",currentPlaceholder:e("el.select.placeholder"),menuVisibleOnFocus:!1,isOnComposition:!1,isSilentBlur:!1,prefixWidth:11,tagInMultiLine:!1})}const Vq=(t,e,n)=>{const{t:r}=Gt(),i=$e("select"),o=F(null),s=F(null),a=F(null),l=F(null),u=F(null),c=F(null),d=F(-1),f=Ln({query:""}),h=Ln(""),m=Ke(Wr,{}),g=Ke(ni,{}),p=k(()=>!t.filterable||t.multiple||!e.visible),v=k(()=>t.disabled||m.disabled),y=k(()=>{const Y=t.multiple?Array.isArray(t.modelValue)&&t.modelValue.length>0:t.modelValue!==void 0&&t.modelValue!==null&&t.modelValue!=="";return t.clearable&&!v.value&&e.inputHovering&&Y}),w=k(()=>t.remote&&t.filterable?"":t.suffixIcon),_=k(()=>i.is("reverse",w.value&&e.visible)),b=k(()=>t.remote?300:0),S=k(()=>t.loading?t.loadingText||r("el.select.loading"):t.remote&&e.query===""&&e.options.size===0?!1:t.filterable&&e.query&&e.options.size>0&&e.filteredOptionsCount===0?t.noMatchText||r("el.select.noMatch"):e.options.size===0?t.noDataText||r("el.select.noData"):null),M=k(()=>Array.from(e.options.values())),T=k(()=>Array.from(e.cachedOptions.values())),N=k(()=>{const Y=M.value.filter(_e=>!_e.created).some(_e=>_e.currentLabel===e.query);return t.filterable&&t.allowCreate&&e.query!==""&&!Y}),I=Pn(),x=k(()=>["small"].includes(I.value)?"small":"default"),R=k({get(){return e.visible&&S.value!==!1},set(Y){e.visible=Y}});Me(()=>v.value,()=>{et(()=>{O()})}),Me(()=>t.placeholder,Y=>{e.cachedPlaceHolder=e.currentPlaceholder=Y}),Me(()=>t.modelValue,(Y,_e)=>{var ge;t.multiple&&(O(),Y&&Y.length>0||s.value&&e.query!==""?e.currentPlaceholder="":e.currentPlaceholder=e.cachedPlaceHolder,t.filterable&&!t.reserveKeyword&&(e.query="",D(e.query))),A(),t.filterable&&!t.multiple&&(e.inputLength=20),Fr(Y,_e)||(ge=g.validate)==null||ge.call(g,"change").catch(xe=>void 0)},{flush:"post",deep:!0}),Me(()=>e.visible,Y=>{var _e,ge,xe;Y?((ge=(_e=a.value)==null?void 0:_e.updatePopper)==null||ge.call(_e),t.filterable&&(e.filteredOptionsCount=e.optionsCount,e.query=t.remote?"":e.selectedLabel,t.multiple?(xe=s.value)==null||xe.focus():e.selectedLabel&&(e.currentPlaceholder=`${e.selectedLabel}`,e.selectedLabel=""),D(e.query),!t.multiple&&!t.remote&&(f.value.query="",ou(f),ou(h)))):(s.value&&s.value.blur(),e.query="",e.previousQuery=null,e.selectedLabel="",e.inputLength=20,e.menuVisibleOnFocus=!1,W(),et(()=>{s.value&&s.value.value===""&&e.selected.length===0&&(e.currentPlaceholder=e.cachedPlaceHolder)}),t.multiple||(e.selected&&(t.filterable&&t.allowCreate&&e.createdSelected&&e.createdLabel?e.selectedLabel=e.createdLabel:e.selectedLabel=e.selected.currentLabel,t.filterable&&(e.query=e.selectedLabel)),t.filterable&&(e.currentPlaceholder=e.cachedPlaceHolder))),n.emit("visible-change",Y)}),Me(()=>e.options.entries(),()=>{var Y,_e,ge;if(!Tt)return;(_e=(Y=a.value)==null?void 0:Y.updatePopper)==null||_e.call(Y),t.multiple&&O();const xe=((ge=u.value)==null?void 0:ge.querySelectorAll("input"))||[];Array.from(xe).includes(document.activeElement)||A(),t.defaultFirstOption&&(t.filterable||t.remote)&&e.filteredOptionsCount&&L()},{flush:"post"}),Me(()=>e.hoverIndex,Y=>{typeof Y=="number"&&Y>-1&&(d.value=M.value[Y]||{}),M.value.forEach(_e=>{_e.hover=d.value===_e})});const O=()=>{t.collapseTags&&!t.filterable||et(()=>{var Y,_e;if(!o.value)return;const ge=o.value.$el.childNodes,xe=Array.from(ge).find(We=>We.tagName==="INPUT"),ie=l.value,He=e.initialInputHeight||40;xe.style.height=e.selected.length===0?`${He}px`:`${Math.max(ie?ie.clientHeight+(ie.clientHeight>He?6:0):0,He)}px`,e.tagInMultiLine=Number.parseFloat(xe.style.height)>=He,e.visible&&S.value!==!1&&((_e=(Y=a.value)==null?void 0:Y.updatePopper)==null||_e.call(Y))})},D=Y=>{if(!(e.previousQuery===Y||e.isOnComposition)){if(e.previousQuery===null&&(typeof t.filterMethod=="function"||typeof t.remoteMethod=="function")){e.previousQuery=Y;return}e.previousQuery=Y,et(()=>{var _e,ge;e.visible&&((ge=(_e=a.value)==null?void 0:_e.updatePopper)==null||ge.call(_e))}),e.hoverIndex=-1,t.multiple&&t.filterable&&et(()=>{const _e=s.value.value.length*15+20;e.inputLength=t.collapseTags?Math.min(50,_e):_e,B(),O()}),t.remote&&typeof t.remoteMethod=="function"?(e.hoverIndex=-1,t.remoteMethod(Y)):typeof t.filterMethod=="function"?(t.filterMethod(Y),ou(h)):(e.filteredOptionsCount=e.optionsCount,f.value.query=Y,ou(f),ou(h)),t.defaultFirstOption&&(t.filterable||t.remote)&&e.filteredOptionsCount&&L()}},B=()=>{e.currentPlaceholder!==""&&(e.currentPlaceholder=s.value.value?"":e.cachedPlaceHolder)},L=()=>{const Y=M.value.filter(xe=>xe.visible&&!xe.disabled&&!xe.states.groupDisabled),_e=Y.find(xe=>xe.created),ge=Y[0];e.hoverIndex=ye(M.value,_e||ge)},A=()=>{var Y;if(t.multiple)e.selectedLabel="";else{const ge=P(t.modelValue);(Y=ge.props)!=null&&Y.created?(e.createdLabel=ge.props.value,e.createdSelected=!0):e.createdSelected=!1,e.selectedLabel=ge.currentLabel,e.selected=ge,t.filterable&&(e.query=e.selectedLabel);return}const _e=[];Array.isArray(t.modelValue)&&t.modelValue.forEach(ge=>{_e.push(P(ge))}),e.selected=_e,et(()=>{O()})},P=Y=>{let _e;const ge=Kd(Y).toLowerCase()==="object",xe=Kd(Y).toLowerCase()==="null",ie=Kd(Y).toLowerCase()==="undefined";for(let rt=e.cachedOptions.size-1;rt>=0;rt--){const tt=T.value[rt];if(ge?cn(tt,t.valueKey)===cn(Y,t.valueKey):tt.value===Y){_e={value:Y,currentLabel:tt.currentLabel,isDisabled:tt.isDisabled};break}}if(_e)return _e;const He=ge?Y.label:!xe&&!ie?Y:"",We={value:Y,currentLabel:He};return t.multiple&&(We.hitState=!1),We},W=()=>{setTimeout(()=>{const Y=t.valueKey;t.multiple?e.selected.length>0?e.hoverIndex=Math.min.apply(null,e.selected.map(_e=>M.value.findIndex(ge=>cn(ge,Y)===cn(_e,Y)))):e.hoverIndex=-1:e.hoverIndex=M.value.findIndex(_e=>ke(_e)===ke(e.selected))},300)},K=()=>{var Y,_e;te(),(_e=(Y=a.value)==null?void 0:Y.updatePopper)==null||_e.call(Y),t.multiple&&!t.filterable&&O()},te=()=>{var Y;e.inputWidth=(Y=o.value)==null?void 0:Y.$el.getBoundingClientRect().width},J=()=>{t.filterable&&e.query!==e.selectedLabel&&(e.query=e.selectedLabel,D(e.query))},se=_r(()=>{J()},b.value),Te=_r(Y=>{D(Y.target.value)},b.value),Le=Y=>{Fr(t.modelValue,Y)||n.emit(zn,Y)},q=Y=>{if(Y.target.value.length<=0&&!me()){const _e=t.modelValue.slice();_e.pop(),n.emit(bt,_e),Le(_e)}Y.target.value.length===1&&t.modelValue.length===0&&(e.currentPlaceholder=e.cachedPlaceHolder)},re=(Y,_e)=>{const ge=e.selected.indexOf(_e);if(ge>-1&&!v.value){const xe=t.modelValue.slice();xe.splice(ge,1),n.emit(bt,xe),Le(xe),n.emit("remove-tag",_e.value)}Y.stopPropagation()},he=Y=>{Y.stopPropagation();const _e=t.multiple?[]:"";if(typeof _e!="string")for(const ge of e.selected)ge.isDisabled&&_e.push(ge.value);n.emit(bt,_e),Le(_e),e.visible=!1,n.emit("clear")},we=(Y,_e)=>{var ge;if(t.multiple){const xe=(t.modelValue||[]).slice(),ie=ye(xe,Y.value);ie>-1?xe.splice(ie,1):(t.multipleLimit<=0||xe.length<t.multipleLimit)&&xe.push(Y.value),n.emit(bt,xe),Le(xe),Y.created&&(e.query="",D(""),e.inputLength=20),t.filterable&&((ge=s.value)==null||ge.focus())}else n.emit(bt,Y.value),Le(Y.value),e.visible=!1;e.isSilentBlur=_e,ze(),!e.visible&&et(()=>{be(Y)})},ye=(Y=[],_e)=>{if(!kt(_e))return Y.indexOf(_e);const ge=t.valueKey;let xe=-1;return Y.some((ie,He)=>cn(ie,ge)===cn(_e,ge)?(xe=He,!0):!1),xe},ze=()=>{e.softFocus=!0;const Y=s.value||o.value;Y&&(Y==null||Y.focus())},be=Y=>{var _e,ge,xe,ie,He;const We=Array.isArray(Y)?Y[0]:Y;let rt=null;if(We!=null&&We.value){const tt=M.value.filter(vt=>vt.value===We.value);tt.length>0&&(rt=tt[0].$el)}if(a.value&&rt){const tt=(ie=(xe=(ge=(_e=a.value)==null?void 0:_e.popperRef)==null?void 0:ge.contentRef)==null?void 0:xe.querySelector)==null?void 0:ie.call(xe,`.${i.be("dropdown","wrap")}`);tt&&TM(tt,rt)}(He=c.value)==null||He.handleScroll()},U=Y=>{e.optionsCount++,e.filteredOptionsCount++,e.options.set(Y.value,Y),e.cachedOptions.set(Y.value,Y)},Q=(Y,_e)=>{e.options.get(Y)===_e&&(e.optionsCount--,e.filteredOptionsCount--,e.options.delete(Y))},de=Y=>{Y.code!==qe.backspace&&me(!1),e.inputLength=s.value.value.length*15+20,O()},me=Y=>{if(!Array.isArray(e.selected))return;const _e=e.selected[e.selected.length-1];if(!!_e)return Y===!0||Y===!1?(_e.hitState=Y,Y):(_e.hitState=!_e.hitState,_e.hitState)},Se=Y=>{const _e=Y.target.value;if(Y.type==="compositionend")e.isOnComposition=!1,et(()=>D(_e));else{const ge=_e[_e.length-1]||"";e.isOnComposition=!Ph(ge)}},Ae=()=>{et(()=>be(e.selected))},ee=Y=>{e.softFocus?e.softFocus=!1:((t.automaticDropdown||t.filterable)&&(t.filterable&&!e.visible&&(e.menuVisibleOnFocus=!0),e.visible=!0),n.emit("focus",Y))},le=()=>{var Y;e.visible=!1,(Y=o.value)==null||Y.blur()},ae=Y=>{et(()=>{e.isSilentBlur?e.isSilentBlur=!1:n.emit("blur",Y)}),e.softFocus=!1},z=Y=>{he(Y)},H=()=>{e.visible=!1},j=()=>{var Y;t.automaticDropdown||v.value||(e.menuVisibleOnFocus?e.menuVisibleOnFocus=!1:e.visible=!e.visible,e.visible&&((Y=s.value||o.value)==null||Y.focus()))},ce=()=>{e.visible?M.value[e.hoverIndex]&&we(M.value[e.hoverIndex],void 0):j()},ke=Y=>kt(Y.value)?cn(Y.value,t.valueKey):Y.value,Ve=k(()=>M.value.filter(Y=>Y.visible).every(Y=>Y.disabled)),Ne=Y=>{if(!e.visible){e.visible=!0;return}if(!(e.options.size===0||e.filteredOptionsCount===0)&&!e.isOnComposition&&!Ve.value){Y==="next"?(e.hoverIndex++,e.hoverIndex===e.options.size&&(e.hoverIndex=0)):Y==="prev"&&(e.hoverIndex--,e.hoverIndex<0&&(e.hoverIndex=e.options.size-1));const _e=M.value[e.hoverIndex];(_e.disabled===!0||_e.states.groupDisabled===!0||!_e.visible)&&Ne(Y),et(()=>be(d.value))}};return{optionsArray:M,selectSize:I,handleResize:K,debouncedOnInputChange:se,debouncedQueryChange:Te,deletePrevTag:q,deleteTag:re,deleteSelected:he,handleOptionSelect:we,scrollToOption:be,readonly:p,resetInputHeight:O,showClose:y,iconComponent:w,iconReverse:_,showNewOption:N,collapseTagSize:x,setSelected:A,managePlaceholder:B,selectDisabled:v,emptyText:S,toggleLastOptionHitState:me,resetInputState:de,handleComposition:Se,onOptionCreate:U,onOptionDestroy:Q,handleMenuEnter:Ae,handleFocus:ee,blur:le,handleBlur:ae,handleClearClick:z,handleClose:H,toggleMenu:j,selectOption:ce,getValueKey:ke,navigateOptions:Ne,dropMenuVisible:R,queryChange:f,groupQueryChange:h,reference:o,input:s,tooltipRef:a,tags:l,selectWrapper:u,scrollbar:c}},Bp="ElSelect",Hq=pe({name:Bp,componentName:Bp,components:{ElInput:ai,ElSelectMenu:Bq,ElOption:P0,ElTag:Fh,ElScrollbar:ko,ElTooltip:Cr,ElIcon:st},directives:{ClickOutside:ma},props:{name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:{type:String,validator:Hr},effect:{type:String,default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:{type:Boolean,default:!1},popperAppendToBody:{type:Boolean,default:void 0},teleported:qn.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:[String,Object],default:bo},fitInputWidth:{type:Boolean,default:!1},suffixIcon:{type:[String,Object],default:Dc},tagType:Ue(Ee({},S0.type),{default:"info"})},emits:[bt,zn,"remove-tag","clear","visible-change","focus","blur"],setup(t,e){const n=$e("select"),r=$e("input"),{t:i}=Gt(),o=zq(t),{optionsArray:s,selectSize:a,readonly:l,handleResize:u,collapseTagSize:c,debouncedOnInputChange:d,debouncedQueryChange:f,deletePrevTag:h,deleteTag:m,deleteSelected:g,handleOptionSelect:p,scrollToOption:v,setSelected:y,resetInputHeight:w,managePlaceholder:_,showClose:b,selectDisabled:S,iconComponent:M,iconReverse:T,showNewOption:N,emptyText:I,toggleLastOptionHitState:x,resetInputState:R,handleComposition:O,onOptionCreate:D,onOptionDestroy:B,handleMenuEnter:L,handleFocus:A,blur:P,handleBlur:W,handleClearClick:K,handleClose:te,toggleMenu:J,selectOption:se,getValueKey:Te,navigateOptions:Le,dropMenuVisible:q,reference:re,input:he,tooltipRef:we,tags:ye,selectWrapper:ze,scrollbar:be,queryChange:U,groupQueryChange:Q}=Vq(t,o,e),{focus:de}=AB(re),{inputWidth:me,selected:Se,inputLength:Ae,filteredOptionsCount:ee,visible:le,softFocus:ae,selectedLabel:z,hoverIndex:H,query:j,inputHovering:ce,currentPlaceholder:ke,menuVisibleOnFocus:Ve,isOnComposition:Ne,isSilentBlur:Y,options:_e,cachedOptions:ge,optionsCount:xe,prefixWidth:ie,tagInMultiLine:He}=Bn(o),We=k(()=>{const Qe=[n.b()],yt=C(a);return yt&&Qe.push(n.m(yt)),t.disabled&&Qe.push(n.m("disabled")),Qe}),rt=k(()=>({maxWidth:`${C(me)-32}px`,width:"100%"}));Ct(zh,Ot({props:t,options:_e,optionsArray:s,cachedOptions:ge,optionsCount:xe,filteredOptionsCount:ee,hoverIndex:H,handleOptionSelect:p,onOptionCreate:D,onOptionDestroy:B,selectWrapper:ze,selected:Se,setSelected:y,queryChange:U,groupQueryChange:Q})),ft(()=>{if(o.cachedPlaceHolder=ke.value=t.placeholder||i("el.select.placeholder"),t.multiple&&Array.isArray(t.modelValue)&&t.modelValue.length>0&&(ke.value=""),zl(ze.value,u),re.value&&re.value.$el){const Qe={large:36,default:32,small:28},yt=re.value.input;o.initialInputHeight=yt.getBoundingClientRect().height||Qe[a.value]}t.remote&&t.multiple&&w(),et(()=>{if(!!re.value&&(re.value.$el&&(me.value=re.value.$el.getBoundingClientRect().width),e.slots.prefix)){const Qe=re.value.$el.childNodes,yt=Array.from(Qe).find($t=>$t.tagName==="INPUT"),Kt=re.value.$el.querySelector(`.${r.e("prefix")}`);ie.value=Math.max(Kt.getBoundingClientRect().width+5,30),o.prefixWidth&&(yt.style.paddingLeft=`${Math.max(o.prefixWidth,30)}px`)}}),y()}),rn(()=>{Vl(ze.value,u)}),t.multiple&&!Array.isArray(t.modelValue)&&e.emit(bt,[]),!t.multiple&&Array.isArray(t.modelValue)&&e.emit(bt,"");const tt=k(()=>{var Qe,yt;return(yt=(Qe=we.value)==null?void 0:Qe.popperRef)==null?void 0:yt.contentRef}),{compatTeleported:vt}=Gl(Bp,"popperAppendToBody");return{tagInMultiLine:He,prefixWidth:ie,selectSize:a,readonly:l,handleResize:u,collapseTagSize:c,debouncedOnInputChange:d,debouncedQueryChange:f,deletePrevTag:h,deleteTag:m,deleteSelected:g,handleOptionSelect:p,scrollToOption:v,inputWidth:me,selected:Se,inputLength:Ae,filteredOptionsCount:ee,visible:le,softFocus:ae,selectedLabel:z,hoverIndex:H,query:j,inputHovering:ce,currentPlaceholder:ke,menuVisibleOnFocus:Ve,isOnComposition:Ne,isSilentBlur:Y,options:_e,resetInputHeight:w,managePlaceholder:_,showClose:b,selectDisabled:S,iconComponent:M,iconReverse:T,showNewOption:N,emptyText:I,toggleLastOptionHitState:x,resetInputState:R,handleComposition:O,handleMenuEnter:L,handleFocus:A,blur:P,handleBlur:W,handleClearClick:K,handleClose:te,toggleMenu:J,selectOption:se,getValueKey:Te,navigateOptions:Le,dropMenuVisible:q,focus:de,reference:re,input:he,tooltipRef:we,popperPaneRef:tt,tags:ye,selectWrapper:ze,scrollbar:be,wrapperKls:We,selectTagsStyle:rt,compatTeleported:vt,nsSelect:n}}}),Uq={class:"select-trigger"},Wq=["disabled","autocomplete"],Gq={style:{height:"100%",display:"flex","justify-content":"center","align-items":"center"}};function jq(t,e,n,r,i,o){const s=ve("el-tag"),a=ve("el-tooltip"),l=ve("el-icon"),u=ve("el-input"),c=ve("el-option"),d=ve("el-scrollbar"),f=ve("el-select-menu"),h=Vr("click-outside");return ut((E(),V("div",{ref:"selectWrapper",class:$(t.wrapperKls),onClick:e[24]||(e[24]=ot((...m)=>t.toggleMenu&&t.toggleMenu(...m),["stop"]))},[Z(a,{ref:"tooltipRef",visible:t.dropMenuVisible,"onUpdate:visible":e[23]||(e[23]=m=>t.dropMenuVisible=m),placement:"bottom-start",teleported:t.compatTeleported,"popper-class":[t.nsSelect.e("popper"),t.popperClass],"fallback-placements":["bottom-start","top-start","right","left"],effect:t.effect,pure:"",trigger:"click",transition:`${t.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:t.persistent,onShow:t.handleMenuEnter},{default:X(()=>[G("div",Uq,[t.multiple?(E(),V("div",{key:0,ref:"tags",class:$(t.nsSelect.e("tags")),style:Ye(t.selectTagsStyle)},[t.collapseTags&&t.selected.length?(E(),V("span",{key:0,class:$([t.nsSelect.b("tags-wrapper"),{"has-prefix":t.prefixWidth&&t.selected.length}])},[Z(s,{closable:!t.selectDisabled&&!t.selected[0].isDisabled,size:t.collapseTagSize,hit:t.selected[0].hitState,type:t.tagType,"disable-transitions":"",onClose:e[0]||(e[0]=m=>t.deleteTag(m,t.selected[0]))},{default:X(()=>[G("span",{class:$(t.nsSelect.e("tags-text")),style:Ye({maxWidth:t.inputWidth-123+"px"})},Pe(t.selected[0].currentLabel),7)]),_:1},8,["closable","size","hit","type"]),t.selected.length>1?(E(),fe(s,{key:0,closable:!1,size:t.collapseTagSize,type:t.tagType,"disable-transitions":""},{default:X(()=>[t.collapseTagsTooltip?(E(),fe(a,{key:0,disabled:t.dropMenuVisible,"fallback-placements":["bottom","top","right","left"],effect:t.effect,placement:"bottom",teleported:!1},{default:X(()=>[G("span",{class:$(t.nsSelect.e("tags-text"))},"+ "+Pe(t.selected.length-1),3)]),content:X(()=>[G("div",{class:$(t.nsSelect.e("collapse-tags"))},[(E(!0),V(Ze,null,xt(t.selected,(m,g)=>(E(),V("div",{key:g,class:$(t.nsSelect.e("collapse-tag"))},[(E(),fe(s,{key:t.getValueKey(m),class:"in-tooltip",closable:!t.selectDisabled&&!m.isDisabled,size:t.collapseTagSize,hit:m.hitState,type:t.tagType,"disable-transitions":"",style:{margin:"2px"},onClose:p=>t.deleteTag(p,m)},{default:X(()=>[G("span",{class:$(t.nsSelect.e("tags-text")),style:Ye({maxWidth:t.inputWidth-75+"px"})},Pe(m.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"]))],2))),128))],2)]),_:1},8,["disabled","effect"])):(E(),V("span",{key:1,class:$(t.nsSelect.e("tags-text"))},"+ "+Pe(t.selected.length-1),3))]),_:1},8,["size","type"])):ue("v-if",!0)],2)):ue("v-if",!0),ue(" <div> "),t.collapseTags?ue("v-if",!0):(E(),fe(En,{key:1,onAfterLeave:t.resetInputHeight},{default:X(()=>[G("span",{class:$([t.nsSelect.b("tags-wrapper"),{"has-prefix":t.prefixWidth&&t.selected.length}])},[(E(!0),V(Ze,null,xt(t.selected,m=>(E(),fe(s,{key:t.getValueKey(m),closable:!t.selectDisabled&&!m.isDisabled,size:t.collapseTagSize,hit:m.hitState,type:t.tagType,"disable-transitions":"",onClose:g=>t.deleteTag(g,m)},{default:X(()=>[G("span",{class:$(t.nsSelect.e("tags-text")),style:Ye({maxWidth:t.inputWidth-75+"px"})},Pe(m.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"]))),128))],2)]),_:1},8,["onAfterLeave"])),ue(" </div> "),t.filterable?ut((E(),V("input",{key:2,ref:"input","onUpdate:modelValue":e[1]||(e[1]=m=>t.query=m),type:"text",class:$([t.nsSelect.e("input"),t.nsSelect.is(t.selectSize)]),disabled:t.selectDisabled,autocomplete:t.autocomplete,style:Ye({marginLeft:t.prefixWidth&&!t.selected.length||t.tagInMultiLine?`${t.prefixWidth}px`:"",flexGrow:1,width:`${t.inputLength/(t.inputWidth-32)}%`,maxWidth:`${t.inputWidth-42}px`}),onFocus:e[2]||(e[2]=(...m)=>t.handleFocus&&t.handleFocus(...m)),onBlur:e[3]||(e[3]=(...m)=>t.handleBlur&&t.handleBlur(...m)),onKeyup:e[4]||(e[4]=(...m)=>t.managePlaceholder&&t.managePlaceholder(...m)),onKeydown:[e[5]||(e[5]=(...m)=>t.resetInputState&&t.resetInputState(...m)),e[6]||(e[6]=Mt(ot(m=>t.navigateOptions("next"),["prevent"]),["down"])),e[7]||(e[7]=Mt(ot(m=>t.navigateOptions("prev"),["prevent"]),["up"])),e[8]||(e[8]=Mt(ot(m=>t.visible=!1,["stop","prevent"]),["esc"])),e[9]||(e[9]=Mt(ot((...m)=>t.selectOption&&t.selectOption(...m),["stop","prevent"]),["enter"])),e[10]||(e[10]=Mt((...m)=>t.deletePrevTag&&t.deletePrevTag(...m),["delete"])),e[11]||(e[11]=Mt(m=>t.visible=!1,["tab"]))],onCompositionstart:e[12]||(e[12]=(...m)=>t.handleComposition&&t.handleComposition(...m)),onCompositionupdate:e[13]||(e[13]=(...m)=>t.handleComposition&&t.handleComposition(...m)),onCompositionend:e[14]||(e[14]=(...m)=>t.handleComposition&&t.handleComposition(...m)),onInput:e[15]||(e[15]=(...m)=>t.debouncedQueryChange&&t.debouncedQueryChange(...m))},null,46,Wq)),[[Iv,t.query]]):ue("v-if",!0)],6)):ue("v-if",!0),Z(u,{id:t.id,ref:"reference",modelValue:t.selectedLabel,"onUpdate:modelValue":e[16]||(e[16]=m=>t.selectedLabel=m),type:"text",placeholder:t.currentPlaceholder,name:t.name,autocomplete:t.autocomplete,size:t.selectSize,disabled:t.selectDisabled,readonly:t.readonly,"validate-event":!1,class:$([t.nsSelect.is("focus",t.visible)]),tabindex:t.multiple&&t.filterable?-1:void 0,onFocus:t.handleFocus,onBlur:t.handleBlur,onInput:t.debouncedOnInputChange,onPaste:t.debouncedOnInputChange,onCompositionstart:t.handleComposition,onCompositionupdate:t.handleComposition,onCompositionend:t.handleComposition,onKeydown:[e[17]||(e[17]=Mt(ot(m=>t.navigateOptions("next"),["stop","prevent"]),["down"])),e[18]||(e[18]=Mt(ot(m=>t.navigateOptions("prev"),["stop","prevent"]),["up"])),Mt(ot(t.selectOption,["stop","prevent"]),["enter"]),e[19]||(e[19]=Mt(ot(m=>t.visible=!1,["stop","prevent"]),["esc"])),e[20]||(e[20]=Mt(m=>t.visible=!1,["tab"]))],onMouseenter:e[21]||(e[21]=m=>t.inputHovering=!0),onMouseleave:e[22]||(e[22]=m=>t.inputHovering=!1)},is({suffix:X(()=>[t.iconComponent?ut((E(),fe(l,{key:0,class:$([t.nsSelect.e("caret"),t.nsSelect.e("icon"),t.iconReverse])},{default:X(()=>[(E(),fe(Pt(t.iconComponent)))]),_:1},8,["class"])),[[Lt,!t.showClose]]):ue("v-if",!0),t.showClose&&t.clearIcon?(E(),fe(l,{key:1,class:$([t.nsSelect.e("caret"),t.nsSelect.e("icon")]),onClick:t.handleClearClick},{default:X(()=>[(E(),fe(Pt(t.clearIcon)))]),_:1},8,["class","onClick"])):ue("v-if",!0)]),_:2},[t.$slots.prefix?{name:"prefix",fn:X(()=>[G("div",Gq,[Ce(t.$slots,"prefix")])])}:void 0]),1032,["id","modelValue","placeholder","name","autocomplete","size","disabled","readonly","class","tabindex","onFocus","onBlur","onInput","onPaste","onCompositionstart","onCompositionupdate","onCompositionend","onKeydown"])])]),content:X(()=>[Z(f,null,{default:X(()=>[ut(Z(d,{ref:"scrollbar",tag:"ul","wrap-class":t.nsSelect.be("dropdown","wrap"),"view-class":t.nsSelect.be("dropdown","list"),class:$([t.nsSelect.is("empty",!t.allowCreate&&Boolean(t.query)&&t.filteredOptionsCount===0)])},{default:X(()=>[t.showNewOption?(E(),fe(c,{key:0,value:t.query,created:!0},null,8,["value"])):ue("v-if",!0),Ce(t.$slots,"default")]),_:3},8,["wrap-class","view-class","class"]),[[Lt,t.options.size>0&&!t.loading]]),t.emptyText&&(!t.allowCreate||t.loading||t.allowCreate&&t.options.size===0)?(E(),V(Ze,{key:0},[t.$slots.empty?Ce(t.$slots,"empty",{key:0}):(E(),V("p",{key:1,class:$(t.nsSelect.be("dropdown","empty"))},Pe(t.emptyText),3))],2112)):ue("v-if",!0)]),_:3})]),_:3},8,["visible","teleported","popper-class","effect","transition","persistent","onShow"])],2)),[[h,t.handleClose,t.popperPaneRef]])}var Kq=De(Hq,[["render",jq],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select.vue"]]);const qq=pe({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:{type:Boolean,default:!1}},setup(t){const e=$e("select"),n=F(!0),r=wt(),i=F([]);Ct(Jx,Ot(Ee({},Bn(t))));const o=Ke(zh);ft(()=>{i.value=s(r.subTree)});const s=l=>{const u=[];return Array.isArray(l.children)&&l.children.forEach(c=>{var d;c.type&&c.type.name==="ElOption"&&c.component&&c.component.proxy?u.push(c.component.proxy):(d=c.children)!=null&&d.length&&u.push(...s(c))}),u},{groupQueryChange:a}=Wt(o);return Me(a,()=>{n.value=i.value.some(l=>l.visible===!0)}),{visible:n,ns:e}}});function Yq(t,e,n,r,i,o){return ut((E(),V("ul",{class:$(t.ns.be("group","wrap"))},[G("li",{class:$(t.ns.be("group","title"))},Pe(t.label),3),G("li",null,[G("ul",{class:$(t.ns.b("group"))},[Ce(t.$slots,"default")],2)])],2)),[[Lt,t.visible]])}var Qx=De(qq,[["render",Yq],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option-group.vue"]]);const oa=_t(Kq,{Option:P0,OptionGroup:Qx}),Yf=pn(P0),Xq=pn(Qx),L0=()=>Ke(GM,{}),Zq=Je({pageSize:{type:Number,required:!0},pageSizes:{type:Fe(Array),default:()=>fn([10,20,30,40,50,100])},popperClass:{type:String,default:""},disabled:Boolean,size:{type:String,default:"default"}}),Jq=pe({name:"ElPaginationSizes",components:{ElSelect:oa,ElOption:Yf},props:Zq,emits:["page-size-change"],setup(t,{emit:e}){const{t:n}=Gt(),r=$e("pagination"),i=L0(),o=F(t.pageSize);Me(()=>t.pageSizes,(l,u)=>{if(!Fr(l,u)&&Array.isArray(l)){const c=l.includes(t.pageSize)?t.pageSize:t.pageSizes[0];e("page-size-change",c)}}),Me(()=>t.pageSize,l=>{o.value=l});const s=k(()=>t.pageSizes);function a(l){var u;l!==o.value&&(o.value=l,(u=i.handleSizeChange)==null||u.call(i,Number(l)))}return{ns:r,innerPagesizes:s,innerPageSize:o,t:n,handleChange:a}}});function Qq(t,e,n,r,i,o){const s=ve("el-option"),a=ve("el-select");return E(),V("span",{class:$(t.ns.e("sizes"))},[Z(a,{"model-value":t.innerPageSize,disabled:t.disabled,"popper-class":t.popperClass,size:t.size,onChange:t.handleChange},{default:X(()=>[(E(!0),V(Ze,null,xt(t.innerPagesizes,l=>(E(),fe(s,{key:l,value:l,label:l+t.t("el.pagination.pagesize")},null,8,["value","label"]))),128))]),_:1},8,["model-value","disabled","popper-class","size","onChange"])],2)}var eY=De(Jq,[["render",Qq],["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/sizes.vue"]]);const tY=pe({name:"ElPaginationJumper",components:{ElInput:ai},setup(){const{t}=Gt(),e=$e("pagination"),{pageCount:n,disabled:r,currentPage:i,changeEvent:o}=L0(),s=F(),a=k(()=>{var c;return(c=s.value)!=null?c:i==null?void 0:i.value});function l(c){s.value=+c}function u(c){c=Math.trunc(+c),o==null||o(+c),s.value=void 0}return{ns:e,pageCount:n,disabled:r,innerValue:a,t,handleInput:l,handleChange:u}}}),nY=["disabled"];function rY(t,e,n,r,i,o){const s=ve("el-input");return E(),V("span",{class:$(t.ns.e("jump")),disabled:t.disabled},[lt(Pe(t.t("el.pagination.goto"))+" ",1),Z(s,{size:"small",class:$([t.ns.e("editor"),t.ns.is("in-pagination")]),min:1,max:t.pageCount,disabled:t.disabled,"model-value":t.innerValue,type:"number","onUpdate:modelValue":t.handleInput,onChange:t.handleChange},null,8,["class","max","disabled","model-value","onUpdate:modelValue","onChange"]),lt(" "+Pe(t.t("el.pagination.pageClassifier")),1)],10,nY)}var iY=De(tY,[["render",rY],["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/jumper.vue"]]);const oY={total:{type:Number,default:1e3}},sY=pe({name:"ElPaginationTotal",props:oY,setup(){const{t}=Gt(),e=$e("pagination"),{disabled:n}=L0();return{t,ns:e,disabled:n}}}),aY=["disabled"];function lY(t,e,n,r,i,o){return E(),V("span",{class:$(t.ns.e("total")),disabled:t.disabled},Pe(t.t("el.pagination.total",{total:t.total})),11,aY)}var uY=De(sY,[["render",lY],["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/total.vue"]]);const cY={currentPage:{type:Number,default:1},pageCount:{type:Number,required:!0},pagerCount:{type:Number,default:7},disabled:Boolean},dY=pe({name:"ElPaginationPager",components:{DArrowLeft:Th,DArrowRight:Ah,MoreFilled:BO},props:cY,emits:["change"],setup(t,{emit:e}){const n=$e("pager"),r=$e("icon"),i=F(!1),o=F(!1),s=F(!1),a=F(!1),l=k(()=>{const f=t.pagerCount,h=(f-1)/2,m=Number(t.currentPage),g=Number(t.pageCount);let p=!1,v=!1;g>f&&(m>f-h&&(p=!0),m<g-h&&(v=!0));const y=[];if(p&&!v){const w=g-(f-2);for(let _=w;_<g;_++)y.push(_)}else if(!p&&v)for(let w=2;w<f;w++)y.push(w);else if(p&&v){const w=Math.floor(f/2)-1;for(let _=m-w;_<=m+w;_++)y.push(_)}else for(let w=2;w<g;w++)y.push(w);return y});Xr(()=>{const f=(t.pagerCount-1)/2;i.value=!1,o.value=!1,t.pageCount>t.pagerCount&&(t.currentPage>t.pagerCount-f&&(i.value=!0),t.currentPage<t.pageCount-f&&(o.value=!0))});function u(f){t.disabled||(f==="left"?s.value=!0:a.value=!0)}function c(f){const h=f.target;if(h.tagName.toLowerCase()==="li"&&Array.from(h.classList).includes("number")){const m=Number(h.textContent);m!==t.currentPage&&e("change",m)}}function d(f){const h=f.target;if(h.tagName.toLowerCase()==="ul"||t.disabled)return;let m=Number(h.textContent);const g=t.pageCount,p=t.currentPage,v=t.pagerCount-2;h.className.includes("more")&&(h.className.includes("quickprev")?m=p-v:h.className.includes("quicknext")&&(m=p+v)),Number.isNaN(+m)||(m<1&&(m=1),m>g&&(m=g)),m!==p&&e("change",m)}return{showPrevMore:i,showNextMore:o,quickPrevHover:s,quickNextHover:a,pagers:l,nsPager:n,nsIcon:r,onMouseenter:u,onPagerClick:d,onEnter:c}}}),fY=["aria-current"],hY=["aria-current"],pY=["aria-current"];function mY(t,e,n,r,i,o){const s=ve("d-arrow-left"),a=ve("more-filled"),l=ve("d-arrow-right");return E(),V("ul",{class:$(t.nsPager.b()),onClick:e[4]||(e[4]=(...u)=>t.onPagerClick&&t.onPagerClick(...u)),onKeyup:e[5]||(e[5]=Mt((...u)=>t.onEnter&&t.onEnter(...u),["enter"]))},[t.pageCount>0?(E(),V("li",{key:0,class:$([[t.nsPager.is("active",t.currentPage===1),t.nsPager.is("disabled",t.disabled)],"number"]),"aria-current":t.currentPage===1,tabindex:"0"}," 1 ",10,fY)):ue("v-if",!0),t.showPrevMore?(E(),V("li",{key:1,class:$(["more","btn-quickprev",t.nsIcon.b(),t.nsPager.is("disabled",t.disabled)]),onMouseenter:e[0]||(e[0]=u=>t.onMouseenter("left")),onMouseleave:e[1]||(e[1]=u=>t.quickPrevHover=!1)},[t.quickPrevHover?(E(),fe(s,{key:0})):(E(),fe(a,{key:1}))],34)):ue("v-if",!0),(E(!0),V(Ze,null,xt(t.pagers,u=>(E(),V("li",{key:u,class:$([[t.nsPager.is("active",t.currentPage===u),t.nsPager.is("disabled",t.disabled)],"number"]),"aria-current":t.currentPage===u,tabindex:"0"},Pe(u),11,hY))),128)),t.showNextMore?(E(),V("li",{key:2,class:$(["more","btn-quicknext",t.nsIcon.b(),t.nsPager.is("disabled",t.disabled)]),onMouseenter:e[2]||(e[2]=u=>t.onMouseenter("right")),onMouseleave:e[3]||(e[3]=u=>t.quickNextHover=!1)},[t.quickNextHover?(E(),fe(l,{key:0})):(E(),fe(a,{key:1}))],34)):ue("v-if",!0),t.pageCount>1?(E(),V("li",{key:3,class:$([[t.nsPager.is("active",t.currentPage===t.pageCount),t.nsPager.is("disabled",t.disabled)],"number"]),"aria-current":t.currentPage===t.pageCount,tabindex:"0"},Pe(t.pageCount),11,pY)):ue("v-if",!0)],34)}var gY=De(dY,[["render",mY],["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/pager.vue"]]);const sr=t=>typeof t!="number",vY=Je({total:Number,pageSize:Number,defaultPageSize:Number,currentPage:Number,defaultCurrentPage:Number,pageCount:Number,pagerCount:{type:Number,validator:t=>typeof t=="number"&&Math.trunc(t)===t&&t>4&&t<22&&t%2===1,default:7},layout:{type:String,default:["prev","pager","next","jumper","->","total"].join(", ")},pageSizes:{type:Fe(Array),default:()=>fn([10,20,30,40,50,100])},popperClass:{type:String,default:""},prevText:{type:String,default:""},nextText:{type:String,default:""},small:Boolean,background:Boolean,disabled:Boolean,hideOnSinglePage:Boolean}),yY={"update:current-page":t=>typeof t=="number","update:page-size":t=>typeof t=="number","size-change":t=>typeof t=="number","current-change":t=>typeof t=="number","prev-click":t=>typeof t=="number","next-click":t=>typeof t=="number"},rw="ElPagination";var bY=pe({name:rw,props:vY,emits:yY,setup(t,{emit:e,slots:n}){const{t:r}=Gt(),i=$e("pagination"),o=wt().vnode.props||{},s="onUpdate:currentPage"in o||"onUpdate:current-page"in o||"onCurrentChange"in o,a="onUpdate:pageSize"in o||"onUpdate:page-size"in o||"onSizeChange"in o,l=k(()=>{if(sr(t.total)&&sr(t.pageCount)||!sr(t.currentPage)&&!s)return!1;if(t.layout.includes("sizes")){if(sr(t.pageCount)){if(!sr(t.total)&&!sr(t.pageSize)&&!a)return!1}else if(!a)return!1}return!0}),u=F(sr(t.defaultPageSize)?10:t.defaultPageSize),c=F(sr(t.defaultCurrentPage)?1:t.defaultCurrentPage),d=k({get(){return sr(t.pageSize)?u.value:t.pageSize},set(w){sr(t.pageSize)&&(u.value=w),a&&(e("update:page-size",w),e("size-change",w))}}),f=k(()=>{let w=0;return sr(t.pageCount)?sr(t.total)||(w=Math.max(1,Math.ceil(t.total/d.value))):w=t.pageCount,w}),h=k({get(){return sr(t.currentPage)?c.value:t.currentPage},set(w){let _=w;w<1?_=1:w>f.value&&(_=f.value),sr(t.currentPage)&&(c.value=_),s&&(e("update:current-page",_),e("current-change",_))}});Me(f,w=>{h.value>w&&(h.value=w)});function m(w){h.value=w}function g(w){d.value=w;const _=f.value;h.value>_&&(h.value=_)}function p(){t.disabled||(h.value-=1,e("prev-click",h.value))}function v(){t.disabled||(h.value+=1,e("next-click",h.value))}function y(w,_){w&&(w.props||(w.props={}),w.props.class=[w.props.class,_].join(" "))}return Ct(GM,{pageCount:f,disabled:k(()=>t.disabled),currentPage:h,changeEvent:m,handleSizeChange:g}),()=>{var w,_;if(!l.value)return r("el.pagination.deprecationWarning"),null;if(!t.layout||t.hideOnSinglePage&&f.value<=1)return null;const b=[],S=[],M=Xe("div",{class:i.e("rightwrapper")},S),T={prev:Xe(Tq,{disabled:t.disabled,currentPage:h.value,prevText:t.prevText,onClick:p}),jumper:Xe(iY),pager:Xe(gY,{currentPage:h.value,pageCount:f.value,pagerCount:t.pagerCount,onChange:m,disabled:t.disabled}),next:Xe(Iq,{disabled:t.disabled,currentPage:h.value,pageCount:f.value,nextText:t.nextText,onClick:v}),sizes:Xe(eY,{pageSize:d.value,pageSizes:t.pageSizes,popperClass:t.popperClass,disabled:t.disabled,size:t.small?"small":"default"}),slot:(_=(w=n==null?void 0:n.default)==null?void 0:w.call(n))!=null?_:null,total:Xe(uY,{total:sr(t.total)?0:t.total})},N=t.layout.split(",").map(x=>x.trim());let I=!1;return N.forEach(x=>{if(x==="->"){I=!0;return}I?S.push(T[x]):b.push(T[x])}),y(b[0],i.is("first")),y(b[b.length-1],i.is("last")),I&&S.length>0&&(y(S[0],i.is("first")),y(S[S.length-1],i.is("last")),b.push(M)),Xe("div",{role:"pagination","aria-label":"pagination",class:[i.b(),i.is("background",t.background),{[i.m("small")]:t.small}]},b)}}});const wY=_t(bY),_Y=Je({title:{type:String},confirmButtonText:{type:String},cancelButtonText:{type:String},confirmButtonType:{type:String,values:hg,default:"primary"},cancelButtonType:{type:String,values:hg,default:"text"},icon:{type:tr,default:lF},iconColor:{type:String,default:"#f90"},hideIcon:{type:Boolean,default:!1},hideAfter:{type:Number,default:200},onConfirm:{type:Fe(Function)},onCancel:{type:Fe(Function)},teleported:qn.teleported,persistent:qn.persistent}),iw="ElPopconfirm",SY=pe({name:iw,components:{ElButton:Jr,ElTooltip:Cr,ElIcon:st},props:_Y,setup(t){const{compatTeleported:e}=Gl(iw,"appendToBody"),{t:n}=Gt(),r=$e("popconfirm"),i=F(),o=()=>{var d,f;(f=(d=C(i))==null?void 0:d.onClose)==null||f.call(d)},s=()=>{o()},a=d=>{var f;(f=t.onConfirm)==null||f.call(t,d),s()},l=d=>{var f;(f=t.onCancel)==null||f.call(t,d),s()},u=k(()=>t.confirmButtonText||n("el.popconfirm.confirmButtonText")),c=k(()=>t.cancelButtonText||n("el.popconfirm.cancelButtonText"));return{finalConfirmButtonText:u,finalCancelButtonText:c,tooltipRef:i,ns:r,compatTeleported:e,confirm:a,cancel:l}}});function CY(t,e,n,r,i,o){const s=ve("el-icon"),a=ve("el-button"),l=ve("el-tooltip");return E(),fe(l,Qt({ref:"tooltipRef"},t.$attrs,{trigger:"click",effect:"light","popper-class":`${t.ns.namespace.value}-popover`,teleported:t.compatTeleported,"fallback-placements":["bottom","top","right","left"],"hide-after":t.hideAfter,persistent:t.persistent}),{content:X(()=>[G("div",{class:$(t.ns.b())},[G("div",{class:$(t.ns.e("main"))},[!t.hideIcon&&t.icon?(E(),fe(s,{key:0,class:$(t.ns.e("icon")),style:Ye({color:t.iconColor})},{default:X(()=>[(E(),fe(Pt(t.icon)))]),_:1},8,["class","style"])):ue("v-if",!0),lt(" "+Pe(t.title),1)],2),G("div",{class:$(t.ns.e("action"))},[Z(a,{size:"small",type:t.cancelButtonType,onClick:t.cancel},{default:X(()=>[lt(Pe(t.finalCancelButtonText),1)]),_:1},8,["type","onClick"]),Z(a,{size:"small",type:t.confirmButtonType,onClick:t.confirm},{default:X(()=>[lt(Pe(t.finalConfirmButtonText),1)]),_:1},8,["type","onClick"])],2)],2)]),default:X(()=>[t.$slots.reference?Ce(t.$slots,"reference",{key:0}):ue("v-if",!0)]),_:3},16,["popper-class","teleported","hide-after","persistent"])}var MY=De(SY,[["render",CY],["__file","/home/runner/work/element-plus/element-plus/packages/components/popconfirm/src/popconfirm.vue"]]);const xY=_t(MY),EY=Je({trigger:fc.trigger,placement:pf.placement,disabled:fc.disabled,visible:qn.visible,transition:qn.transition,popperOptions:pf.popperOptions,tabindex:pf.tabindex,appendToBody:{type:Boolean,default:void 0},content:qn.content,popperStyle:qn.popperStyle,popperClass:qn.popperClass,enterable:Ue(Ee({},qn.enterable),{default:!0}),effect:Ue(Ee({},qn.effect),{default:"light"}),teleported:qn.teleported,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0}}),TY=["update:visible","before-enter","before-leave","after-enter","after-leave"],ow="ElPopover",AY=pe({name:ow,components:{ElTooltip:Cr},props:EY,emits:TY,setup(t,{emit:e}){const n=$e("popover"),r=F(null),i=k(()=>{var g;return(g=C(r))==null?void 0:g.popperRef}),o=k(()=>pt(t.width)?t.width:`${t.width}px`),s=k(()=>[{width:o.value},t.popperStyle]),a=k(()=>[n.b(),t.popperClass,{[n.m("plain")]:!!t.content}]),l=k(()=>t.transition==="el-fade-in-linear"),{compatTeleported:u}=Gl(ow,"appendToBody");return{compatTeleported:u,ns:n,kls:a,gpuAcceleration:l,style:s,tooltipRef:r,popperRef:i,hide:()=>{var g;(g=r.value)==null||g.hide()},beforeEnter:()=>{e("before-enter")},beforeLeave:()=>{e("before-leave")},afterEnter:()=>{e("after-enter")},afterLeave:()=>{e("after-leave")}}}});function kY(t,e,n,r,i,o){const s=ve("el-tooltip");return E(),fe(s,Qt({ref:"tooltipRef"},t.$attrs,{trigger:t.trigger,placement:t.placement,disabled:t.disabled,visible:t.visible,transition:t.transition,"popper-options":t.popperOptions,tabindex:t.tabindex,"append-to-body":t.appendToBody,content:t.content,offset:t.offset,"show-after":t.showAfter,"hide-after":t.hideAfter,"auto-close":t.autoClose,"show-arrow":t.showArrow,"aria-label":t.title,effect:t.effect,enterable:t.enterable,"popper-class":t.kls,"popper-style":t.style,teleported:t.compatTeleported,persistent:t.persistent,"gpu-acceleration":t.gpuAcceleration,onBeforeShow:t.beforeEnter,onBeforeHide:t.beforeLeave,onShow:t.afterEnter,onHide:t.afterLeave}),{content:X(()=>[t.title?(E(),V("div",{key:0,class:$(t.ns.e("title")),role:"title"},Pe(t.title),3)):ue("v-if",!0),Ce(t.$slots,"default",{},()=>[lt(Pe(t.content),1)])]),default:X(()=>[t.$slots.reference?Ce(t.$slots,"reference",{key:0}):ue("v-if",!0)]),_:3},16,["trigger","placement","disabled","visible","transition","popper-options","tabindex","append-to-body","content","offset","show-after","hide-after","auto-close","show-arrow","aria-label","effect","enterable","popper-class","popper-style","teleported","persistent","gpu-acceleration","onBeforeShow","onBeforeHide","onShow","onHide"])}var Hu=De(AY,[["render",kY],["__file","/home/runner/work/element-plus/element-plus/packages/components/popover/src/index.vue"]]);const sw=(t,e)=>{const n=e.arg||e.value,r=n==null?void 0:n.popperRef;r&&(r.triggerRef=t)};var Rg={mounted(t,e){sw(t,e)},updated(t,e){sw(t,e)}};const PY="popover";Hu.install=t=>{t.component(Hu.name,Hu)};Rg.install=t=>{t.directive(PY,Rg)};const eE=Rg;Hu.directive=eE;const LY=Hu,RY=LY,IY=eE,DY=Je({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:t=>t>=0&&t<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:{type:Boolean,default:!1},duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:Fe(String),default:"round"},textInside:{type:Boolean,default:!1},width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:Fe([String,Array,Function]),default:""},format:{type:Fe(Function),default:t=>`${t}%`}}),$Y=pe({name:"ElProgress",components:{ElIcon:st,CircleCheck:Gf,CircleClose:bo,Check:bl,Close:ti,WarningFilled:uc},props:DY,setup(t){const e=$e("progress"),n=k(()=>({width:`${t.percentage}%`,animationDuration:`${t.duration}s`,backgroundColor:g(t.percentage)})),r=k(()=>(t.strokeWidth/t.width*100).toFixed(1)),i=k(()=>t.type==="circle"||t.type==="dashboard"?Number.parseInt(`${50-Number.parseFloat(r.value)/2}`,10):0),o=k(()=>{const v=i.value,y=t.type==="dashboard";return`
          M 50 50
          m 0 ${y?"":"-"}${v}
          a ${v} ${v} 0 1 1 0 ${y?"-":""}${v*2}
          a ${v} ${v} 0 1 1 0 ${y?"":"-"}${v*2}
          `}),s=k(()=>2*Math.PI*i.value),a=k(()=>t.type==="dashboard"?.75:1),l=k(()=>`${-1*s.value*(1-a.value)/2}px`),u=k(()=>({strokeDasharray:`${s.value*a.value}px, ${s.value}px`,strokeDashoffset:l.value})),c=k(()=>({strokeDasharray:`${s.value*a.value*(t.percentage/100)}px, ${s.value}px`,strokeDashoffset:l.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease"})),d=k(()=>{let v;if(t.color)v=g(t.percentage);else switch(t.status){case"success":v="#13ce66";break;case"exception":v="#ff4949";break;case"warning":v="#e6a23c";break;default:v="#20a0ff"}return v}),f=k(()=>t.status==="warning"?uc:t.type==="line"?t.status==="success"?Gf:bo:t.status==="success"?bl:ti),h=k(()=>t.type==="line"?12+t.strokeWidth*.4:t.width*.111111+2),m=k(()=>t.format(t.percentage)),g=v=>{var y;const{color:w}=t;if(typeof w=="function")return w(v);if(typeof w=="string")return w;{const _=100/w.length,S=w.map((M,T)=>typeof M=="string"?{color:M,percentage:(T+1)*_}:M).sort((M,T)=>M.percentage-T.percentage);for(const M of S)if(M.percentage>v)return M.color;return(y=S[S.length-1])==null?void 0:y.color}},p=k(()=>({percentage:t.percentage}));return{ns:e,barStyle:n,relativeStrokeWidth:r,radius:i,trackPath:o,perimeter:s,rate:a,strokeDashoffset:l,trailPathStyle:u,circlePathStyle:c,stroke:d,statusIcon:f,progressTextSize:h,content:m,slotData:p}}}),NY=["aria-valuenow"],OY={viewBox:"0 0 100 100"},FY=["d","stroke-width"],BY=["d","stroke","stroke-linecap","stroke-width"],zY={key:0};function VY(t,e,n,r,i,o){const s=ve("el-icon");return E(),V("div",{class:$([t.ns.b(),t.ns.m(t.type),t.ns.is(t.status),{[t.ns.m("without-text")]:!t.showText,[t.ns.m("text-inside")]:t.textInside}]),role:"progressbar","aria-valuenow":t.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[t.type==="line"?(E(),V("div",{key:0,class:$(t.ns.b("bar"))},[G("div",{class:$(t.ns.be("bar","outer")),style:Ye({height:`${t.strokeWidth}px`})},[G("div",{class:$([t.ns.be("bar","inner"),{[t.ns.bem("bar","inner","indeterminate")]:t.indeterminate}]),style:Ye(t.barStyle)},[(t.showText||t.$slots.default)&&t.textInside?(E(),V("div",{key:0,class:$(t.ns.be("bar","innerText"))},[Ce(t.$slots,"default",bi(rs(t.slotData)),()=>[G("span",null,Pe(t.content),1)])],2)):ue("v-if",!0)],6)],6)],2)):(E(),V("div",{key:1,class:$(t.ns.b("circle")),style:Ye({height:`${t.width}px`,width:`${t.width}px`})},[(E(),V("svg",OY,[G("path",{class:$(t.ns.be("circle","track")),d:t.trackPath,stroke:"#e5e9f2","stroke-width":t.relativeStrokeWidth,fill:"none",style:Ye(t.trailPathStyle)},null,14,FY),G("path",{class:$(t.ns.be("circle","path")),d:t.trackPath,stroke:t.stroke,fill:"none","stroke-linecap":t.strokeLinecap,"stroke-width":t.percentage?t.relativeStrokeWidth:0,style:Ye(t.circlePathStyle)},null,14,BY)]))],6)),(t.showText||t.$slots.default)&&!t.textInside?(E(),V("div",{key:2,class:$(t.ns.e("text")),style:Ye({fontSize:`${t.progressTextSize}px`})},[Ce(t.$slots,"default",bi(rs(t.slotData)),()=>[t.status?(E(),fe(s,{key:1},{default:X(()=>[(E(),fe(Pt(t.statusIcon)))]),_:1})):(E(),V("span",zY,Pe(t.content),1))])],6)):ue("v-if",!0)],10,NY)}var HY=De($Y,[["render",VY],["__file","/home/runner/work/element-plus/element-plus/packages/components/progress/src/progress.vue"]]);const tE=_t(HY),UY=Je({modelValue:{type:Number,default:0},lowThreshold:{type:Number,default:2},highThreshold:{type:Number,default:4},max:{type:Number,default:5},colors:{type:Fe([Array,Object]),default:()=>fn(["","",""])},voidColor:{type:String,default:""},disabledVoidColor:{type:String,default:""},icons:{type:Fe([Array,Object]),default:()=>[td,td,td]},voidIcon:{type:tr,default:()=>UF},disabledVoidIcon:{type:tr,default:()=>td},disabled:{type:Boolean,default:!1},allowHalf:{type:Boolean,default:!1},showText:{type:Boolean,default:!1},showScore:{type:Boolean,default:!1},textColor:{type:String,default:""},texts:{type:Fe(Array),default:()=>fn(["Extremely bad","Disappointed","Fair","Satisfied","Surprise"])},scoreTemplate:{type:String,default:"{value}"},size:{type:String,validator:Hr}}),WY={change:t=>typeof t=="number",[bt]:t=>typeof t=="number"},GY=["aria-valuenow","aria-valuetext","aria-valuemax"],jY=["onMousemove","onClick"],KY={name:"ElRate"},qY=pe(Ue(Ee({},KY),{props:UY,emits:WY,setup(t,{expose:e,emit:n}){const r=t;function i(O,D){const B=P=>kt(P),L=Object.keys(D).map(P=>+P).filter(P=>{const W=D[P];return(B(W)?W.excluded:!1)?O<P:O<=P}).sort((P,W)=>P-W),A=D[L[0]];return B(A)&&A.value||A}const o=Ke(Wr,void 0),s=Pn(),a=$e("rate"),l=F(r.modelValue),u=F(-1),c=F(!0),d=k(()=>[a.b(),a.m(s.value)]),f=k(()=>r.disabled||(o==null?void 0:o.disabled)),h=k(()=>({"--el-rate-void-color":r.voidColor,"--el-rate-disabled-void-color":r.disabledVoidColor,"--el-rate-fill-color":v.value})),m=k(()=>{let O="";return r.showScore?O=r.scoreTemplate.replace(/\{\s*value\s*\}/,f.value?`${r.modelValue}`:`${l.value}`):r.showText&&(O=r.texts[Math.ceil(l.value)-1]),O}),g=k(()=>r.modelValue*100-Math.floor(r.modelValue)*100),p=k(()=>ct(r.colors)?{[r.lowThreshold]:r.colors[0],[r.highThreshold]:{value:r.colors[1],excluded:!0},[r.max]:r.colors[2]}:r.colors),v=k(()=>{const O=i(l.value,p.value);return kt(O)?"":O}),y=k(()=>{let O="";return f.value?O=`${g.value}%`:r.allowHalf&&(O="50%"),{color:v.value,width:O}}),w=k(()=>ct(r.icons)?{[r.lowThreshold]:r.icons[0],[r.highThreshold]:{value:r.icons[1],excluded:!0},[r.max]:r.icons[2]}:r.icons),_=k(()=>i(r.modelValue,w.value)),b=k(()=>f.value?r.disabledVoidIcon:r.voidIcon),S=k(()=>i(l.value,w.value)),M=k(()=>{const O=Array.from({length:r.max}),D=l.value;return O.fill(S.value,0,D),O.fill(b.value,D,r.max),O});function T(O){const D=f.value&&g.value>0&&O-1<r.modelValue&&O>r.modelValue,B=r.allowHalf&&c.value&&O-.5<=l.value&&O>l.value;return D||B}function N(O){f.value||(r.allowHalf&&c.value?(n(bt,l.value),r.modelValue!==l.value&&n("change",l.value)):(n(bt,O),r.modelValue!==O&&n("change",O)))}function I(O){if(f.value)return;let D=l.value;const B=O.code;return B===qe.up||B===qe.right?(r.allowHalf?D+=.5:D+=1,O.stopPropagation(),O.preventDefault()):(B===qe.left||B===qe.down)&&(r.allowHalf?D-=.5:D-=1,O.stopPropagation(),O.preventDefault()),D=D<0?0:D,D=D>r.max?r.max:D,n(bt,D),n("change",D),D}function x(O,D){if(!f.value){if(r.allowHalf){let B=D.target;_i(B,a.e("item"))&&(B=B.querySelector(`.${a.e("icon")}`)),(B.clientWidth===0||_i(B,a.e("decimal")))&&(B=B.parentNode),c.value=D.offsetX*2<=B.clientWidth,l.value=c.value?O-.5:O}else l.value=O;u.value=O}}function R(){f.value||(r.allowHalf&&(c.value=r.modelValue!==Math.floor(r.modelValue)),l.value=r.modelValue,u.value=-1)}return Me(()=>r.modelValue,O=>{l.value=O,c.value=r.modelValue!==Math.floor(r.modelValue)}),r.modelValue||n(bt,0),e({setCurrentValue:x,resetCurrentValue:R}),(O,D)=>(E(),V("div",{class:$([C(d),C(a).is("disabled",C(f))]),role:"slider","aria-valuenow":l.value,"aria-valuetext":C(m),"aria-valuemin":"0","aria-valuemax":O.max,tabindex:"0",style:Ye(C(h)),onKeydown:I},[(E(!0),V(Ze,null,xt(O.max,(B,L)=>(E(),V("span",{key:L,class:$(C(a).e("item")),onMousemove:A=>x(B,A),onMouseleave:R,onClick:A=>N(B)},[Z(C(st),{class:$([C(a).e("icon"),{hover:u.value===B},C(a).is("active",B<=l.value)])},{default:X(()=>[T(B)?ue("v-if",!0):(E(),fe(Pt(C(M)[B-1]),{key:0})),T(B)?(E(),fe(C(st),{key:1,style:Ye(C(y)),class:$([C(a).e("icon"),C(a).e("decimal")])},{default:X(()=>[(E(),fe(Pt(C(_))))]),_:1},8,["style","class"])):ue("v-if",!0)]),_:2},1032,["class"])],42,jY))),128)),O.showText||O.showScore?(E(),V("span",{key:0,class:$(C(a).e("text"))},Pe(C(m)),3)):ue("v-if",!0)],46,GY))}}));var YY=De(qY,[["__file","/home/runner/work/element-plus/element-plus/packages/components/rate/src/rate.vue"]]);const XY=_t(YY),Za={success:"icon-success",warning:"icon-warning",error:"icon-error",info:"icon-info"},aw={[Za.success]:a4,[Za.warning]:uc,[Za.error]:Jv,[Za.info]:Qv},ZY=Je({title:{type:String,default:""},subTitle:{type:String,default:""},icon:{values:["success","warning","info","error"],default:"info"}}),lw="ElResult",JY=pe({name:lw,props:ZY,setup(t,{slots:e}){const n=$e("result");Nc({scope:lw,type:"Slot",from:"subTitle",replacement:"sub-title",version:"2.1.3",ref:"https://github.com/element-plus/element-plus/pull/6636/"},k(()=>!!e.subTitle));const r=k(()=>{const i=t.icon,o=i&&Za[i]?Za[i]:"icon-info",s=aw[o]||aw["icon-info"];return{class:o,component:s}});return{ns:n,resultIcon:r}}});function QY(t,e,n,r,i,o){return E(),V("div",{class:$(t.ns.b())},[G("div",{class:$(t.ns.e("icon"))},[Ce(t.$slots,"icon",{},()=>[t.resultIcon.component?(E(),fe(Pt(t.resultIcon.component),{key:0,class:$(t.resultIcon.class)},null,8,["class"])):ue("v-if",!0)])],2),t.title||t.$slots.title?(E(),V("div",{key:0,class:$(t.ns.e("title"))},[Ce(t.$slots,"title",{},()=>[G("p",null,Pe(t.title),1)])],2)):ue("v-if",!0),t.subTitle||t.$slots["sub-title"]?(E(),V("div",{key:1,class:$(t.ns.e("subtitle"))},[Ce(t.$slots,"sub-title",{},()=>[G("p",null,Pe(t.subTitle),1)])],2)):ue("v-if",!0),t.$slots.extra?(E(),V("div",{key:2,class:$(t.ns.e("extra"))},[Ce(t.$slots,"extra")],2)):ue("v-if",!0)],2)}var eX=De(JY,[["render",QY],["__file","/home/runner/work/element-plus/element-plus/packages/components/result/src/result.vue"]]);const tX=_t(eX),nX=Je({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:["start","center","end","space-around","space-between","space-evenly"],default:"start"},align:{type:String,values:["top","middle","bottom"],default:"top"}}),rX=pe({name:"ElRow",props:nX,setup(t,{slots:e}){const n=$e("row"),r=k(()=>t.gutter);Ct(KM,{gutter:r});const i=k(()=>{const o={marginLeft:"",marginRight:""};return t.gutter&&(o.marginLeft=`-${t.gutter/2}px`,o.marginRight=o.marginLeft),o});return()=>Z(t.tag,{class:[n.b(),n.is(`justify-${t.justify}`,t.justify!=="start"),n.is(`align-${t.align}`,t.align!=="top")],style:i.value},{default:()=>{var o;return[(o=e.default)==null?void 0:o.call(e)]}})}}),iX=_t(rX);var uw=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function oX(t,e){return!!(t===e||uw(t)&&uw(e))}function sX(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!oX(t[n],e[n]))return!1;return!0}function aX(t,e){e===void 0&&(e=sX);var n=null;function r(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];if(n&&n.lastThis===this&&e(i,n.lastArgs))return n.lastResult;var s=t.apply(this,i);return n={lastResult:s,lastArgs:i,lastThis:this},s}return r.clear=function(){n=null},r}const lX=()=>{const e=wt().proxy.$props;return k(()=>{const n=(r,i,o)=>({});return e.perfMode?Ch(n):aX(n)})},uX=50,cw="item-rendered",dw="scroll",nE="forward",rE="backward",mc="auto",iE="smart",oE="start",Xf="center",sE="end",Tl="horizontal",R0="vertical",cX="ltr",gf="rtl",aE="negative",dX="positive-ascending",lE="positive-descending",fX={[Tl]:"left",[R0]:"top"},hX=20,pX={[Tl]:"deltaX",[R0]:"deltaY"},mX=({atEndEdge:t,atStartEdge:e,layout:n},r)=>{let i,o=0;const s=l=>l<0&&e.value||l>0&&t.value;return{hasReachedEdge:s,onWheel:l=>{FM(i);const u=l[pX[n.value]];s(o)&&s(o+u)||(o+=u,t0()||l.preventDefault(),i=OM(()=>{r(o),o=0}))}}},Ig=Pi({type:Fe([Number,Function]),required:!0}),Dg=Pi({type:Number}),$g=Pi({type:Number,default:2}),gX=Pi({type:String,values:["ltr","rtl"],default:"ltr"}),Ng=Pi({type:Number,default:0}),Zf=Pi({type:Number,required:!0}),uE=Pi({type:String,values:["horizontal","vertical"],default:R0}),cE=Je({className:{type:String,default:""},containerElement:{type:Fe([String,Object]),default:"div"},data:{type:Fe(Array),default:()=>fn([])},direction:gX,height:{type:[String,Number],required:!0},innerElement:{type:[String,Object],default:"div"},style:{type:Fe([Object,String,Array])},useIsScrolling:{type:Boolean,default:!1},width:{type:[Number,String],required:!1},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:{type:Boolean,default:!1}}),vX=Je(Ee({cache:$g,estimatedItemSize:Dg,layout:uE,initScrollOffset:Ng,total:Zf,itemSize:Ig},cE));Je(Ee({columnCache:$g,columnWidth:Ig,estimatedColumnWidth:Dg,estimatedRowHeight:Dg,initScrollLeft:Ng,initScrollTop:Ng,rowCache:$g,rowHeight:Ig,totalColumn:Zf,totalRow:Zf},cE));const yX=Je({layout:uE,total:Zf,ratio:{type:Number,required:!0},clientSize:{type:Number,required:!0},scrollFrom:{type:Number,required:!0},visible:Boolean}),zp=(t,e)=>t<e?nE:rE,gc=t=>t===cX||t===gf||t===Tl;let xa=null;function fw(t=!1){if(xa===null||t){const e=document.createElement("div"),n=e.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";const r=document.createElement("div"),i=r.style;return i.width="100px",i.height="100px",e.appendChild(r),document.body.appendChild(e),e.scrollLeft>0?xa=lE:(e.scrollLeft=1,e.scrollLeft===0?xa=aE:xa=dX),document.body.removeChild(e),xa}return xa}function bX({move:t,size:e,bar:n},r){const i={},o=`translate${n.axis}(${t}px)`;return i[n.size]=e,i.transform=o,i.msTransform=o,i.webkitTransform=o,r==="horizontal"?i.height="100%":i.width="100%",i}const wX=pe({name:"ElVirtualScrollBar",props:yX,emits:["scroll","start-move","stop-move"],setup(t,{emit:e}){const r=F(),i=F();let o=null,s=null;const a=Ot({isDragging:!1,traveled:0}),l=k(()=>p2[t.layout]),u=k(()=>t.clientSize-4),c=k(()=>({position:"absolute",width:Tl===t.layout?`${u.value}px`:"6px",height:Tl===t.layout?"6px":`${u.value}px`,[fX[t.layout]]:"2px",right:"2px",bottom:"2px",borderRadius:"4px"})),d=k(()=>{const b=t.ratio,S=t.clientSize;if(b>=100)return Number.POSITIVE_INFINITY;if(b>=50)return b*S/100;const M=S/3;return Math.floor(Math.min(Math.max(b*S,hX),M))}),f=k(()=>{if(!Number.isFinite(d.value))return{display:"none"};const b=`${d.value}px`;return bX({bar:l.value,size:b,move:a.traveled},t.layout)}),h=k(()=>Math.floor(t.clientSize-d.value-4)),m=()=>{sn(window,"mousemove",y),sn(window,"mouseup",v);const b=C(i);!b||(s=document.onselectstart,document.onselectstart=()=>!1,sn(b,"touchmove",y),sn(b,"touchend",v))},g=()=>{wn(window,"mousemove",y),wn(window,"mouseup",v),document.onselectstart=s,s=null;const b=C(i);!b||(wn(b,"touchmove",y),wn(b,"touchend",v))},p=b=>{b.stopImmediatePropagation(),!(b.ctrlKey||[1,2].includes(b.button))&&(a.isDragging=!0,a[l.value.axis]=b.currentTarget[l.value.offset]-(b[l.value.client]-b.currentTarget.getBoundingClientRect()[l.value.direction]),e("start-move"),m())},v=()=>{a.isDragging=!1,a[l.value.axis]=0,e("stop-move"),g()},y=b=>{const{isDragging:S}=a;if(!S||!i.value||!r.value)return;const M=a[l.value.axis];if(!M)return;FM(o);const T=(r.value.getBoundingClientRect()[l.value.direction]-b[l.value.client])*-1,N=i.value[l.value.offset]-M,I=T-N;o=OM(()=>{a.traveled=Math.max(0,Math.min(I,h.value)),e("scroll",I,h.value)})},w=b=>{const S=Math.abs(b.target.getBoundingClientRect()[l.value.direction]-b[l.value.client]),M=i.value[l.value.offset]/2,T=S-M;a.traveled=Math.max(0,Math.min(T,h.value)),e("scroll",T,h.value)},_=b=>b.preventDefault();return Me(()=>t.scrollFrom,b=>{a.isDragging||(a.traveled=Math.ceil(b*h.value))}),ft(()=>{!Tt||(sn(r.value,"touchstart",_),sn(i.value,"touchstart",p))}),rn(()=>{wn(r.value,"touchstart",_),g()}),()=>Xe("div",{role:"presentation",ref:r,class:"el-virtual-scrollbar",style:c.value,onMousedown:ot(w,["stop","prevent"])},Xe("div",{ref:i,class:"el-scrollbar__thumb",style:f.value,onMousedown:p},[]))}}),dE=({name:t,getOffset:e,getItemSize:n,getItemOffset:r,getEstimatedTotalSize:i,getStartIndexForOffset:o,getStopIndexForStartIndex:s,initCache:a,clearCache:l,validateProps:u})=>pe({name:t!=null?t:"ElVirtualList",props:vX,emits:[cw,dw],setup(c,{emit:d,expose:f}){u(c);const h=wt(),m=F(a(c,h)),g=lX(),p=F(),v=F(),y=F(),w=F({isScrolling:!1,scrollDir:"forward",scrollOffset:It(c.initScrollOffset)?c.initScrollOffset:0,updateRequested:!1,isScrollbarDragging:!1,scrollbarAlwaysOn:c.scrollbarAlwaysOn}),_=k(()=>{const{total:J,cache:se}=c,{isScrolling:Te,scrollDir:Le,scrollOffset:q}=C(w);if(J===0)return[0,0,0,0];const re=o(c,q,C(m)),he=s(c,re,q,C(m)),we=!Te||Le===rE?Math.max(1,se):1,ye=!Te||Le===nE?Math.max(1,se):1;return[Math.max(0,re-we),Math.max(0,Math.min(J-1,he+ye)),re,he]}),b=k(()=>i(c,C(m))),S=k(()=>gc(c.layout)),M=k(()=>[{position:"relative",[`overflow-${S.value?"x":"y"}`]:"scroll",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:c.direction,height:It(c.height)?`${c.height}px`:c.height,width:It(c.width)?`${c.width}px`:c.width},c.style]),T=k(()=>{const J=C(b),se=C(S);return{height:se?"100%":`${J}px`,pointerEvents:C(w).isScrolling?"none":void 0,width:se?`${J}px`:"100%"}}),N=k(()=>S.value?c.width:c.height),{onWheel:I}=mX({atStartEdge:k(()=>w.value.scrollOffset<=0),atEndEdge:k(()=>w.value.scrollOffset>=b.value),layout:k(()=>c.layout)},J=>{var se,Te;(Te=(se=y.value).onMouseUp)==null||Te.call(se),L(Math.min(w.value.scrollOffset+J,b.value-N.value))}),x=()=>{const{total:J}=c;if(J>0){const[q,re,he,we]=C(_);d(cw,q,re,he,we)}const{scrollDir:se,scrollOffset:Te,updateRequested:Le}=C(w);d(dw,se,Te,Le)},R=J=>{const{clientHeight:se,scrollHeight:Te,scrollTop:Le}=J.currentTarget,q=C(w);if(q.scrollOffset===Le)return;const re=Math.max(0,Math.min(Le,Te-se));w.value=Ue(Ee({},q),{isScrolling:!0,scrollDir:zp(q.scrollOffset,re),scrollOffset:re,updateRequested:!1}),et(W)},O=J=>{const{clientWidth:se,scrollLeft:Te,scrollWidth:Le}=J.currentTarget,q=C(w);if(q.scrollOffset===Te)return;const{direction:re}=c;let he=Te;if(re===gf)switch(fw()){case aE:{he=-Te;break}case lE:{he=Le-se-Te;break}}he=Math.max(0,Math.min(he,Le-se)),w.value=Ue(Ee({},q),{isScrolling:!0,scrollDir:zp(q.scrollOffset,he),scrollOffset:he,updateRequested:!1}),et(W)},D=J=>{C(S)?O(J):R(J),x()},B=(J,se)=>{const Te=(b.value-N.value)/se*J;L(Math.min(b.value-N.value,Te))},L=J=>{J=Math.max(J,0),J!==C(w).scrollOffset&&(w.value=Ue(Ee({},C(w)),{scrollOffset:J,scrollDir:zp(C(w).scrollOffset,J),updateRequested:!0}),et(W))},A=(J,se=mc)=>{const{scrollOffset:Te}=C(w);J=Math.max(0,Math.min(J,c.total-1)),L(e(c,J,se,Te,C(m)))},P=J=>{const{direction:se,itemSize:Te,layout:Le}=c,q=g.value(l&&Te,l&&Le,l&&se);let re;if(Et(q,String(J)))re=q[J];else{const he=r(c,J,C(m)),we=n(c,J,C(m)),ye=C(S),ze=se===gf,be=ye?he:0;q[J]=re={position:"absolute",left:ze?void 0:`${be}px`,right:ze?`${be}px`:void 0,top:ye?0:`${he}px`,height:ye?"100%":`${we}px`,width:ye?`${we}px`:"100%"}}return re},W=()=>{w.value.isScrolling=!1,et(()=>{g.value(-1,null,null)})},K=()=>{const J=p.value;J&&(J.scrollTop=0)};ft(()=>{if(!Tt)return;const{initScrollOffset:J}=c,se=C(p);It(J)&&se&&(C(S)?se.scrollLeft=J:se.scrollTop=J),x()}),Ai(()=>{const{direction:J,layout:se}=c,{scrollOffset:Te,updateRequested:Le}=C(w),q=C(p);if(Le&&q)if(se===Tl)if(J===gf)switch(fw()){case"negative":{q.scrollLeft=-Te;break}case"positive-ascending":{q.scrollLeft=Te;break}default:{const{clientWidth:re,scrollWidth:he}=q;q.scrollLeft=he-re-Te;break}}else q.scrollLeft=Te;else q.scrollTop=Te});const te={clientSize:N,estimatedTotalSize:b,windowStyle:M,windowRef:p,innerRef:v,innerStyle:T,itemsToRender:_,scrollbarRef:y,states:w,getItemStyle:P,onScroll:D,onScrollbarScroll:B,onWheel:I,scrollTo:L,scrollToItem:A,resetScrollTop:K};return f({windowRef:p,innerRef:v,getItemStyleCache:g,scrollTo:L,scrollToItem:A,resetScrollTop:K,states:w}),te},render(c){var d;const{$slots:f,className:h,clientSize:m,containerElement:g,data:p,getItemStyle:v,innerElement:y,itemsToRender:w,innerStyle:_,layout:b,total:S,onScroll:M,onScrollbarScroll:T,onWheel:N,states:I,useIsScrolling:x,windowStyle:R}=c,[O,D]=w,B=Pt(g),L=Pt(y),A=[];if(S>0)for(let te=O;te<=D;te++)A.push((d=f.default)==null?void 0:d.call(f,{data:p,key:te,index:te,isScrolling:x?I.isScrolling:void 0,style:v(te)}));const P=[Xe(L,{style:_,ref:"innerRef"},pt(L)?A:{default:()=>A})],W=Xe(wX,{ref:"scrollbarRef",clientSize:m,layout:b,onScroll:T,ratio:m*100/this.estimatedTotalSize,scrollFrom:I.scrollOffset/(this.estimatedTotalSize-m),total:S}),K=Xe(B,{class:["el-vl__window",h],style:R,onScroll:M,onWheel:N,ref:"windowRef",key:0},pt(B)?[P]:{default:()=>[P]});return Xe("div",{key:0,class:["el-vl__wrapper",I.scrollbarAlwaysOn?"always-on":""]},[K,W])}}),fE=dE({name:"ElFixedSizeList",getItemOffset:({itemSize:t},e)=>e*t,getItemSize:({itemSize:t})=>t,getEstimatedTotalSize:({total:t,itemSize:e})=>e*t,getOffset:({height:t,total:e,itemSize:n,layout:r,width:i},o,s,a)=>{const l=gc(r)?i:t,u=Math.max(0,e*n-l),c=Math.min(u,o*n),d=Math.max(0,(o+1)*n-l);switch(s===iE&&(a>=d-l&&a<=c+l?s=mc:s=Xf),s){case oE:return c;case sE:return d;case Xf:{const f=Math.round(d+(c-d)/2);return f<Math.ceil(l/2)?0:f>u+Math.floor(l/2)?u:f}case mc:default:return a>=d&&a<=c?a:a<d?d:c}},getStartIndexForOffset:({total:t,itemSize:e},n)=>Math.max(0,Math.min(t-1,Math.floor(n/e))),getStopIndexForStartIndex:({height:t,total:e,itemSize:n,layout:r,width:i},o,s)=>{const a=o*n,l=gc(r)?i:t,u=Math.ceil((l+s-a)/n);return Math.max(0,Math.min(e-1,o+u-1))},initCache(){},clearCache:!0,validateProps(){}}),Ja=(t,e,n)=>{const{itemSize:r}=t,{items:i,lastVisitedIndex:o}=n;if(e>o){let s=0;if(o>=0){const a=i[o];s=a.offset+a.size}for(let a=o+1;a<=e;a++){const l=r(a);i[a]={offset:s,size:l},s+=l}n.lastVisitedIndex=e}return i[e]},_X=(t,e,n)=>{const{items:r,lastVisitedIndex:i}=e;return(i>0?r[i].offset:0)>=n?hE(t,e,0,i,n):SX(t,e,Math.max(0,i),n)},hE=(t,e,n,r,i)=>{for(;n<=r;){const o=n+Math.floor((r-n)/2),s=Ja(t,o,e).offset;if(s===i)return o;s<i?n=o+1:s>i&&(r=o-1)}return Math.max(0,n-1)},SX=(t,e,n,r)=>{const{total:i}=t;let o=1;for(;n<i&&Ja(t,n,e).offset<r;)n+=o,o*=2;return hE(t,e,Math.floor(n/2),Math.min(n,i-1),r)},hw=({total:t},{items:e,estimatedItemSize:n,lastVisitedIndex:r})=>{let i=0;if(r>=t&&(r=t-1),r>=0){const a=e[r];i=a.offset+a.size}const s=(t-r-1)*n;return i+s},CX=dE({name:"ElDynamicSizeList",getItemOffset:(t,e,n)=>Ja(t,e,n).offset,getItemSize:(t,e,{items:n})=>n[e].size,getEstimatedTotalSize:hw,getOffset:(t,e,n,r,i)=>{const{height:o,layout:s,width:a}=t,l=gc(s)?a:o,u=Ja(t,e,i),c=hw(t,i),d=Math.max(0,Math.min(c-l,u.offset)),f=Math.max(0,u.offset-l+u.size);switch(n===iE&&(r>=f-l&&r<=d+l?n=mc:n=Xf),n){case oE:return d;case sE:return f;case Xf:return Math.round(f+(d-f)/2);case mc:default:return r>=f&&r<=d?r:r<f?f:d}},getStartIndexForOffset:(t,e,n)=>_X(t,n,e),getStopIndexForStartIndex:(t,e,n,r)=>{const{height:i,total:o,layout:s,width:a}=t,l=gc(s)?a:i,u=Ja(t,e,r),c=n+l;let d=u.offset+u.size,f=e;for(;f<o-1&&d<c;)f++,d+=Ja(t,f,r).size;return f},initCache({estimatedItemSize:t=uX},e){const n={items:{},estimatedItemSize:t,lastVisitedIndex:-1};return n.clearCacheAfterIndex=(r,i=!0)=>{var o,s;n.lastVisitedIndex=Math.min(n.lastVisitedIndex,r-1),(o=e.exposed)==null||o.getItemStyleCache(-1),i&&((s=e.proxy)==null||s.$forceUpdate())},n},clearCache:!1,validateProps:({itemSize:t})=>{}}),MX=pe({props:{item:{type:Object,required:!0},style:Object,height:Number},setup(){return{ns:$e("select")}}});function xX(t,e,n,r,i,o){return t.item.isTitle?(E(),V("div",{key:0,class:$(t.ns.be("group","title")),style:Ye([t.style,{lineHeight:`${t.height}px`}])},Pe(t.item.label),7)):(E(),V("div",{key:1,class:$(t.ns.be("group","split")),style:Ye(t.style)},[G("span",{class:$(t.ns.be("group","split-dash")),style:Ye({top:`${t.height/2}px`})},null,6)],6))}var EX=De(MX,[["render",xX],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/group-item.vue"]]);function TX(t,{emit:e}){return{hoverItem:()=>{t.disabled||e("hover",t.index)},selectOptionClick:()=>{t.disabled||e("select",t.item,t.index)}}}const AX={allowCreate:Boolean,autocomplete:{type:String,default:"none"},automaticDropdown:Boolean,clearable:Boolean,clearIcon:{type:[String,Object],default:bo},effect:{type:String,default:"light"},collapseTags:Boolean,collapseTagsTooltip:{type:Boolean,default:!1},defaultFirstOption:Boolean,disabled:Boolean,estimatedOptionHeight:{type:Number,default:void 0},filterable:Boolean,filterMethod:Function,height:{type:Number,default:170},itemHeight:{type:Number,default:34},id:String,loading:Boolean,loadingText:String,label:String,modelValue:[Array,String,Number,Boolean,Object],multiple:Boolean,multipleLimit:{type:Number,default:0},name:String,noDataText:String,noMatchText:String,remoteMethod:Function,reserveKeyword:{type:Boolean,default:!0},options:{type:Array,required:!0},placeholder:{type:String},popperAppendToBody:{type:Boolean,default:void 0},teleported:qn.teleported,persistent:{type:Boolean,default:!0},popperClass:{type:String,default:""},popperOptions:{type:Object,default:()=>({})},remote:Boolean,size:{type:String,validator:Hr},valueKey:{type:String,default:"value"},scrollbarAlwaysOn:{type:Boolean,default:!1}},kX={data:Array,disabled:Boolean,hovering:Boolean,item:Object,index:Number,style:Object,selected:Boolean,created:Boolean},PX=pe({props:kX,emits:["select","hover"],setup(t,{emit:e}){const n=$e("select"),{hoverItem:r,selectOptionClick:i}=TX(t,{emit:e});return{ns:n,hoverItem:r,selectOptionClick:i}}}),LX=["aria-selected"];function RX(t,e,n,r,i,o){return E(),V("li",{"aria-selected":t.selected,style:Ye(t.style),class:$([t.ns.be("dropdown","option-item"),t.ns.is("selected",t.selected),t.ns.is("disabled",t.disabled),t.ns.is("created",t.created),{hover:t.hovering}]),onMouseenter:e[0]||(e[0]=(...s)=>t.hoverItem&&t.hoverItem(...s)),onClick:e[1]||(e[1]=ot((...s)=>t.selectOptionClick&&t.selectOptionClick(...s),["stop"]))},[Ce(t.$slots,"default",{item:t.item,index:t.index,disabled:t.disabled},()=>[G("span",null,Pe(t.item.label),1)])],46,LX)}var IX=De(PX,[["render",RX],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/option-item.vue"]]);const pE="ElSelectV2Injection",DX=pe({name:"ElSelectDropdown",props:{data:Array,hoveringIndex:Number,width:Number},setup(t){const e=Ke(pE),n=$e("select"),r=F([]),i=F(null),o=k(()=>Rr(e.props.estimatedOptionHeight)),s=k(()=>o.value?{itemSize:e.props.itemHeight}:{estimatedSize:e.props.estimatedOptionHeight,itemSize:m=>r.value[m]}),a=(m=[],g)=>{const{props:{valueKey:p}}=e;return kt(g)?m&&m.some(v=>cn(v,p)===cn(g,p)):m.includes(g)},l=(m,g)=>{if(kt(g)){const{valueKey:p}=e.props;return cn(m,p)===cn(g,p)}else return m===g};return{ns:n,select:e,listProps:s,listRef:i,isSized:o,isItemDisabled:(m,g)=>{const{disabled:p,multiple:v,multipleLimit:y}=e.props;return p||!g&&(v?y>0&&m.length>=y:!1)},isItemHovering:m=>t.hoveringIndex===m,isItemSelected:(m,g)=>{const{valueKey:p}=e.props;return e.props.multiple?a(m,cn(g,p)):l(m,cn(g,p))},scrollToItem:m=>{const g=i.value;g&&g.scrollToItem(m)},resetScrollTop:()=>{const m=i.value;m&&m.resetScrollTop()}}},render(t,e){var n;const{$slots:r,data:i,listProps:o,select:s,isSized:a,width:l,ns:u,isItemDisabled:c,isItemHovering:d,isItemSelected:f}=t,h=a?fE:CX,{props:m,onSelect:g,onHover:p,onKeyboardNavigate:v,onKeyboardSelect:y}=s,{height:w,modelValue:_,multiple:b}=m;if(i.length===0)return Xe("div",{class:u.b("dropdown"),style:{width:`${l}px`}},(n=r.empty)==null?void 0:n.call(r));const S=X(T=>{const{index:N,data:I}=T,x=I[N];if(I[N].type==="Group")return Xe(EX,{item:x,style:T.style,height:a?o.itemSize:o.estimatedSize});const R=f(_,x),O=c(_,R);return Xe(IX,Ue(Ee({},T),{selected:R,disabled:x.disabled||O,created:!!x.created,hovering:d(N),item:x,onSelect:g,onHover:p}),{default:X(D=>Ce(r,"default",D,()=>[Xe("span",x.label)]))})}),M=Xe(h,Ee({ref:"listRef",className:u.be("dropdown","list"),data:i,height:w,width:l,total:i.length,scrollbarAlwaysOn:m.scrollbarAlwaysOn,onKeydown:[e[1]||(e[1]=Mt(ot(()=>v("forward"),["stop","prevent"]),["down"])),e[2]||(e[2]=Mt(ot(()=>v("backward"),["stop","prevent"]),["up"])),e[3]||(e[3]=Mt(ot(y,["stop","prevent"]),["enter"])),e[4]||(e[4]=Mt(ot(()=>s.expanded=!1,["stop","prevent"]),["esc"])),e[5]||(e[5]=Mt(()=>s.expanded=!1,["tab"]))]},o),{default:S});return Xe("div",{class:[u.b("dropdown"),u.is("multiple",b)]},[M])}});var $X=De(DX,[["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/select-dropdown.vue"]]);function NX(t,e){const n=F(0),r=F(null),i=k(()=>t.allowCreate&&t.filterable);function o(c){const d=f=>f.value===c;return t.options&&t.options.some(d)||e.createdOptions.some(d)}function s(c){!i.value||(t.multiple&&c.created?n.value++:r.value=c)}function a(c){if(i.value)if(c&&c.length>0&&!o(c)){const d={value:c,label:c,created:!0,disabled:!1};e.createdOptions.length>=n.value?e.createdOptions[n.value]=d:e.createdOptions.push(d)}else if(t.multiple)e.createdOptions.length=n.value;else{const d=r.value;e.createdOptions.length=0,d&&d.created&&e.createdOptions.push(d)}}function l(c){if(!i.value||!c||!c.created||c.created&&t.reserveKeyword&&e.inputValue===c.label)return;const d=e.createdOptions.findIndex(f=>f.value===c.value);~d&&(e.createdOptions.splice(d,1),n.value--)}function u(){i.value&&(e.createdOptions.length=0,n.value=0)}return{createNewOption:a,removeNewOption:l,selectNewOption:s,clearAllNewOption:u}}const OX=t=>{const e=[];return t.forEach(n=>{ct(n.options)?(e.push({label:n.label,isTitle:!0,type:"Group"}),n.options.forEach(r=>{e.push(r)}),e.push({type:"Group"})):e.push(n)}),e};function FX(t){const e=F(!1);return{handleCompositionStart:()=>{e.value=!0},handleCompositionUpdate:o=>{const s=o.target.value,a=s[s.length-1]||"";e.value=!Ph(a)},handleCompositionEnd:o=>{e.value&&(e.value=!1,gt(t)&&t(o))}}}const pw="",mw=11,BX={larget:51,default:42,small:33},zX="ElSelectV2",VX=(t,e)=>{const{t:n}=Gt(),r=$e("select-v2"),i=$e("input"),{form:o,formItem:s}=Wl(),{compatTeleported:a}=Gl(zX,"popperAppendToBody"),l=Ot({inputValue:pw,displayInputValue:pw,calculatedWidth:0,cachedPlaceholder:"",cachedOptions:[],createdOptions:[],createdLabel:"",createdSelected:!1,currentPlaceholder:"",hoveringIndex:-1,comboBoxHovering:!1,isOnComposition:!1,isSilentBlur:!1,isComposing:!1,inputLength:20,selectWidth:200,initialInputHeight:0,previousQuery:null,previousValue:"",query:"",selectedLabel:"",softFocus:!1,tagInMultiLine:!1}),u=F(-1),c=F(-1),d=F(null),f=F(null),h=F(null),m=F(null),g=F(null),p=F(null),v=F(null),y=F(!1),w=k(()=>t.disabled||(o==null?void 0:o.disabled)),_=k(()=>{const Ie=O.value.length*34;return Ie>t.height?t.height:Ie}),b=k(()=>t.modelValue!==void 0&&t.modelValue!==null&&t.modelValue!==""),S=k(()=>{const Ie=t.multiple?Array.isArray(t.modelValue)&&t.modelValue.length>0:b.value;return t.clearable&&!w.value&&l.comboBoxHovering&&Ie}),M=k(()=>t.remote&&t.filterable?"":Dc),T=k(()=>M.value&&r.is("reverse",y.value)),N=k(()=>(s==null?void 0:s.validateState)||""),I=k(()=>IM[N.value]),x=k(()=>t.remote?300:0),R=k(()=>{const Ie=O.value;return t.loading?t.loadingText||n("el.select.loading"):t.remote&&l.inputValue===""&&Ie.length===0?!1:t.filterable&&l.inputValue&&Ie.length>0?t.noMatchText||n("el.select.noMatch"):Ie.length===0?t.noDataText||n("el.select.noData"):null}),O=k(()=>{const Ie=nt=>{const Rt=l.inputValue;return Rt?nt.label.includes(Rt):!0};return t.loading?[]:OX(t.options.concat(l.createdOptions).map(nt=>{if(ct(nt.options)){const Rt=nt.options.filter(Ie);if(Rt.length>0)return Ue(Ee({},nt),{options:Rt})}else if(t.remote||Ie(nt))return nt;return null}).filter(nt=>nt!==null))}),D=k(()=>O.value.every(Ie=>Ie.disabled)),B=Pn(),L=k(()=>B.value==="small"?"small":"default"),A=k(()=>{const Ie=p.value,nt=L.value||"default",Rt=Ie?Number.parseInt(getComputedStyle(Ie).paddingLeft):0,Yt=Ie?Number.parseInt(getComputedStyle(Ie).paddingRight):0;return l.selectWidth-Yt-Rt-BX[nt]}),P=()=>{var Ie,nt,Rt;c.value=((Rt=(nt=(Ie=g.value)==null?void 0:Ie.getBoundingClientRect)==null?void 0:nt.call(Ie))==null?void 0:Rt.width)||200},W=k(()=>({width:`${l.calculatedWidth===0?mw:Math.ceil(l.calculatedWidth)+mw}px`})),K=k(()=>ct(t.modelValue)?t.modelValue.length===0&&!l.displayInputValue:t.filterable?l.displayInputValue.length===0:!0),te=k(()=>{const Ie=t.placeholder||n("el.select.placeholder");return t.multiple?Ie:l.selectedLabel||Ie}),J=k(()=>{var Ie,nt;return(nt=(Ie=m.value)==null?void 0:Ie.popperRef)==null?void 0:nt.contentRef}),se=k(()=>{if(t.multiple){const Ie=t.modelValue.length;if(t.modelValue.length>0)return O.value.findIndex(nt=>nt.value===t.modelValue[Ie-1])}else if(t.modelValue)return O.value.findIndex(Ie=>Ie.value===t.modelValue);return-1}),Te=k(()=>y.value&&R.value!==!1),{createNewOption:Le,removeNewOption:q,selectNewOption:re,clearAllNewOption:he}=NX(t,l),{handleCompositionStart:we,handleCompositionUpdate:ye,handleCompositionEnd:ze}=FX(Ie=>vt(Ie)),be=()=>{var Ie,nt,Rt;(nt=(Ie=f.value).focus)==null||nt.call(Ie),(Rt=m.value)==null||Rt.updatePopper()},U=()=>{if(!t.automaticDropdown&&!w.value)return l.isComposing&&(l.softFocus=!0),et(()=>{var Ie,nt;y.value=!y.value,(nt=(Ie=f.value)==null?void 0:Ie.focus)==null||nt.call(Ie)})},Q=()=>(t.filterable&&l.inputValue!==l.selectedLabel&&(l.query=l.selectedLabel),me(l.inputValue),et(()=>{Le(l.inputValue)})),de=_r(Q,x.value),me=Ie=>{l.previousQuery!==Ie&&(l.previousQuery=Ie,t.filterable&&gt(t.filterMethod)?t.filterMethod(Ie):t.filterable&&t.remote&&gt(t.remoteMethod)&&t.remoteMethod(Ie))},Se=Ie=>{Fr(t.modelValue,Ie)||e(zn,Ie)},Ae=Ie=>{e(bt,Ie),Se(Ie),l.previousValue=Ie.toString()},ee=(Ie=[],nt)=>{if(!kt(nt))return Ie.indexOf(nt);const Rt=t.valueKey;let Yt=-1;return Ie.some((ui,fr)=>cn(ui,Rt)===cn(nt,Rt)?(Yt=fr,!0):!1),Yt},le=Ie=>kt(Ie)?cn(Ie,t.valueKey):Ie,ae=Ie=>kt(Ie)?Ie.label:Ie,z=()=>{if(!(t.collapseTags&&!t.filterable))return et(()=>{var Ie,nt;if(!f.value)return;const Rt=p.value;g.value.height=Rt.offsetHeight,y.value&&R.value!==!1&&((nt=(Ie=m.value)==null?void 0:Ie.updatePopper)==null||nt.call(Ie))})},H=()=>{var Ie,nt;if(j(),P(),(nt=(Ie=m.value)==null?void 0:Ie.updatePopper)==null||nt.call(Ie),t.multiple)return z()},j=()=>{const Ie=p.value;Ie&&(l.selectWidth=Ie.getBoundingClientRect().width)},ce=(Ie,nt,Rt=!0)=>{var Yt,ui;if(t.multiple){let fr=t.modelValue.slice();const ps=ee(fr,le(Ie));ps>-1?(fr=[...fr.slice(0,ps),...fr.slice(ps+1)],l.cachedOptions.splice(ps,1),q(Ie)):(t.multipleLimit<=0||fr.length<t.multipleLimit)&&(fr=[...fr,le(Ie)],l.cachedOptions.push(Ie),re(Ie),We(nt)),Ae(fr),Ie.created&&(l.query="",me(""),l.inputLength=20),t.filterable&&!t.reserveKeyword&&((ui=(Yt=f.value).focus)==null||ui.call(Yt),xe("")),t.filterable&&(l.calculatedWidth=v.value.getBoundingClientRect().width),z(),tt()}else u.value=nt,l.selectedLabel=Ie.label,Ae(le(Ie)),y.value=!1,l.isComposing=!1,l.isSilentBlur=Rt,re(Ie),Ie.created||he(),We(nt)},ke=(Ie,nt)=>{const{valueKey:Rt}=t,Yt=t.modelValue.indexOf(cn(nt,Rt));if(Yt>-1&&!w.value){const ui=[...t.modelValue.slice(0,Yt),...t.modelValue.slice(Yt+1)];return l.cachedOptions.splice(Yt,1),Ae(ui),e("remove-tag",cn(nt,Rt)),l.softFocus=!0,q(nt),et(be)}Ie.stopPropagation()},Ve=Ie=>{const nt=l.isComposing;l.isComposing=!0,l.softFocus?l.softFocus=!1:nt||e("focus",Ie)},Ne=()=>(l.softFocus=!1,et(()=>{var Ie,nt;(nt=(Ie=f.value)==null?void 0:Ie.blur)==null||nt.call(Ie),v.value&&(l.calculatedWidth=v.value.getBoundingClientRect().width),l.isSilentBlur?l.isSilentBlur=!1:l.isComposing&&e("blur"),l.isComposing=!1})),Y=()=>{l.displayInputValue.length>0?xe(""):y.value=!1},_e=Ie=>{if(l.displayInputValue.length===0){Ie.preventDefault();const nt=t.modelValue.slice();nt.pop(),q(l.cachedOptions.pop()),Ae(nt)}},ge=()=>{let Ie;return ct(t.modelValue)?Ie=[]:Ie="",l.softFocus=!0,t.multiple?l.cachedOptions=[]:l.selectedLabel="",y.value=!1,Ae(Ie),e("clear"),he(),et(be)},xe=Ie=>{l.displayInputValue=Ie,l.inputValue=Ie},ie=(Ie,nt=void 0)=>{const Rt=O.value;if(!["forward","backward"].includes(Ie)||w.value||Rt.length<=0||D.value)return;if(!y.value)return U();nt===void 0&&(nt=l.hoveringIndex);let Yt=-1;Ie==="forward"?(Yt=nt+1,Yt>=Rt.length&&(Yt=0)):Ie==="backward"&&(Yt=nt-1,Yt<0&&(Yt=Rt.length-1));const ui=Rt[Yt];if(ui.disabled||ui.type==="Group")return ie(Ie,Yt);We(Yt),Kt(Yt)},He=()=>{if(y.value)~l.hoveringIndex&&O.value[l.hoveringIndex]&&ce(O.value[l.hoveringIndex],l.hoveringIndex,!1);else return U()},We=Ie=>{l.hoveringIndex=Ie},rt=()=>{l.hoveringIndex=-1},tt=()=>{var Ie;const nt=f.value;nt&&((Ie=nt.focus)==null||Ie.call(nt))},vt=Ie=>{const nt=Ie.target.value;if(xe(nt),l.displayInputValue.length>0&&!y.value&&(y.value=!0),l.calculatedWidth=v.value.getBoundingClientRect().width,t.multiple&&z(),t.remote)de();else return Q()},Qe=()=>(y.value=!1,Ne()),yt=()=>(l.inputValue=l.displayInputValue,et(()=>{~se.value&&(We(se.value),Kt(l.hoveringIndex))})),Kt=Ie=>{h.value.scrollToItem(Ie)},$t=()=>{if(rt(),t.multiple)if(t.modelValue.length>0){let Ie=!1;l.cachedOptions.length=0,l.previousValue=t.modelValue.toString(),t.modelValue.forEach(nt=>{const Rt=O.value.findIndex(Yt=>le(Yt)===nt);~Rt&&(l.cachedOptions.push(O.value[Rt]),Ie||We(Rt),Ie=!0)})}else l.cachedOptions=[],l.previousValue="";else if(b.value){l.previousValue=t.modelValue;const Ie=O.value,nt=Ie.findIndex(Rt=>le(Rt)===le(t.modelValue));~nt?(l.selectedLabel=Ie[nt].label,We(nt)):l.selectedLabel=`${t.modelValue}`}else l.selectedLabel="",l.previousValue="";P()};return Me(y,Ie=>{var nt,Rt;e("visible-change",Ie),Ie?(Rt=(nt=m.value).update)==null||Rt.call(nt):(l.displayInputValue="",Le(""))}),Me(()=>t.modelValue,(Ie,nt)=>{var Rt;(!Ie||Ie.toString()!==l.previousValue)&&$t(),Fr(Ie,nt)||(Rt=s==null?void 0:s.validate)==null||Rt.call(s,"change").catch(Yt=>void 0)},{deep:!0}),Me(()=>t.options,()=>{const Ie=f.value;(!Ie||Ie&&document.activeElement!==Ie)&&$t()},{deep:!0}),Me(O,()=>et(h.value.resetScrollTop)),ft(()=>{$t(),zl(g.value,H)}),Ac(()=>{Vl(g.value,H)}),{collapseTagSize:L,currentPlaceholder:te,expanded:y,emptyText:R,popupHeight:_,debounce:x,filteredOptions:O,iconComponent:M,iconReverse:T,inputWrapperStyle:W,popperSize:c,dropdownMenuVisible:Te,hasModelValue:b,shouldShowPlaceholder:K,selectDisabled:w,selectSize:B,showClearBtn:S,states:l,tagMaxWidth:A,nsSelectV2:r,nsInput:i,calculatorRef:v,controlRef:d,inputRef:f,menuRef:h,popper:m,selectRef:g,selectionRef:p,popperRef:J,validateState:N,validateIcon:I,compatTeleported:a,debouncedOnInputChange:de,deleteTag:ke,getLabel:ae,getValueKey:le,handleBlur:Ne,handleClear:ge,handleClickOutside:Qe,handleDel:_e,handleEsc:Y,handleFocus:Ve,handleMenuEnter:yt,handleResize:H,toggleMenu:U,scrollTo:Kt,onInput:vt,onKeyboardNavigate:ie,onKeyboardSelect:He,onSelect:ce,onHover:We,onUpdateInputValue:xe,handleCompositionStart:we,handleCompositionEnd:ze,handleCompositionUpdate:ye}},HX=pe({name:"ElSelectV2",components:{ElSelectMenu:$X,ElTag:Fh,ElTooltip:Cr,ElIcon:st},directives:{ClickOutside:ma,ModelText:Iv},props:AX,emits:[bt,zn,"remove-tag","clear","visible-change","focus","blur"],setup(t,{emit:e}){const n=VX(t,e);return Ct(pE,{props:Ot(Ue(Ee({},Bn(t)),{height:n.popupHeight})),onSelect:n.onSelect,onHover:n.onHover,onKeyboardNavigate:n.onKeyboardNavigate,onKeyboardSelect:n.onKeyboardSelect}),n}}),UX={key:0},WX=["id","autocomplete","aria-expanded","aria-labelledby","disabled","readonly","name","unselectable"],GX=["textContent"],jX=["id","aria-labelledby","aria-expanded","autocomplete","disabled","name","readonly","unselectable"],KX=["textContent"];function qX(t,e,n,r,i,o){const s=ve("el-tag"),a=ve("el-tooltip"),l=ve("el-icon"),u=ve("el-select-menu"),c=Vr("model-text"),d=Vr("click-outside");return ut((E(),V("div",{ref:"selectRef",class:$([t.nsSelectV2.b(),t.nsSelectV2.m(t.selectSize)]),onClick:e[24]||(e[24]=ot((...f)=>t.toggleMenu&&t.toggleMenu(...f),["stop"])),onMouseenter:e[25]||(e[25]=f=>t.states.comboBoxHovering=!0),onMouseleave:e[26]||(e[26]=f=>t.states.comboBoxHovering=!1)},[Z(a,{ref:"popper",visible:t.dropdownMenuVisible,"onUpdate:visible":e[22]||(e[22]=f=>t.dropdownMenuVisible=f),teleported:t.compatTeleported,"popper-class":[t.nsSelectV2.e("popper"),t.popperClass],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"popper-options":t.popperOptions,"fallback-placements":["bottom-start","top-start","right","left"],effect:t.effect,placement:"bottom-start",pure:"",transition:`${t.nsSelectV2.namespace.value}-zoom-in-top`,trigger:"click",persistent:t.persistent,onBeforeShow:t.handleMenuEnter,onHide:e[23]||(e[23]=f=>t.states.inputValue=t.states.displayInputValue)},{default:X(()=>{var f;return[G("div",{ref:"selectionRef",class:$([t.nsSelectV2.e("wrapper"),t.nsSelectV2.is("focused",t.states.isComposing),t.nsSelectV2.is("hovering",t.states.comboBoxHovering),t.nsSelectV2.is("filterable",t.filterable),t.nsSelectV2.is("disabled",t.selectDisabled)])},[t.$slots.prefix?(E(),V("div",UX,[Ce(t.$slots,"prefix")])):ue("v-if",!0),t.multiple?(E(),V("div",{key:1,class:$(t.nsSelectV2.e("selection"))},[t.collapseTags&&t.modelValue.length>0?(E(),V("div",{key:0,class:$(t.nsSelectV2.e("selected-item"))},[Z(s,{closable:!t.selectDisabled&&!((f=t.states.cachedOptions[0])!=null&&f.disable),size:t.collapseTagSize,type:"info","disable-transitions":"",onClose:e[0]||(e[0]=h=>t.deleteTag(h,t.states.cachedOptions[0]))},{default:X(()=>{var h;return[G("span",{class:$(t.nsSelectV2.e("tags-text")),style:Ye({maxWidth:`${t.tagMaxWidth}px`})},Pe((h=t.states.cachedOptions[0])==null?void 0:h.label),7)]}),_:1},8,["closable","size"]),t.modelValue.length>1?(E(),fe(s,{key:0,closable:!1,size:t.collapseTagSize,type:"info","disable-transitions":""},{default:X(()=>[t.collapseTagsTooltip?(E(),fe(a,{key:0,disabled:t.dropdownMenuVisible,"fallback-placements":["bottom","top","right","left"],effect:t.effect,placement:"bottom",teleported:!1},{default:X(()=>[G("span",{class:$(t.nsSelectV2.e("tags-text")),style:Ye({maxWidth:`${t.tagMaxWidth}px`})},"+ "+Pe(t.modelValue.length-1),7)]),content:X(()=>[G("div",{class:$(t.nsSelectV2.e("selection"))},[(E(!0),V(Ze,null,xt(t.states.cachedOptions,(h,m)=>(E(),V("div",{key:m,class:$(t.nsSelectV2.e("selected-item"))},[(E(),fe(s,{key:t.getValueKey(h),closable:!t.selectDisabled&&!h.disabled,size:t.collapseTagSize,class:"in-tooltip",type:"info","disable-transitions":"",onClose:g=>t.deleteTag(g,h)},{default:X(()=>[G("span",{class:$(t.nsSelectV2.e("tags-text")),style:Ye({maxWidth:`${t.tagMaxWidth}px`})},Pe(t.getLabel(h)),7)]),_:2},1032,["closable","size","onClose"]))],2))),128))],2)]),_:1},8,["disabled","effect"])):(E(),V("span",{key:1,class:$(t.nsSelectV2.e("tags-text")),style:Ye({maxWidth:`${t.tagMaxWidth}px`})},"+ "+Pe(t.modelValue.length-1),7))]),_:1},8,["size"])):ue("v-if",!0)],2)):(E(!0),V(Ze,{key:1},xt(t.states.cachedOptions,(h,m)=>(E(),V("div",{key:m,class:$(t.nsSelectV2.e("selected-item"))},[(E(),fe(s,{key:t.getValueKey(h),closable:!t.selectDisabled&&!h.disabled,size:t.collapseTagSize,type:"info","disable-transitions":"",onClose:g=>t.deleteTag(g,h)},{default:X(()=>[G("span",{class:$(t.nsSelectV2.e("tags-text")),style:Ye({maxWidth:`${t.tagMaxWidth}px`})},Pe(t.getLabel(h)),7)]),_:2},1032,["closable","size","onClose"]))],2))),128)),G("div",{class:$([t.nsSelectV2.e("selected-item"),t.nsSelectV2.e("input-wrapper")]),style:Ye(t.inputWrapperStyle)},[ut(G("input",{id:t.id,ref:"inputRef",autocomplete:t.autocomplete,"aria-autocomplete":"list","aria-haspopup":"listbox",autocapitalize:"off","aria-expanded":t.expanded,"aria-labelledby":t.label,class:$([t.nsSelectV2.is(t.selectSize),t.nsSelectV2.e("combobox-input")]),disabled:t.disabled,role:"combobox",readonly:!t.filterable,spellcheck:"false",type:"text",name:t.name,unselectable:t.expanded?"on":void 0,"onUpdate:modelValue":e[1]||(e[1]=(...h)=>t.onUpdateInputValue&&t.onUpdateInputValue(...h)),onFocus:e[2]||(e[2]=(...h)=>t.handleFocus&&t.handleFocus(...h)),onInput:e[3]||(e[3]=(...h)=>t.onInput&&t.onInput(...h)),onCompositionstart:e[4]||(e[4]=(...h)=>t.handleCompositionStart&&t.handleCompositionStart(...h)),onCompositionupdate:e[5]||(e[5]=(...h)=>t.handleCompositionUpdate&&t.handleCompositionUpdate(...h)),onCompositionend:e[6]||(e[6]=(...h)=>t.handleCompositionEnd&&t.handleCompositionEnd(...h)),onKeydown:[e[7]||(e[7]=Mt(ot(h=>t.onKeyboardNavigate("backward"),["stop","prevent"]),["up"])),e[8]||(e[8]=Mt(ot(h=>t.onKeyboardNavigate("forward"),["stop","prevent"]),["down"])),e[9]||(e[9]=Mt(ot((...h)=>t.onKeyboardSelect&&t.onKeyboardSelect(...h),["stop","prevent"]),["enter"])),e[10]||(e[10]=Mt(ot((...h)=>t.handleEsc&&t.handleEsc(...h),["stop","prevent"]),["esc"])),e[11]||(e[11]=Mt(ot((...h)=>t.handleDel&&t.handleDel(...h),["stop"]),["delete"]))]},null,42,WX),[[c,t.states.displayInputValue]]),t.filterable?(E(),V("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:$(t.nsSelectV2.e("input-calculator")),textContent:Pe(t.states.displayInputValue)},null,10,GX)):ue("v-if",!0)],6)],2)):(E(),V(Ze,{key:2},[G("div",{class:$([t.nsSelectV2.e("selected-item"),t.nsSelectV2.e("input-wrapper")])},[ut(G("input",{id:t.id,ref:"inputRef","aria-autocomplete":"list","aria-haspopup":"listbox","aria-labelledby":t.label,"aria-expanded":t.expanded,autocapitalize:"off",autocomplete:t.autocomplete,class:$(t.nsSelectV2.e("combobox-input")),disabled:t.disabled,name:t.name,role:"combobox",readonly:!t.filterable,spellcheck:"false",type:"text",unselectable:t.expanded?"on":void 0,onCompositionstart:e[12]||(e[12]=(...h)=>t.handleCompositionStart&&t.handleCompositionStart(...h)),onCompositionupdate:e[13]||(e[13]=(...h)=>t.handleCompositionUpdate&&t.handleCompositionUpdate(...h)),onCompositionend:e[14]||(e[14]=(...h)=>t.handleCompositionEnd&&t.handleCompositionEnd(...h)),onFocus:e[15]||(e[15]=(...h)=>t.handleFocus&&t.handleFocus(...h)),onInput:e[16]||(e[16]=(...h)=>t.onInput&&t.onInput(...h)),onKeydown:[e[17]||(e[17]=Mt(ot(h=>t.onKeyboardNavigate("backward"),["stop","prevent"]),["up"])),e[18]||(e[18]=Mt(ot(h=>t.onKeyboardNavigate("forward"),["stop","prevent"]),["down"])),e[19]||(e[19]=Mt(ot((...h)=>t.onKeyboardSelect&&t.onKeyboardSelect(...h),["stop","prevent"]),["enter"])),e[20]||(e[20]=Mt(ot((...h)=>t.handleEsc&&t.handleEsc(...h),["stop","prevent"]),["esc"]))],"onUpdate:modelValue":e[21]||(e[21]=(...h)=>t.onUpdateInputValue&&t.onUpdateInputValue(...h))},null,42,jX),[[c,t.states.displayInputValue]])],2),t.filterable?(E(),V("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:$([t.nsSelectV2.e("selected-item"),t.nsSelectV2.e("input-calculator")]),textContent:Pe(t.states.displayInputValue)},null,10,KX)):ue("v-if",!0)],64)),t.shouldShowPlaceholder?(E(),V("span",{key:3,class:$([t.nsSelectV2.e("placeholder"),t.nsSelectV2.is("transparent",t.states.isComposing||(t.placeholder&&t.multiple?t.modelValue.length===0:!t.hasModelValue))])},Pe(t.currentPlaceholder),3)):ue("v-if",!0),G("span",{class:$(t.nsSelectV2.e("suffix"))},[t.iconComponent?ut((E(),fe(l,{key:0,class:$([t.nsSelectV2.e("caret"),t.nsInput.e("icon"),t.iconReverse])},{default:X(()=>[(E(),fe(Pt(t.iconComponent)))]),_:1},8,["class"])),[[Lt,!t.showClearBtn]]):ue("v-if",!0),t.showClearBtn&&t.clearIcon?(E(),fe(l,{key:1,class:$([t.nsSelectV2.e("caret"),t.nsInput.e("icon")]),onClick:ot(t.handleClear,["prevent","stop"])},{default:X(()=>[(E(),fe(Pt(t.clearIcon)))]),_:1},8,["class","onClick"])):ue("v-if",!0),t.validateState&&t.validateIcon?(E(),fe(l,{key:2,class:$([t.nsInput.e("icon"),t.nsInput.e("validateIcon")])},{default:X(()=>[(E(),fe(Pt(t.validateIcon)))]),_:1},8,["class"])):ue("v-if",!0)],2)],2)]}),content:X(()=>[Z(u,{ref:"menuRef",data:t.filteredOptions,width:t.popperSize,"hovering-index":t.states.hoveringIndex,"scrollbar-always-on":t.scrollbarAlwaysOn},{default:X(f=>[Ce(t.$slots,"default",bi(rs(f)))]),empty:X(()=>[Ce(t.$slots,"empty",{},()=>[G("p",{class:$(t.nsSelectV2.e("empty"))},Pe(t.emptyText?t.emptyText:""),3)])]),_:3},8,["data","width","hovering-index","scrollbar-always-on"])]),_:3},8,["visible","teleported","popper-class","popper-options","effect","transition","persistent","onBeforeShow"])],34)),[[d,t.handleClickOutside,t.popperRef]])}var vf=De(HX,[["render",qX],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/select.vue"]]);vf.install=t=>{t.component(vf.name,vf)};const YX=vf,XX=YX,ZX=Je({animated:{type:Boolean,default:!1},count:{type:Number,default:1},rows:{type:Number,default:3},loading:{type:Boolean,default:!0},throttle:{type:Number}}),JX=Je({variant:{type:String,values:["circle","rect","h1","h3","text","caption","p","image","button"],default:"text"}}),QX={name:"ElSkeletonItem"},eZ=pe(Ue(Ee({},QX),{props:JX,setup(t){const e=$e("skeleton");return(n,r)=>(E(),V("div",{class:$([C(e).e("item"),C(e).e(n.variant)])},[n.variant==="image"?(E(),fe(C(ZO),{key:0})):ue("v-if",!0)],2))}}));var Jf=De(eZ,[["__file","/home/runner/work/element-plus/element-plus/packages/components/skeleton/src/skeleton-item.vue"]]);const tZ={name:"ElSkeleton"},nZ=pe(Ue(Ee({},tZ),{props:ZX,setup(t,{expose:e}){const n=t,r=$e("skeleton"),i=FB(Nn(n,"loading"),n.throttle);return e({uiLoading:i}),(o,s)=>C(i)?(E(),V("div",Qt({key:0,class:[C(r).b(),C(r).is("animated",o.animated)]},o.$attrs),[(E(!0),V(Ze,null,xt(o.count,a=>(E(),V(Ze,{key:a},[o.loading?Ce(o.$slots,"template",{key:a},()=>[Z(Jf,{class:$(C(r).is("first")),variant:"p"},null,8,["class"]),(E(!0),V(Ze,null,xt(o.rows,l=>(E(),fe(Jf,{key:l,class:$([C(r).e("paragraph"),C(r).is("last",l===o.rows&&o.rows>1)]),variant:"p"},null,8,["class"]))),128))]):ue("v-if",!0)],64))),128))],16)):Ce(o.$slots,"default",bi(Qt({key:1},o.$attrs)))}}));var rZ=De(nZ,[["__file","/home/runner/work/element-plus/element-plus/packages/components/skeleton/src/skeleton.vue"]]);const iZ=_t(rZ,{SkeletonItem:Jf}),oZ=pn(Jf),sZ=(t,e,n)=>{const r=F(null),i=F(!1),o=k(()=>e.value instanceof Function),s=k(()=>o.value&&e.value(t.modelValue)||t.modelValue),a=_r(()=>{n.value&&(i.value=!0)},50),l=_r(()=>{n.value&&(i.value=!1)},50);return{tooltip:r,tooltipVisible:i,formatValue:s,displayTooltip:a,hideTooltip:l}},aZ=(t,e,n)=>{const{disabled:r,min:i,max:o,step:s,showTooltip:a,precision:l,sliderSize:u,formatTooltip:c,emitChange:d,resetSize:f,updateDragging:h}=Ke("SliderProvider"),{tooltip:m,tooltipVisible:g,formatValue:p,displayTooltip:v,hideTooltip:y}=sZ(t,c,a),w=k(()=>`${(t.modelValue-i.value)/(o.value-i.value)*100}%`),_=k(()=>t.vertical?{bottom:w.value}:{left:w.value}),b=()=>{e.hovering=!0,v()},S=()=>{e.hovering=!1,e.dragging||y()},M=B=>{r.value||(B.preventDefault(),x(B),sn(window,"mousemove",R),sn(window,"touchmove",R),sn(window,"mouseup",O),sn(window,"touchend",O),sn(window,"contextmenu",O))},T=()=>{r.value||(e.newPosition=Number.parseFloat(w.value)-s.value/(o.value-i.value)*100,D(e.newPosition),d())},N=()=>{r.value||(e.newPosition=Number.parseFloat(w.value)+s.value/(o.value-i.value)*100,D(e.newPosition),d())},I=B=>{let L,A;return B.type.startsWith("touch")?(A=B.touches[0].clientY,L=B.touches[0].clientX):(A=B.clientY,L=B.clientX),{clientX:L,clientY:A}},x=B=>{e.dragging=!0,e.isClick=!0;const{clientX:L,clientY:A}=I(B);t.vertical?e.startY=A:e.startX=L,e.startPosition=Number.parseFloat(w.value),e.newPosition=e.startPosition},R=B=>{if(e.dragging){e.isClick=!1,v(),f();let L;const{clientX:A,clientY:P}=I(B);t.vertical?(e.currentY=P,L=(e.startY-e.currentY)/u.value*100):(e.currentX=A,L=(e.currentX-e.startX)/u.value*100),e.newPosition=e.startPosition+L,D(e.newPosition)}},O=()=>{e.dragging&&(setTimeout(()=>{e.dragging=!1,e.hovering||y(),e.isClick||(D(e.newPosition),d())},0),wn(window,"mousemove",R),wn(window,"touchmove",R),wn(window,"mouseup",O),wn(window,"touchend",O),wn(window,"contextmenu",O))},D=async B=>{if(B===null||Number.isNaN(+B))return;B<0?B=0:B>100&&(B=100);const L=100/((o.value-i.value)/s.value);let P=Math.round(B/L)*L*(o.value-i.value)*.01+i.value;P=Number.parseFloat(P.toFixed(l.value)),n(bt,P),!e.dragging&&t.modelValue!==e.oldValue&&(e.oldValue=t.modelValue),await et(),e.dragging&&v(),m.value.updatePopper()};return Me(()=>e.dragging,B=>{h(B)}),{tooltip:m,tooltipVisible:g,showTooltip:a,wrapperStyle:_,formatValue:p,handleMouseEnter:b,handleMouseLeave:S,onButtonDown:M,onLeftKeyDown:T,onRightKeyDown:N,setPosition:D}},lZ=pe({name:"ElSliderButton",components:{ElTooltip:Cr},props:{modelValue:{type:Number,default:0},vertical:{type:Boolean,default:!1},tooltipClass:{type:String,default:""}},emits:[bt],setup(t,{emit:e}){const n=$e("slider"),r=Ot({hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:0,oldValue:t.modelValue}),{tooltip:i,showTooltip:o,tooltipVisible:s,wrapperStyle:a,formatValue:l,handleMouseEnter:u,handleMouseLeave:c,onButtonDown:d,onLeftKeyDown:f,onRightKeyDown:h,setPosition:m}=aZ(t,r,e),{hovering:g,dragging:p}=Bn(r);return{ns:n,tooltip:i,tooltipVisible:s,showTooltip:o,wrapperStyle:a,formatValue:l,handleMouseEnter:u,handleMouseLeave:c,onButtonDown:d,onLeftKeyDown:f,onRightKeyDown:h,setPosition:m,hovering:g,dragging:p}}});function uZ(t,e,n,r,i,o){const s=ve("el-tooltip");return E(),V("div",{ref:"button",class:$([t.ns.e("button-wrapper"),{hover:t.hovering,dragging:t.dragging}]),style:Ye(t.wrapperStyle),tabindex:"0",onMouseenter:e[1]||(e[1]=(...a)=>t.handleMouseEnter&&t.handleMouseEnter(...a)),onMouseleave:e[2]||(e[2]=(...a)=>t.handleMouseLeave&&t.handleMouseLeave(...a)),onMousedown:e[3]||(e[3]=(...a)=>t.onButtonDown&&t.onButtonDown(...a)),onTouchstart:e[4]||(e[4]=(...a)=>t.onButtonDown&&t.onButtonDown(...a)),onFocus:e[5]||(e[5]=(...a)=>t.handleMouseEnter&&t.handleMouseEnter(...a)),onBlur:e[6]||(e[6]=(...a)=>t.handleMouseLeave&&t.handleMouseLeave(...a)),onKeydown:[e[7]||(e[7]=Mt((...a)=>t.onLeftKeyDown&&t.onLeftKeyDown(...a),["left"])),e[8]||(e[8]=Mt((...a)=>t.onRightKeyDown&&t.onRightKeyDown(...a),["right"])),e[9]||(e[9]=Mt(ot((...a)=>t.onLeftKeyDown&&t.onLeftKeyDown(...a),["prevent"]),["down"])),e[10]||(e[10]=Mt(ot((...a)=>t.onRightKeyDown&&t.onRightKeyDown(...a),["prevent"]),["up"]))]},[Z(s,{ref:"tooltip",visible:t.tooltipVisible,"onUpdate:visible":e[0]||(e[0]=a=>t.tooltipVisible=a),placement:"top","stop-popper-mouse-event":!1,"popper-class":t.tooltipClass,disabled:!t.showTooltip,persistent:""},{content:X(()=>[G("span",null,Pe(t.formatValue),1)]),default:X(()=>[G("div",{class:$([t.ns.e("button"),{hover:t.hovering,dragging:t.dragging}])},null,2)]),_:1},8,["visible","popper-class","disabled"])],38)}var cZ=De(lZ,[["render",uZ],["__file","/home/runner/work/element-plus/element-plus/packages/components/slider/src/button.vue"]]);const dZ=pe({name:"ElMarker",props:{mark:{type:[String,Object],default:()=>{}}},setup(t){const e=$e("slider"),n=k(()=>typeof t.mark=="string"?t.mark:t.mark.label);return{ns:e,label:n}},render(){var t;return Xe("div",{class:this.ns.e("marks-text"),style:(t=this.mark)==null?void 0:t.style},this.label)}});var fZ=De(dZ,[["__file","/home/runner/work/element-plus/element-plus/packages/components/slider/src/marker.vue"]]);const hZ=t=>k(()=>t.marks?Object.keys(t.marks).map(parseFloat).sort((n,r)=>n-r).filter(n=>n<=t.max&&n>=t.min).map(n=>({point:n,position:(n-t.min)*100/(t.max-t.min),mark:t.marks[n]})):[]),pZ=(t,e,n)=>{const r=Ke(Wr,{}),i=Ke(ni,{}),o=Ln(null),s=F(null),a=F(null),l={firstButton:s,secondButton:a},u=k(()=>t.disabled||r.disabled||!1),c=k(()=>Math.min(e.firstValue,e.secondValue)),d=k(()=>Math.max(e.firstValue,e.secondValue)),f=k(()=>t.range?`${100*(d.value-c.value)/(t.max-t.min)}%`:`${100*(e.firstValue-t.min)/(t.max-t.min)}%`),h=k(()=>t.range?`${100*(c.value-t.min)/(t.max-t.min)}%`:"0%"),m=k(()=>t.vertical?{height:t.height}:{}),g=k(()=>t.vertical?{height:f.value,bottom:h.value}:{width:f.value,left:h.value}),p=()=>{o.value&&(e.sliderSize=o.value[`client${t.vertical?"Height":"Width"}`])},v=M=>{const T=t.min+M*(t.max-t.min)/100;if(!t.range){s.value.setPosition(M);return}let N;Math.abs(c.value-T)<Math.abs(d.value-T)?N=e.firstValue<e.secondValue?"firstButton":"secondButton":N=e.firstValue>e.secondValue?"firstButton":"secondButton",l[N].value.setPosition(M)},y=M=>{e.firstValue=M,_(t.range?[c.value,d.value]:M)},w=M=>{e.secondValue=M,t.range&&_([c.value,d.value])},_=M=>{n(bt,M),n(os,M)},b=async()=>{await et(),n(zn,t.range?[c.value,d.value]:t.modelValue)};return{elFormItem:i,slider:o,firstButton:s,secondButton:a,sliderDisabled:u,minValue:c,maxValue:d,runwayStyle:m,barStyle:g,resetSize:p,setPosition:v,emitChange:b,onSliderClick:M=>{if(!(u.value||e.dragging)){if(p(),t.vertical){const T=o.value.getBoundingClientRect().bottom;v((T-M.clientY)/e.sliderSize*100)}else{const T=o.value.getBoundingClientRect().left;v((M.clientX-T)/e.sliderSize*100)}b()}},setFirstValue:y,setSecondValue:w}},mZ=(t,e,n,r)=>({stops:k(()=>{if(!t.showStops||t.min>t.max)return[];if(t.step===0)return[];const s=(t.max-t.min)/t.step,a=100*t.step/(t.max-t.min),l=Array.from({length:s-1}).map((u,c)=>(c+1)*a);return t.range?l.filter(u=>u<100*(n.value-t.min)/(t.max-t.min)||u>100*(r.value-t.min)/(t.max-t.min)):l.filter(u=>u>100*(e.firstValue-t.min)/(t.max-t.min))}),getStopStyle:s=>t.vertical?{bottom:`${s}%`}:{left:`${s}%`}}),gZ=pe({name:"ElSlider",components:{ElInputNumber:Kx,SliderButton:cZ,SliderMarker:fZ},props:{modelValue:{type:[Number,Array],default:0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},showInput:{type:Boolean,default:!1},showInputControls:{type:Boolean,default:!0},size:{type:String,validator:Hr},inputSize:{type:String,validator:Hr},showStops:{type:Boolean,default:!1},showTooltip:{type:Boolean,default:!0},formatTooltip:{type:Function,default:void 0},disabled:{type:Boolean,default:!1},range:{type:Boolean,default:!1},vertical:{type:Boolean,default:!1},height:{type:String,default:""},debounce:{type:Number,default:300},label:{type:String,default:void 0},tooltipClass:{type:String,default:void 0},marks:Object},emits:[bt,zn,os],setup(t,{emit:e}){const n=$e("slider"),r=Ot({firstValue:0,secondValue:0,oldValue:0,dragging:!1,sliderSize:1}),{elFormItem:i,slider:o,firstButton:s,secondButton:a,sliderDisabled:l,minValue:u,maxValue:c,runwayStyle:d,barStyle:f,resetSize:h,emitChange:m,onSliderClick:g,setFirstValue:p,setSecondValue:v}=pZ(t,r,e),{stops:y,getStopStyle:w}=mZ(t,r,u,c),_=Pn(),b=k(()=>t.inputSize||_.value),S=k(()=>[n.b(),n.m(_.value),n.is("vertical",t.vertical),{[n.m("with-input")]:t.showInput}]),M=hZ(t);vZ(t,r,u,c,e,i);const T=k(()=>{const L=[t.min,t.max,t.step].map(A=>{const P=`${A}`.split(".")[1];return P?P.length:0});return Math.max.apply(null,L)}),{sliderWrapper:N}=yZ(t,r,h),{firstValue:I,secondValue:x,oldValue:R,dragging:O,sliderSize:D}=Bn(r),B=L=>{r.dragging=L};return Ct("SliderProvider",Ue(Ee({},Bn(t)),{sliderSize:D,disabled:l,precision:T,emitChange:m,resetSize:h,updateDragging:B})),{ns:n,firstValue:I,secondValue:x,oldValue:R,dragging:O,sliderSize:D,slider:o,firstButton:s,secondButton:a,sliderDisabled:l,runwayStyle:d,barStyle:f,emitChange:m,onSliderClick:g,getStopStyle:w,setFirstValue:p,setSecondValue:v,stops:y,markList:M,sliderWrapper:N,sliderWrapperSize:_,sliderInputSize:b,sliderKls:S}}}),vZ=(t,e,n,r,i,o)=>{const s=u=>{i(bt,u),i(os,u)},a=()=>t.range?![n.value,r.value].every((u,c)=>u===e.oldValue[c]):t.modelValue!==e.oldValue,l=()=>{var u,c;if(t.min>t.max){kn("Slider","min should not be greater than max.");return}const d=t.modelValue;t.range&&Array.isArray(d)?d[1]<t.min?s([t.min,t.min]):d[0]>t.max?s([t.max,t.max]):d[0]<t.min?s([t.min,d[1]]):d[1]>t.max?s([d[0],t.max]):(e.firstValue=d[0],e.secondValue=d[1],a()&&((u=o.validate)==null||u.call(o,"change").catch(f=>void 0),e.oldValue=d.slice())):!t.range&&typeof d=="number"&&!Number.isNaN(d)&&(d<t.min?s(t.min):d>t.max?s(t.max):(e.firstValue=d,a()&&((c=o.validate)==null||c.call(o,"change").catch(f=>void 0),e.oldValue=d)))};l(),Me(()=>e.dragging,u=>{u||l()}),Me(()=>t.modelValue,(u,c)=>{e.dragging||Array.isArray(u)&&Array.isArray(c)&&u.every((d,f)=>d===c[f])&&e.firstValue===u[0]&&e.secondValue===u[1]||l()},{deep:!0}),Me(()=>[t.min,t.max],()=>{l()})},yZ=(t,e,n)=>{const r=F(null);return ft(async()=>{let i;t.range?(Array.isArray(t.modelValue)?(e.firstValue=Math.max(t.min,t.modelValue[0]),e.secondValue=Math.min(t.max,t.modelValue[1])):(e.firstValue=t.min,e.secondValue=t.max),e.oldValue=[e.firstValue,e.secondValue],i=`${e.firstValue}-${e.secondValue}`):(typeof t.modelValue!="number"||Number.isNaN(t.modelValue)?e.firstValue=t.min:e.firstValue=Math.min(t.max,Math.max(t.min,t.modelValue)),e.oldValue=e.firstValue,i=e.firstValue),r.value.setAttribute("aria-valuetext",i),r.value.setAttribute("aria-label",t.label?t.label:`slider between ${t.min} and ${t.max}`),sn(window,"resize",n),await et(),n()}),rn(()=>{wn(window,"resize",n)}),{sliderWrapper:r}},bZ=["aria-valuemin","aria-valuemax","aria-orientation","aria-disabled"],wZ={key:1};function _Z(t,e,n,r,i,o){const s=ve("slider-button"),a=ve("slider-marker"),l=ve("el-input-number");return E(),V("div",{ref:"sliderWrapper",class:$(t.sliderKls),role:"slider","aria-valuemin":t.min,"aria-valuemax":t.max,"aria-orientation":t.vertical?"vertical":"horizontal","aria-disabled":t.sliderDisabled},[G("div",{ref:"slider",class:$([t.ns.e("runway"),{"show-input":t.showInput&&!t.range},t.ns.is("disabled",t.sliderDisabled)]),style:Ye(t.runwayStyle),onClick:e[0]||(e[0]=(...u)=>t.onSliderClick&&t.onSliderClick(...u))},[G("div",{class:$(t.ns.e("bar")),style:Ye(t.barStyle)},null,6),Z(s,{ref:"firstButton","model-value":t.firstValue,vertical:t.vertical,"tooltip-class":t.tooltipClass,"onUpdate:modelValue":t.setFirstValue},null,8,["model-value","vertical","tooltip-class","onUpdate:modelValue"]),t.range?(E(),fe(s,{key:0,ref:"secondButton","model-value":t.secondValue,vertical:t.vertical,"tooltip-class":t.tooltipClass,"onUpdate:modelValue":t.setSecondValue},null,8,["model-value","vertical","tooltip-class","onUpdate:modelValue"])):ue("v-if",!0),t.showStops?(E(),V("div",wZ,[(E(!0),V(Ze,null,xt(t.stops,(u,c)=>(E(),V("div",{key:c,class:$(t.ns.e("stop")),style:Ye(t.getStopStyle(u))},null,6))),128))])):ue("v-if",!0),t.markList.length>0?(E(),V(Ze,{key:2},[G("div",null,[(E(!0),V(Ze,null,xt(t.markList,(u,c)=>(E(),V("div",{key:c,style:Ye(t.getStopStyle(u.position)),class:$([t.ns.e("stop"),t.ns.e("marks-stop")])},null,6))),128))]),G("div",{class:$(t.ns.e("marks"))},[(E(!0),V(Ze,null,xt(t.markList,(u,c)=>(E(),fe(a,{key:c,mark:u.mark,style:Ye(t.getStopStyle(u.position))},null,8,["mark","style"]))),128))],2)],64)):ue("v-if",!0)],6),t.showInput&&!t.range?(E(),fe(l,{key:0,ref:"input","model-value":t.firstValue,class:$(t.ns.e("input")),step:t.step,disabled:t.sliderDisabled,controls:t.showInputControls,min:t.min,max:t.max,debounce:t.debounce,size:t.sliderInputSize,"onUpdate:modelValue":t.setFirstValue,onChange:t.emitChange},null,8,["model-value","class","step","disabled","controls","min","max","debounce","size","onUpdate:modelValue","onChange"])):ue("v-if",!0)],10,bZ)}var yf=De(gZ,[["render",_Z],["__file","/home/runner/work/element-plus/element-plus/packages/components/slider/src/index.vue"]]);yf.install=t=>{t.component(yf.name,yf)};const SZ=yf,CZ=SZ,MZ=Je({prefixCls:{type:String,default:""}}),xZ=pe({props:MZ,setup(t){const e=$e("space");return{classes:k(()=>`${t.prefixCls||e.b()}__item`)}}});function EZ(t,e,n,r,i,o){return E(),V("div",{class:$(t.classes)},[Ce(t.$slots,"default")],2)}var gw=De(xZ,[["render",EZ],["__file","/home/runner/work/element-plus/element-plus/packages/components/space/src/item.vue"]]);const vw={small:8,default:12,large:16};function TZ(t){const e=$e("space"),n=k(()=>[e.b(),e.m(t.direction),t.class]),r=F(0),i=F(0),o=k(()=>{const a=t.wrap||t.fill?{flexWrap:"wrap",marginBottom:`-${i.value}px`}:{},l={alignItems:t.alignment};return[a,l,t.style]}),s=k(()=>{const a={paddingBottom:`${i.value}px`,marginRight:`${r.value}px`},l=t.fill?{flexGrow:1,minWidth:`${t.fillRatio}%`}:{};return[a,l]});return Xr(()=>{const{size:a="small",wrap:l,direction:u,fill:c}=t;if(Array.isArray(a)){const[d=0,f=0]=a;r.value=d,i.value=f}else{let d;It(a)?d=a:d=vw[a]||vw.small,(l||c)&&u==="horizontal"?r.value=i.value=d:u==="horizontal"?(r.value=d,i.value=0):(i.value=d,r.value=0)}}),{classes:n,containerStyle:o,itemStyle:s}}const AZ=Je({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},class:{type:Fe([String,Object,Array]),default:""},style:{type:Fe([String,Array,Object]),default:""},alignment:{type:Fe(String),default:"center"},prefixCls:{type:String},spacer:{type:Fe([Object,String,Number,Array]),default:null,validator:t=>Mn(t)||It(t)||pt(t)},wrap:{type:Boolean,default:!1},fill:{type:Boolean,default:!1},fillRatio:{type:Number,default:100},size:{type:[String,Array,Number],values:Ki,validator:t=>It(t)||ct(t)&&t.length===2&&t.every(e=>It(e))}});var kZ=pe({name:"ElSpace",props:AZ,setup(t,{slots:e}){const{classes:n,containerStyle:r,itemStyle:i}=TZ(t);return()=>{var o;const{spacer:s,prefixCls:a,direction:l}=t,u=Ce(e,"default",{key:0},()=>[]);if(((o=u.children)!=null?o:[]).length===0)return null;if(ct(u.children)){let c=[];if(u.children.forEach((d,f)=>{NM(d)?ct(d.children)&&d.children.forEach((h,m)=>{c.push(Z(gw,{style:i.value,prefixCls:a,key:`nested-${m}`},{default:()=>[h]},qr.PROPS|qr.STYLE,["style","prefixCls"]))}):_B(d)&&c.push(Z(gw,{style:i.value,prefixCls:a,key:`LoopKey${f}`},{default:()=>[d]},qr.PROPS|qr.STYLE,["style","prefixCls"]))}),s){const d=c.length-1;c=c.reduce((f,h,m)=>{const g=[...f,h];return m!==d&&g.push(Z("span",{style:[i.value,l==="vertical"?"width: 100%":null],key:m},[Mn(s)?s:lt(s,qr.TEXT)],qr.STYLE)),g},[])}return Z("div",{class:n.value,style:r.value},c,qr.STYLE|qr.CLASS)}return u.children}}});const PZ=_t(kZ),LZ=pe({name:"ElSteps",props:{space:{type:[Number,String],default:""},active:{type:Number,default:0},direction:{type:String,default:"horizontal",validator:t=>["horizontal","vertical"].includes(t)},alignCenter:{type:Boolean,default:!1},simple:{type:Boolean,default:!1},finishStatus:{type:String,default:"finish",validator:t=>["wait","process","finish","error","success"].includes(t)},processStatus:{type:String,default:"process",validator:t=>["wait","process","finish","error","success"].includes(t)}},emits:[zn],setup(t,{emit:e}){const n=$e("steps"),r=F([]);return Me(r,()=>{r.value.forEach((i,o)=>{i.setIndex(o)})}),Ct("ElSteps",{props:t,steps:r}),Me(()=>t.active,(i,o)=>{e(zn,i,o)}),{steps:r,ns:n}}});function RZ(t,e,n,r,i,o){return E(),V("div",{class:$([t.ns.b(),t.ns.m(t.simple?"simple":t.direction)])},[Ce(t.$slots,"default")],2)}var IZ=De(LZ,[["render",RZ],["__file","/home/runner/work/element-plus/element-plus/packages/components/steps/src/index.vue"]]);const DZ=pe({name:"ElStep",components:{ElIcon:st,Close:ti,Check:bl},props:{title:{type:String,default:""},icon:{type:[String,Object],default:""},description:{type:String,default:""},status:{type:String,default:"",validator:t=>["","wait","process","finish","error","success"].includes(t)}},setup(t){const e=$e("step"),n=F(-1),r=F({}),i=F(""),o=Ke("ElSteps"),s=wt();ft(()=>{Me([()=>o.props.active,()=>o.props.processStatus,()=>o.props.finishStatus],([_])=>{y(_)},{immediate:!0})}),rn(()=>{o.steps.value=o.steps.value.filter(_=>_.uid!==s.uid)});const a=k(()=>t.status||i.value),l=k(()=>{const _=o.steps.value[n.value-1];return _?_.currentStatus:"wait"}),u=k(()=>o.props.alignCenter),c=k(()=>o.props.direction==="vertical"),d=k(()=>o.props.simple),f=k(()=>o.steps.value.length),h=k(()=>{var _;return((_=o.steps.value[f.value-1])==null?void 0:_.uid)===s.uid}),m=k(()=>d.value?"":o.props.space),g=k(()=>{const _={flexBasis:typeof m.value=="number"?`${m.value}px`:m.value?m.value:`${100/(f.value-(u.value?0:1))}%`};return c.value||h.value&&(_.maxWidth=`${100/f.value}%`),_}),p=_=>{n.value=_},v=_=>{let b=100;const S={};S.transitionDelay=`${150*n.value}ms`,_===o.props.processStatus?b=0:_==="wait"&&(b=0,S.transitionDelay=`${-150*n.value}ms`),S.borderWidth=b&&!d.value?"1px":0,S[o.props.direction==="vertical"?"height":"width"]=`${b}%`,r.value=S},y=_=>{_>n.value?i.value=o.props.finishStatus:_===n.value&&l.value!=="error"?i.value=o.props.processStatus:i.value="wait";const b=o.steps.value[f.value-1];b&&b.calcProgress(i.value)},w=Ot({uid:k(()=>s.uid),currentStatus:a,setIndex:p,calcProgress:v});return o.steps.value=[...o.steps.value,w],{ns:e,index:n,lineStyle:r,currentStatus:a,isCenter:u,isVertical:c,isSimple:d,isLast:h,space:m,style:g,parent:o,setIndex:p,calcProgress:v,updateStatus:y}}});function $Z(t,e,n,r,i,o){const s=ve("el-icon"),a=ve("check"),l=ve("close");return E(),V("div",{style:Ye(t.style),class:$([t.ns.b(),t.ns.is(t.isSimple?"simple":t.parent.props.direction),t.ns.is("flex",t.isLast&&!t.space&&!t.isCenter),t.ns.is("center",t.isCenter&&!t.isVertical&&!t.isSimple)])},[ue(" icon & line "),G("div",{class:$([t.ns.e("head"),t.ns.is(t.currentStatus)])},[t.isSimple?ue("v-if",!0):(E(),V("div",{key:0,class:$(t.ns.e("line"))},[G("i",{class:$(t.ns.e("line-inner")),style:Ye(t.lineStyle)},null,6)],2)),G("div",{class:$([t.ns.e("icon"),t.ns.is(t.icon?"icon":"text")])},[t.currentStatus!=="success"&&t.currentStatus!=="error"?Ce(t.$slots,"icon",{key:0},()=>[t.icon?(E(),fe(s,{key:0,class:$(t.ns.e("icon-inner"))},{default:X(()=>[(E(),fe(Pt(t.icon)))]),_:1},8,["class"])):ue("v-if",!0),!t.icon&&!t.isSimple?(E(),V("div",{key:1,class:$(t.ns.e("icon-inner"))},Pe(t.index+1),3)):ue("v-if",!0)]):(E(),fe(s,{key:1,class:$([t.ns.e("icon-inner"),t.ns.is("status")])},{default:X(()=>[t.currentStatus==="success"?(E(),fe(a,{key:0})):(E(),fe(l,{key:1}))]),_:1},8,["class"]))],2)],2),ue(" title & description "),G("div",{class:$(t.ns.e("main"))},[G("div",{class:$([t.ns.e("title"),t.ns.is(t.currentStatus)])},[Ce(t.$slots,"title",{},()=>[lt(Pe(t.title),1)])],2),t.isSimple?(E(),V("div",{key:0,class:$(t.ns.e("arrow"))},null,2)):(E(),V("div",{key:1,class:$([t.ns.e("description"),t.ns.is(t.currentStatus)])},[Ce(t.$slots,"description",{},()=>[lt(Pe(t.description),1)])],2))],2)],6)}var mE=De(DZ,[["render",$Z],["__file","/home/runner/work/element-plus/element-plus/packages/components/steps/src/item.vue"]]);const NZ=_t(IZ,{Step:mE}),OZ=pn(mE),FZ=Je({modelValue:{type:[Boolean,String,Number],default:!1},value:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},width:{type:Number,default:40},inlinePrompt:{type:Boolean,default:!1},activeIcon:{type:tr,default:""},inactiveIcon:{type:tr,default:""},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},borderColor:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},id:String,loading:{type:Boolean,default:!1},beforeChange:{type:Fe(Function)},size:{type:String,validator:Hr}}),BZ={[bt]:t=>Qn(t)||pt(t)||It(t),[zn]:t=>Qn(t)||pt(t)||It(t),[os]:t=>Qn(t)||pt(t)||It(t)},yw="ElSwitch",zZ=pe({name:yw,components:{ElIcon:st,Loading:us},props:FZ,emits:BZ,setup(t,{emit:e}){const{formItem:n}=Wl(),r=Ul(k(()=>t.loading)),i=$e("switch"),o=Pn(),s=F(t.modelValue!==!1),a=F(),l=F(),u=k(()=>[i.b(),i.m(o.value),i.is("disabled",r.value),i.is("checked",d.value)]);Me(()=>t.modelValue,()=>{s.value=!0}),Me(()=>t.value,()=>{s.value=!1});const c=k(()=>s.value?t.modelValue:t.value),d=k(()=>c.value===t.activeValue);[t.activeValue,t.inactiveValue].includes(c.value)||(e(bt,t.inactiveValue),e(zn,t.inactiveValue),e(os,t.inactiveValue)),Me(d,()=>{var p;a.value.checked=d.value,(t.activeColor||t.inactiveColor)&&m(),t.validateEvent&&((p=n==null?void 0:n.validate)==null||p.call(n,"change").catch(v=>void 0))});const f=()=>{const p=d.value?t.inactiveValue:t.activeValue;e(bt,p),e(zn,p),e(os,p),et(()=>{a.value.checked=d.value})},h=()=>{if(r.value)return;const{beforeChange:p}=t;if(!p){f();return}const v=p();[ea(v),Qn(v)].some(w=>w)||kn(yw,"beforeChange must return type `Promise<boolean>` or `boolean`"),ea(v)?v.then(w=>{w&&f()}).catch(w=>{}):v&&f()},m=()=>{const p=d.value?t.activeColor:t.inactiveColor,v=l.value;t.borderColor?v.style.borderColor=t.borderColor:t.borderColor||(v.style.borderColor=p),v.style.backgroundColor=p,v.children[0].style.color=p},g=()=>{var p,v;(v=(p=a.value)==null?void 0:p.focus)==null||v.call(p)};return ft(()=>{(t.activeColor||t.inactiveColor||t.borderColor)&&m(),a.value.checked=d.value}),{ns:i,input:a,core:l,switchDisabled:r,checked:d,switchKls:u,handleChange:f,switchValue:h,focus:g}}}),VZ=["aria-checked","aria-disabled"],HZ=["id","name","true-value","false-value","disabled"],UZ=["aria-hidden"],WZ=["aria-hidden"],GZ=["aria-hidden"],jZ=["aria-hidden"];function KZ(t,e,n,r,i,o){const s=ve("el-icon"),a=ve("loading");return E(),V("div",{class:$(t.switchKls),role:"switch","aria-checked":t.checked,"aria-disabled":t.switchDisabled,onClick:e[2]||(e[2]=ot((...l)=>t.switchValue&&t.switchValue(...l),["prevent"]))},[G("input",{id:t.id,ref:"input",class:$(t.ns.e("input")),type:"checkbox",name:t.name,"true-value":t.activeValue,"false-value":t.inactiveValue,disabled:t.switchDisabled,onChange:e[0]||(e[0]=(...l)=>t.handleChange&&t.handleChange(...l)),onKeydown:e[1]||(e[1]=Mt((...l)=>t.switchValue&&t.switchValue(...l),["enter"]))},null,42,HZ),!t.inlinePrompt&&(t.inactiveIcon||t.inactiveText)?(E(),V("span",{key:0,class:$([t.ns.e("label"),t.ns.em("label","left"),t.ns.is("active",!t.checked)])},[t.inactiveIcon?(E(),fe(s,{key:0},{default:X(()=>[(E(),fe(Pt(t.inactiveIcon)))]),_:1})):ue("v-if",!0),!t.inactiveIcon&&t.inactiveText?(E(),V("span",{key:1,"aria-hidden":t.checked},Pe(t.inactiveText),9,UZ)):ue("v-if",!0)],2)):ue("v-if",!0),G("span",{ref:"core",class:$(t.ns.e("core")),style:Ye({width:(t.width||40)+"px"})},[t.inlinePrompt?(E(),V("div",{key:0,class:$(t.ns.e("inner"))},[t.activeIcon||t.inactiveIcon?(E(),V(Ze,{key:0},[t.activeIcon?(E(),fe(s,{key:0,class:$([t.ns.is("icon"),t.checked?t.ns.is("show"):t.ns.is("hide")])},{default:X(()=>[(E(),fe(Pt(t.activeIcon)))]),_:1},8,["class"])):ue("v-if",!0),t.inactiveIcon?(E(),fe(s,{key:1,class:$([t.ns.is("icon"),t.checked?t.ns.is("hide"):t.ns.is("show")])},{default:X(()=>[(E(),fe(Pt(t.inactiveIcon)))]),_:1},8,["class"])):ue("v-if",!0)],64)):t.activeText||t.inactiveIcon?(E(),V(Ze,{key:1},[t.activeText?(E(),V("span",{key:0,class:$([t.ns.is("text"),t.checked?t.ns.is("show"):t.ns.is("hide")]),"aria-hidden":!t.checked},Pe(t.activeText.substring(0,3)),11,WZ)):ue("v-if",!0),t.inactiveText?(E(),V("span",{key:1,class:$([t.ns.is("text"),t.checked?t.ns.is("hide"):t.ns.is("show")]),"aria-hidden":t.checked},Pe(t.inactiveText.substring(0,3)),11,GZ)):ue("v-if",!0)],64)):ue("v-if",!0)],2)):ue("v-if",!0),G("div",{class:$(t.ns.e("action"))},[t.loading?(E(),fe(s,{key:0,class:$(t.ns.is("loading"))},{default:X(()=>[Z(a)]),_:1},8,["class"])):ue("v-if",!0)],2)],6),!t.inlinePrompt&&(t.activeIcon||t.activeText)?(E(),V("span",{key:1,class:$([t.ns.e("label"),t.ns.em("label","right"),t.ns.is("active",t.checked)])},[t.activeIcon?(E(),fe(s,{key:0},{default:X(()=>[(E(),fe(Pt(t.activeIcon)))]),_:1})):ue("v-if",!0),!t.activeIcon&&t.activeText?(E(),V("span",{key:1,"aria-hidden":!t.checked},Pe(t.activeText),9,jZ)):ue("v-if",!0)],2)):ue("v-if",!0)],10,VZ)}var qZ=De(zZ,[["render",KZ],["__file","/home/runner/work/element-plus/element-plus/packages/components/switch/src/switch.vue"]]);const YZ=_t(qZ);/*!
 * escape-html
 * Copyright(c) 2012-2013 TJ Holowaychuk
 * Copyright(c) 2015 Andreas Lubbe
 * Copyright(c) 2015 Tiancheng "Timothy" Gu
 * MIT Licensed
 */var XZ=/["'&<>]/,ZZ=JZ;function JZ(t){var e=""+t,n=XZ.exec(e);if(!n)return e;var r,i="",o=0,s=0;for(o=n.index;o<e.length;o++){switch(e.charCodeAt(o)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 39:r="&#39;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}s!==o&&(i+=e.substring(s,o)),s=o+1,i+=r}return s!==o?i+e.substring(s,o):i}const Vp=function(t){let e=t.target;for(;e&&e.tagName.toUpperCase()!=="HTML";){if(e.tagName.toUpperCase()==="TD")return e;e=e.parentNode}return null},bw=function(t){return t!==null&&typeof t=="object"},QZ=function(t,e,n,r,i){if(!e&&!r&&(!i||Array.isArray(i)&&!i.length))return t;typeof n=="string"?n=n==="descending"?-1:1:n=n&&n<0?-1:1;const o=r?null:function(a,l){return i?(Array.isArray(i)||(i=[i]),i.map(u=>typeof u=="string"?cn(a,u):u(a,l,t))):(e!=="$key"&&bw(a)&&"$value"in a&&(a=a.$value),[bw(a)?cn(a,e):a])},s=function(a,l){if(r)return r(a.value,l.value);for(let u=0,c=a.key.length;u<c;u++){if(a.key[u]<l.key[u])return-1;if(a.key[u]>l.key[u])return 1}return 0};return t.map((a,l)=>({value:a,index:l,key:o?o(a,l):null})).sort((a,l)=>{let u=s(a,l);return u||(u=a.index-l.index),u*+n}).map(a=>a.value)},gE=function(t,e){let n=null;return t.columns.forEach(r=>{r.id===e&&(n=r)}),n},eJ=function(t,e){let n=null;for(let r=0;r<t.columns.length;r++){const i=t.columns[r];if(i.columnKey===e){n=i;break}}return n},ww=function(t,e,n){const r=(e.className||"").match(new RegExp(`${n}-table_[^\\s]+`,"gm"));return r?gE(t,r[0]):null},Zn=(t,e)=>{if(!t)throw new Error("Row is required when get row identity");if(typeof e=="string"){if(!e.includes("."))return`${t[e]}`;const n=e.split(".");let r=t;for(const i of n)r=r[i];return`${r}`}else if(typeof e=="function")return e.call(null,t)},Vs=function(t,e){const n={};return(t||[]).forEach((r,i)=>{n[Zn(r,e)]={row:r,index:i}}),n};function tJ(t,e){const n={};let r;for(r in t)n[r]=t[r];for(r in e)if(Et(e,r)){const i=e[r];typeof i!="undefined"&&(n[r]=i)}return n}function I0(t){return t===""||t!==void 0&&(t=Number.parseInt(t,10),Number.isNaN(t)&&(t="")),t}function vE(t){return t===""||t!==void 0&&(t=I0(t),Number.isNaN(t)&&(t=80)),t}function Og(t){return typeof t=="number"?t:typeof t=="string"?/^\d+(?:px)?$/.test(t)?Number.parseInt(t,10):t:null}function nJ(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function bf(t,e,n){let r=!1;const i=t.indexOf(e),o=i!==-1,s=()=>{t.push(e),r=!0},a=()=>{t.splice(i,1),r=!0};return typeof n=="boolean"?n&&!o?s():!n&&o&&a():o?a():s(),r}function rJ(t,e,n="children",r="hasChildren"){const i=s=>!(Array.isArray(s)&&s.length);function o(s,a,l){e(s,a,l),a.forEach(u=>{if(u[r]){e(u,null,l+1);return}const c=u[n];i(c)||o(u,c,l+1)})}t.forEach(s=>{if(s[r]){e(s,null,0);return}const a=s[n];i(a)||o(s,a,0)})}let Qf;function iJ(t,e,n,r){const{nextZIndex:i}=To();function o(){const d=r==="light",f=document.createElement("div");return f.className=`el-popper ${d?"is-light":"is-dark"}`,e=ZZ(e),f.innerHTML=e,f.style.zIndex=String(i()),document.body.appendChild(f),f}function s(){const d=document.createElement("div");return d.className="el-popper__arrow",d}function a(){l&&l.update()}Qf=function d(){try{l&&l.destroy(),u&&document.body.removeChild(u),wn(t,"mouseenter",a),wn(t,"mouseleave",d)}catch{}};let l=null;const u=o(),c=s();return u.appendChild(c),l=x2(t,u,Ee({modifiers:[{name:"offset",options:{offset:[0,8]}},{name:"arrow",options:{element:c,padding:10}}]},n)),sn(t,"mouseenter",a),sn(t,"mouseleave",Qf),l}const yE=(t,e,n,r)=>{let i=0,o=t;if(r){if(r[t].colSpan>1)return{};for(let l=0;l<t;l++)i+=r[l].colSpan;o=i+r[t].colSpan-1}else i=t;let s;const a=n.states.columns;switch(e){case"left":o<n.states.fixedLeafColumnsLength.value&&(s="left");break;case"right":i>=a.value.length-n.states.rightFixedLeafColumnsLength.value&&(s="right");break;default:o<n.states.fixedLeafColumnsLength.value?s="left":i>=a.value.length-n.states.rightFixedLeafColumnsLength.value&&(s="right")}return s?{direction:s,start:i,after:o}:{}},D0=(t,e,n,r,i)=>{const o=[],{direction:s,start:a}=yE(e,n,r,i);if(s){const l=s==="left";o.push(`${t}-fixed-column--${s}`),l&&a===r.states.fixedLeafColumnsLength.value-1?o.push("is-last-column"):!l&&a===r.states.columns.value.length-r.states.rightFixedLeafColumnsLength.value&&o.push("is-first-column")}return o};function _w(t,e){return t+(e.realWidth===null||Number.isNaN(e.realWidth)?Number(e.width):e.realWidth)}const $0=(t,e,n,r)=>{const{direction:i,start:o=0}=yE(t,e,n,r);if(!i)return;const s={},a=i==="left",l=n.states.columns.value;return a?s.left=l.slice(0,t).reduce(_w,0):s.right=l.slice(o+1).reverse().reduce(_w,0),s},Al=(t,e)=>{!t||Number.isNaN(t[e])||(t[e]=`${t[e]}px`)};function oJ(t){const e=wt(),n=F(!1),r=F([]);return{updateExpandRows:()=>{const l=t.data.value||[],u=t.rowKey.value;if(n.value)r.value=l.slice();else if(u){const c=Vs(r.value,u);r.value=l.reduce((d,f)=>{const h=Zn(f,u);return c[h]&&d.push(f),d},[])}else r.value=[]},toggleRowExpansion:(l,u)=>{bf(r.value,l,u)&&e.emit("expand-change",l,r.value.slice())},setExpandRowKeys:l=>{e.store.assertRowKey();const u=t.data.value||[],c=t.rowKey.value,d=Vs(u,c);r.value=l.reduce((f,h)=>{const m=d[h];return m&&f.push(m.row),f},[])},isRowExpanded:l=>{const u=t.rowKey.value;return u?!!Vs(r.value,u)[Zn(l,u)]:r.value.includes(l)},states:{expandRows:r,defaultExpandAll:n}}}function sJ(t){const e=wt(),n=F(null),r=F(null),i=u=>{e.store.assertRowKey(),n.value=u,s(u)},o=()=>{n.value=null},s=u=>{const{data:c,rowKey:d}=t;let f=null;d.value&&(f=(C(c)||[]).find(h=>Zn(h,d.value)===u)),r.value=f};return{setCurrentRowKey:i,restoreCurrentRowKey:o,setCurrentRowByKey:s,updateCurrentRow:u=>{const c=r.value;if(u&&u!==c){r.value=u,e.emit("current-change",r.value,c);return}!u&&c&&(r.value=null,e.emit("current-change",null,c))},updateCurrentRowData:()=>{const u=t.rowKey.value,c=t.data.value||[],d=r.value;if(!c.includes(d)&&d){if(u){const f=Zn(d,u);s(f)}else r.value=null;r.value===null&&e.emit("current-change",null,d)}else n.value&&(s(n.value),o())},states:{_currentRowKey:n,currentRow:r}}}function aJ(t){const e=F([]),n=F({}),r=F(16),i=F(!1),o=F({}),s=F("hasChildren"),a=F("children"),l=wt(),u=k(()=>{if(!t.rowKey.value)return{};const v=t.data.value||[];return d(v)}),c=k(()=>{const v=t.rowKey.value,y=Object.keys(o.value),w={};return y.length&&y.forEach(_=>{if(o.value[_].length){const b={children:[]};o.value[_].forEach(S=>{const M=Zn(S,v);b.children.push(M),S[s.value]&&!w[M]&&(w[M]={children:[]})}),w[_]=b}}),w}),d=v=>{const y=t.rowKey.value,w={};return rJ(v,(_,b,S)=>{const M=Zn(_,y);Array.isArray(b)?w[M]={children:b.map(T=>Zn(T,y)),level:S}:i.value&&(w[M]={children:[],lazy:!0,level:S})},a.value,s.value),w},f=(v=!1,y=(w=>(w=l.store)==null?void 0:w.states.defaultExpandAll.value)())=>{var w;const _=u.value,b=c.value,S=Object.keys(_),M={};if(S.length){const T=C(n),N=[],I=(R,O)=>{if(v)return e.value?y||e.value.includes(O):!!(y||(R==null?void 0:R.expanded));{const D=y||e.value&&e.value.includes(O);return!!((R==null?void 0:R.expanded)||D)}};S.forEach(R=>{const O=T[R],D=Ee({},_[R]);if(D.expanded=I(O,R),D.lazy){const{loaded:B=!1,loading:L=!1}=O||{};D.loaded=!!B,D.loading=!!L,N.push(R)}M[R]=D});const x=Object.keys(b);i.value&&x.length&&N.length&&x.forEach(R=>{const O=T[R],D=b[R].children;if(N.includes(R)){if(M[R].children.length!==0)throw new Error("[ElTable]children must be an empty array.");M[R].children=D}else{const{loaded:B=!1,loading:L=!1}=O||{};M[R]={lazy:!0,loaded:!!B,loading:!!L,expanded:I(O,R),children:D,level:""}}})}n.value=M,(w=l.store)==null||w.updateTableScrollY()};Me(()=>e.value,()=>{f(!0)}),Me(()=>u.value,()=>{f()}),Me(()=>c.value,()=>{f()});const h=v=>{e.value=v,f()},m=(v,y)=>{l.store.assertRowKey();const w=t.rowKey.value,_=Zn(v,w),b=_&&n.value[_];if(_&&b&&"expanded"in b){const S=b.expanded;y=typeof y=="undefined"?!b.expanded:y,n.value[_].expanded=y,S!==y&&l.emit("expand-change",v,y),l.store.updateTableScrollY()}},g=v=>{l.store.assertRowKey();const y=t.rowKey.value,w=Zn(v,y),_=n.value[w];i.value&&_&&"loaded"in _&&!_.loaded?p(v,w,_):m(v,void 0)},p=(v,y,w)=>{const{load:_}=l.props;_&&!n.value[y].loaded&&(n.value[y].loading=!0,_(v,w,b=>{if(!Array.isArray(b))throw new TypeError("[ElTable] data must be an array");n.value[y].loading=!1,n.value[y].loaded=!0,n.value[y].expanded=!0,b.length&&(o.value[y]=b),l.emit("expand-change",v,!0)}))};return{loadData:p,loadOrToggle:g,toggleTreeExpansion:m,updateTreeExpandKeys:h,updateTreeData:f,normalize:d,states:{expandRowKeys:e,treeData:n,indent:r,lazy:i,lazyTreeNodeMap:o,lazyColumnIdentifier:s,childrenColumnName:a}}}const lJ=(t,e)=>{const n=e.sortingColumn;return!n||typeof n.sortable=="string"?t:QZ(t,e.sortProp,e.sortOrder,n.sortMethod,n.sortBy)},wf=t=>{const e=[];return t.forEach(n=>{n.children?e.push.apply(e,wf(n.children)):e.push(n)}),e};function uJ(){var t;const e=wt(),{size:n}=Bn((t=e.proxy)==null?void 0:t.$props),r=F(null),i=F([]),o=F([]),s=F(!1),a=F([]),l=F([]),u=F([]),c=F([]),d=F([]),f=F([]),h=F([]),m=F([]),g=F(0),p=F(0),v=F(0),y=F(!1),w=F([]),_=F(!1),b=F(!1),S=F(null),M=F({}),T=F(null),N=F(null),I=F(null),x=F(null),R=F(null);Me(i,()=>e.state&&B(!1),{deep:!0});const O=()=>{if(!r.value)throw new Error("[ElTable] prop row-key is required")},D=()=>{c.value=a.value.filter(xe=>xe.fixed===!0||xe.fixed==="left"),d.value=a.value.filter(xe=>xe.fixed==="right"),c.value.length>0&&a.value[0]&&a.value[0].type==="selection"&&!a.value[0].fixed&&(a.value[0].fixed=!0,c.value.unshift(a.value[0]));const Ne=a.value.filter(xe=>!xe.fixed);l.value=[].concat(c.value).concat(Ne).concat(d.value);const Y=wf(Ne),_e=wf(c.value),ge=wf(d.value);g.value=Y.length,p.value=_e.length,v.value=ge.length,u.value=[].concat(_e).concat(Y).concat(ge),s.value=c.value.length>0||d.value.length>0},B=(Ne,Y=!1)=>{Ne&&D(),Y?e.state.doLayout():e.state.debouncedUpdateLayout()},L=Ne=>w.value.includes(Ne),A=()=>{y.value=!1,w.value.length&&(w.value=[],e.emit("selection-change",[]))},P=()=>{let Ne;if(r.value){Ne=[];const Y=Vs(w.value,r.value),_e=Vs(i.value,r.value);for(const ge in Y)Et(Y,ge)&&!_e[ge]&&Ne.push(Y[ge].row)}else Ne=w.value.filter(Y=>!i.value.includes(Y));if(Ne.length){const Y=w.value.filter(_e=>!Ne.includes(_e));w.value=Y,e.emit("selection-change",Y.slice())}},W=()=>(w.value||[]).slice(),K=(Ne,Y=void 0,_e=!0)=>{if(bf(w.value,Ne,Y)){const xe=(w.value||[]).slice();_e&&e.emit("select",xe,Ne),e.emit("selection-change",xe)}},te=()=>{var Ne,Y;const _e=b.value?!y.value:!(y.value||w.value.length);y.value=_e;let ge=!1,xe=0;const ie=(Y=(Ne=e==null?void 0:e.store)==null?void 0:Ne.states)==null?void 0:Y.rowKey.value;i.value.forEach((He,We)=>{const rt=We+xe;S.value?S.value.call(null,He,rt)&&bf(w.value,He,_e)&&(ge=!0):bf(w.value,He,_e)&&(ge=!0),xe+=Te(Zn(He,ie))}),ge&&e.emit("selection-change",w.value?w.value.slice():[]),e.emit("select-all",w.value)},J=()=>{const Ne=Vs(w.value,r.value);i.value.forEach(Y=>{const _e=Zn(Y,r.value),ge=Ne[_e];ge&&(w.value[ge.index]=Y)})},se=()=>{var Ne,Y,_e;if(((Ne=i.value)==null?void 0:Ne.length)===0){y.value=!1;return}let ge;r.value&&(ge=Vs(w.value,r.value));const xe=function(rt){return ge?!!ge[Zn(rt,r.value)]:w.value.includes(rt)};let ie=!0,He=0,We=0;for(let rt=0,tt=(i.value||[]).length;rt<tt;rt++){const vt=(_e=(Y=e==null?void 0:e.store)==null?void 0:Y.states)==null?void 0:_e.rowKey.value,Qe=rt+We,yt=i.value[rt],Kt=S.value&&S.value.call(null,yt,Qe);if(xe(yt))He++;else if(!S.value||Kt){ie=!1;break}We+=Te(Zn(yt,vt))}He===0&&(ie=!1),y.value=ie},Te=Ne=>{var Y;if(!e||!e.store)return 0;const{treeData:_e}=e.store.states;let ge=0;const xe=(Y=_e.value[Ne])==null?void 0:Y.children;return xe&&(ge+=xe.length,xe.forEach(ie=>{ge+=Te(ie)})),ge},Le=(Ne,Y)=>{Array.isArray(Ne)||(Ne=[Ne]);const _e={};return Ne.forEach(ge=>{M.value[ge.id]=Y,_e[ge.columnKey||ge.id]=Y}),_e},q=(Ne,Y,_e)=>{N.value&&N.value!==Ne&&(N.value.order=null),N.value=Ne,I.value=Y,x.value=_e},re=()=>{let Ne=C(o);Object.keys(M.value).forEach(Y=>{const _e=M.value[Y];if(!_e||_e.length===0)return;const ge=gE({columns:u.value},Y);ge&&ge.filterMethod&&(Ne=Ne.filter(xe=>_e.some(ie=>ge.filterMethod.call(null,ie,xe,ge))))}),T.value=Ne},he=()=>{i.value=lJ(T.value,{sortingColumn:N.value,sortProp:I.value,sortOrder:x.value})},we=(Ne=void 0)=>{Ne&&Ne.filter||re(),he()},ye=Ne=>{const{tableHeaderRef:Y}=e.refs;if(!Y)return;const _e=Object.assign({},Y.filterPanels),ge=Object.keys(_e);if(!!ge.length)if(typeof Ne=="string"&&(Ne=[Ne]),Array.isArray(Ne)){const xe=Ne.map(ie=>eJ({columns:u.value},ie));ge.forEach(ie=>{const He=xe.find(We=>We.id===ie);He&&(He.filteredValue=[])}),e.store.commit("filterChange",{column:xe,values:[],silent:!0,multi:!0})}else ge.forEach(xe=>{const ie=u.value.find(He=>He.id===xe);ie&&(ie.filteredValue=[])}),M.value={},e.store.commit("filterChange",{column:{},values:[],silent:!0})},ze=()=>{!N.value||(q(null,null,null),e.store.commit("changeSortCondition",{silent:!0}))},{setExpandRowKeys:be,toggleRowExpansion:U,updateExpandRows:Q,states:de,isRowExpanded:me}=oJ({data:i,rowKey:r}),{updateTreeExpandKeys:Se,toggleTreeExpansion:Ae,updateTreeData:ee,loadOrToggle:le,states:ae}=aJ({data:i,rowKey:r}),{updateCurrentRowData:z,updateCurrentRow:H,setCurrentRowKey:j,states:ce}=sJ({data:i,rowKey:r});return{assertRowKey:O,updateColumns:D,scheduleLayout:B,isSelected:L,clearSelection:A,cleanSelection:P,getSelectionRows:W,toggleRowSelection:K,_toggleAllSelection:te,toggleAllSelection:null,updateSelectionByRowKey:J,updateAllSelected:se,updateFilters:Le,updateCurrentRow:H,updateSort:q,execFilter:re,execSort:he,execQuery:we,clearFilter:ye,clearSort:ze,toggleRowExpansion:U,setExpandRowKeysAdapter:Ne=>{be(Ne),Se(Ne)},setCurrentRowKey:j,toggleRowExpansionAdapter:(Ne,Y)=>{u.value.some(({type:ge})=>ge==="expand")?U(Ne,Y):Ae(Ne,Y)},isRowExpanded:me,updateExpandRows:Q,updateCurrentRowData:z,loadOrToggle:le,updateTreeData:ee,states:Ee(Ee(Ee({tableSize:n,rowKey:r,data:i,_data:o,isComplex:s,_columns:a,originColumns:l,columns:u,fixedColumns:c,rightFixedColumns:d,leafColumns:f,fixedLeafColumns:h,rightFixedLeafColumns:m,leafColumnsLength:g,fixedLeafColumnsLength:p,rightFixedLeafColumnsLength:v,isAllSelected:y,selection:w,reserveSelection:_,selectOnIndeterminate:b,selectable:S,filters:M,filteredData:T,sortingColumn:N,sortProp:I,sortOrder:x,hoverRow:R},de),ae),ce)}}function Fg(t,e){return t.map(n=>{var r;return n.id===e.id?e:((r=n.children)!=null&&r.length&&(n.children=Fg(n.children,e)),n)})}function bE(t){t.forEach(e=>{var n,r;e.no=(n=e.getColumnIndex)==null?void 0:n.call(e),(r=e.children)!=null&&r.length&&bE(e.children)}),t.sort((e,n)=>e.no-n.no)}function cJ(){const t=wt(),e=uJ(),n=$e("table"),r={setData(s,a){const l=C(s._data)!==a;s.data.value=a,s._data.value=a,t.store.execQuery(),t.store.updateCurrentRowData(),t.store.updateExpandRows(),t.store.updateTreeData(t.store.states.defaultExpandAll.value),C(s.reserveSelection)?(t.store.assertRowKey(),t.store.updateSelectionByRowKey()):l?t.store.clearSelection():t.store.cleanSelection(),t.store.updateAllSelected(),t.$ready&&t.store.scheduleLayout()},insertColumn(s,a,l){const u=C(s._columns);let c=[];l?(l&&!l.children&&(l.children=[]),l.children.push(a),c=Fg(u,l)):(u.push(a),c=u),bE(c),s._columns.value=c,a.type==="selection"&&(s.selectable.value=a.selectable,s.reserveSelection.value=a.reserveSelection),t.$ready&&(t.store.updateColumns(),t.store.scheduleLayout())},removeColumn(s,a,l){const u=C(s._columns)||[];if(l)l.children.splice(l.children.findIndex(c=>c.id===a.id),1),l.children.length===0&&delete l.children,s._columns.value=Fg(u,l);else{const c=u.indexOf(a);c>-1&&(u.splice(c,1),s._columns.value=u)}t.$ready&&(t.store.updateColumns(),t.store.scheduleLayout())},sort(s,a){const{prop:l,order:u,init:c}=a;if(l){const d=C(s.columns).find(f=>f.property===l);d&&(d.order=u,t.store.updateSort(d,l,u),t.store.commit("changeSortCondition",{init:c}))}},changeSortCondition(s,a){const{sortingColumn:l,sortProp:u,sortOrder:c}=s;C(c)===null&&(s.sortingColumn.value=null,s.sortProp.value=null);const d={filter:!0};t.store.execQuery(d),(!a||!(a.silent||a.init))&&t.emit("sort-change",{column:C(l),prop:C(u),order:C(c)}),t.store.updateTableScrollY()},filterChange(s,a){const{column:l,values:u,silent:c}=a,d=t.store.updateFilters(l,u);t.store.execQuery(),c||t.emit("filter-change",d),t.store.updateTableScrollY()},toggleAllSelection(){t.store.toggleAllSelection()},rowSelectedChanged(s,a){t.store.toggleRowSelection(a),t.store.updateAllSelected()},setHoverRow(s,a){s.hoverRow.value=a},setCurrentRow(s,a){t.store.updateCurrentRow(a)}},i=function(s,...a){const l=t.store.mutations;if(l[s])l[s].apply(t,[t.store.states].concat(a));else throw new Error(`Action not found: ${s}`)},o=function(){et(()=>t.layout.updateScrollY.apply(t.layout))};return Ue(Ee({ns:n},e),{mutations:r,commit:i,updateTableScrollY:o})}const Uu={rowKey:"rowKey",defaultExpandAll:"defaultExpandAll",selectOnIndeterminate:"selectOnIndeterminate",indent:"indent",lazy:"lazy",data:"data",["treeProps.hasChildren"]:{key:"lazyColumnIdentifier",default:"hasChildren"},["treeProps.children"]:{key:"childrenColumnName",default:"children"}};function dJ(t,e){if(!t)throw new Error("Table is required.");const n=cJ();return n.toggleAllSelection=_r(n._toggleAllSelection,10),Object.keys(Uu).forEach(r=>{wE(_E(e,r),r,n)}),fJ(n,e),n}function fJ(t,e){Object.keys(Uu).forEach(n=>{Me(()=>_E(e,n),r=>{wE(r,n,t)})})}function wE(t,e,n){let r=t,i=Uu[e];typeof Uu[e]=="object"&&(i=i.key,r=r||Uu[e].default),n.states[i].value=r}function _E(t,e){if(e.includes(".")){const n=e.split(".");let r=t;return n.forEach(i=>{r=r[i]}),r}else return t[e]}class hJ{constructor(e){this.observers=[],this.table=null,this.store=null,this.columns=[],this.fit=!0,this.showHeader=!0,this.height=F(null),this.scrollX=F(!1),this.scrollY=F(!1),this.bodyWidth=F(null),this.fixedWidth=F(null),this.rightFixedWidth=F(null),this.tableHeight=F(null),this.headerHeight=F(44),this.appendHeight=F(0),this.footerHeight=F(44),this.viewportHeight=F(null),this.bodyHeight=F(null),this.bodyScrollHeight=F(0),this.fixedBodyHeight=F(null),this.gutterWidth=0;for(const n in e)Et(e,n)&&(hn(this[n])?this[n].value=e[n]:this[n]=e[n]);if(!this.table)throw new Error("Table is required for Table Layout");if(!this.store)throw new Error("Store is required for Table Layout")}updateScrollY(){if(this.height.value===null)return!1;const n=this.table.refs.bodyWrapper;if(this.table.vnode.el&&n){let r=!0;const i=this.scrollY.value;return this.bodyHeight.value===null?r=!1:r=n.scrollHeight>this.bodyHeight.value,this.scrollY.value=r,i!==r}return!1}setHeight(e,n="height"){if(!Tt)return;const r=this.table.vnode.el;if(e=Og(e),this.height.value=Number(e),!r&&(e||e===0))return et(()=>this.setHeight(e,n));typeof e=="number"?(r.style[n]=`${e}px`,this.updateElsHeight()):typeof e=="string"&&(r.style[n]=e,this.updateElsHeight())}setMaxHeight(e){this.setHeight(e,"max-height")}getFlattenColumns(){const e=[];return this.table.store.states.columns.value.forEach(r=>{r.isColumnGroup?e.push.apply(e,r.columns):e.push(r)}),e}updateElsHeight(){var e,n;if(!this.table.$ready)return et(()=>this.updateElsHeight());const{tableWrapper:r,headerWrapper:i,appendWrapper:o,footerWrapper:s,tableHeader:a,tableBody:l}=this.table.refs;if(r&&r.style.display==="none")return;const{tableLayout:u}=this.table.props;if(this.appendHeight.value=o?o.offsetHeight:0,this.showHeader&&!i&&u==="fixed")return;const c=a||null,d=this.headerDisplayNone(c),f=(i==null?void 0:i.offsetHeight)||0,h=this.headerHeight.value=this.showHeader?f:0;if(this.showHeader&&!d&&f>0&&(this.table.store.states.columns.value||[]).length>0&&h<2)return et(()=>this.updateElsHeight());const m=this.tableHeight.value=(n=(e=this.table)==null?void 0:e.vnode.el)==null?void 0:n.clientHeight,g=this.footerHeight.value=s?s.offsetHeight:0;this.height.value!==null&&(this.bodyHeight.value===null&&requestAnimationFrame(()=>this.updateElsHeight()),this.bodyHeight.value=m-h-g+(s?1:0),this.bodyScrollHeight.value=l==null?void 0:l.scrollHeight),this.fixedBodyHeight.value=this.scrollX.value?this.bodyHeight.value-this.gutterWidth:this.bodyHeight.value,this.viewportHeight.value=this.scrollX.value?m-this.gutterWidth:m,this.updateScrollY(),this.notifyObservers("scrollable")}headerDisplayNone(e){if(!e)return!0;let n=e;for(;n.tagName!=="DIV";){if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}updateColumnsWidth(){if(!Tt)return;const e=this.fit,n=this.table.vnode.el.clientWidth;let r=0;const i=this.getFlattenColumns(),o=i.filter(l=>typeof l.width!="number");if(i.forEach(l=>{typeof l.width=="number"&&l.realWidth&&(l.realWidth=null)}),o.length>0&&e){if(i.forEach(l=>{r+=Number(l.width||l.minWidth||80)}),r<=n){this.scrollX.value=!1;const l=n-r;if(o.length===1)o[0].realWidth=Number(o[0].minWidth||80)+l;else{const u=o.reduce((f,h)=>f+Number(h.minWidth||80),0),c=l/u;let d=0;o.forEach((f,h)=>{if(h===0)return;const m=Math.floor(Number(f.minWidth||80)*c);d+=m,f.realWidth=Number(f.minWidth||80)+m}),o[0].realWidth=Number(o[0].minWidth||80)+l-d}}else this.scrollX.value=!0,o.forEach(l=>{l.realWidth=Number(l.minWidth)});this.bodyWidth.value=Math.max(r,n),this.table.state.resizeState.value.width=this.bodyWidth.value}else i.forEach(l=>{!l.width&&!l.minWidth?l.realWidth=80:l.realWidth=Number(l.width||l.minWidth),r+=l.realWidth}),this.scrollX.value=r>n,this.bodyWidth.value=r;const s=this.store.states.fixedColumns.value;if(s.length>0){let l=0;s.forEach(u=>{l+=Number(u.realWidth||u.width)}),this.fixedWidth.value=l}const a=this.store.states.rightFixedColumns.value;if(a.length>0){let l=0;a.forEach(u=>{l+=Number(u.realWidth||u.width)}),this.rightFixedWidth.value=l}this.notifyObservers("columns")}addObserver(e){this.observers.push(e)}removeObserver(e){const n=this.observers.indexOf(e);n!==-1&&this.observers.splice(n,1)}notifyObservers(e){this.observers.forEach(r=>{var i,o;switch(e){case"columns":(i=r.state)==null||i.onColumnsChange(this);break;case"scrollable":(o=r.state)==null||o.onScrollableChange(this);break;default:throw new Error(`Table Layout don't have event ${e}.`)}})}}const{CheckboxGroup:pJ}=Ti,mJ=pe({name:"ElTableFilterPanel",components:{ElCheckbox:Ti,ElCheckboxGroup:pJ,ElScrollbar:ko,ElTooltip:Cr,ElIcon:st,ArrowDown:ha,ArrowUp:Dc},directives:{ClickOutside:ma},props:{placement:{type:String,default:"bottom-start"},store:{type:Object},column:{type:Object},upDataColumn:{type:Function}},setup(t){const e=wt(),{t:n}=Gt(),r=$e("table-filter"),i=e==null?void 0:e.parent;i.filterPanels.value[t.column.id]||(i.filterPanels.value[t.column.id]=e);const o=F(!1),s=F(null),a=k(()=>t.column&&t.column.filters),l=k({get:()=>{var _;return(((_=t.column)==null?void 0:_.filteredValue)||[])[0]},set:_=>{u.value&&(typeof _!="undefined"&&_!==null?u.value.splice(0,1,_):u.value.splice(0,1))}}),u=k({get(){return t.column?t.column.filteredValue||[]:[]},set(_){t.column&&t.upDataColumn("filteredValue",_)}}),c=k(()=>t.column?t.column.filterMultiple:!0),d=_=>_.value===l.value,f=()=>{o.value=!1},h=_=>{_.stopPropagation(),o.value=!o.value},m=()=>{o.value=!1},g=()=>{y(u.value),f()},p=()=>{u.value=[],y(u.value),f()},v=_=>{l.value=_,y(typeof _!="undefined"&&_!==null?u.value:[]),f()},y=_=>{t.store.commit("filterChange",{column:t.column,values:_}),t.store.updateAllSelected()};Me(o,_=>{t.column&&t.upDataColumn("filterOpened",_)},{immediate:!0});const w=k(()=>{var _,b;return(b=(_=s.value)==null?void 0:_.popperRef)==null?void 0:b.contentRef});return{tooltipVisible:o,multiple:c,filteredValue:u,filterValue:l,filters:a,handleConfirm:g,handleReset:p,handleSelect:v,isActive:d,t:n,ns:r,showFilterPanel:h,hideFilterPanel:m,popperPaneRef:w,tooltip:s}}}),gJ={key:0},vJ=["disabled"],yJ=["label","onClick"];function bJ(t,e,n,r,i,o){const s=ve("el-checkbox"),a=ve("el-checkbox-group"),l=ve("el-scrollbar"),u=ve("arrow-up"),c=ve("arrow-down"),d=ve("el-icon"),f=ve("el-tooltip"),h=Vr("click-outside");return E(),fe(f,{ref:"tooltip",visible:t.tooltipVisible,"onUpdate:visible":e[5]||(e[5]=m=>t.tooltipVisible=m),offset:0,placement:t.placement,"show-arrow":!1,"stop-popper-mouse-event":!1,"append-to-body":"",effect:"light",pure:"","popper-class":t.ns.b(),persistent:""},{content:X(()=>[t.multiple?(E(),V("div",gJ,[G("div",{class:$(t.ns.e("content"))},[Z(l,{"wrap-class":t.ns.e("wrap")},{default:X(()=>[Z(a,{modelValue:t.filteredValue,"onUpdate:modelValue":e[0]||(e[0]=m=>t.filteredValue=m),class:$(t.ns.e("checkbox-group"))},{default:X(()=>[(E(!0),V(Ze,null,xt(t.filters,m=>(E(),fe(s,{key:m.value,label:m.value},{default:X(()=>[lt(Pe(m.text),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue","class"])]),_:1},8,["wrap-class"])],2),G("div",{class:$(t.ns.e("bottom"))},[G("button",{class:$({[t.ns.is("disabled")]:t.filteredValue.length===0}),disabled:t.filteredValue.length===0,type:"button",onClick:e[1]||(e[1]=(...m)=>t.handleConfirm&&t.handleConfirm(...m))},Pe(t.t("el.table.confirmFilter")),11,vJ),G("button",{type:"button",onClick:e[2]||(e[2]=(...m)=>t.handleReset&&t.handleReset(...m))},Pe(t.t("el.table.resetFilter")),1)],2)])):(E(),V("ul",{key:1,class:$(t.ns.e("list"))},[G("li",{class:$([t.ns.e("list-item"),{[t.ns.is("active")]:t.filterValue===void 0||t.filterValue===null}]),onClick:e[3]||(e[3]=m=>t.handleSelect(null))},Pe(t.t("el.table.clearFilter")),3),(E(!0),V(Ze,null,xt(t.filters,m=>(E(),V("li",{key:m.value,class:$([t.ns.e("list-item"),t.ns.is("active",t.isActive(m))]),label:m.value,onClick:g=>t.handleSelect(m.value)},Pe(m.text),11,yJ))),128))],2))]),default:X(()=>[ut((E(),V("span",{class:$([`${t.ns.namespace.value}-table__column-filter-trigger`,`${t.ns.namespace.value}-none-outline`]),onClick:e[4]||(e[4]=(...m)=>t.showFilterPanel&&t.showFilterPanel(...m))},[Z(d,null,{default:X(()=>[t.column.filterOpened?(E(),fe(u,{key:0})):(E(),fe(c,{key:1}))]),_:1})],2)),[[h,t.hideFilterPanel,t.popperPaneRef]])]),_:1},8,["visible","placement","popper-class"])}var wJ=De(mJ,[["render",bJ],["__file","/home/runner/work/element-plus/element-plus/packages/components/table/src/filter-panel.vue"]]);function SE(t){const e=wt();Ac(()=>{n.value.addObserver(e)}),ft(()=>{r(n.value),i(n.value)}),Ai(()=>{r(n.value),i(n.value)}),kc(()=>{n.value.removeObserver(e)});const n=k(()=>{const o=t.layout;if(!o)throw new Error("Can not find table layout.");return o}),r=o=>{var s;const a=((s=t.vnode.el)==null?void 0:s.querySelectorAll("colgroup > col"))||[];if(!a.length)return;const l=o.getFlattenColumns(),u={};l.forEach(c=>{u[c.id]=c});for(let c=0,d=a.length;c<d;c++){const f=a[c],h=f.getAttribute("name"),m=u[h];m&&f.setAttribute("width",m.realWidth||m.width)}},i=o=>{var s,a;const l=((s=t.vnode.el)==null?void 0:s.querySelectorAll("colgroup > col[name=gutter]"))||[];for(let c=0,d=l.length;c<d;c++)l[c].setAttribute("width",o.scrollY.value?o.gutterWidth:"0");const u=((a=t.vnode.el)==null?void 0:a.querySelectorAll("th.gutter"))||[];for(let c=0,d=u.length;c<d;c++){const f=u[c];f.style.width=o.scrollY.value?`${o.gutterWidth}px`:"0",f.style.display=o.scrollY.value?"":"none"}};return{tableLayout:n.value,onColumnsChange:r,onScrollableChange:i}}const Yi=Symbol("ElTable");function _J(t,e){const n=wt(),r=Ke(Yi),i=g=>{g.stopPropagation()},o=(g,p)=>{!p.filters&&p.sortable?m(g,p,!1):p.filterable&&!p.sortable&&i(g),r==null||r.emit("header-click",p,g)},s=(g,p)=>{r==null||r.emit("header-contextmenu",p,g)},a=F(null),l=F(!1),u=F({}),c=(g,p)=>{if(!!Tt&&!(p.children&&p.children.length>0)&&a.value&&t.border){l.value=!0;const v=r;e("set-drag-visible",!0);const w=(v==null?void 0:v.vnode.el).getBoundingClientRect().left,_=n.vnode.el.querySelector(`th.${p.id}`),b=_.getBoundingClientRect(),S=b.left-w+30;Hi(_,"noclick"),u.value={startMouseLeft:g.clientX,startLeft:b.right-w,startColumnLeft:b.left-w,tableLeft:w};const M=v==null?void 0:v.refs.resizeProxy;M.style.left=`${u.value.startLeft}px`,document.onselectstart=function(){return!1},document.ondragstart=function(){return!1};const T=I=>{const x=I.clientX-u.value.startMouseLeft,R=u.value.startLeft+x;M.style.left=`${Math.max(S,R)}px`},N=()=>{if(l.value){const{startColumnLeft:I,startLeft:x}=u.value,O=Number.parseInt(M.style.left,10)-I;p.width=p.realWidth=O,v==null||v.emit("header-dragend",p.width,x-I,p,g),requestAnimationFrame(()=>{t.store.scheduleLayout(!1,!0)}),document.body.style.cursor="",l.value=!1,a.value=null,u.value={},e("set-drag-visible",!1)}document.removeEventListener("mousemove",T),document.removeEventListener("mouseup",N),document.onselectstart=null,document.ondragstart=null,setTimeout(()=>{vr(_,"noclick")},0)};document.addEventListener("mousemove",T),document.addEventListener("mouseup",N)}},d=(g,p)=>{if(p.children&&p.children.length>0)return;let v=g.target;for(;v&&v.tagName!=="TH";)v=v.parentNode;if(!(!p||!p.resizable)&&!l.value&&t.border){const y=v.getBoundingClientRect(),w=document.body.style;y.width>12&&y.right-g.pageX<8?(w.cursor="col-resize",_i(v,"is-sortable")&&(v.style.cursor="col-resize"),a.value=p):l.value||(w.cursor="",_i(v,"is-sortable")&&(v.style.cursor="pointer"),a.value=null)}},f=()=>{!Tt||(document.body.style.cursor="")},h=({order:g,sortOrders:p})=>{if(g==="")return p[0];const v=p.indexOf(g||null);return p[v>p.length-2?0:v+1]},m=(g,p,v)=>{g.stopPropagation();const y=p.order===v?null:v||h(p);let w=g.target;for(;w&&w.tagName!=="TH";)w=w.parentNode;if(w&&w.tagName==="TH"&&_i(w,"noclick")){vr(w,"noclick");return}if(!p.sortable)return;const _=t.store.states;let b=_.sortProp.value,S;const M=_.sortingColumn.value;(M!==p||M===p&&M.order===null)&&(M&&(M.order=null),_.sortingColumn.value=p,b=p.property),y?S=p.order=y:S=p.order=null,_.sortProp.value=b,_.sortOrder.value=S,r==null||r.store.commit("changeSortCondition")};return{handleHeaderClick:o,handleHeaderContextMenu:s,handleMouseDown:c,handleMouseMove:d,handleMouseOut:f,handleSortClick:m,handleFilterClick:i}}function SJ(t){const e=Ke(Yi),n=$e("table");return{getHeaderRowStyle:a=>{const l=e==null?void 0:e.props.headerRowStyle;return typeof l=="function"?l.call(null,{rowIndex:a}):l},getHeaderRowClass:a=>{const l=[],u=e==null?void 0:e.props.headerRowClassName;return typeof u=="string"?l.push(u):typeof u=="function"&&l.push(u.call(null,{rowIndex:a})),l.join(" ")},getHeaderCellStyle:(a,l,u,c)=>{var d;let f=(d=e==null?void 0:e.props.headerCellStyle)!=null?d:{};typeof f=="function"&&(f=f.call(null,{rowIndex:a,columnIndex:l,row:u,column:c}));const h=c.isSubColumn?null:$0(l,c.fixed,t.store,u);return Al(h,"left"),Al(h,"right"),Object.assign({},f,h)},getHeaderCellClass:(a,l,u,c)=>{const d=c.isSubColumn?[]:D0(n.b(),l,c.fixed,t.store,u),f=[c.id,c.order,c.headerAlign,c.className,c.labelClassName,...d];c.children||f.push("is-leaf"),c.sortable&&f.push("is-sortable");const h=e==null?void 0:e.props.headerCellClassName;return typeof h=="string"?f.push(h):typeof h=="function"&&f.push(h.call(null,{rowIndex:a,columnIndex:l,row:u,column:c})),f.push(n.e("cell")),f.filter(m=>Boolean(m)).join(" ")}}}const CE=t=>{const e=[];return t.forEach(n=>{n.children?(e.push(n),e.push.apply(e,CE(n.children))):e.push(n)}),e},CJ=t=>{let e=1;const n=(o,s)=>{if(s&&(o.level=s.level+1,e<o.level&&(e=o.level)),o.children){let a=0;o.children.forEach(l=>{n(l,o),a+=l.colSpan}),o.colSpan=a}else o.colSpan=1};t.forEach(o=>{o.level=1,n(o,void 0)});const r=[];for(let o=0;o<e;o++)r.push([]);return CE(t).forEach(o=>{o.children?(o.rowSpan=1,o.children.forEach(s=>s.isSubColumn=!0)):o.rowSpan=e-o.level+1,r[o.level-1].push(o)}),r};function MJ(t){const e=Ke(Yi),n=k(()=>CJ(t.store.states.originColumns.value));return{isGroup:k(()=>{const o=n.value.length>1;return o&&e&&(e.state.isGroup.value=!0),o}),toggleAllSelection:o=>{o.stopPropagation(),e==null||e.store.commit("toggleAllSelection")},columnRows:n}}var xJ=pe({name:"ElTableHeader",components:{ElCheckbox:Ti},props:{fixed:{type:String,default:""},store:{required:!0,type:Object},border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(t,{emit:e}){const n=wt(),r=Ke(Yi),i=$e("table"),o=F({}),{onColumnsChange:s,onScrollableChange:a}=SE(r);ft(async()=>{await et(),await et();const{prop:S,order:M}=t.defaultSort;r==null||r.store.commit("sort",{prop:S,order:M,init:!0})});const{handleHeaderClick:l,handleHeaderContextMenu:u,handleMouseDown:c,handleMouseMove:d,handleMouseOut:f,handleSortClick:h,handleFilterClick:m}=_J(t,e),{getHeaderRowStyle:g,getHeaderRowClass:p,getHeaderCellStyle:v,getHeaderCellClass:y}=SJ(t),{isGroup:w,toggleAllSelection:_,columnRows:b}=MJ(t);return n.state={onColumnsChange:s,onScrollableChange:a},n.filterPanels=o,{ns:i,filterPanels:o,onColumnsChange:s,onScrollableChange:a,columnRows:b,getHeaderRowClass:p,getHeaderRowStyle:g,getHeaderCellClass:y,getHeaderCellStyle:v,handleHeaderClick:l,handleHeaderContextMenu:u,handleMouseDown:c,handleMouseMove:d,handleMouseOut:f,handleSortClick:h,handleFilterClick:m,isGroup:w,toggleAllSelection:_}},render(){const{ns:t,isGroup:e,columnRows:n,getHeaderCellStyle:r,getHeaderCellClass:i,getHeaderRowClass:o,getHeaderRowStyle:s,handleHeaderClick:a,handleHeaderContextMenu:l,handleMouseDown:u,handleMouseMove:c,handleSortClick:d,handleMouseOut:f,store:h,$parent:m}=this;let g=1;return Xe("thead",{class:{[t.is("group")]:e}},n.map((p,v)=>Xe("tr",{class:o(v),key:v,style:s(v)},p.map((y,w)=>(y.rowSpan>g&&(g=y.rowSpan),Xe("th",{class:i(v,w,p,y),colspan:y.colSpan,key:`${y.id}-thead`,rowspan:y.rowSpan,style:r(v,w,p,y),onClick:_=>a(_,y),onContextmenu:_=>l(_,y),onMousedown:_=>u(_,y),onMousemove:_=>c(_,y),onMouseout:f},[Xe("div",{class:["cell",y.filteredValue&&y.filteredValue.length>0?"highlight":"",y.labelClassName]},[y.renderHeader?y.renderHeader({column:y,$index:w,store:h,_self:m}):y.label,y.sortable&&Xe("span",{onClick:_=>d(_,y),class:"caret-wrapper"},[Xe("i",{onClick:_=>d(_,y,"ascending"),class:"sort-caret ascending"}),Xe("i",{onClick:_=>d(_,y,"descending"),class:"sort-caret descending"})]),y.filterable&&Xe(wJ,{store:h,placement:y.filterPlacement||"bottom-start",column:y,upDataColumn:(_,b)=>{y[_]=b}})])]))))))}});function EJ(t){const e=Ke(Yi),n=F(""),r=F(Xe("div")),i=(f,h,m)=>{var g;const p=e,v=Vp(f);let y;const w=(g=p==null?void 0:p.vnode.el)==null?void 0:g.dataset.prefix;v&&(y=ww({columns:t.store.states.columns.value},v,w),y&&(p==null||p.emit(`cell-${m}`,h,y,v,f))),p==null||p.emit(`row-${m}`,h,y,f)},o=(f,h)=>{i(f,h,"dblclick")},s=(f,h)=>{t.store.commit("setCurrentRow",h),i(f,h,"click")},a=(f,h)=>{i(f,h,"contextmenu")},l=_r(f=>{t.store.commit("setHoverRow",f)},30),u=_r(()=>{t.store.commit("setHoverRow",null)},30);return{handleDoubleClick:o,handleClick:s,handleContextMenu:a,handleMouseEnter:l,handleMouseLeave:u,handleCellMouseEnter:(f,h)=>{var m;const g=e,p=Vp(f),v=(m=g==null?void 0:g.vnode.el)==null?void 0:m.dataset.prefix;if(p){const S=ww({columns:t.store.states.columns.value},p,v),M=g.hoverState={cell:p,column:S,row:h};g==null||g.emit("cell-mouse-enter",M.row,M.column,M.cell,f)}const y=f.target.querySelector(".cell");if(!(_i(y,`${v}-tooltip`)&&y.childNodes.length))return;const w=document.createRange();w.setStart(y,0),w.setEnd(y,y.childNodes.length);const _=w.getBoundingClientRect().width,b=(Number.parseInt(zi(y,"paddingLeft"),10)||0)+(Number.parseInt(zi(y,"paddingRight"),10)||0);(_+b>y.offsetWidth||y.scrollWidth>y.offsetWidth)&&iJ(p,p.innerText||p.textContent,{placement:"top",strategy:"fixed"},h.tooltipEffect)},handleCellMouseLeave:f=>{if(!Vp(f))return;const m=e==null?void 0:e.hoverState;e==null||e.emit("cell-mouse-leave",m==null?void 0:m.row,m==null?void 0:m.column,m==null?void 0:m.cell,f)},tooltipContent:n,tooltipTrigger:r}}function TJ(t){const e=Ke(Yi),n=$e("table");return{getRowStyle:(u,c)=>{const d=e==null?void 0:e.props.rowStyle;return typeof d=="function"?d.call(null,{row:u,rowIndex:c}):d||null},getRowClass:(u,c)=>{const d=[n.e("row")];(e==null?void 0:e.props.highlightCurrentRow)&&u===t.store.states.currentRow.value&&d.push("current-row"),t.stripe&&c%2===1&&d.push(n.em("row","striped"));const f=e==null?void 0:e.props.rowClassName;return typeof f=="string"?d.push(f):typeof f=="function"&&d.push(f.call(null,{row:u,rowIndex:c})),d},getCellStyle:(u,c,d,f)=>{const h=e==null?void 0:e.props.cellStyle;let m=h!=null?h:{};typeof h=="function"&&(m=h.call(null,{rowIndex:u,columnIndex:c,row:d,column:f}));const g=f.isSubColumn?null:$0(c,t==null?void 0:t.fixed,t.store);return Al(g,"left"),Al(g,"right"),Object.assign({},m,g)},getCellClass:(u,c,d,f)=>{const h=f.isSubColumn?[]:D0(n.b(),c,t==null?void 0:t.fixed,t.store),m=[f.id,f.align,f.className,...h],g=e==null?void 0:e.props.cellClassName;return typeof g=="string"?m.push(g):typeof g=="function"&&m.push(g.call(null,{rowIndex:u,columnIndex:c,row:d,column:f})),m.push(n.e("cell")),m.filter(p=>Boolean(p)).join(" ")},getSpan:(u,c,d,f)=>{let h=1,m=1;const g=e==null?void 0:e.props.spanMethod;if(typeof g=="function"){const p=g({row:u,column:c,rowIndex:d,columnIndex:f});Array.isArray(p)?(h=p[0],m=p[1]):typeof p=="object"&&(h=p.rowspan,m=p.colspan)}return{rowspan:h,colspan:m}},getColspanRealWidth:(u,c,d)=>{if(c<1)return u[d].realWidth;const f=u.map(({realWidth:h,width:m})=>h||m).slice(d,d+c);return Number(f.reduce((h,m)=>Number(h)+Number(m),-1))}}}function AJ(t){const e=Ke(Yi),{handleDoubleClick:n,handleClick:r,handleContextMenu:i,handleMouseEnter:o,handleMouseLeave:s,handleCellMouseEnter:a,handleCellMouseLeave:l,tooltipContent:u,tooltipTrigger:c}=EJ(t),{getRowStyle:d,getRowClass:f,getCellStyle:h,getCellClass:m,getSpan:g,getColspanRealWidth:p}=TJ(t),v=k(()=>t.store.states.columns.value.findIndex(({type:S})=>S==="default")),y=(S,M)=>{const T=e.props.rowKey;return T?Zn(S,T):M},w=(S,M,T,N=!1)=>{const{tooltipEffect:I,store:x}=t,{indent:R,columns:O}=x.states,D=f(S,M);let B=!0;return T&&(D.push(`el-table__row--level-${T.level}`),B=T.display),Xe("tr",{style:[B?null:{display:"none"},d(S,M)],class:D,key:y(S,M),onDblclick:A=>n(A,S),onClick:A=>r(A,S),onContextmenu:A=>i(A,S),onMouseenter:()=>o(M),onMouseleave:s},O.value.map((A,P)=>{const{rowspan:W,colspan:K}=g(S,A,M,P);if(!W||!K)return null;const te=Ee({},A);te.realWidth=p(O.value,K,P);const J={store:t.store,_self:t.context||e,column:te,row:S,$index:M,cellIndex:P,expanded:N};P===v.value&&T&&(J.treeNode={indent:T.level*R.value,level:T.level},typeof T.expanded=="boolean"&&(J.treeNode.expanded=T.expanded,"loading"in T&&(J.treeNode.loading=T.loading),"noLazyChildren"in T&&(J.treeNode.noLazyChildren=T.noLazyChildren)));const se=`${M},${P}`,Te=te.columnKey||te.rawColumnKey||"",Le=_(P,A,J);return Xe("td",{style:h(M,P,S,A),class:m(M,P,S,A),key:`${Te}${se}`,rowspan:W,colspan:K,onMouseenter:q=>a(q,Ue(Ee({},S),{tooltipEffect:I})),onMouseleave:l},[Le])}))},_=(S,M,T)=>M.renderCell(T);return{wrappedRowRender:(S,M)=>{const T=t.store,{isRowExpanded:N,assertRowKey:I}=T,{treeData:x,lazyTreeNodeMap:R,childrenColumnName:O,rowKey:D}=T.states,B=T.states.columns.value;if(B.some(({type:A})=>A==="expand")){const A=N(S),P=w(S,M,void 0,A),W=e.renderExpanded;return A?W?[[P,Xe("tr",{key:`expanded-row__${P.key}`},[Xe("td",{colspan:B.length,class:"el-table__cell el-table__expanded-cell"},[W({row:S,$index:M,store:T,expanded:A})])])]]:(console.error("[Element Error]renderExpanded is required."),P):[[P]]}else if(Object.keys(x.value).length){I();const A=Zn(S,D.value);let P=x.value[A],W=null;P&&(W={expanded:P.expanded,level:P.level,display:!0},typeof P.lazy=="boolean"&&(typeof P.loaded=="boolean"&&P.loaded&&(W.noLazyChildren=!(P.children&&P.children.length)),W.loading=P.loading));const K=[w(S,M,W)];if(P){let te=0;const J=(Te,Le)=>{!(Te&&Te.length&&Le)||Te.forEach(q=>{const re={display:Le.display&&Le.expanded,level:Le.level+1,expanded:!1,noLazyChildren:!1,loading:!1},he=Zn(q,D.value);if(he==null)throw new Error("For nested data item, row-key is required.");if(P=Ee({},x.value[he]),P&&(re.expanded=P.expanded,P.level=P.level||re.level,P.display=!!(P.expanded&&re.display),typeof P.lazy=="boolean"&&(typeof P.loaded=="boolean"&&P.loaded&&(re.noLazyChildren=!(P.children&&P.children.length)),re.loading=P.loading)),te++,K.push(w(q,M+te,re)),P){const we=R.value[he]||q[O.value];J(we,P)}})};P.display=!0;const se=R.value[A]||S[O.value];J(se,P)}return K}else return w(S,M,void 0)},tooltipContent:u,tooltipTrigger:c}}const kJ={store:{required:!0,type:Object},stripe:Boolean,tooltipEffect:String,context:{default:()=>({}),type:Object},rowClassName:[String,Function],rowStyle:[Object,Function],fixed:{type:String,default:""},highlight:Boolean};var PJ=pe({name:"ElTableBody",props:kJ,setup(t){const e=wt(),n=Ke(Yi),r=$e("table"),{wrappedRowRender:i,tooltipContent:o,tooltipTrigger:s}=AJ(t),{onColumnsChange:a,onScrollableChange:l}=SE(n);return Me(t.store.states.hoverRow,(u,c)=>{if(!t.store.states.isComplex.value||!Tt)return;let d=window.requestAnimationFrame;d||(d=f=>window.setTimeout(f,16)),d(()=>{var f;const h=(f=e==null?void 0:e.vnode.el)==null?void 0:f.querySelectorAll(`.${r.e("row")}`),m=h[c],g=h[u];m&&vr(m,"hover-row"),g&&Hi(g,"hover-row")})}),kc(()=>{var u;(u=Qf)==null||u()}),Ai(()=>{var u;(u=Qf)==null||u()}),{ns:r,onColumnsChange:a,onScrollableChange:l,wrappedRowRender:i,tooltipContent:o,tooltipTrigger:s}},render(){const{wrappedRowRender:t,store:e}=this,n=e.states.data.value||[];return Xe("tbody",{},[n.reduce((r,i)=>r.concat(t(i,r.length)),[])])}});function N0(t){const e=t.tableLayout==="auto";let n=t.columns||[];e&&n.every(i=>i.width===void 0)&&(n=[]);const r=i=>{const o={key:`${t.tableLayout}_${i.id}`,style:{},name:void 0};return e?o.style={width:`${i.width}px`}:o.name=i.id,o};return Xe("colgroup",{},n.map(i=>Xe("col",r(i))))}N0.props=["columns","tableLayout"];function LJ(){const t=Ke(Yi),e=t==null?void 0:t.store,n=k(()=>e.states.fixedLeafColumnsLength.value),r=k(()=>e.states.rightFixedColumns.value.length),i=k(()=>e.states.columns.value.length),o=k(()=>e.states.fixedColumns.value.length),s=k(()=>e.states.rightFixedColumns.value.length);return{leftFixedLeafCount:n,rightFixedLeafCount:r,columnsCount:i,leftFixedCount:o,rightFixedCount:s,columns:e.states.columns}}function RJ(t){const{columns:e}=LJ(),n=$e("table");return{getCellClasses:(o,s)=>{const a=o[s],l=[n.e("cell"),a.id,a.align,a.labelClassName,...D0(n.b(),s,a.fixed,t.store)];return a.className&&l.push(a.className),a.children||l.push(n.is("leaf")),l},getCellStyles:(o,s)=>{const a=$0(s,o.fixed,t.store);return Al(a,"left"),Al(a,"right"),a},columns:e}}var IJ=pe({name:"ElTableFooter",props:{fixed:{type:String,default:""},store:{required:!0,type:Object},summaryMethod:Function,sumText:String,border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(t){const{getCellClasses:e,getCellStyles:n,columns:r}=RJ(t);return{ns:$e("table"),getCellClasses:e,getCellStyles:n,columns:r}},render(){const{columns:t,getCellStyles:e,getCellClasses:n,summaryMethod:r,sumText:i,ns:o}=this,s=this.store.states.data.value;let a=[];return r?a=r({columns:t,data:s}):t.forEach((l,u)=>{if(u===0){a[u]=i;return}const c=s.map(m=>Number(m[l.property])),d=[];let f=!0;c.forEach(m=>{if(!Number.isNaN(+m)){f=!1;const g=`${m}`.split(".")[1];d.push(g?g.length:0)}});const h=Math.max.apply(null,d);f?a[u]="":a[u]=c.reduce((m,g)=>{const p=Number(g);return Number.isNaN(+p)?m:Number.parseFloat((m+g).toFixed(Math.min(h,20)))},0)}),Xe("table",{class:o.e("footer"),cellspacing:"0",cellpadding:"0",border:"0"},[N0({columns:t}),Xe("tbody",[Xe("tr",{},[...t.map((l,u)=>Xe("td",{key:u,colspan:l.colSpan,rowspan:l.rowSpan,class:n(t,u),style:e(l,u)},[Xe("div",{class:["cell",l.labelClassName]},[a[u]])]))])])])}});function DJ(t){return{setCurrentRow:c=>{t.commit("setCurrentRow",c)},getSelectionRows:()=>t.getSelectionRows(),toggleRowSelection:(c,d)=>{t.toggleRowSelection(c,d,!1),t.updateAllSelected()},clearSelection:()=>{t.clearSelection()},clearFilter:c=>{t.clearFilter(c)},toggleAllSelection:()=>{t.commit("toggleAllSelection")},toggleRowExpansion:(c,d)=>{t.toggleRowExpansionAdapter(c,d)},clearSort:()=>{t.clearSort()},sort:(c,d)=>{t.commit("sort",{prop:c,order:d})}}}function $J(t,e,n,r){const i=F(!1),o=F(null),s=F(!1),a=P=>{s.value=P},l=F({width:null,height:null}),u=F(!1),c={display:"inline-block",verticalAlign:"middle"},d=F();Xr(()=>{e.setHeight(t.height)}),Xr(()=>{e.setMaxHeight(t.maxHeight)}),Me(()=>[t.currentRowKey,n.states.rowKey],([P,W])=>{!C(W)||n.setCurrentRowKey(`${P}`)},{immediate:!0}),Me(()=>t.data,P=>{r.store.commit("setData",P)},{immediate:!0,deep:!0}),Xr(()=>{t.expandRowKeys&&n.setExpandRowKeysAdapter(t.expandRowKeys)});const f=()=>{r.store.commit("setHoverRow",null),r.hoverState&&(r.hoverState=null)},h=(P,W)=>{const{pixelX:K,pixelY:te}=W;Math.abs(K)>=Math.abs(te)&&(r.refs.bodyWrapper.scrollLeft+=W.pixelX/5)},m=k(()=>t.height||t.maxHeight||n.states.fixedColumns.value.length>0||n.states.rightFixedColumns.value.length>0),g=k(()=>({width:e.bodyWidth.value?`${e.bodyWidth.value}px`:""})),p=()=>{m.value&&e.updateElsHeight(),e.updateColumnsWidth(),requestAnimationFrame(_)};ft(async()=>{await et(),n.updateColumns(),b(),requestAnimationFrame(p),l.value={width:d.value=r.vnode.el.offsetWidth,height:r.vnode.el.offsetHeight},n.states.columns.value.forEach(P=>{P.filteredValue&&P.filteredValue.length&&r.store.commit("filterChange",{column:P,values:P.filteredValue,silent:!0})}),r.$ready=!0});const v=(P,W)=>{if(!P)return;const K=Array.from(P.classList).filter(te=>!te.startsWith("is-scrolling-"));K.push(e.scrollX.value?W:"is-scrolling-none"),P.className=K.join(" ")},y=P=>{const{tableWrapper:W}=r.refs;v(W,P)},w=P=>{const{tableWrapper:W}=r.refs;return!!(W&&W.classList.contains(P))},_=function(){if(!r.refs.scrollBarRef)return;if(!e.scrollX.value){const Le="is-scrolling-none";w(Le)||y(Le);return}const P=r.refs.scrollBarRef.wrap$;if(!P)return;const{scrollLeft:W,offsetWidth:K,scrollWidth:te}=P,{headerWrapper:J,footerWrapper:se}=r.refs;J&&(J.scrollLeft=W),se&&(se.scrollLeft=W);const Te=te-K-1;W>=Te?y("is-scrolling-right"):y(W===0?"is-scrolling-left":"is-scrolling-middle")},b=()=>{var P;!r.refs.scrollBarRef||((P=r.refs.scrollBarRef.wrap$)==null||P.addEventListener("scroll",_,{passive:!0}),t.fit?zl(r.vnode.el,M):sn(window,"resize",p))};rn(()=>{S()});const S=()=>{var P;(P=r.refs.scrollBarRef.wrap$)==null||P.removeEventListener("scroll",_,!0),t.fit?Vl(r.vnode.el,M):wn(window,"resize",p)},M=()=>{if(!r.$ready)return;let P=!1;const W=r.vnode.el,{width:K,height:te}=l.value,J=d.value=W.offsetWidth;K!==J&&(P=!0);const se=W.offsetHeight;(t.height||m.value)&&te!==se&&(P=!0),P&&(l.value={width:J,height:se},p())},T=Pn(),N=k(()=>{const{bodyWidth:P,scrollY:W,gutterWidth:K}=e;return P.value?`${P.value-(W.value?K:0)}px`:""}),I=k(()=>t.maxHeight?"fixed":t.tableLayout);function x(P,W,K){const te=Og(P),J=t.showHeader?K:0;if(te!==null)return pt(te)?`calc(${te} - ${W}px - ${J}px)`:te-W-J}const R=k(()=>{const P=e.headerHeight.value||0,W=e.bodyHeight.value,K=e.footerHeight.value||0;if(t.height)return W||void 0;if(t.maxHeight)return x(t.maxHeight,K,P)}),O=k(()=>{const P=e.headerHeight.value||0,W=e.bodyHeight.value,K=e.footerHeight.value||0;if(t.height)return{height:W?`${W}px`:""};if(t.maxHeight){const te=x(t.maxHeight,K,P);if(te!==null)return{"max-height":`${te}${It(te)?"px":""}`}}return{}}),D=k(()=>{if(t.data&&t.data.length)return null;let P="100%";return e.appendHeight.value&&(P=`calc(100% - ${e.appendHeight.value}px)`),{width:d.value?`${d.value}px`:"",height:P}}),B=(P,W)=>{const K=r.refs.bodyWrapper;if(Math.abs(W.spinY)>0){const te=K.scrollTop;W.pixelY<0&&te!==0&&P.preventDefault(),W.pixelY>0&&K.scrollHeight-K.clientHeight>te&&P.preventDefault(),K.scrollTop+=Math.ceil(W.pixelY/5)}else K.scrollLeft+=Math.ceil(W.pixelX/5)},L=k(()=>t.maxHeight?t.showSummary?{bottom:0}:{bottom:e.scrollX.value&&t.data.length?`${e.gutterWidth}px`:""}:t.showSummary?{height:e.tableHeight.value?`${e.tableHeight.value}px`:""}:{height:e.viewportHeight.value?`${e.viewportHeight.value}px`:""}),A=k(()=>{if(t.height)return{height:e.fixedBodyHeight.value?`${e.fixedBodyHeight.value}px`:""};if(t.maxHeight){let P=Og(t.maxHeight);if(typeof P=="number")return P=e.scrollX.value?P-e.gutterWidth:P,t.showHeader&&(P-=e.headerHeight.value),P-=e.footerHeight.value,{"max-height":`${P}px`}}return{}});return{isHidden:i,renderExpanded:o,setDragVisible:a,isGroup:u,handleMouseLeave:f,handleHeaderFooterMousewheel:h,tableSize:T,bodyHeight:O,height:R,emptyBlockStyle:D,handleFixedMousewheel:B,fixedHeight:L,fixedBodyHeight:A,resizeProxyVisible:s,bodyWidth:N,resizeState:l,doLayout:p,tableBodyStyles:g,tableLayout:I,scrollbarViewStyle:c}}var NJ={data:{type:Array,default:()=>[]},size:String,width:[String,Number],height:[String,Number],maxHeight:[String,Number],fit:{type:Boolean,default:!0},stripe:Boolean,border:Boolean,rowKey:[String,Function],showHeader:{type:Boolean,default:!0},showSummary:Boolean,sumText:String,summaryMethod:Function,rowClassName:[String,Function],rowStyle:[Object,Function],cellClassName:[String,Function],cellStyle:[Object,Function],headerRowClassName:[String,Function],headerRowStyle:[Object,Function],headerCellClassName:[String,Function],headerCellStyle:[Object,Function],highlightCurrentRow:Boolean,currentRowKey:[String,Number],emptyText:String,expandRowKeys:Array,defaultExpandAll:Boolean,defaultSort:Object,tooltipEffect:String,spanMethod:Function,selectOnIndeterminate:{type:Boolean,default:!0},indent:{type:Number,default:16},treeProps:{type:Object,default:()=>({hasChildren:"hasChildren",children:"children"})},lazy:Boolean,load:Function,style:{type:Object,default:()=>({})},className:{type:String,default:""},tableLayout:{type:String,default:"fixed"},scrollbarAlwaysOn:{type:Boolean,default:!1}};const OJ=()=>{const t=F(),e=(o,s)=>{const a=t.value;a&&a.scrollTo(o,s)},n=(o,s)=>{const a=t.value;a&&It(s)&&["Top","Left"].includes(o)&&a[`setScroll${o}`](s)};return{scrollBarRef:t,scrollTo:e,setScrollTop:o=>n("Top",o),setScrollLeft:o=>n("Left",o)}};let FJ=1;const BJ=pe({name:"ElTable",directives:{Mousewheel:aV},components:{TableHeader:xJ,TableBody:PJ,TableFooter:IJ,ElScrollbar:ko,hColgroup:N0},props:NJ,emits:["select","select-all","selection-change","cell-mouse-enter","cell-mouse-leave","cell-contextmenu","cell-click","cell-dblclick","row-click","row-contextmenu","row-dblclick","header-click","header-contextmenu","sort-change","filter-change","current-change","header-dragend","expand-change"],setup(t){const{t:e}=Gt(),n=$e("table"),r=wt();Ct(Yi,r);const i=dJ(r,t);r.store=i;const o=new hJ({store:r.store,table:r,fit:t.fit,showHeader:t.showHeader});r.layout=o;const s=k(()=>(i.states.data.value||[]).length===0),{setCurrentRow:a,getSelectionRows:l,toggleRowSelection:u,clearSelection:c,clearFilter:d,toggleAllSelection:f,toggleRowExpansion:h,clearSort:m,sort:g}=DJ(i),{isHidden:p,renderExpanded:v,setDragVisible:y,isGroup:w,handleMouseLeave:_,handleHeaderFooterMousewheel:b,tableSize:S,bodyHeight:M,height:T,emptyBlockStyle:N,handleFixedMousewheel:I,fixedHeight:x,fixedBodyHeight:R,resizeProxyVisible:O,bodyWidth:D,resizeState:B,doLayout:L,tableBodyStyles:A,tableLayout:P,scrollbarViewStyle:W}=$J(t,o,i,r),{scrollBarRef:K,scrollTo:te,setScrollLeft:J,setScrollTop:se}=OJ(),Te=_r(L,50),Le=`el-table_${FJ++}`;r.tableId=Le,r.state={isGroup:w,resizeState:B,doLayout:L,debouncedUpdateLayout:Te};const q=k(()=>t.sumText||e("el.table.sumText")),re=k(()=>t.emptyText||e("el.table.emptyText"));return{ns:n,layout:o,store:i,handleHeaderFooterMousewheel:b,handleMouseLeave:_,tableId:Le,tableSize:S,isHidden:p,isEmpty:s,renderExpanded:v,resizeProxyVisible:O,resizeState:B,isGroup:w,bodyWidth:D,bodyHeight:M,height:T,tableBodyStyles:A,emptyBlockStyle:N,debouncedUpdateLayout:Te,handleFixedMousewheel:I,fixedHeight:x,fixedBodyHeight:R,setCurrentRow:a,getSelectionRows:l,toggleRowSelection:u,clearSelection:c,clearFilter:d,toggleAllSelection:f,toggleRowExpansion:h,clearSort:m,doLayout:L,sort:g,t:e,setDragVisible:y,context:r,computedSumText:q,computedEmptyText:re,tableLayout:P,scrollbarViewStyle:W,scrollBarRef:K,scrollTo:te,setScrollLeft:J,setScrollTop:se}}}),zJ=["data-prefix"],VJ={ref:"hiddenColumns",class:"hidden-columns"};function HJ(t,e,n,r,i,o){const s=ve("hColgroup"),a=ve("table-header"),l=ve("table-body"),u=ve("el-scrollbar"),c=ve("table-footer"),d=Vr("mousewheel");return E(),V("div",{ref:"tableWrapper",class:$([{[t.ns.m("fit")]:t.fit,[t.ns.m("striped")]:t.stripe,[t.ns.m("border")]:t.border||t.isGroup,[t.ns.m("hidden")]:t.isHidden,[t.ns.m("group")]:t.isGroup,[t.ns.m("fluid-height")]:t.maxHeight,[t.ns.m("scrollable-x")]:t.layout.scrollX.value,[t.ns.m("scrollable-y")]:t.layout.scrollY.value,[t.ns.m("enable-row-hover")]:!t.store.states.isComplex.value,[t.ns.m("enable-row-transition")]:(t.store.states.data.value||[]).length!==0&&(t.store.states.data.value||[]).length<100,"has-footer":t.showSummary},t.ns.m(t.tableSize),t.className,t.ns.b(),t.ns.m(`layout-${t.tableLayout}`)]),style:Ye(t.style),"data-prefix":t.ns.namespace.value,onMouseleave:e[0]||(e[0]=f=>t.handleMouseLeave())},[G("div",{class:$(t.ns.e("inner-wrapper"))},[G("div",VJ,[Ce(t.$slots,"default")],512),t.showHeader&&t.tableLayout==="fixed"?ut((E(),V("div",{key:0,ref:"headerWrapper",class:$(t.ns.e("header-wrapper"))},[G("table",{ref:"tableHeader",class:$(t.ns.e("header")),style:Ye(t.tableBodyStyles),border:"0",cellpadding:"0",cellspacing:"0"},[Z(s,{columns:t.store.states.columns.value,"table-layout":t.tableLayout},null,8,["columns","table-layout"]),Z(a,{ref:"tableHeaderRef",border:t.border,"default-sort":t.defaultSort,store:t.store,onSetDragVisible:t.setDragVisible},null,8,["border","default-sort","store","onSetDragVisible"])],6)],2)),[[d,t.handleHeaderFooterMousewheel]]):ue("v-if",!0),G("div",{ref:"bodyWrapper",style:Ye(t.bodyHeight),class:$(t.ns.e("body-wrapper"))},[Z(u,{ref:"scrollBarRef",height:t.maxHeight?void 0:t.height,"max-height":t.maxHeight?t.height:void 0,"view-style":t.scrollbarViewStyle,always:t.scrollbarAlwaysOn},{default:X(()=>[G("table",{ref:"tableBody",class:$(t.ns.e("body")),cellspacing:"0",cellpadding:"0",border:"0",style:Ye({width:t.bodyWidth,tableLayout:t.tableLayout})},[Z(s,{columns:t.store.states.columns.value,"table-layout":t.tableLayout},null,8,["columns","table-layout"]),t.showHeader&&t.tableLayout==="auto"?(E(),fe(a,{key:0,border:t.border,"default-sort":t.defaultSort,store:t.store,onSetDragVisible:t.setDragVisible},null,8,["border","default-sort","store","onSetDragVisible"])):ue("v-if",!0),Z(l,{context:t.context,highlight:t.highlightCurrentRow,"row-class-name":t.rowClassName,"tooltip-effect":t.tooltipEffect,"row-style":t.rowStyle,store:t.store,stripe:t.stripe},null,8,["context","highlight","row-class-name","tooltip-effect","row-style","store","stripe"])],6),t.isEmpty?(E(),V("div",{key:0,ref:"emptyBlock",style:Ye(t.emptyBlockStyle),class:$(t.ns.e("empty-block"))},[G("span",{class:$(t.ns.e("empty-text"))},[Ce(t.$slots,"empty",{},()=>[lt(Pe(t.computedEmptyText),1)])],2)],6)):ue("v-if",!0),t.$slots.append?(E(),V("div",{key:1,ref:"appendWrapper",class:$(t.ns.e("append-wrapper"))},[Ce(t.$slots,"append")],2)):ue("v-if",!0)]),_:3},8,["height","max-height","view-style","always"])],6),t.border||t.isGroup?(E(),V("div",{key:1,class:$(t.ns.e("border-left-patch"))},null,2)):ue("v-if",!0)],2),t.showSummary?ut((E(),V("div",{key:0,ref:"footerWrapper",class:$(t.ns.e("footer-wrapper"))},[Z(c,{border:t.border,"default-sort":t.defaultSort,store:t.store,style:Ye(t.tableBodyStyles),"sum-text":t.computedSumText,"summary-method":t.summaryMethod},null,8,["border","default-sort","store","style","sum-text","summary-method"])],2)),[[Lt,!t.isEmpty],[d,t.handleHeaderFooterMousewheel]]):ue("v-if",!0),ut(G("div",{ref:"resizeProxy",class:$(t.ns.e("column-resize-proxy"))},null,2),[[Lt,t.resizeProxyVisible]])],46,zJ)}var UJ=De(BJ,[["render",HJ],["__file","/home/runner/work/element-plus/element-plus/packages/components/table/src/table.vue"]]);const WJ={selection:"table-column--selection",expand:"table__expand-column"},GJ={default:{order:""},selection:{width:48,minWidth:48,realWidth:48,order:""},expand:{width:48,minWidth:48,realWidth:48,order:""},index:{width:48,minWidth:48,realWidth:48,order:""}},jJ=t=>WJ[t]||"",KJ={selection:{renderHeader({store:t}){function e(){return t.states.data.value&&t.states.data.value.length===0}return Xe(Ti,{disabled:e(),size:t.states.tableSize.value,indeterminate:t.states.selection.value.length>0&&!t.states.isAllSelected.value,"onUpdate:modelValue":t.toggleAllSelection,modelValue:t.states.isAllSelected.value})},renderCell({row:t,column:e,store:n,$index:r}){return Xe(Ti,{disabled:e.selectable?!e.selectable.call(null,t,r):!1,size:n.states.tableSize.value,onChange:()=>{n.commit("rowSelectedChanged",t)},onClick:i=>i.stopPropagation(),modelValue:n.isSelected(t)})},sortable:!1,resizable:!1},index:{renderHeader({column:t}){return t.label||"#"},renderCell({column:t,$index:e}){let n=e+1;const r=t.index;return typeof r=="number"?n=e+r:typeof r=="function"&&(n=r(e)),Xe("div",{},[n])},sortable:!1},expand:{renderHeader({column:t}){return t.label||""},renderCell({row:t,store:e,expanded:n}){const{ns:r}=e,i=[r.e("expand-icon")];return n&&i.push(r.em("expand-icon","expanded")),Xe("div",{class:i,onClick:function(s){s.stopPropagation(),e.toggleRowExpansion(t)}},{default:()=>[Xe(st,null,{default:()=>[Xe(si)]})]})},sortable:!1,resizable:!1}};function qJ({row:t,column:e,$index:n}){var r;const i=e.property,o=i&&tf(t,i).value;return e&&e.formatter?e.formatter(t,e,o,n):((r=o==null?void 0:o.toString)==null?void 0:r.call(o))||""}function YJ({row:t,treeNode:e,store:n},r=!1){const{ns:i}=n;if(!e)return r?[Xe("span",{class:i.e("placeholder")})]:null;const o=[],s=function(a){a.stopPropagation(),n.loadOrToggle(t)};if(e.indent&&o.push(Xe("span",{class:i.e("indent"),style:{"padding-left":`${e.indent}px`}})),typeof e.expanded=="boolean"&&!e.noLazyChildren){const a=[i.e("expand-icon"),e.expanded?i.em("expand-icon","expanded"):""];let l=si;e.loading&&(l=us),o.push(Xe("div",{class:a,onClick:s},{default:()=>[Xe(st,{class:{[i.is("loading")]:e.loading}},{default:()=>[Xe(l)]})]}))}else o.push(Xe("span",{class:i.e("placeholder")}));return o}function XJ(t,e){const n=wt();return{registerComplexWatchers:()=>{const o=["fixed"],s={realWidth:"width",realMinWidth:"minWidth"},a=o.reduce((l,u)=>(l[u]=u,l),s);Object.keys(a).forEach(l=>{const u=s[l];Et(e,u)&&Me(()=>e[u],c=>{let d=c;u==="width"&&l==="realWidth"&&(d=I0(c)),u==="minWidth"&&l==="realMinWidth"&&(d=vE(c)),n.columnConfig.value[u]=d,n.columnConfig.value[l]=d;const f=u==="fixed";t.value.store.scheduleLayout(f)})})},registerNormalWatchers:()=>{const o=["label","filters","filterMultiple","sortable","index","formatter","className","labelClassName","showOverflowTooltip"],s={property:"prop",align:"realAlign",headerAlign:"realHeaderAlign"},a=o.reduce((l,u)=>(l[u]=u,l),s);Object.keys(a).forEach(l=>{const u=s[l];Et(e,u)&&Me(()=>e[u],c=>{n.columnConfig.value[l]=c})})}}}function ZJ(t,e,n){const r=wt(),i=F(""),o=F(!1),s=F(),a=F(),l=$e("table");Xr(()=>{s.value=t.align?`is-${t.align}`:null,s.value}),Xr(()=>{a.value=t.headerAlign?`is-${t.headerAlign}`:s.value,a.value});const u=k(()=>{let w=r.vnode.vParent||r.parent;for(;w&&!w.tableId&&!w.columnId;)w=w.vnode.vParent||w.parent;return w}),c=k(()=>{const{store:w}=r.parent;if(!w)return!1;const{treeData:_}=w.states,b=_.value;return b&&Object.keys(b).length>0}),d=F(I0(t.width)),f=F(vE(t.minWidth)),h=w=>(d.value&&(w.width=d.value),f.value&&(w.minWidth=f.value),w.minWidth||(w.minWidth=80),w.realWidth=Number(w.width===void 0?w.minWidth:w.width),w),m=w=>{const _=w.type,b=KJ[_]||{};Object.keys(b).forEach(M=>{const T=b[M];M!=="className"&&T!==void 0&&(w[M]=T)});const S=jJ(_);if(S){const M=`${C(l.namespace)}-${S}`;w.className=w.className?`${w.className} ${M}`:M}return w},g=w=>{Array.isArray(w)?w.forEach(b=>_(b)):_(w);function _(b){var S;((S=b==null?void 0:b.type)==null?void 0:S.name)==="ElTableColumn"&&(b.vParent=r)}};return{columnId:i,realAlign:s,isSubColumn:o,realHeaderAlign:a,columnOrTableParent:u,setColumnWidth:h,setColumnForcedProps:m,setColumnRenders:w=>{t.renderHeader||w.type!=="selection"&&(w.renderHeader=S=>{r.columnConfig.value.label;const M=e.header;return M?M(S):w.label});let _=w.renderCell;const b=c.value;return w.type==="expand"?(w.renderCell=S=>Xe("div",{class:"cell"},[_(S)]),n.value.renderExpanded=S=>e.default?e.default(S):e.default):(_=_||qJ,w.renderCell=S=>{let M=null;if(e.default){const x=e.default(S);M=x.some(R=>R.type!==wr)?x:_(S)}else M=_(S);const T=b&&S.cellIndex===0,N=YJ(S,T),I={class:"cell",style:{}};return w.showOverflowTooltip&&(I.class=`${I.class} ${C(l.namespace)}-tooltip`,I.style={width:`${(S.column.realWidth||Number(S.column.width))-1}px`}),g(M),Xe("div",I,[N,M])}),w},getPropsData:(...w)=>w.reduce((_,b)=>(Array.isArray(b)&&b.forEach(S=>{_[S]=t[S]}),_),{}),getColumnElIndex:(w,_)=>Array.prototype.indexOf.call(w,_)}}var JJ={type:{type:String,default:"default"},label:String,className:String,labelClassName:String,property:String,prop:String,width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},renderHeader:Function,sortable:{type:[Boolean,String],default:!1},sortMethod:Function,sortBy:[String,Function,Array],resizable:{type:Boolean,default:!0},columnKey:String,align:String,headerAlign:String,showTooltipWhenOverflow:Boolean,showOverflowTooltip:Boolean,fixed:[Boolean,String],formatter:Function,selectable:Function,reserveSelection:Boolean,filterMethod:Function,filteredValue:Array,filters:Array,filterPlacement:String,filterMultiple:{type:Boolean,default:!0},index:[Number,Function],sortOrders:{type:Array,default:()=>["ascending","descending",null],validator:t=>t.every(e=>["ascending","descending",null].includes(e))}};let QJ=1;var ME=pe({name:"ElTableColumn",components:{ElCheckbox:Ti},props:JJ,setup(t,{slots:e}){const n=wt(),r=F({}),i=k(()=>{let y=n.parent;for(;y&&!y.tableId;)y=y.parent;return y}),{registerNormalWatchers:o,registerComplexWatchers:s}=XJ(i,t),{columnId:a,isSubColumn:l,realHeaderAlign:u,columnOrTableParent:c,setColumnWidth:d,setColumnForcedProps:f,setColumnRenders:h,getPropsData:m,getColumnElIndex:g,realAlign:p}=ZJ(t,e,i),v=c.value;a.value=`${v.tableId||v.columnId}_column_${QJ++}`,Ac(()=>{l.value=i.value!==v;const y=t.type||"default",w=t.sortable===""?!0:t.sortable,_=Ue(Ee({},GJ[y]),{id:a.value,type:y,property:t.prop||t.property,align:p,headerAlign:u,showOverflowTooltip:t.showOverflowTooltip||t.showTooltipWhenOverflow,filterable:t.filters||t.filterMethod,filteredValue:[],filterPlacement:"",isColumnGroup:!1,isSubColumn:!1,filterOpened:!1,sortable:w,index:t.index,rawColumnKey:n.vnode.key});let N=m(["columnKey","label","className","labelClassName","type","renderHeader","formatter","fixed","resizable"],["sortMethod","sortBy","sortOrders"],["selectable","reserveSelection"],["filterMethod","filters","filterMultiple","filterOpened","filteredValue","filterPlacement"]);N=tJ(_,N),N=nJ(h,d,f)(N),r.value=N,o(),s()}),ft(()=>{var y;const w=c.value,_=l.value?w.vnode.el.children:(y=w.refs.hiddenColumns)==null?void 0:y.children,b=()=>g(_||[],n.vnode.el);r.value.getColumnIndex=b,b()>-1&&i.value.store.commit("insertColumn",r.value,l.value?w.columnConfig.value:null)}),rn(()=>{i.value.store.commit("removeColumn",r.value,l.value?v.columnConfig.value:null)}),n.columnId=a.value,n.columnConfig=r},render(){var t,e,n;try{const r=(e=(t=this.$slots).default)==null?void 0:e.call(t,{row:{},column:{},$index:-1}),i=[];if(Array.isArray(r))for(const s of r)((n=s.type)==null?void 0:n.name)==="ElTableColumn"||s.shapeFlag&2?i.push(s):s.type===Ze&&Array.isArray(s.children)&&s.children.forEach(a=>{(a==null?void 0:a.patchFlag)!==1024&&!pt(a==null?void 0:a.children)&&i.push(a)});return Xe("div",i)}catch{return Xe("div",[])}}});const eQ=_t(UJ,{TableColumn:ME}),tQ=pn(ME),nQ=Je({tabs:{type:Fe(Array),default:()=>fn([])}}),rQ={name:"ElTabBar"},iQ=pe(Ue(Ee({},rQ),{props:nQ,setup(t,{expose:e}){const n=t,r="ElTabBar",i=wt(),o=Ke(Lh);o||kn(r,"<el-tabs><el-tab-bar /></el-tabs>");const s=$e("tabs"),a=F(),l=F(),u=()=>{let d=0,f=0;const h=["top","bottom"].includes(o.props.tabPosition)?"width":"height",m=h==="width"?"x":"y";return n.tabs.every(g=>{var p,v,y,w;const _=(v=(p=i.parent)==null?void 0:p.refs)==null?void 0:v[`tab-${g.paneName}`];if(!_)return!1;if(!g.active)return!0;f=_[`client${Pr(h)}`];const b=m==="x"?"left":"top";d=_.getBoundingClientRect()[b]-((w=(y=_.parentElement)==null?void 0:y.getBoundingClientRect()[b])!=null?w:0);const S=window.getComputedStyle(_);return h==="width"&&(n.tabs.length>1&&(f-=Number.parseFloat(S.paddingLeft)+Number.parseFloat(S.paddingRight)),d+=Number.parseFloat(S.paddingLeft)),!1}),{[h]:`${f}px`,transform:`translate${Pr(m)}(${d}px)`}},c=()=>l.value=u();return Me(()=>n.tabs,async()=>{await et(),c()},{immediate:!0}),Bl(a,()=>c()),e({ref:a,update:c}),(d,f)=>(E(),V("div",{ref_key:"barRef",ref:a,class:$([C(s).e("active-bar"),C(s).is(C(o).props.tabPosition)]),style:Ye(l.value)},null,6))}}));var oQ=De(iQ,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-bar.vue"]]);const sQ=Je({panes:{type:Fe(Array),default:()=>fn([])},currentName:{type:[String,Number],default:""},editable:Boolean,onTabClick:{type:Fe(Function),default:Vt},onTabRemove:{type:Fe(Function),default:Vt},type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),Sw="ElTabNav",aQ=pe({name:Sw,props:sQ,setup(t,{expose:e}){const n=Ke(Lh);n||kn(Sw,"<el-tabs><tab-nav /></el-tabs>");const r=$e("tabs"),i=K$(),o=Z$(),s=F(),a=F(),l=F(),u=F(!1),c=F(0),d=F(!1),f=F(!0),h=k(()=>["top","bottom"].includes(n.props.tabPosition)?"width":"height"),m=k(()=>({transform:`translate${h.value==="width"?"X":"Y"}(-${c.value}px)`})),g=()=>{if(!s.value)return;const S=s.value[`offset${Pr(h.value)}`],M=c.value;if(!M)return;const T=M>S?M-S:0;c.value=T},p=()=>{if(!s.value||!a.value)return;const S=a.value[`offset${Pr(h.value)}`],M=s.value[`offset${Pr(h.value)}`],T=c.value;if(S-T<=M)return;const N=S-T>M*2?T+M:S-M;c.value=N},v=()=>{const S=a.value;if(!u.value||!l.value||!s.value||!S)return;const M=l.value.querySelector(".is-active");if(!M)return;const T=s.value,N=["top","bottom"].includes(n.props.tabPosition),I=M.getBoundingClientRect(),x=T.getBoundingClientRect(),R=N?S.offsetWidth-x.width:S.offsetHeight-x.height,O=c.value;let D=O;N?(I.left<x.left&&(D=O-(x.left-I.left)),I.right>x.right&&(D=O+I.right-x.right)):(I.top<x.top&&(D=O-(x.top-I.top)),I.bottom>x.bottom&&(D=O+(I.bottom-x.bottom))),D=Math.max(D,0),c.value=Math.min(D,R)},y=()=>{if(!a.value||!s.value)return;const S=a.value[`offset${Pr(h.value)}`],M=s.value[`offset${Pr(h.value)}`],T=c.value;if(M<S){const N=c.value;u.value=u.value||{},u.value.prev=N,u.value.next=N+M<S,S-N<M&&(c.value=S-M)}else u.value=!1,T>0&&(c.value=0)},w=S=>{const M=S.code,{up:T,down:N,left:I,right:x}=qe;if(![T,N,I,x].includes(M))return;const R=Array.from(S.currentTarget.querySelectorAll("[role=tab]")),O=R.indexOf(S.target);let D;M===I||M===T?O===0?D=R.length-1:D=O-1:O<R.length-1?D=O+1:D=0,R[D].focus(),R[D].click(),_()},_=()=>{f.value&&(d.value=!0)},b=()=>d.value=!1;return Me(i,S=>{S==="hidden"?f.value=!1:S==="visible"&&setTimeout(()=>f.value=!0,50)}),Me(o,S=>{S?setTimeout(()=>f.value=!0,50):f.value=!1}),Bl(l,y),ft(()=>setTimeout(()=>v(),0)),Ai(()=>y()),e({scrollToActiveTab:v,removeFocus:b}),()=>{const S=u.value?[Z("span",{class:[r.e("nav-prev"),r.is("disabled",!u.value.prev)],onClick:g},[Z(st,null,{default:()=>[Z(pa,null,null)]})]),Z("span",{class:[r.e("nav-next"),r.is("disabled",!u.value.next)],onClick:p},[Z(st,null,{default:()=>[Z(si,null,null)]})])]:null,M=t.panes.map((T,N)=>{var I,x;const R=T.props.name||T.index||`${N}`,O=T.isClosable||t.editable;T.index=`${N}`;const D=O?Z(st,{class:"is-icon-close",onClick:A=>t.onTabRemove(T,A)},{default:()=>[Z(ti,null,null)]}):null,B=((x=(I=T.instance.slots).label)==null?void 0:x.call(I))||T.props.label,L=T.active?0:-1;return Z("div",{ref:`tab-${R}`,class:[r.e("item"),r.is(n.props.tabPosition),r.is("active",T.active),r.is("disabled",T.props.disabled),r.is("closable",O),r.is("focus",d.value)],id:`tab-${R}`,key:`tab-${R}`,"aria-controls":`pane-${R}`,role:"tab","aria-selected":T.active,tabindex:L,onFocus:()=>_(),onBlur:()=>b(),onClick:A=>{b(),t.onTabClick(T,R,A)},onKeydown:A=>{O&&(A.code===qe.delete||A.code===qe.backspace)&&t.onTabRemove(T,A)}},[B,D])});return Z("div",{ref:l,class:[r.e("nav-wrap"),r.is("scrollable",!!u.value),r.is(n.props.tabPosition)]},[S,Z("div",{class:r.e("nav-scroll"),ref:s},[Z("div",{class:[r.e("nav"),r.is(n.props.tabPosition),r.is("stretch",t.stretch&&["top","bottom"].includes(n.props.tabPosition))],ref:a,style:m.value,role:"tablist",onKeydown:w},[t.type?null:Z(oQ,{tabs:[...t.panes]},null),M])])])}}}),lQ=Je({type:{type:String,values:["card","border-card",""],default:""},activeName:{type:[String,Number],default:""},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number],default:""},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:Fe(Function),default:()=>!0},stretch:Boolean}),ad=t=>pt(t)||It(t),uQ={[bt]:t=>ad(t),[os]:t=>ad(t),"tab-click":(t,e)=>e instanceof Event,"tab-change":t=>ad(t),edit:(t,e)=>["remove","add"].includes(e),"tab-remove":t=>ad(t),"tab-add":()=>!0},xE=(t,e=[])=>{const n=t.children||[];return Array.from(n).forEach(r=>{let i=r.type;i=i.name||i,i==="ElTabPane"&&r.component?e.push(r.component):(i===Ze||i==="template")&&xE(r,e)}),e};var cQ=pe({name:"ElTabs",props:lQ,emits:uQ,setup(t,{emit:e,slots:n,expose:r}){const i=wt();Nc({scope:"el-tabs",type:"Event",from:"input",replacement:"tab-change",version:"2.5.0",ref:"https://element-plus.org/en-US/component/tabs.html#tabs-events"},k(()=>{var p;return gt((p=i.vnode.props)==null?void 0:p.onInput)}));const o=$e("tabs"),s=F(),a=F([]),l=F(t.modelValue||t.activeName||"0"),u={},c=(p=!1)=>{if(n.default){const v=i.subTree.children,y=Array.from(v).find(({props:b})=>(b==null?void 0:b.class)===o.e("content"));if(!y)return;const w=xE(y).map(b=>u[b.uid]),_=!(w.length===a.value.length&&w.every((b,S)=>b.uid===a.value[S].uid));(p||_)&&(a.value=w)}else a.value.length!==0&&(a.value=[])},d=p=>{l.value=p,e(os,p),e(bt,p),e("tab-change",p)},f=p=>{var v;if(l.value===p)return;const y=(v=t.beforeLeave)==null?void 0:v.call(t,p,l.value);ea(y)?y.then(()=>{var w,_;d(p),(_=(w=s.value)==null?void 0:w.removeFocus)==null||_.call(w)},Vt):y!==!1&&d(p)},h=(p,v,y)=>{p.props.disabled||(f(v),e("tab-click",p,y))},m=(p,v)=>{p.props.disabled||(v.stopPropagation(),e("edit",p.props.name,"remove"),e("tab-remove",p.props.name))},g=()=>{e("edit",void 0,"add"),e("tab-add")};return Ai(()=>c()),ft(()=>c()),Me(()=>t.activeName,p=>f(p)),Me(()=>t.modelValue,p=>f(p)),Me(l,async()=>{var p,v;c(!0),await et(),await((p=s.value)==null?void 0:p.$nextTick()),(v=s.value)==null||v.scrollToActiveTab()}),Ct(Lh,{props:t,currentName:l,updatePaneState:p=>u[p.uid]=p}),r({currentName:l}),()=>{const p=t.editable||t.addable?Z("span",{class:o.e("new-tab"),tabindex:"0",onClick:g,onKeydown:w=>{w.code===qe.enter&&g()}},[Z(st,{class:o.is("icon-plus")},{default:()=>[Z(PM,null,null)]})]):null,v=Z("div",{class:[o.e("header"),o.is(t.tabPosition)]},[p,Z(aQ,{ref:s,currentName:l.value,editable:t.editable,type:t.type,panes:a.value,stretch:t.stretch,onTabClick:h,onTabRemove:m},null)]),y=Z("div",{class:o.e("content")},[Ce(n,"default")]);return Z("div",{class:[o.b(),o.m(t.tabPosition),{[o.m("card")]:t.type==="card",[o.m("border-card")]:t.type==="border-card"}]},[...t.tabPosition!=="bottom"?[v,y]:[y,v]])}}});const dQ=Je({label:{type:String,default:""},name:{type:[String,Number],default:""},closable:Boolean,disabled:Boolean,lazy:Boolean}),fQ=["id","aria-hidden","aria-labelledby"],hQ={name:"ElTabPane"},pQ=pe(Ue(Ee({},hQ),{props:dQ,setup(t){const e=t,n="ElTabPane",r=wt(),i=Ke(Lh);i||kn(n,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const o=$e("tab-pane"),s=F(),a=k(()=>e.closable||i.props.closable),l=Vb(()=>i.currentName.value===(e.name||s.value)),u=F(l.value),c=k(()=>e.name||s.value),d=Vb(()=>!e.lazy||u.value||l.value);return Me(l,f=>{f&&(u.value=!0)}),i.updatePaneState(Ot({uid:r.uid,instance:Zu(r),props:e,paneName:c,active:l,index:s,isClosable:a})),(f,h)=>C(d)?ut((E(),V("div",{key:0,id:`pane-${C(c)}`,class:$(C(o).b()),role:"tabpanel","aria-hidden":!C(l),"aria-labelledby":`tab-${C(c)}`},[Ce(f.$slots,"default")],10,fQ)),[[Lt,C(l)]]):ue("v-if",!0)}}));var EE=De(pQ,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-pane.vue"]]);const mQ=_t(cQ,{TabPane:EE}),gQ=pn(EE);dt.extend(v0);const{Option:vQ}=oa,uo=t=>{const e=(t||"").split(":");if(e.length>=2){let n=Number.parseInt(e[0],10);const r=Number.parseInt(e[1],10),i=t.toUpperCase();return i.includes("AM")&&n===12?n=0:i.includes("PM")&&n!==12&&(n+=12),{hours:n,minutes:r}}return null},Hp=(t,e)=>{const n=uo(t),r=uo(e),i=n.minutes+n.hours*60,o=r.minutes+r.hours*60;return i===o?0:i>o?1:-1},Cw=t=>`${t}`.padStart(2,"0"),Ya=t=>`${Cw(t.hours)}:${Cw(t.minutes)}`,yQ=(t,e)=>{const n=uo(t),r=uo(e),i={hours:n.hours,minutes:n.minutes};return i.minutes+=r.minutes,i.hours+=r.hours,i.hours+=Math.floor(i.minutes/60),i.minutes=i.minutes%60,Ya(i)},bQ=pe({name:"ElTimeSelect",components:{ElSelect:oa,ElOption:vQ,ElIcon:st},model:{prop:"value",event:"change"},props:{format:{type:String,default:"HH:mm"},modelValue:String,disabled:{type:Boolean,default:!1},editable:{type:Boolean,default:!0},effect:{type:String,default:"light"},clearable:{type:Boolean,default:!0},size:{type:String,values:Ki,default:""},placeholder:{type:String,default:""},start:{type:String,default:"09:00"},end:{type:String,default:"18:00"},step:{type:String,default:"00:30"},minTime:{type:String,default:""},maxTime:{type:String,default:""},name:{type:String,default:""},prefixIcon:{type:[String,Object],default:kM},clearIcon:{type:[String,Object],default:bo}},emits:["change","blur","focus","update:modelValue"],setup(t){const e=F(null),n=k(()=>t.modelValue),r=k(()=>{const d=uo(t.start);return Ya(d)}),i=k(()=>{const d=uo(t.end);return Ya(d)}),o=k(()=>{const d=uo(t.step);return Ya(d)}),s=k(()=>{const d=uo(t.minTime);return d?Ya(d):null}),a=k(()=>{const d=uo(t.maxTime);return d?Ya(d):null}),l=k(()=>{const d=[];if(t.start&&t.end&&t.step){let f=r.value,h;for(;Hp(f,i.value)<=0;)h=dt(f,"HH:mm").format(t.format),d.push({value:h,disabled:Hp(f,s.value||"-1:-1")<=0||Hp(f,a.value||"100:100")>=0}),f=yQ(f,o.value)}return d});return{select:e,value:n,items:l,blur:()=>{var d,f;(f=(d=e.value)==null?void 0:d.blur)==null||f.call(d)},focus:()=>{var d,f;(f=(d=e.value)==null?void 0:d.focus)==null||f.call(d)}}}});function wQ(t,e,n,r,i,o){const s=ve("el-option"),a=ve("el-icon"),l=ve("el-select");return E(),fe(l,{ref:"select","model-value":t.value,disabled:t.disabled,clearable:t.clearable,"clear-icon":t.clearIcon,size:t.size,effect:t.effect,placeholder:t.placeholder,"default-first-option":"",filterable:t.editable,"onUpdate:modelValue":e[0]||(e[0]=u=>t.$emit("update:modelValue",u)),onChange:e[1]||(e[1]=u=>t.$emit("change",u)),onBlur:e[2]||(e[2]=u=>t.$emit("blur",u)),onFocus:e[3]||(e[3]=u=>t.$emit("focus",u))},{prefix:X(()=>[t.prefixIcon?(E(),fe(a,{key:0,class:"el-input__prefix-icon"},{default:X(()=>[(E(),fe(Pt(t.prefixIcon)))]),_:1})):ue("v-if",!0)]),default:X(()=>[(E(!0),V(Ze,null,xt(t.items,u=>(E(),fe(s,{key:u.value,label:u.value,value:u.value,disabled:u.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["model-value","disabled","clearable","clear-icon","size","effect","placeholder","filterable"])}var _f=De(bQ,[["render",wQ],["__file","/home/runner/work/element-plus/element-plus/packages/components/time-select/src/time-select.vue"]]);_f.install=t=>{t.component(_f.name,_f)};const _Q=_f,SQ=_Q,CQ=pe({name:"ElTimeline",setup(t,{slots:e}){const n=$e("timeline");return Ct("timeline",e),()=>Xe("ul",{class:[n.b()]},[Ce(e,"default")])}}),MQ=Je({timestamp:{type:String,default:""},hideTimestamp:{type:Boolean,default:!1},center:{type:Boolean,default:!1},placement:{type:String,default:"bottom"},type:{type:String,default:""},color:{type:String,default:""},size:{type:String,default:"normal"},icon:{type:tr,default:""},hollow:{type:Boolean,default:!1}}),xQ=pe({name:"ElTimelineItem",components:{ElIcon:st},props:MQ,setup(){return{ns:$e("timeline-item")}}});function EQ(t,e,n,r,i,o){const s=ve("el-icon");return E(),V("li",{class:$([t.ns.b(),{[t.ns.e("center")]:t.center}])},[G("div",{class:$(t.ns.e("tail"))},null,2),t.$slots.dot?ue("v-if",!0):(E(),V("div",{key:0,class:$([t.ns.e("node"),t.ns.em("node",t.size||""),t.ns.em("node",t.type||""),t.ns.is("hollow",t.hollow)]),style:Ye({backgroundColor:t.color})},[t.icon?(E(),fe(s,{key:0,class:$(t.ns.e("icon"))},{default:X(()=>[(E(),fe(Pt(t.icon)))]),_:1},8,["class"])):ue("v-if",!0)],6)),t.$slots.dot?(E(),V("div",{key:1,class:$(t.ns.e("dot"))},[Ce(t.$slots,"dot")],2)):ue("v-if",!0),G("div",{class:$(t.ns.e("wrapper"))},[!t.hideTimestamp&&t.placement==="top"?(E(),V("div",{key:0,class:$([t.ns.e("timestamp"),t.ns.is("top")])},Pe(t.timestamp),3)):ue("v-if",!0),G("div",{class:$(t.ns.e("content"))},[Ce(t.$slots,"default")],2),!t.hideTimestamp&&t.placement==="bottom"?(E(),V("div",{key:1,class:$([t.ns.e("timestamp"),t.ns.is("bottom")])},Pe(t.timestamp),3)):ue("v-if",!0)],2)],2)}var TE=De(xQ,[["render",EQ],["__file","/home/runner/work/element-plus/element-plus/packages/components/timeline/src/timeline-item.vue"]]);const TQ=_t(CQ,{TimelineItem:TE}),AQ=pn(TE),AE=Je({nowrap:Boolean});var kE=(t=>(t.top="top",t.bottom="bottom",t.left="left",t.right="right",t))(kE||{});const kQ=Object.values(kE),O0=Je({width:{type:Number,default:10},height:{type:Number,default:10},style:{type:Fe(Object),default:null}}),PQ=Je({side:{type:Fe(String),values:kQ,required:!0}}),LQ=["absolute","fixed"],RQ=["top-start","top-end","top","bottom-start","bottom-end","bottom","left-start","left-end","left","right-start","right-end","right"],F0=Je({ariaLabel:String,arrowPadding:{type:Fe(Number),default:5},effect:{type:String,default:""},contentClass:String,placement:{type:Fe(String),values:RQ,default:"bottom"},reference:{type:Fe(Object),default:null},offset:{type:Number,default:8},strategy:{type:Fe(String),values:LQ,default:"absolute"},showArrow:{type:Boolean,default:!1}}),B0=Je({delayDuration:{type:Number,default:300},defaultOpen:Boolean,open:{type:Boolean,default:void 0},onOpenChange:{type:Fe(Function)},"onUpdate:open":{type:Fe(Function)}}),Ea={type:Fe(Function)},z0=Je({onBlur:Ea,onClick:Ea,onFocus:Ea,onMouseDown:Ea,onMouseEnter:Ea,onMouseLeave:Ea}),IQ=Je(Ue(Ee(Ee(Ee(Ee({},B0),O0),z0),F0),{alwaysOn:Boolean,fullTransition:Boolean,transitionProps:{type:Fe(Object),default:null},teleported:Boolean,to:{type:Fe(String),default:"body"}})),DQ={name:"ElTooltipV2Root"},$Q=pe(Ue(Ee({},DQ),{props:B0,setup(t,{expose:e}){const n=t,r=F(n.defaultOpen),i=F(null),o=k({get:()=>nN(n.open)?r.value:n.open,set:p=>{var v;r.value=p,(v=n["onUpdate:open"])==null||v.call(n,p)}}),s=k(()=>It(n.delayDuration)&&n.delayDuration>0),{start:a,stop:l}=ra(()=>{o.value=!0},k(()=>n.delayDuration),{immediate:!1}),u=$e("tooltip-v2"),c=o0(),d=()=>{l(),o.value=!0},f=()=>{C(s)?a():d()},h=d,m=()=>{l(),o.value=!1};return Me(o,p=>{var v;p&&(document.dispatchEvent(new CustomEvent(Sp)),h()),(v=n.onOpenChange)==null||v.call(n,p)}),ft(()=>{document.addEventListener(Sp,m)}),rn(()=>{l(),document.removeEventListener(Sp,m)}),Ct(Rh,{contentId:c,triggerRef:i,ns:u,onClose:m,onDelayOpen:f,onOpen:h}),e({onOpen:h,onClose:m}),(p,v)=>Ce(p.$slots,"default",{open:C(o)})}}));var NQ=De($Q,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip-v2/src/root.vue"]]);const OQ={name:"ElTooltipV2Arrow"},FQ=pe(Ue(Ee({},OQ),{props:Ee(Ee({},O0),PQ),setup(t){const e=t,{ns:n}=Ke(Rh),{arrowRef:r}=Ke(ZM),i=k(()=>{const{style:o,width:s,height:a}=e,l=n.namespace.value;return Ee({[`--${l}-tooltip-v2-arrow-width`]:`${s}px`,[`--${l}-tooltip-v2-arrow-height`]:`${a}px`,[`--${l}-tooltip-v2-arrow-border-width`]:`${s/2}px`,[`--${l}-tooltip-v2-arrow-cover-width`]:s/2-1},o||{})});return(o,s)=>(E(),V("span",{ref_key:"arrowRef",ref:r,style:Ye(C(i)),class:$(C(n).e("arrow"))},null,6))}}));var Mw=De(FQ,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip-v2/src/arrow.vue"]]);const BQ=["data-side"],zQ={name:"ElTooltipV2Content"},VQ=pe(Ue(Ee({},zQ),{props:Ee(Ee({},F0),AE),setup(t){const e=t,{triggerRef:n,contentId:r}=Ke(Rh),i=F(e.placement),o=F(e.strategy),s=F(null),{referenceRef:a,contentRef:l,middlewareData:u,x:c,y:d,update:f}=d5({placement:i,strategy:o,middleware:k(()=>{const w=[i5(e.offset)];return e.showArrow&&w.push(f5({arrowRef:s})),w})}),h=To().nextZIndex(),m=$e("tooltip-v2"),g=k(()=>i.value.split("-")[0]),p=k(()=>({position:C(o),top:`${C(d)||0}px`,left:`${C(c)||0}px`,zIndex:h})),v=k(()=>{if(!e.showArrow)return{};const{arrow:w}=C(u);return{[`--${m.namespace.value}-tooltip-v2-arrow-x`]:`${w==null?void 0:w.x}px`||"",[`--${m.namespace.value}-tooltip-v2-arrow-y`]:`${w==null?void 0:w.y}px`||""}}),y=k(()=>[m.e("content"),m.is("dark",e.effect==="dark"),m.is(C(o)),e.contentClass]);return Me(s,()=>f()),Me(()=>e.placement,w=>i.value=w),ft(()=>{Me(()=>e.reference||n.value,w=>{a.value=w||void 0},{immediate:!0})}),Ct(ZM,{arrowRef:s}),(w,_)=>(E(),V("div",{ref_key:"contentRef",ref:l,style:Ye(C(p)),"data-tooltip-v2-root":""},[w.nowrap?ue("v-if",!0):(E(),V("div",{key:0,"data-side":C(g),class:$(C(y))},[Ce(w.$slots,"default",{contentStyle:C(p),contentClass:C(y)}),Z(C(A2),{id:C(r),role:"tooltip"},{default:X(()=>[w.ariaLabel?(E(),V(Ze,{key:0},[lt(Pe(w.ariaLabel),1)],2112)):Ce(w.$slots,"default",{key:1})]),_:3},8,["id"]),Ce(w.$slots,"arrow",{style:Ye(C(v)),side:C(g)})],10,BQ))],4))}}));var xw=De(VQ,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip-v2/src/content.vue"]]);const HQ=Je({setRef:{type:Fe(Function),required:!0},onlyChild:Boolean});var UQ=pe({props:HQ,setup(t,{slots:e}){const n=F(),r=e0(n,i=>{i?t.setRef(i.nextElementSibling):t.setRef(null)});return()=>{var i;const[o]=((i=e.default)==null?void 0:i.call(e))||[],s=t.onlyChild?CB(o.children):o.children;return Z(Ze,{ref:r},[s])}}});const WQ={name:"ElTooltipV2Trigger"},GQ=pe(Ue(Ee({},WQ),{props:Ee(Ee({},AE),z0),setup(t){const e=t,{onClose:n,onOpen:r,onDelayOpen:i,triggerRef:o,contentId:s}=Ke(Rh);let a=!1;const l=y=>{o.value=y},u=()=>{a=!1},c=dn(e.onMouseEnter,i),d=dn(e.onMouseLeave,n),f=dn(e.onMouseDown,()=>{n(),a=!0,document.addEventListener("mouseup",u,{once:!0})}),h=dn(e.onFocus,()=>{a||r()}),m=dn(e.onBlur,n),g=dn(e.onClick,y=>{y.detail===0&&n()}),p={blur:m,click:g,focus:h,mousedown:f,mouseenter:c,mouseleave:d},v=(y,w,_)=>{y&&Object.entries(w).forEach(([b,S])=>{y[_](b,S)})};return Me(o,(y,w)=>{v(y,p,"addEventListener"),v(w,p,"removeEventListener"),y&&y.setAttribute("aria-describedby",s.value)}),rn(()=>{v(o.value,p,"removeEventListener"),document.removeEventListener("mouseup",u)}),(y,w)=>y.nowrap?(E(),fe(C(UQ),{key:0,"set-ref":l,"only-child":""},{default:X(()=>[Ce(y.$slots,"default")]),_:3})):(E(),V("button",Qt({key:1,ref_key:"triggerRef",ref:o},y.$attrs),[Ce(y.$slots,"default")],16))}}));var jQ=De(GQ,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip-v2/src/trigger.vue"]]);const KQ={name:"ElTooltipV2"},qQ=pe(Ue(Ee({},KQ),{props:IQ,setup(t){const n=Bn(t),r=Ot(qo(n,Object.keys(O0))),i=Ot(qo(n,Object.keys(F0))),o=Ot(qo(n,Object.keys(B0))),s=Ot(qo(n,Object.keys(z0)));return(a,l)=>(E(),fe(NQ,bi(rs(C(o))),{default:X(({open:u})=>[Z(jQ,Qt(C(s),{nowrap:""}),{default:X(()=>[Ce(a.$slots,"trigger")]),_:3},16),(E(),fe(Pc,{to:a.to,disabled:!a.teleported},[a.fullTransition?(E(),fe(En,bi(Qt({key:0},a.transitionProps)),{default:X(()=>[a.alwaysOn||u?(E(),fe(xw,bi(Qt({key:0},C(i))),{arrow:X(({style:c,side:d})=>[a.showArrow?(E(),fe(Mw,Qt({key:0},C(r),{style:c,side:d}),null,16,["style","side"])):ue("v-if",!0)]),default:X(()=>[Ce(a.$slots,"default")]),_:3},16)):ue("v-if",!0)]),_:2},1040)):(E(),V(Ze,{key:1},[a.alwaysOn||u?(E(),fe(xw,bi(Qt({key:0},C(i))),{arrow:X(({style:c,side:d})=>[a.showArrow?(E(),fe(Mw,Qt({key:0},C(r),{style:c,side:d}),null,16,["style","side"])):ue("v-if",!0)]),default:X(()=>[Ce(a.$slots,"default")]),_:3},16)):ue("v-if",!0)],2112))],8,["to","disabled"]))]),_:3},16))}}));var YQ=De(qQ,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip-v2/src/tooltip.vue"]]);const XQ=_t(YQ),Bg="checked-change",ZQ={data:{type:Array,default(){return[]}},optionRender:Function,placeholder:String,title:String,filterable:Boolean,format:Object,filterMethod:Function,defaultChecked:Array,props:Object},JQ=(t,e)=>{const{emit:n}=wt(),r=k(()=>t.props.label||"label"),i=k(()=>t.props.key||"key"),o=k(()=>t.props.disabled||"disabled"),s=k(()=>t.data.filter(f=>typeof t.filterMethod=="function"?t.filterMethod(e.query,f):(f[r.value]||f[i.value].toString()).toLowerCase().includes(e.query.toLowerCase()))),a=k(()=>s.value.filter(f=>!f[o.value])),l=k(()=>{const f=e.checked.length,h=t.data.length,{noChecked:m,hasChecked:g}=t.format;return m&&g?f>0?g.replace(/\${checked}/g,f.toString()).replace(/\${total}/g,h.toString()):m.replace(/\${total}/g,h.toString()):`${f}/${h}`}),u=k(()=>{const f=e.checked.length;return f>0&&f<a.value.length}),c=()=>{const f=a.value.map(h=>h[i.value]);e.allChecked=f.length>0&&f.every(h=>e.checked.includes(h))},d=f=>{e.checked=f?a.value.map(h=>h[i.value]):[]};return Me(()=>e.checked,(f,h)=>{if(c(),e.checkChangeByUser){const m=f.concat(h).filter(g=>!f.includes(g)||!h.includes(g));n(Bg,f,m)}else n(Bg,f),e.checkChangeByUser=!0}),Me(a,()=>{c()}),Me(()=>t.data,()=>{const f=[],h=s.value.map(m=>m[i.value]);e.checked.forEach(m=>{h.includes(m)&&f.push(m)}),e.checkChangeByUser=!1,e.checked=f}),Me(()=>t.defaultChecked,(f,h)=>{if(h&&f.length===h.length&&f.every(p=>h.includes(p)))return;const m=[],g=a.value.map(p=>p[i.value]);f.forEach(p=>{g.includes(p)&&m.push(p)}),e.checkChangeByUser=!1,e.checked=m},{immediate:!0}),{labelProp:r,keyProp:i,disabledProp:o,filteredData:s,checkableData:a,checkedSummary:l,isIndeterminate:u,updateAllChecked:c,handleAllCheckedChange:d}},QQ=pe({name:"ElTransferPanel",components:{ElCheckboxGroup:ox,ElCheckbox:Ti,ElInput:ai,OptionContent:({option:t})=>t},props:ZQ,emits:[Bg],setup(t,{slots:e}){const{t:n}=Gt(),r=$e("transfer"),i=Ot({checked:[],allChecked:!1,query:"",inputHover:!1,checkChangeByUser:!0}),{labelProp:o,keyProp:s,disabledProp:a,filteredData:l,checkedSummary:u,isIndeterminate:c,handleAllCheckedChange:d}=JQ(t,i),f=k(()=>i.query.length>0&&l.value.length===0),h=k(()=>!!e.default()[0].children.length),{checked:m,allChecked:g,query:p,inputHover:v,checkChangeByUser:y}=Bn(i);return{ns:r,labelProp:o,keyProp:s,disabledProp:a,filteredData:l,checkedSummary:u,isIndeterminate:c,handleAllCheckedChange:d,checked:m,allChecked:g,query:p,inputHover:v,checkChangeByUser:y,hasNoMatch:f,SearchIcon:RF,hasFooter:h,t:n}}});function eee(t,e,n,r,i,o){const s=ve("el-checkbox"),a=ve("el-input"),l=ve("option-content"),u=ve("el-checkbox-group");return E(),V("div",{class:$(t.ns.b("panel"))},[G("p",{class:$(t.ns.be("panel","header"))},[Z(s,{modelValue:t.allChecked,"onUpdate:modelValue":e[0]||(e[0]=c=>t.allChecked=c),indeterminate:t.isIndeterminate,onChange:t.handleAllCheckedChange},{default:X(()=>[lt(Pe(t.title)+" ",1),G("span",null,Pe(t.checkedSummary),1)]),_:1},8,["modelValue","indeterminate","onChange"])],2),G("div",{class:$([t.ns.be("panel","body"),t.ns.is("with-footer",t.hasFooter)])},[t.filterable?(E(),fe(a,{key:0,modelValue:t.query,"onUpdate:modelValue":e[1]||(e[1]=c=>t.query=c),class:$(t.ns.be("panel","filter")),size:"default",placeholder:t.placeholder,"prefix-icon":t.SearchIcon,clearable:"",onMouseenter:e[2]||(e[2]=c=>t.inputHover=!0),onMouseleave:e[3]||(e[3]=c=>t.inputHover=!1)},null,8,["modelValue","class","placeholder","prefix-icon"])):ue("v-if",!0),ut(Z(u,{modelValue:t.checked,"onUpdate:modelValue":e[4]||(e[4]=c=>t.checked=c),class:$([t.ns.is("filterable",t.filterable),t.ns.be("panel","list")])},{default:X(()=>[(E(!0),V(Ze,null,xt(t.filteredData,c=>(E(),fe(s,{key:c[t.keyProp],class:$(t.ns.be("panel","item")),label:c[t.keyProp],disabled:c[t.disabledProp]},{default:X(()=>[Z(l,{option:t.optionRender(c)},null,8,["option"])]),_:2},1032,["class","label","disabled"]))),128))]),_:1},8,["modelValue","class"]),[[Lt,!t.hasNoMatch&&t.data.length>0]]),ut(G("p",{class:$(t.ns.be("panel","empty"))},Pe(t.hasNoMatch?t.t("el.transfer.noMatch"):t.t("el.transfer.noData")),3),[[Lt,t.hasNoMatch||t.data.length===0]])],2),t.hasFooter?(E(),V("p",{key:0,class:$(t.ns.be("panel","footer"))},[Ce(t.$slots,"default")],2)):ue("v-if",!0)],2)}var tee=De(QQ,[["render",eee],["__file","/home/runner/work/element-plus/element-plus/packages/components/transfer/src/transfer-panel.vue"]]);const nee=t=>{const e=k(()=>t.props.key),n=k(()=>t.data.reduce((o,s)=>(o[s[e.value]]=s)&&o,{})),r=k(()=>t.data.filter(o=>!t.modelValue.includes(o[e.value]))),i=k(()=>t.targetOrder==="original"?t.data.filter(o=>t.modelValue.includes(o[e.value])):t.modelValue.reduce((o,s)=>{const a=n.value[s];return a&&o.push(a),o},[]));return{propsKey:e,sourceData:r,targetData:i}},PE="left-check-change",LE="right-check-change",ree=(t,e)=>({onSourceCheckedChange:(i,o)=>{t.leftChecked=i,o!==void 0&&e(PE,i,o)},onTargetCheckedChange:(i,o)=>{t.rightChecked=i,o!==void 0&&e(LE,i,o)}}),iee=(t,e,n,r)=>{const i=(a,l,u)=>{r(bt,a),r(zn,a,l,u)};return{addToLeft:()=>{const a=t.modelValue.slice();e.rightChecked.forEach(l=>{const u=a.indexOf(l);u>-1&&a.splice(u,1)}),i(a,"left",e.rightChecked)},addToRight:()=>{let a=t.modelValue.slice();const l=t.data.filter(u=>{const c=u[n.value];return e.leftChecked.includes(c)&&!t.modelValue.includes(c)}).map(u=>u[n.value]);a=t.targetOrder==="unshift"?l.concat(a):a.concat(l),t.targetOrder==="original"&&(a=t.data.filter(u=>a.includes(u[n.value])).map(u=>u[n.value])),i(a,"right",e.leftChecked)}}},oee=pe({name:"ElTransfer",components:{TransferPanel:tee,ElButton:Jr,ElIcon:st,ArrowLeft:pa,ArrowRight:si},props:{data:{type:Array,default:()=>[]},titles:{type:Array,default:()=>[]},buttonTexts:{type:Array,default:()=>[]},filterPlaceholder:{type:String,default:""},filterMethod:Function,leftDefaultChecked:{type:Array,default:()=>[]},rightDefaultChecked:{type:Array,default:()=>[]},renderContent:Function,modelValue:{type:Array,default:()=>[]},format:{type:Object,default:()=>({})},filterable:{type:Boolean,default:!1},props:{type:Object,default:()=>({label:"label",key:"key",disabled:"disabled"})},targetOrder:{type:String,default:"original",validator:t=>["original","push","unshift"].includes(t)}},emits:[bt,zn,PE,LE],setup(t,{emit:e,slots:n}){const{t:r}=Gt(),i=$e("transfer"),o=Ke(ni,{}),s=Ot({leftChecked:[],rightChecked:[]}),{propsKey:a,sourceData:l,targetData:u}=nee(t),{onSourceCheckedChange:c,onTargetCheckedChange:d}=ree(s,e),{addToLeft:f,addToRight:h}=iee(t,s,a,e),m=F(),g=F(),p=S=>{switch(S){case"left":m.value.query="";break;case"right":g.value.query="";break}},v=k(()=>t.buttonTexts.length===2),y=k(()=>t.titles[0]||r("el.transfer.titles.0")),w=k(()=>t.titles[1]||r("el.transfer.titles.1")),_=k(()=>t.filterPlaceholder||r("el.transfer.filterPlaceholder"));Me(()=>t.modelValue,()=>{var S;(S=o.validate)==null||S.call(o,"change").catch(M=>void 0)});const b=k(()=>S=>t.renderContent?t.renderContent(Xe,S):n.default?n.default({option:S}):Xe("span",S[t.props.label]||S[t.props.key]));return Ue(Ee({ns:i,sourceData:l,targetData:u,onSourceCheckedChange:c,onTargetCheckedChange:d,addToLeft:f,addToRight:h},Bn(s)),{hasButtonTexts:v,leftPanelTitle:y,rightPanelTitle:w,panelFilterPlaceholder:_,clearQuery:p,leftPanel:m,rightPanel:g,optionRender:b})}}),see={key:0},aee={key:0};function lee(t,e,n,r,i,o){const s=ve("transfer-panel"),a=ve("arrow-left"),l=ve("el-icon"),u=ve("el-button"),c=ve("arrow-right");return E(),V("div",{class:$(t.ns.b())},[Z(s,{ref:"leftPanel",data:t.sourceData,"option-render":t.optionRender,placeholder:t.panelFilterPlaceholder,title:t.leftPanelTitle,filterable:t.filterable,format:t.format,"filter-method":t.filterMethod,"default-checked":t.leftDefaultChecked,props:t.props,onCheckedChange:t.onSourceCheckedChange},{default:X(()=>[Ce(t.$slots,"left-footer")]),_:3},8,["data","option-render","placeholder","title","filterable","format","filter-method","default-checked","props","onCheckedChange"]),G("div",{class:$(t.ns.e("buttons"))},[Z(u,{type:"primary",class:$([t.ns.e("button"),t.ns.is("with-texts",t.hasButtonTexts)]),disabled:t.rightChecked.length===0,onClick:t.addToLeft},{default:X(()=>[Z(l,null,{default:X(()=>[Z(a)]),_:1}),t.buttonTexts[0]!==void 0?(E(),V("span",see,Pe(t.buttonTexts[0]),1)):ue("v-if",!0)]),_:1},8,["class","disabled","onClick"]),Z(u,{type:"primary",class:$([t.ns.e("button"),t.ns.is("with-texts",t.hasButtonTexts)]),disabled:t.leftChecked.length===0,onClick:t.addToRight},{default:X(()=>[t.buttonTexts[1]!==void 0?(E(),V("span",aee,Pe(t.buttonTexts[1]),1)):ue("v-if",!0),Z(l,null,{default:X(()=>[Z(c)]),_:1})]),_:1},8,["class","disabled","onClick"])],2),Z(s,{ref:"rightPanel",data:t.targetData,"option-render":t.optionRender,placeholder:t.panelFilterPlaceholder,filterable:t.filterable,format:t.format,"filter-method":t.filterMethod,title:t.rightPanelTitle,"default-checked":t.rightDefaultChecked,props:t.props,onCheckedChange:t.onTargetCheckedChange},{default:X(()=>[Ce(t.$slots,"right-footer")]),_:3},8,["data","option-render","placeholder","filterable","format","filter-method","title","default-checked","props","onCheckedChange"])],2)}var Sf=De(oee,[["render",lee],["__file","/home/runner/work/element-plus/element-plus/packages/components/transfer/src/index.vue"]]);Sf.install=t=>{t.component(Sf.name,Sf)};const uee=Sf,cee=uee,cl="$treeNodeId",Ew=function(t,e){!e||e[cl]||Object.defineProperty(e,cl,{value:t.id,enumerable:!1,configurable:!1,writable:!1})},V0=function(t,e){return t?e[t]:e[cl]},zg=t=>{let e=!0,n=!0,r=!0;for(let i=0,o=t.length;i<o;i++){const s=t[i];(s.checked!==!0||s.indeterminate)&&(e=!1,s.disabled||(r=!1)),(s.checked!==!1||s.indeterminate)&&(n=!1)}return{all:e,none:n,allWithoutDisable:r,half:!e&&!n}},Cf=function(t){if(t.childNodes.length===0)return;const{all:e,none:n,half:r}=zg(t.childNodes);e?(t.checked=!0,t.indeterminate=!1):r?(t.checked=!1,t.indeterminate=!0):n&&(t.checked=!1,t.indeterminate=!1);const i=t.parent;!i||i.level===0||t.store.checkStrictly||Cf(i)},ld=function(t,e){const n=t.store.props,r=t.data||{},i=n[e];if(typeof i=="function")return i(r,t);if(typeof i=="string")return r[i];if(typeof i=="undefined"){const o=r[e];return o===void 0?"":o}};let dee=0;class Zs{constructor(e){this.id=dee++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const n in e)Et(e,n)&&(this[n]=e[n]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){const e=this.store;if(!e)throw new Error("[Node]store is required!");e.registerNode(this);const n=e.props;if(n&&typeof n.isLeaf!="undefined"){const o=ld(this,"isLeaf");typeof o=="boolean"&&(this.isLeafByUser=o)}if(e.lazy!==!0&&this.data?(this.setData(this.data),e.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&e.lazy&&e.defaultExpandAll&&this.expand(),Array.isArray(this.data)||Ew(this,this.data),!this.data)return;const r=e.defaultExpandedKeys,i=e.key;i&&r&&r.includes(this.key)&&this.expand(null,e.autoExpandParent),i&&e.currentNodeKey!==void 0&&this.key===e.currentNodeKey&&(e.currentNode=this,e.currentNode.isCurrent=!0),e.lazy&&e._initDefaultCheckedNode(this),this.updateLeafState(),this.parent&&(this.level===1||this.parent.expanded===!0)&&(this.canFocus=!0)}setData(e){Array.isArray(e)||Ew(this,e),this.data=e,this.childNodes=[];let n;this.level===0&&Array.isArray(this.data)?n=this.data:n=ld(this,"children")||[];for(let r=0,i=n.length;r<i;r++)this.insertChild({data:n[r]})}get label(){return ld(this,"label")}get key(){const e=this.store.key;return this.data?this.data[e]:null}get disabled(){return ld(this,"disabled")}get nextSibling(){const e=this.parent;if(e){const n=e.childNodes.indexOf(this);if(n>-1)return e.childNodes[n+1]}return null}get previousSibling(){const e=this.parent;if(e){const n=e.childNodes.indexOf(this);if(n>-1)return n>0?e.childNodes[n-1]:null}return null}contains(e,n=!0){return(this.childNodes||[]).some(r=>r===e||n&&r.contains(e))}remove(){const e=this.parent;e&&e.removeChild(this)}insertChild(e,n,r){if(!e)throw new Error("InsertChild error: child is required.");if(!(e instanceof Zs)){if(!r){const i=this.getChildren(!0);i.includes(e.data)||(typeof n=="undefined"||n<0?i.push(e.data):i.splice(n,0,e.data))}Object.assign(e,{parent:this,store:this.store}),e=Ot(new Zs(e)),e instanceof Zs&&e.initialize()}e.level=this.level+1,typeof n=="undefined"||n<0?this.childNodes.push(e):this.childNodes.splice(n,0,e),this.updateLeafState()}insertBefore(e,n){let r;n&&(r=this.childNodes.indexOf(n)),this.insertChild(e,r)}insertAfter(e,n){let r;n&&(r=this.childNodes.indexOf(n),r!==-1&&(r+=1)),this.insertChild(e,r)}removeChild(e){const n=this.getChildren()||[],r=n.indexOf(e.data);r>-1&&n.splice(r,1);const i=this.childNodes.indexOf(e);i>-1&&(this.store&&this.store.deregisterNode(e),e.parent=null,this.childNodes.splice(i,1)),this.updateLeafState()}removeChildByData(e){let n=null;for(let r=0;r<this.childNodes.length;r++)if(this.childNodes[r].data===e){n=this.childNodes[r];break}n&&this.removeChild(n)}expand(e,n){const r=()=>{if(n){let i=this.parent;for(;i.level>0;)i.expanded=!0,i=i.parent}this.expanded=!0,e&&e(),this.childNodes.forEach(i=>{i.canFocus=!0})};this.shouldLoadData()?this.loadData(i=>{Array.isArray(i)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||Cf(this),r())}):r()}doCreateChildren(e,n={}){e.forEach(r=>{this.insertChild(Object.assign({data:r},n),void 0,!0)})}collapse(){this.expanded=!1,this.childNodes.forEach(e=>{e.canFocus=!1})}shouldLoadData(){return this.store.lazy===!0&&this.store.load&&!this.loaded}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser!="undefined"){this.isLeaf=this.isLeafByUser;return}const e=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!e||e.length===0;return}this.isLeaf=!1}setChecked(e,n,r,i){if(this.indeterminate=e==="half",this.checked=e===!0,this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const{all:s,allWithoutDisable:a}=zg(this.childNodes);!this.isLeaf&&!s&&a&&(this.checked=!1,e=!1);const l=()=>{if(n){const u=this.childNodes;for(let f=0,h=u.length;f<h;f++){const m=u[f];i=i||e!==!1;const g=m.disabled?m.checked:i;m.setChecked(g,n,!0,i)}const{half:c,all:d}=zg(u);d||(this.checked=d,this.indeterminate=c)}};if(this.shouldLoadData()){this.loadData(()=>{l(),Cf(this)},{checked:e!==!1});return}else l()}const o=this.parent;!o||o.level===0||r||Cf(o)}getChildren(e=!1){if(this.level===0)return this.data;const n=this.data;if(!n)return null;const r=this.store.props;let i="children";return r&&(i=r.children||"children"),n[i]===void 0&&(n[i]=null),e&&!n[i]&&(n[i]=[]),n[i]}updateChildren(){const e=this.getChildren()||[],n=this.childNodes.map(o=>o.data),r={},i=[];e.forEach((o,s)=>{const a=o[cl];!!a&&n.findIndex(u=>u[cl]===a)>=0?r[a]={index:s,data:o}:i.push({index:s,data:o})}),this.store.lazy||n.forEach(o=>{r[o[cl]]||this.removeChildByData(o)}),i.forEach(({index:o,data:s})=>{this.insertChild({data:s},o)}),this.updateLeafState()}loadData(e,n={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(n).length)){this.loading=!0;const r=i=>{this.loaded=!0,this.loading=!1,this.childNodes=[],this.doCreateChildren(i,n),this.updateLeafState(),e&&e.call(this,i)};this.store.load(this,r)}else e&&e.call(this)}}class fee{constructor(e){this.currentNode=null,this.currentNodeKey=null;for(const n in e)Et(e,n)&&(this[n]=e[n]);this.nodesMap={}}initialize(){this.root=new Zs({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load?this.load(this.root,n=>{this.root.doCreateChildren(n),this._initDefaultCheckedNodes()}):this._initDefaultCheckedNodes()}filter(e){const n=this.filterNodeMethod,r=this.lazy,i=function(o){const s=o.root?o.root.childNodes:o.childNodes;if(s.forEach(a=>{a.visible=n.call(a,e,a.data,a),i(a)}),!o.visible&&s.length){let a=!0;a=!s.some(l=>l.visible),o.root?o.root.visible=a===!1:o.visible=a===!1}!e||o.visible&&!o.isLeaf&&!r&&o.expand()};i(this)}setData(e){e!==this.root.data?(this.root.setData(e),this._initDefaultCheckedNodes()):this.root.updateChildren()}getNode(e){if(e instanceof Zs)return e;const n=typeof e!="object"?e:V0(this.key,e);return this.nodesMap[n]||null}insertBefore(e,n){const r=this.getNode(n);r.parent.insertBefore({data:e},r)}insertAfter(e,n){const r=this.getNode(n);r.parent.insertAfter({data:e},r)}remove(e){const n=this.getNode(e);n&&n.parent&&(n===this.currentNode&&(this.currentNode=null),n.parent.removeChild(n))}append(e,n){const r=n?this.getNode(n):this.root;r&&r.insertChild({data:e})}_initDefaultCheckedNodes(){const e=this.defaultCheckedKeys||[],n=this.nodesMap;e.forEach(r=>{const i=n[r];i&&i.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(e){(this.defaultCheckedKeys||[]).includes(e.key)&&e.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(e){e!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=e,this._initDefaultCheckedNodes())}registerNode(e){const n=this.key;!e||!e.data||(n?e.key!==void 0&&(this.nodesMap[e.key]=e):this.nodesMap[e.id]=e)}deregisterNode(e){!this.key||!e||!e.data||(e.childNodes.forEach(r=>{this.deregisterNode(r)}),delete this.nodesMap[e.key])}getCheckedNodes(e=!1,n=!1){const r=[],i=function(o){(o.root?o.root.childNodes:o.childNodes).forEach(a=>{(a.checked||n&&a.indeterminate)&&(!e||e&&a.isLeaf)&&r.push(a.data),i(a)})};return i(this),r}getCheckedKeys(e=!1){return this.getCheckedNodes(e).map(n=>(n||{})[this.key])}getHalfCheckedNodes(){const e=[],n=function(r){(r.root?r.root.childNodes:r.childNodes).forEach(o=>{o.indeterminate&&e.push(o.data),n(o)})};return n(this),e}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(e=>(e||{})[this.key])}_getAllNodes(){const e=[],n=this.nodesMap;for(const r in n)Et(n,r)&&e.push(n[r]);return e}updateChildren(e,n){const r=this.nodesMap[e];if(!r)return;const i=r.childNodes;for(let o=i.length-1;o>=0;o--){const s=i[o];this.remove(s.data)}for(let o=0,s=n.length;o<s;o++){const a=n[o];this.append(a,r.data)}}_setCheckedKeys(e,n=!1,r){const i=this._getAllNodes().sort((a,l)=>l.level-a.level),o=Object.create(null),s=Object.keys(r);i.forEach(a=>a.setChecked(!1,!1));for(let a=0,l=i.length;a<l;a++){const u=i[a],c=u.data[e].toString();if(!s.includes(c)){u.checked&&!o[c]&&u.setChecked(!1,!1);continue}let f=u.parent;for(;f&&f.level>0;)o[f.data[e]]=!0,f=f.parent;if(u.isLeaf||this.checkStrictly){u.setChecked(!0,!1);continue}if(u.setChecked(!0,!0),n){u.setChecked(!1,!1);const h=function(m){m.childNodes.forEach(p=>{p.isLeaf||p.setChecked(!1,!1),h(p)})};h(u)}}}setCheckedNodes(e,n=!1){const r=this.key,i={};e.forEach(o=>{i[(o||{})[r]]=!0}),this._setCheckedKeys(r,n,i)}setCheckedKeys(e,n=!1){this.defaultCheckedKeys=e;const r=this.key,i={};e.forEach(o=>{i[o]=!0}),this._setCheckedKeys(r,n,i)}setDefaultExpandedKeys(e){e=e||[],this.defaultExpandedKeys=e,e.forEach(n=>{const r=this.getNode(n);r&&r.expand(null,this.autoExpandParent)})}setChecked(e,n,r){const i=this.getNode(e);i&&i.setChecked(!!n,r)}getCurrentNode(){return this.currentNode}setCurrentNode(e){const n=this.currentNode;n&&(n.isCurrent=!1),this.currentNode=e,this.currentNode.isCurrent=!0}setUserCurrentNode(e,n=!0){const r=e[this.key],i=this.nodesMap[r];this.setCurrentNode(i),n&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0)}setCurrentNodeKey(e,n=!0){if(e==null){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const r=this.getNode(e);r&&(this.setCurrentNode(r),n&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0))}}const hee=pe({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(t){const e=$e("tree"),n=Ke("NodeInstance"),r=Ke("RootTree");return()=>{const i=t.node,{data:o,store:s}=i;return t.renderContent?t.renderContent(Xe,{_self:n,node:i,data:o,store:s}):r.ctx.slots.default?r.ctx.slots.default({node:i,data:o}):Xe("span",{class:e.be("node","label")},[i.label])}}});var pee=De(hee,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree-node-content.vue"]]);function RE(t){const e=Ke("TreeNodeMap",null),n={treeNodeExpand:r=>{t.node!==r&&t.node.collapse()},children:[]};return e&&e.children.push(n),Ct("TreeNodeMap",n),{broadcastExpanded:r=>{if(!!t.accordion)for(const i of n.children)i.treeNodeExpand(r)}}}const IE=Symbol("dragEvents");function mee({props:t,ctx:e,el$:n,dropIndicator$:r,store:i}){const o=$e("tree"),s=F({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return Ct(IE,{treeNodeDragStart:({event:c,treeNode:d})=>{if(typeof t.allowDrag=="function"&&!t.allowDrag(d.node))return c.preventDefault(),!1;c.dataTransfer.effectAllowed="move";try{c.dataTransfer.setData("text/plain","")}catch{}s.value.draggingNode=d,e.emit("node-drag-start",d.node,c)},treeNodeDragOver:({event:c,treeNode:d})=>{const f=d,h=s.value.dropNode;h&&h!==f&&vr(h.$el,o.is("drop-inner"));const m=s.value.draggingNode;if(!m||!f)return;let g=!0,p=!0,v=!0,y=!0;typeof t.allowDrop=="function"&&(g=t.allowDrop(m.node,f.node,"prev"),y=p=t.allowDrop(m.node,f.node,"inner"),v=t.allowDrop(m.node,f.node,"next")),c.dataTransfer.dropEffect=p||g||v?"move":"none",(g||p||v)&&h!==f&&(h&&e.emit("node-drag-leave",m.node,h.node,c),e.emit("node-drag-enter",m.node,f.node,c)),(g||p||v)&&(s.value.dropNode=f),f.node.nextSibling===m.node&&(v=!1),f.node.previousSibling===m.node&&(g=!1),f.node.contains(m.node,!1)&&(p=!1),(m.node===f.node||m.node.contains(f.node))&&(g=!1,p=!1,v=!1);const w=f.$el.getBoundingClientRect(),_=n.value.getBoundingClientRect();let b;const S=g?p?.25:v?.45:1:-1,M=v?p?.75:g?.55:0:1;let T=-9999;const N=c.clientY-w.top;N<w.height*S?b="before":N>w.height*M?b="after":p?b="inner":b="none";const I=f.$el.querySelector(`.${o.be("node","expand-icon")}`).getBoundingClientRect(),x=r.value;b==="before"?T=I.top-_.top:b==="after"&&(T=I.bottom-_.top),x.style.top=`${T}px`,x.style.left=`${I.right-_.left}px`,b==="inner"?Hi(f.$el,o.is("drop-inner")):vr(f.$el,o.is("drop-inner")),s.value.showDropIndicator=b==="before"||b==="after",s.value.allowDrop=s.value.showDropIndicator||y,s.value.dropType=b,e.emit("node-drag-over",m.node,f.node,c)},treeNodeDragEnd:c=>{const{draggingNode:d,dropType:f,dropNode:h}=s.value;if(c.preventDefault(),c.dataTransfer.dropEffect="move",d&&h){const m={data:d.node.data};f!=="none"&&d.node.remove(),f==="before"?h.node.parent.insertBefore(m,h.node):f==="after"?h.node.parent.insertAfter(m,h.node):f==="inner"&&h.node.insertChild(m),f!=="none"&&i.value.registerNode(m),vr(h.$el,o.is("drop-inner")),e.emit("node-drag-end",d.node,h.node,f,c),f!=="none"&&e.emit("node-drop",d.node,h.node,f,c)}d&&!h&&e.emit("node-drag-end",d.node,null,f,c),s.value.showDropIndicator=!1,s.value.draggingNode=null,s.value.dropNode=null,s.value.allowDrop=!0}}),{dragState:s}}const gee=pe({name:"ElTreeNode",components:{ElCollapseTransition:Bh,ElCheckbox:Ti,NodeContent:pee,ElIcon:st,Loading:us},props:{node:{type:Zs,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:{type:Boolean,default:!1}},emits:["node-expand"],setup(t,e){const n=$e("tree"),{broadcastExpanded:r}=RE(t),i=Ke("RootTree"),o=F(!1),s=F(!1),a=F(null),l=F(null),u=F(null),c=Ke(IE),d=wt();Ct("NodeInstance",d),t.node.expanded&&(o.value=!0,s.value=!0);const f=i.props.children||"children";Me(()=>{const N=t.node.data[f];return N&&[...N]},()=>{t.node.updateChildren()}),Me(()=>t.node.indeterminate,N=>{g(t.node.checked,N)}),Me(()=>t.node.checked,N=>{g(N,t.node.indeterminate)}),Me(()=>t.node.expanded,N=>{et(()=>o.value=N),N&&(s.value=!0)});const h=N=>V0(i.props.nodeKey,N.data),m=N=>{const I=t.props.class;if(!I)return{};let x;if(gt(I)){const{data:R}=N;x=I(R,N)}else x=I;return pt(x)?{[x]:!0}:x},g=(N,I)=>{(a.value!==N||l.value!==I)&&i.ctx.emit("check-change",t.node.data,N,I),a.value=N,l.value=I},p=N=>{const I=i.store.value;I.setCurrentNode(t.node),i.ctx.emit("current-change",I.currentNode?I.currentNode.data:null,I.currentNode),i.currentNode.value=t.node,i.props.expandOnClickNode&&y(),i.props.checkOnClickNode&&!t.node.disabled&&w(null,{target:{checked:!t.node.checked}}),i.ctx.emit("node-click",t.node.data,t.node,d,N)},v=N=>{i.instance.vnode.props.onNodeContextmenu&&(N.stopPropagation(),N.preventDefault()),i.ctx.emit("node-contextmenu",N,t.node.data,t.node,d)},y=()=>{t.node.isLeaf||(o.value?(i.ctx.emit("node-collapse",t.node.data,t.node,d),t.node.collapse()):(t.node.expand(),e.emit("node-expand",t.node.data,t.node,d)))},w=(N,I)=>{t.node.setChecked(I.target.checked,!i.props.checkStrictly),et(()=>{const x=i.store.value;i.ctx.emit("check",t.node.data,{checkedNodes:x.getCheckedNodes(),checkedKeys:x.getCheckedKeys(),halfCheckedNodes:x.getHalfCheckedNodes(),halfCheckedKeys:x.getHalfCheckedKeys()})})};return{ns:n,node$:u,tree:i,expanded:o,childNodeRendered:s,oldChecked:a,oldIndeterminate:l,getNodeKey:h,getNodeClass:m,handleSelectChange:g,handleClick:p,handleContextMenu:v,handleExpandIconClick:y,handleCheckChange:w,handleChildNodeExpand:(N,I,x)=>{r(I),i.ctx.emit("node-expand",N,I,x)},handleDragStart:N=>{!i.props.draggable||c.treeNodeDragStart({event:N,treeNode:t})},handleDragOver:N=>{N.preventDefault(),i.props.draggable&&c.treeNodeDragOver({event:N,treeNode:{$el:u.value,node:t.node}})},handleDrop:N=>{N.preventDefault()},handleDragEnd:N=>{!i.props.draggable||c.treeNodeDragEnd(N)},CaretRight:AM}}}),vee=["aria-expanded","aria-disabled","aria-checked","draggable","data-key"],yee=["aria-expanded"];function bee(t,e,n,r,i,o){const s=ve("el-icon"),a=ve("el-checkbox"),l=ve("loading"),u=ve("node-content"),c=ve("el-tree-node"),d=ve("el-collapse-transition");return ut((E(),V("div",{ref:"node$",class:$([t.ns.b("node"),t.ns.is("expanded",t.expanded),t.ns.is("current",t.node.isCurrent),t.ns.is("hidden",!t.node.visible),t.ns.is("focusable",!t.node.disabled),t.ns.is("checked",!t.node.disabled&&t.node.checked),t.getNodeClass(t.node)]),role:"treeitem",tabindex:"-1","aria-expanded":t.expanded,"aria-disabled":t.node.disabled,"aria-checked":t.node.checked,draggable:t.tree.props.draggable,"data-key":t.getNodeKey(t.node),onClick:e[1]||(e[1]=ot((...f)=>t.handleClick&&t.handleClick(...f),["stop"])),onContextmenu:e[2]||(e[2]=(...f)=>t.handleContextMenu&&t.handleContextMenu(...f)),onDragstart:e[3]||(e[3]=ot((...f)=>t.handleDragStart&&t.handleDragStart(...f),["stop"])),onDragover:e[4]||(e[4]=ot((...f)=>t.handleDragOver&&t.handleDragOver(...f),["stop"])),onDragend:e[5]||(e[5]=ot((...f)=>t.handleDragEnd&&t.handleDragEnd(...f),["stop"])),onDrop:e[6]||(e[6]=ot((...f)=>t.handleDrop&&t.handleDrop(...f),["stop"]))},[G("div",{class:$(t.ns.be("node","content")),style:Ye({paddingLeft:(t.node.level-1)*t.tree.props.indent+"px"})},[t.tree.props.icon||t.CaretRight?(E(),fe(s,{key:0,class:$([t.ns.be("node","expand-icon"),t.ns.is("leaf",t.node.isLeaf),{expanded:!t.node.isLeaf&&t.expanded}]),onClick:ot(t.handleExpandIconClick,["stop"])},{default:X(()=>[(E(),fe(Pt(t.tree.props.icon||t.CaretRight)))]),_:1},8,["class","onClick"])):ue("v-if",!0),t.showCheckbox?(E(),fe(a,{key:1,"model-value":t.node.checked,indeterminate:t.node.indeterminate,disabled:!!t.node.disabled,onClick:e[0]||(e[0]=ot(()=>{},["stop"])),onChange:t.handleCheckChange},null,8,["model-value","indeterminate","disabled","onChange"])):ue("v-if",!0),t.node.loading?(E(),fe(s,{key:2,class:$([t.ns.be("node","loading-icon"),t.ns.is("loading")])},{default:X(()=>[Z(l)]),_:1},8,["class"])):ue("v-if",!0),Z(u,{node:t.node,"render-content":t.renderContent},null,8,["node","render-content"])],6),Z(d,null,{default:X(()=>[!t.renderAfterExpand||t.childNodeRendered?ut((E(),V("div",{key:0,class:$(t.ns.be("node","children")),role:"group","aria-expanded":t.expanded},[(E(!0),V(Ze,null,xt(t.node.childNodes,f=>(E(),fe(c,{key:t.getNodeKey(f),"render-content":t.renderContent,"render-after-expand":t.renderAfterExpand,"show-checkbox":t.showCheckbox,node:f,accordion:t.accordion,props:t.props,onNodeExpand:t.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,yee)),[[Lt,t.expanded]]):ue("v-if",!0)]),_:1})],42,vee)),[[Lt,t.node.visible]])}var wee=De(gee,[["render",bee],["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree-node.vue"]]);function _ee({el$:t},e){const n=$e("tree"),r=Ln([]),i=Ln([]);ft(()=>{s(),sn(t.value,"keydown",o)}),rn(()=>{wn(t.value,"keydown",o)}),Ai(()=>{r.value=Array.from(t.value.querySelectorAll("[role=treeitem]")),i.value=Array.from(t.value.querySelectorAll("input[type=checkbox]"))}),Me(i,a=>{a.forEach(l=>{l.setAttribute("tabindex","-1")})});const o=a=>{const l=a.target;if(!l.className.includes(n.b("node")))return;const u=a.code;r.value=Array.from(t.value.querySelectorAll(`.${n.is("focusable")}[role=treeitem]`));const c=r.value.indexOf(l);let d;if([qe.up,qe.down].includes(u)){if(a.preventDefault(),u===qe.up){d=c===-1?0:c!==0?c-1:r.value.length-1;const h=d;for(;!e.value.getNode(r.value[d].dataset.key).canFocus;){if(d--,d===h){d=-1;break}d<0&&(d=r.value.length-1)}}else{d=c===-1?0:c<r.value.length-1?c+1:0;const h=d;for(;!e.value.getNode(r.value[d].dataset.key).canFocus;){if(d++,d===h){d=-1;break}d>=r.value.length&&(d=0)}}d!==-1&&r.value[d].focus()}[qe.left,qe.right].includes(u)&&(a.preventDefault(),l.click());const f=l.querySelector('[type="checkbox"]');[qe.enter,qe.space].includes(u)&&f&&(a.preventDefault(),f.click())},s=()=>{var a;r.value=Array.from(t.value.querySelectorAll(`.${n.is("focusable")}[role=treeitem]`)),i.value=Array.from(t.value.querySelectorAll("input[type=checkbox]"));const l=t.value.querySelectorAll(`.${n.is("checked")}[role=treeitem]`);if(l.length){l[0].setAttribute("tabindex","0");return}(a=r.value[0])==null||a.setAttribute("tabindex","0")}}const See=pe({name:"ElTree",components:{ElTreeNode:wee},props:{data:{type:Array,default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:[String,Object]},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(t,e){const{t:n}=Gt(),r=$e("tree"),i=F(new fee({key:t.nodeKey,data:t.data,lazy:t.lazy,props:t.props,load:t.load,currentNodeKey:t.currentNodeKey,checkStrictly:t.checkStrictly,checkDescendants:t.checkDescendants,defaultCheckedKeys:t.defaultCheckedKeys,defaultExpandedKeys:t.defaultExpandedKeys,autoExpandParent:t.autoExpandParent,defaultExpandAll:t.defaultExpandAll,filterNodeMethod:t.filterNodeMethod}));i.value.initialize();const o=F(i.value.root),s=F(null),a=F(null),l=F(null),{broadcastExpanded:u}=RE(t),{dragState:c}=mee({props:t,ctx:e,el$:a,dropIndicator$:l,store:i});_ee({el$:a},i);const d=k(()=>{const{childNodes:A}=o.value;return!A||A.length===0||A.every(({visible:P})=>!P)});Me(()=>t.defaultCheckedKeys,A=>{i.value.setDefaultCheckedKey(A)}),Me(()=>t.defaultExpandedKeys,A=>{i.value.setDefaultExpandedKeys(A)}),Me(()=>t.data,A=>{i.value.setData(A)},{deep:!0}),Me(()=>t.checkStrictly,A=>{i.value.checkStrictly=A});const f=A=>{if(!t.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");i.value.filter(A)},h=A=>V0(t.nodeKey,A.data),m=A=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const P=i.value.getNode(A);if(!P)return[];const W=[P.data];let K=P.parent;for(;K&&K!==o.value;)W.push(K.data),K=K.parent;return W.reverse()},g=(A,P)=>i.value.getCheckedNodes(A,P),p=A=>i.value.getCheckedKeys(A),v=()=>{const A=i.value.getCurrentNode();return A?A.data:null},y=()=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const A=v();return A?A[t.nodeKey]:null},w=(A,P)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");i.value.setCheckedNodes(A,P)},_=(A,P)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");i.value.setCheckedKeys(A,P)},b=(A,P,W)=>{i.value.setChecked(A,P,W)},S=()=>i.value.getHalfCheckedNodes(),M=()=>i.value.getHalfCheckedKeys(),T=(A,P=!0)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");i.value.setUserCurrentNode(A,P)},N=(A,P=!0)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");i.value.setCurrentNodeKey(A,P)},I=A=>i.value.getNode(A),x=A=>{i.value.remove(A)},R=(A,P)=>{i.value.append(A,P)},O=(A,P)=>{i.value.insertBefore(A,P)},D=(A,P)=>{i.value.insertAfter(A,P)},B=(A,P,W)=>{u(P),e.emit("node-expand",A,P,W)},L=(A,P)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");i.value.updateChildren(A,P)};return Ct("RootTree",{ctx:e,props:t,store:i,root:o,currentNode:s,instance:wt()}),{ns:r,store:i,root:o,currentNode:s,dragState:c,el$:a,dropIndicator$:l,isEmpty:d,filter:f,getNodeKey:h,getNodePath:m,getCheckedNodes:g,getCheckedKeys:p,getCurrentNode:v,getCurrentKey:y,setCheckedNodes:w,setCheckedKeys:_,setChecked:b,getHalfCheckedNodes:S,getHalfCheckedKeys:M,setCurrentNode:T,setCurrentKey:N,t:n,getNode:I,remove:x,append:R,insertBefore:O,insertAfter:D,handleNodeExpand:B,updateKeyChildren:L}}});function Cee(t,e,n,r,i,o){var s;const a=ve("el-tree-node");return E(),V("div",{ref:"el$",class:$([t.ns.b(),t.ns.is("dragging",!!t.dragState.draggingNode),t.ns.is("drop-not-allow",!t.dragState.allowDrop),t.ns.is("drop-inner",t.dragState.dropType==="inner"),{[t.ns.m("highlight-current")]:t.highlightCurrent}]),role:"tree"},[(E(!0),V(Ze,null,xt(t.root.childNodes,l=>(E(),fe(a,{key:t.getNodeKey(l),node:l,props:t.props,accordion:t.accordion,"render-after-expand":t.renderAfterExpand,"show-checkbox":t.showCheckbox,"render-content":t.renderContent,onNodeExpand:t.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),t.isEmpty?(E(),V("div",{key:0,class:$(t.ns.e("empty-block"))},[G("span",{class:$(t.ns.e("empty-text"))},Pe((s=t.emptyText)!=null?s:t.t("el.tree.emptyText")),3)],2)):ue("v-if",!0),ut(G("div",{ref:"dropIndicator$",class:$(t.ns.e("drop-indicator"))},null,2),[[Lt,t.dragState.showDropIndicator]])],2)}var Mf=De(See,[["render",Cee],["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree.vue"]]);Mf.install=t=>{t.component(Mf.name,Mf)};const eh=Mf,Mee=eh,xee=(t,{attrs:e},{tree:n,key:r})=>{const i=$e("tree-select"),o=Ue(Ee(Ee({},qo(Bn(t),Object.keys(oa.props))),e),{valueKey:r,popperClass:k(()=>{const s=[i.e("popper")];return t.popperClass&&s.push(t.popperClass),s.join(" ")}),filterMethod:(s="")=>{t.filterMethod&&t.filterMethod(s),et(()=>{var a;(a=n.value)==null||a.filter(s)})},onVisibleChange:s=>{var a;(a=e.onVisibleChange)==null||a.call(e,s),t.filterable&&s&&o.filterMethod()}});return o},Eee=pe({extends:Yf,setup(t,e){const n=Yf.setup(t,e);return delete n.selectOptionClick,n},methods:{selectOptionClick(){this.$el.parentElement.click()}}}),Tee=(t,{attrs:e,slots:n,emit:r},{select:i,tree:o,key:s})=>{Me(()=>t.modelValue,()=>{t.showCheckbox&&et(()=>{const u=o.value;u&&!Fr(u.getCheckedKeys(),Up(t.modelValue))&&u.setCheckedKeys(Up(t.modelValue))})},{immediate:!0,deep:!0});const a=k(()=>Ee({value:s.value},t.props)),l=(u,c)=>{var d;const f=a.value[u];return gt(f)?f(c,(d=o.value)==null?void 0:d.getNode(l("value",c))):c[f]};return Ue(Ee(Ee({},qo(Bn(t),Object.keys(eh.props))),e),{nodeKey:s,defaultExpandedKeys:k(()=>t.defaultExpandedKeys?t.defaultExpandedKeys.concat(t.modelValue):Up(t.modelValue)),renderContent:(u,{node:c,data:d,store:f})=>u(Eee,{value:l("value",d),label:l("label",d),disabled:l("disabled",d)},t.renderContent?()=>t.renderContent(u,{node:c,data:d,store:f}):n.default?()=>n.default({node:c,data:d,store:f}):void 0),filterNodeMethod:(u,c,d)=>{var f;return t.filterNodeMethod?t.filterNodeMethod(u,c,d):u?(f=l("label",c))==null?void 0:f.includes(u):!0},onNodeClick:(u,c,d)=>{var f,h,m;if((f=e.onNodeClick)==null||f.call(e,u,c,d),t.checkStrictly||c.isLeaf){if(!l("disabled",u)){const g=(h=i.value)==null?void 0:h.options.get(l("value",u));(m=i.value)==null||m.handleOptionSelect(g,!0)}}else d.ctx.handleExpandIconClick()},onCheck:(u,c)=>{var d,f;(d=e.onCheck)==null||d.call(e,u,c);const h=t.checkStrictly?c.checkedKeys:(f=o.value)==null?void 0:f.getCheckedKeys(!0),m=l("value",u);r(bt,t.multiple?h:h.includes(m)?m:void 0)}})};function Up(t){return Array.isArray(t)?t:t||t===0?[t]:[]}const Aee=pe({name:"ElTreeSelect",props:Ee(Ee({},oa.props),eh.props),setup(t,e){const{slots:n,expose:r}=e,i=F(),o=F(),s=k(()=>t.valueKey||t.nodeKey||"value"),a=xee(t,e,{select:i,tree:o,key:s}),l=Tee(t,e,{select:i,tree:o,key:s}),u=Ot({});return r(u),ft(()=>{Object.assign(u,Ee(Ee({},qo(o.value,["filter","updateKeyChildren","getCheckedNodes","setCheckedNodes","getCheckedKeys","setCheckedKeys","setChecked","getHalfCheckedNodes","getHalfCheckedKeys","getCurrentKey","getCurrentNode","setCurrentKey","setCurrentNode","getNode","remove","append","insertBefore","insertAfter"])),qo(i.value,["focus","blur"])))}),()=>Xe(oa,Ot(Ue(Ee({},a),{ref:c=>i.value=c})),Ue(Ee({},n),{default:()=>Xe(eh,Ot(Ue(Ee({},l),{ref:c=>o.value=c})))}))}});var xf=De(Aee,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree-select/src/tree-select.vue"]]);xf.install=t=>{t.component(xf.name,xf)};const kee=xf,Pee=kee,H0=Symbol(),Lee={key:-1,level:-1,data:{}};var Eu=(t=>(t.KEY="id",t.LABEL="label",t.CHILDREN="children",t.DISABLED="disabled",t))(Eu||{}),Vg=(t=>(t.ADD="add",t.DELETE="delete",t))(Vg||{});const Ree=Je({data:{type:Fe(Array),default:()=>fn([])},emptyText:{type:String},height:{type:Number,default:200},props:{type:Fe(Object),default:()=>fn({children:"children",label:"label",disabled:"disabled",value:"id"})},highlightCurrent:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},defaultCheckedKeys:{type:Fe(Array),default:()=>fn([])},checkStrictly:{type:Boolean,default:!1},defaultExpandedKeys:{type:Fe(Array),default:()=>fn([])},indent:{type:Number,default:16},icon:{type:String},expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:{type:Boolean,default:!1},currentNodeKey:{type:Fe([String,Number])},accordion:{type:Boolean,default:!1},filterMethod:{type:Fe(Function)},perfMode:{type:Boolean,default:!0}}),Iee=Je({node:{type:Fe(Object),default:()=>fn(Lee)},expanded:{type:Boolean,default:!1},checked:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},current:{type:Boolean,default:!1},hiddenExpandIcon:{type:Boolean,default:!1}}),Dee=Je({node:{type:Fe(Object),required:!0}}),DE="node-click",$E="node-expand",NE="node-collapse",OE="current-change",FE="check",BE="check-change",zE="node-contextmenu",$ee={[DE]:(t,e,n)=>t&&e&&n,[$E]:(t,e)=>t&&e,[NE]:(t,e)=>t&&e,[OE]:(t,e)=>t&&e,[FE]:(t,e)=>t&&e,[BE]:(t,e)=>t&&typeof e=="boolean",[zE]:(t,e,n)=>t&&e&&n},Nee={click:(t,e)=>!!(t&&e),toggle:t=>!!t,check:(t,e)=>t&&typeof e=="boolean"};function Oee(t,e){const n=F(new Set),r=F(new Set),{emit:i}=wt();Me(()=>e.value,()=>et(()=>{y(t.defaultCheckedKeys)}),{immediate:!0});const o=()=>{if(!e.value||!t.showCheckbox||t.checkStrictly)return;const{levelTreeNodeMap:w,maxLevel:_}=e.value,b=n.value,S=new Set;for(let M=_-1;M>=1;--M){const T=w.get(M);!T||T.forEach(N=>{const I=N.children;if(I){let x=!0,R=!1;for(const O of I){const D=O.key;if(b.has(D))R=!0;else if(S.has(D)){x=!1,R=!0;break}else x=!1}x?b.add(N.key):R?(S.add(N.key),b.delete(N.key)):(b.delete(N.key),S.delete(N.key))}})}r.value=S},s=w=>n.value.has(w.key),a=w=>r.value.has(w.key),l=(w,_,b=!0)=>{const S=n.value,M=(T,N)=>{S[N?Vg.ADD:Vg.DELETE](T.key);const I=T.children;!t.checkStrictly&&I&&I.forEach(x=>{x.disabled||M(x,N)})};M(w,_),o(),b&&u(w,_)},u=(w,_)=>{const{checkedNodes:b,checkedKeys:S}=m(),{halfCheckedNodes:M,halfCheckedKeys:T}=g();i(FE,w.data,{checkedKeys:S,checkedNodes:b,halfCheckedKeys:T,halfCheckedNodes:M}),i(BE,w.data,_)};function c(w=!1){return m(w).checkedKeys}function d(w=!1){return m(w).checkedNodes}function f(){return g().halfCheckedKeys}function h(){return g().halfCheckedNodes}function m(w=!1){const _=[],b=[];if((e==null?void 0:e.value)&&t.showCheckbox){const{treeNodeMap:S}=e.value;n.value.forEach(M=>{const T=S.get(M);T&&(!w||w&&T.isLeaf)&&(b.push(M),_.push(T.data))})}return{checkedKeys:b,checkedNodes:_}}function g(){const w=[],_=[];if((e==null?void 0:e.value)&&t.showCheckbox){const{treeNodeMap:b}=e.value;r.value.forEach(S=>{const M=b.get(S);M&&(_.push(S),w.push(M.data))})}return{halfCheckedNodes:w,halfCheckedKeys:_}}function p(w){n.value.clear(),r.value.clear(),y(w)}function v(w,_){if((e==null?void 0:e.value)&&t.showCheckbox){const b=e.value.treeNodeMap.get(w);b&&l(b,_,!1)}}function y(w){if(e!=null&&e.value){const{treeNodeMap:_}=e.value;if(t.showCheckbox&&_&&w)for(const b of w){const S=_.get(b);S&&!s(S)&&l(S,!0,!1)}}}return{updateCheckedKeys:o,toggleCheckbox:l,isChecked:s,isIndeterminate:a,getCheckedKeys:c,getCheckedNodes:d,getHalfCheckedKeys:f,getHalfCheckedNodes:h,setChecked:v,setCheckedKeys:p}}function Fee(t,e){const n=F(new Set([])),r=F(new Set([])),i=k(()=>gt(t.filterMethod));function o(a){var l;if(!i.value)return;const u=new Set,c=r.value,d=n.value,f=[],h=((l=e.value)==null?void 0:l.treeNodes)||[],m=t.filterMethod;d.clear();function g(p){p.forEach(v=>{f.push(v),m!=null&&m(a,v.data)?f.forEach(w=>{u.add(w.key)}):v.isLeaf&&d.add(v.key);const y=v.children;if(y&&g(y),!v.isLeaf){if(!u.has(v.key))d.add(v.key);else if(y){let w=!0;for(const _ of y)if(!d.has(_.key)){w=!1;break}w?c.add(v.key):c.delete(v.key)}}f.pop()})}return g(h),u}function s(a){return r.value.has(a.key)}return{hiddenExpandIconKeySet:r,hiddenNodeKeySet:n,doFilter:o,isForceHiddenExpandIcon:s}}function Bee(t,e){const n=F(new Set(t.defaultExpandedKeys)),r=F(),i=Ln();Me(()=>t.currentNodeKey,q=>{r.value=q},{immediate:!0}),Me(()=>t.data,q=>{Le(q)},{immediate:!0});const{isIndeterminate:o,isChecked:s,toggleCheckbox:a,getCheckedKeys:l,getCheckedNodes:u,getHalfCheckedKeys:c,getHalfCheckedNodes:d,setChecked:f,setCheckedKeys:h}=Oee(t,i),{doFilter:m,hiddenNodeKeySet:g,isForceHiddenExpandIcon:p}=Fee(t,i),v=k(()=>{var q;return((q=t.props)==null?void 0:q.value)||Eu.KEY}),y=k(()=>{var q;return((q=t.props)==null?void 0:q.children)||Eu.CHILDREN}),w=k(()=>{var q;return((q=t.props)==null?void 0:q.disabled)||Eu.DISABLED}),_=k(()=>{var q;return((q=t.props)==null?void 0:q.label)||Eu.LABEL}),b=k(()=>{const q=n.value,re=g.value,he=[],we=i.value&&i.value.treeNodes||[];function ye(){const ze=[];for(let be=we.length-1;be>=0;--be)ze.push(we[be]);for(;ze.length;){const be=ze.pop();if(!!be&&(re.has(be.key)||he.push(be),q.has(be.key))){const U=be.children;if(U){const Q=U.length;for(let de=Q-1;de>=0;--de)ze.push(U[de])}}}}return ye(),he}),S=k(()=>b.value.length>0);function M(q){const re=new Map,he=new Map;let we=1;function ye(be,U=1,Q=void 0){var de;const me=[];for(const Se of be){const Ae=I(Se),ee={level:U,key:Ae,data:Se};ee.label=R(Se),ee.parent=Q;const le=N(Se);ee.disabled=x(Se),ee.isLeaf=!le||le.length===0,le&&le.length&&(ee.children=ye(le,U+1,ee)),me.push(ee),re.set(Ae,ee),he.has(U)||he.set(U,[]),(de=he.get(U))==null||de.push(ee)}return U>we&&(we=U),me}const ze=ye(q);return{treeNodeMap:re,levelTreeNodeMap:he,maxLevel:we,treeNodes:ze}}function T(q){const re=m(q);re&&(n.value=re)}function N(q){return q[y.value]}function I(q){return q?q[v.value]:""}function x(q){return q[w.value]}function R(q){return q[_.value]}function O(q){n.value.has(q.key)?P(q):A(q)}function D(q,re){e(DE,q.data,q,re),B(q),t.expandOnClickNode&&O(q),t.showCheckbox&&t.checkOnClickNode&&!q.disabled&&a(q,!s(q),!0)}function B(q){te(q)||(r.value=q.key,e(OE,q.data,q))}function L(q,re){a(q,re)}function A(q){const re=n.value;if((i==null?void 0:i.value)&&t.accordion){const{treeNodeMap:he}=i.value;re.forEach(we=>{const ye=he.get(we);ye&&ye.level===ye.level&&re.delete(we)})}re.add(q.key),e($E,q.data,q)}function P(q){n.value.delete(q.key),e(NE,q.data,q)}function W(q){return n.value.has(q.key)}function K(q){return!!q.disabled}function te(q){const re=r.value;return!!re&&re===q.key}function J(){var q,re;if(!!r.value)return(re=(q=i==null?void 0:i.value)==null?void 0:q.treeNodeMap.get(r.value))==null?void 0:re.data}function se(){return r.value}function Te(q){r.value=q}function Le(q){et(()=>i.value=M(q))}return{tree:i,flattenTree:b,isNotEmpty:S,getKey:I,getChildren:N,toggleExpand:O,toggleCheckbox:a,isExpanded:W,isChecked:s,isIndeterminate:o,isDisabled:K,isCurrent:te,isForceHiddenExpandIcon:p,handleNodeClick:D,handleNodeCheck:L,getCurrentNode:J,getCurrentKey:se,setCurrentKey:Te,getCheckedKeys:l,getCheckedNodes:u,getHalfCheckedKeys:c,getHalfCheckedNodes:d,setChecked:f,setCheckedKeys:h,filter:T,setData:Le}}var zee=pe({name:"ElTreeNodeContent",props:Dee,setup(t){const e=Ke(H0),n=$e("tree");return()=>{const r=t.node,{data:i}=r;return e!=null&&e.ctx.slots.default?e.ctx.slots.default({node:r,data:i}):Xe("span",{class:n.be("node","label")},[r==null?void 0:r.label])}}});const Vee="caret-right",Hee=pe({name:"ElTreeNode",components:{ElIcon:st,CaretRight:AM,ElCheckbox:Ti,ElNodeContent:zee},props:Iee,emits:Nee,setup(t,{emit:e}){const n=Ke(H0),r=$e("tree"),i=k(()=>{var c;return(c=n==null?void 0:n.props.indent)!=null?c:16}),o=k(()=>{var c;return(c=n==null?void 0:n.props.icon)!=null?c:Vee});return{ns:r,indent:i,icon:o,handleClick:c=>{e("click",t.node,c)},handleExpandIconClick:()=>{e("toggle",t.node)},handleCheckChange:c=>{e("check",t.node,c)},handleContextMenu:c=>{var d,f,h,m;(h=(f=(d=n==null?void 0:n.instance)==null?void 0:d.vnode)==null?void 0:f.props)!=null&&h.onNodeContextmenu&&(c.stopPropagation(),c.preventDefault()),n==null||n.ctx.emit(zE,c,(m=t.node)==null?void 0:m.data,t.node)}}}}),Uee=["aria-expanded","aria-disabled","aria-checked","data-key"];function Wee(t,e,n,r,i,o){var s,a,l;const u=ve("el-icon"),c=ve("el-checkbox"),d=ve("el-node-content");return E(),V("div",{ref:"node$",class:$([t.ns.b("node"),t.ns.is("expanded",t.expanded),t.ns.is("current",t.current),t.ns.is("focusable",!t.disabled),t.ns.is("checked",!t.disabled&&t.checked)]),role:"treeitem",tabindex:"-1","aria-expanded":t.expanded,"aria-disabled":t.disabled,"aria-checked":t.checked,"data-key":(s=t.node)==null?void 0:s.key,onClick:e[1]||(e[1]=ot((...f)=>t.handleClick&&t.handleClick(...f),["stop"])),onContextmenu:e[2]||(e[2]=(...f)=>t.handleContextMenu&&t.handleContextMenu(...f))},[G("div",{class:$(t.ns.be("node","content")),style:Ye({paddingLeft:`${(t.node.level-1)*t.indent}px`})},[t.icon?(E(),fe(u,{key:0,class:$([t.ns.is("leaf",!!((a=t.node)!=null&&a.isLeaf)),t.ns.is("hidden",t.hiddenExpandIcon),{expanded:!((l=t.node)!=null&&l.isLeaf)&&t.expanded},t.ns.be("node","expand-icon")]),onClick:ot(t.handleExpandIconClick,["stop"])},{default:X(()=>[(E(),fe(Pt(t.icon)))]),_:1},8,["class","onClick"])):ue("v-if",!0),t.showCheckbox?(E(),fe(c,{key:1,"model-value":t.checked,indeterminate:t.indeterminate,disabled:t.disabled,onChange:t.handleCheckChange,onClick:e[0]||(e[0]=ot(()=>{},["stop"]))},null,8,["model-value","indeterminate","disabled","onChange"])):ue("v-if",!0),Z(d,{node:t.node},null,8,["node"])],6)],42,Uee)}var Gee=De(Hee,[["render",Wee],["__file","/home/runner/work/element-plus/element-plus/packages/components/tree-v2/src/tree-node.vue"]]);const jee=pe({name:"ElTreeV2",components:{ElTreeNode:Gee,FixedSizeList:fE},props:Ree,emits:$ee,setup(t,e){Ct(H0,{ctx:e,props:t,instance:wt()});const{t:n}=Gt(),r=$e("tree"),{flattenTree:i,isNotEmpty:o,toggleExpand:s,isExpanded:a,isIndeterminate:l,isChecked:u,isDisabled:c,isCurrent:d,isForceHiddenExpandIcon:f,toggleCheckbox:h,handleNodeClick:m,handleNodeCheck:g,getCurrentNode:p,getCurrentKey:v,setCurrentKey:y,getCheckedKeys:w,getCheckedNodes:_,getHalfCheckedKeys:b,getHalfCheckedNodes:S,setChecked:M,setCheckedKeys:T,filter:N,setData:I}=Bee(t,e.emit);return e.expose({getCurrentNode:p,getCurrentKey:v,setCurrentKey:y,getCheckedKeys:w,getCheckedNodes:_,getHalfCheckedKeys:b,getHalfCheckedNodes:S,setChecked:M,setCheckedKeys:T,filter:N,setData:I}),{t:n,ns:r,flattenTree:i,itemSize:26,isNotEmpty:o,toggleExpand:s,toggleCheckbox:h,isExpanded:a,isIndeterminate:l,isChecked:u,isDisabled:c,isCurrent:d,isForceHiddenExpandIcon:f,handleNodeClick:m,handleNodeCheck:g}}});function Kee(t,e,n,r,i,o){var s;const a=ve("el-tree-node"),l=ve("fixed-size-list");return E(),V("div",{class:$([t.ns.b(),{[t.ns.m("highlight-current")]:t.highlightCurrent}]),role:"tree"},[t.isNotEmpty?(E(),fe(l,{key:0,"class-name":t.ns.b("virtual-list"),data:t.flattenTree,total:t.flattenTree.length,height:t.height,"item-size":t.itemSize,"perf-mode":t.perfMode},{default:X(({data:u,index:c,style:d})=>[(E(),fe(a,{key:u[c].key,style:Ye(d),node:u[c],expanded:t.isExpanded(u[c]),"show-checkbox":t.showCheckbox,checked:t.isChecked(u[c]),indeterminate:t.isIndeterminate(u[c]),disabled:t.isDisabled(u[c]),current:t.isCurrent(u[c]),"hidden-expand-icon":t.isForceHiddenExpandIcon(u[c]),onClick:t.handleNodeClick,onToggle:t.toggleExpand,onCheck:t.handleNodeCheck},null,8,["style","node","expanded","show-checkbox","checked","indeterminate","disabled","current","hidden-expand-icon","onClick","onToggle","onCheck"]))]),_:1},8,["class-name","data","total","height","item-size","perf-mode"])):(E(),V("div",{key:1,class:$(t.ns.e("empty-block"))},[G("span",{class:$(t.ns.e("empty-text"))},Pe((s=t.emptyText)!=null?s:t.t("el.tree.emptyText")),3)],2))],2)}var qee=De(jee,[["render",Kee],["__file","/home/runner/work/element-plus/element-plus/packages/components/tree-v2/src/tree.vue"]]);const Yee=_t(qee),Xee="ElUpload";class Zee extends Error{constructor(e,n,r,i){super(e);this.name="UploadAjaxError",this.status=n,this.method=r,this.url=i}}function Tw(t,e,n){let r;return n.response?r=`${n.response.error||n.response}`:n.responseText?r=`${n.responseText}`:r=`fail to ${e.method} ${t} ${n.status}`,new Zee(r,n.status,e.method,t)}function Jee(t){const e=t.responseText||t.response;if(!e)return e;try{return JSON.parse(e)}catch{return e}}const Qee=t=>{typeof XMLHttpRequest=="undefined"&&kn(Xee,"XMLHttpRequest is undefined");const e=new XMLHttpRequest,n=t.action;e.upload&&e.upload.addEventListener("progress",o=>{const s=o;s.percent=o.total>0?o.loaded/o.total*100:0,t.onProgress(s)});const r=new FormData;if(t.data)for(const[o,s]of Object.entries(t.data))Array.isArray(s)?r.append(o,...s):r.append(o,s);r.append(t.filename,t.file,t.file.name),e.addEventListener("error",()=>{t.onError(Tw(n,t,e))}),e.addEventListener("load",()=>{if(e.status<200||e.status>=300)return t.onError(Tw(n,t,e));t.onSuccess(Jee(e))}),e.open(t.method,n,!0),t.withCredentials&&"withCredentials"in e&&(e.withCredentials=!0);const i=t.headers||{};if(i instanceof Headers)i.forEach((o,s)=>e.setRequestHeader(s,o));else for(const[o,s]of Object.entries(i))Yv(s)||e.setRequestHeader(o,String(s));return e.send(r),e},VE=["text","picture","picture-card"];let ete=1;const HE=()=>Date.now()+ete++,UE=Je({action:{type:String,required:!0},headers:{type:Fe(Object)},method:{type:String,default:"post"},data:{type:Object,default:()=>fn({})},multiple:{type:Boolean,default:!1},name:{type:String,default:"file"},drag:{type:Boolean,default:!1},withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},type:{type:String,default:"select"},fileList:{type:Fe(Array),default:()=>fn([])},autoUpload:{type:Boolean,default:!0},listType:{type:String,values:VE,default:"text"},httpRequest:{type:Fe(Function),default:Qee},disabled:Boolean,limit:Number}),tte=Je(Ue(Ee({},UE),{beforeUpload:{type:Fe(Function),default:Vt},beforeRemove:{type:Fe(Function)},onRemove:{type:Fe(Function),default:Vt},onChange:{type:Fe(Function),default:Vt},onPreview:{type:Fe(Function),default:Vt},onSuccess:{type:Fe(Function),default:Vt},onProgress:{type:Fe(Function),default:Vt},onError:{type:Fe(Function),default:Vt},onExceed:{type:Fe(Function),default:Vt}})),nte=Je({files:{type:Fe(Array),default:()=>fn([])},disabled:{type:Boolean,default:!1},handlePreview:{type:Fe(Function),default:Vt},listType:{type:String,values:VE,default:"text"}}),rte={remove:t=>!!t},ite=["onKeydown"],ote=["src"],ste=["onClick"],ate=["onClick"],lte=["onClick"],ute={name:"ElUploadList"},cte=pe(Ue(Ee({},ute),{props:nte,emits:rte,setup(t,{emit:e}){const n=t,{t:r}=Gt(),i=$e("upload"),o=$e("icon"),s=$e("list"),a=F(!1),l=d=>{n.handlePreview(d)},u=d=>{d.target.focus()},c=d=>{e("remove",d)};return(d,f)=>(E(),fe(Fk,{tag:"ul",class:$([C(i).b("list"),C(i).bm("list",d.listType),C(i).is("disabled",d.disabled)]),name:C(s).b()},{default:X(()=>[(E(!0),V(Ze,null,xt(d.files,h=>(E(),V("li",{key:h.uid||h.name,class:$([C(i).be("list","item"),C(i).is(h.status),{focusing:a.value}]),tabindex:"0",onKeydown:Mt(m=>!d.disabled&&c(h),["delete"]),onFocus:f[0]||(f[0]=m=>a.value=!0),onBlur:f[1]||(f[1]=m=>a.value=!1),onClick:u},[Ce(d.$slots,"default",{file:h},()=>[d.listType==="picture"||h.status!=="uploading"&&d.listType==="picture-card"?(E(),V("img",{key:0,class:$(C(i).be("list","item-thumbnail")),src:h.url,alt:""},null,10,ote)):ue("v-if",!0),d.listType!=="picture"&&(h.status==="uploading"||d.listType!=="picture-card")?(E(),V("div",{key:1,class:$(C(i).be("list","item-info"))},[G("a",{class:$(C(i).be("list","item-name")),onClick:m=>l(h)},[Z(C(st),{class:$(C(o).m("document"))},{default:X(()=>[Z(C(iO))]),_:1},8,["class"]),lt(" "+Pe(h.name),1)],10,ste),h.status==="uploading"?(E(),fe(C(tE),{key:0,type:d.listType==="picture-card"?"circle":"line","stroke-width":d.listType==="picture-card"?6:2,percentage:Number(h.percentage),style:Ye(d.listType==="picture-card"?"":"margin-top: 0.5rem")},null,8,["type","stroke-width","percentage","style"])):ue("v-if",!0)],2)):ue("v-if",!0),G("label",{class:$(C(i).be("list","item-status-label"))},[d.listType==="text"?(E(),fe(C(st),{key:0,class:$([C(o).m("upload-success"),C(o).m("circle-check")])},{default:X(()=>[Z(C(Gf))]),_:1},8,["class"])):["picture-card","picture"].includes(d.listType)?(E(),fe(C(st),{key:1,class:$([C(o).m("upload-success"),C(o).m("check")])},{default:X(()=>[Z(C(bl))]),_:1},8,["class"])):ue("v-if",!0)],2),d.disabled?ue("v-if",!0):(E(),fe(C(st),{key:2,class:$(C(o).m("close")),onClick:m=>c(h)},{default:X(()=>[Z(C(ti))]),_:2},1032,["class","onClick"])),ue(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),ue(" This is a bug which needs to be fixed "),ue(" TODO: Fix the incorrect navigation interaction "),d.disabled?ue("v-if",!0):(E(),V("i",{key:3,class:$(C(o).m("close-tip"))},Pe(C(r)("el.upload.deleteTip")),3)),d.listType==="picture-card"?(E(),V("span",{key:4,class:$(C(i).be("list","item-actions"))},[G("span",{class:$(C(i).be("list","item-preview")),onClick:m=>d.handlePreview(h)},[Z(C(st),{class:$(C(o).m("zoom-in"))},{default:X(()=>[Z(C(RM))]),_:1},8,["class"])],10,ate),d.disabled?ue("v-if",!0):(E(),V("span",{key:0,class:$(C(i).be("list","item-delete")),onClick:m=>c(h)},[Z(C(st),{class:$(C(o).m("delete"))},{default:X(()=>[Z(C(J4))]),_:1},8,["class"])],10,lte))],2)):ue("v-if",!0)])],42,ite))),128)),Ce(d.$slots,"append")]),_:3},8,["class","name"]))}}));var Aw=De(cte,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-list.vue"]]);const dte=Je({disabled:{type:Boolean,default:!1}}),fte={file:t=>ct(t)},hte=["onDrop","onDragover"],pte={name:"ElUploadDrag"},mte=pe(Ue(Ee({},pte),{props:dte,emits:fte,setup(t,{emit:e}){const n=t,r="ElUploadDrag",i=Ke(YM);i||kn(r,"usage: <el-upload><el-upload-dragger /></el-upload>");const o=$e("upload"),s=F(!1),a=u=>{if(n.disabled)return;s.value=!1;const c=Array.from(u.dataTransfer.files),d=i.accept.value;if(!d){e("file",c);return}const f=c.filter(h=>{const{type:m,name:g}=h,p=g.includes(".")?`.${g.split(".").pop()}`:"",v=m.replace(/\/.*$/,"");return d.split(",").map(y=>y.trim()).filter(y=>y).some(y=>y.startsWith(".")?p===y:/\/\*$/.test(y)?v===y.replace(/\/\*$/,""):/^[^/]+\/[^/]+$/.test(y)?m===y:!1)});e("file",f)},l=()=>{n.disabled||(s.value=!0)};return(u,c)=>(E(),V("div",{class:$([C(o).b("dragger"),C(o).is("dragover",s.value)]),onDrop:ot(a,["prevent"]),onDragover:ot(l,["prevent"]),onDragleave:c[0]||(c[0]=ot(d=>s.value=!1,["prevent"]))},[Ce(u.$slots,"default")],42,hte))}}));var gte=De(mte,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-dragger.vue"]]);const vte=Je(Ue(Ee({},UE),{fileList:{type:Fe(Array),default:()=>fn([])},beforeUpload:{type:Fe(Function),default:Vt},onRemove:{type:Fe(Function),default:Vt},onStart:{type:Fe(Function),default:Vt},onSuccess:{type:Fe(Function),default:Vt},onProgress:{type:Fe(Function),default:Vt},onError:{type:Fe(Function),default:Vt},onExceed:{type:Fe(Function),default:Vt}})),yte=["onKeydown"],bte=["name","multiple","accept"],wte={name:"ElUploadContent",inheritAttrs:!1},_te=pe(Ue(Ee({},wte),{props:vte,setup(t,{expose:e}){const n=t,r=$e("upload"),i=Ln({}),o=Ln(),s=h=>{if(h.length===0)return;const{autoUpload:m,limit:g,fileList:p,multiple:v,onStart:y,onExceed:w}=n;if(g&&p.length+h.length>g){w(h,p);return}v||(h=h.slice(0,1));for(const _ of h){const b=_;b.uid=HE(),y(b),m&&a(b)}},a=async h=>{if(o.value.value="",!n.beforeUpload)return l(h);let m;try{m=await n.beforeUpload(h)}catch{m=!1}if(m===!1){n.onRemove(h);return}let g=h;if(m instanceof Blob){m instanceof File?g=m:g=new File([m],h.name,{type:h.type});for(const p of Object.keys(h))g[p]=h[p]}l(h)},l=h=>{const{headers:m,data:g,method:p,withCredentials:v,name:y,action:w,onProgress:_,onSuccess:b,onError:S,httpRequest:M}=n,{uid:T}=h,N={headers:m||{},withCredentials:v,file:h,data:g,method:p,filename:y,action:w,onProgress:x=>{_(x,h)},onSuccess:x=>{b(x,h),delete i.value[T]},onError:x=>{S(x,h),delete i.value[T]}},I=M(N);i.value[T]=I,I instanceof Promise&&I.then(N.onSuccess,N.onError)},u=h=>{const m=h.target.files;!m||s(Array.from(m))},c=()=>{n.disabled||(o.value.value="",o.value.click())},d=()=>{c()};return e({abort:h=>{iN(i.value).filter(h?([g])=>String(h.uid)===g:()=>!0).forEach(([g,p])=>{p instanceof XMLHttpRequest&&p.abort(),delete i.value[g]})},upload:a}),(h,m)=>(E(),V("div",{class:$([C(r).b(),C(r).m(h.listType)]),tabindex:"0",onClick:c,onKeydown:Mt(ot(d,["self"]),["enter","space"])},[h.drag?(E(),fe(gte,{key:0,disabled:h.disabled,onFile:s},{default:X(()=>[Ce(h.$slots,"default")]),_:3},8,["disabled"])):Ce(h.$slots,"default",{key:1}),G("input",{ref_key:"inputRef",ref:o,class:$(C(r).e("input")),name:h.name,multiple:h.multiple,accept:h.accept,type:"file",onChange:u},null,42,bte)],42,yte))}}));var kw=De(_te,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-content.vue"]]);const Wp="ElUpload",Ste=t=>{var e;(e=t.url)!=null&&e.startsWith("blob:")&&URL.revokeObjectURL(t.url)},Cte=(t,e)=>{const n=F([]),r=f=>n.value.find(h=>h.uid===f.uid);function i(f){var h;(h=e.value)==null||h.abort(f)}function o(f=["ready","uploading","success","fail"]){n.value=n.value.filter(h=>!f.includes(h.status))}const s=(f,h)=>{const m=r(h);!m||(m.status="fail",n.value.splice(n.value.indexOf(m),1),t.onError(f,m,n.value),t.onChange(m,n.value))},a=(f,h)=>{const m=r(h);!m||(t.onProgress(f,m,n.value),m.status="uploading",m.percentage=Math.round(f.percent))},l=(f,h)=>{const m=r(h);!m||(m.status="success",m.response=f,t.onSuccess(f,m,n.value),t.onChange(m,n.value))},u=f=>{const h={name:f.name,percentage:0,status:"ready",size:f.size,raw:f,uid:f.uid};if(t.listType==="picture-card"||t.listType==="picture")try{h.url=URL.createObjectURL(f)}catch(m){m.message,t.onError(m,h,n.value)}n.value.push(h),t.onChange(h,n.value)},c=async(f,h)=>{h&&Nc({scope:Wp,from:"handleRemove second argument",version:"2.2",replacement:"first argument `file`",ref:"https://element-plus.org/en-US/component/upload.html#methods"},!0);const m=h||f,g=m instanceof File?r(m):m;g||kn(Wp,"file to be removed not found");const p=v=>{i(v);const y=n.value;y.splice(y.indexOf(v),1),t.onRemove(v,y),Ste(v)};t.beforeRemove?await t.beforeRemove(g,n.value)!==!1&&p(g):p(g)};function d(){n.value.filter(({status:f})=>f==="ready").forEach(({raw:f})=>{var h;return f&&((h=e.value)==null?void 0:h.upload(f))})}return Me(()=>t.listType,f=>{f!=="picture-card"&&f!=="picture"||(n.value=n.value.map(h=>{const{raw:m,url:g}=h;if(!g&&m)try{h.url=URL.createObjectURL(m)}catch(p){t.onError(p,h,n.value)}return h}))}),Me(()=>t.fileList,f=>{for(const h of f)h.uid||(h.uid=HE()),h.status||(h.status="success");n.value=f},{immediate:!0,deep:!0}),{abort:i,clearFiles:o,handleError:s,handleProgress:a,handleStart:u,handleSuccess:l,handleRemove:c,submit:d,uploadFiles:n}},Mte={name:"ElUpload"},xte=pe(Ue(Ee({},Mte),{props:tte,setup(t,{expose:e}){const n=t,r=Rc(),i=Ul(),o=Ln(),{abort:s,submit:a,clearFiles:l,uploadFiles:u,handleStart:c,handleError:d,handleRemove:f,handleSuccess:h,handleProgress:m}=Cte(n,o),g=k(()=>n.listType==="picture-card"),p=k(()=>Ue(Ee({},n),{onStart:c,onProgress:m,onSuccess:h,onError:d,onRemove:f}));return rn(()=>{u.value.forEach(({url:v})=>{v!=null&&v.startsWith("blob:")&&URL.revokeObjectURL(v)})}),Ct(YM,{accept:Nn(n,"accept")}),e({abort:s,submit:a,clearFiles:l,handleStart:c,handleRemove:f}),(v,y)=>(E(),V("div",null,[C(g)&&v.showFileList?(E(),fe(Aw,{key:0,disabled:C(i),"list-type":v.listType,files:C(u),"handle-preview":v.onPreview,onRemove:C(f)},is({append:X(()=>[v.listType==="picture-card"?(E(),fe(kw,Qt({key:0,ref_key:"uploadRef",ref:o},C(p)),{default:X(()=>[C(r).trigger?Ce(v.$slots,"trigger",{key:0}):ue("v-if",!0),!C(r).trigger&&C(r).default?Ce(v.$slots,"default",{key:1}):ue("v-if",!0)]),_:3},16)):ue("v-if",!0)]),_:2},[v.$slots.file?{name:"default",fn:X(({file:w})=>[Ce(v.$slots,"file",{file:w})])}:void 0]),1032,["disabled","list-type","files","handle-preview","onRemove"])):ue("v-if",!0),v.listType!=="picture-card"?(E(),fe(kw,Qt({key:1,ref_key:"uploadRef",ref:o},C(p)),{default:X(()=>[C(r).trigger?Ce(v.$slots,"trigger",{key:0}):ue("v-if",!0),!C(r).trigger&&C(r).default?Ce(v.$slots,"default",{key:1}):ue("v-if",!0)]),_:3},16)):ue("v-if",!0),v.$slots.trigger?Ce(v.$slots,"default",{key:2}):ue("v-if",!0),Ce(v.$slots,"tip"),!C(g)&&v.showFileList?(E(),fe(Aw,{key:3,disabled:C(i),"list-type":v.listType,files:C(u),"handle-preview":v.onPreview,onRemove:C(f)},is({_:2},[v.$slots.file?{name:"default",fn:X(({file:w})=>[Ce(v.$slots,"file",{file:w})])}:void 0]),1032,["disabled","list-type","files","handle-preview","onRemove"])):ue("v-if",!0)]))}}));var Ete=De(xte,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload.vue"]]);const Tte=_t(Ete);var Ate=[w5,L5,e8,a8,p8,k2,T8,A8,Jr,D2,$V,zV,JV,QV,mU,eU,_U,Ti,bH,ox,MU,BU,zU,RU,hW,gW,AW,kW,PW,LW,RW,c7,v7,y7,P7,$7,G7,UG,WG,GG,kj,bK,wK,st,DK,jx,ai,Kx,jK,hq,pq,mq,_q,wY,xY,RY,T2,tE,dx,NH,$H,XY,tX,iX,ko,oa,Yf,Xq,XX,iZ,oZ,CZ,PZ,NZ,OZ,YZ,eQ,tQ,mQ,gQ,Fh,wV,SQ,TQ,AQ,Cr,XQ,cee,Mee,Pee,Yee,Tte];const vi="ElInfiniteScroll",kte=50,Pte=200,Lte=0,Rte={delay:{type:Number,default:Pte},distance:{type:Number,default:Lte},disabled:{type:Boolean,default:!1},immediate:{type:Boolean,default:!0}},U0=(t,e)=>Object.entries(Rte).reduce((n,[r,i])=>{var o,s;const{type:a,default:l}=i,u=t.getAttribute(`infinite-scroll-${r}`);let c=(s=(o=e[u])!=null?o:u)!=null?s:l;return c=c==="false"?!1:c,c=a(c),n[r]=Number.isNaN(c)?l:c,n},{}),WE=t=>{const{observer:e}=t[vi];e&&(e.disconnect(),delete t[vi].observer)},Ite=(t,e)=>{const{container:n,containerEl:r,instance:i,observer:o,lastScrollTop:s}=t[vi],{disabled:a,distance:l}=U0(t,i),{clientHeight:u,scrollHeight:c,scrollTop:d}=r,f=d-s;if(t[vi].lastScrollTop=d,o||a||f<0)return;let h=!1;if(n===t)h=c-(u+d)<=l;else{const{clientTop:m,scrollHeight:g}=t,p=eN(t,r);h=d+u>=p+m+g-l}h&&e.call(i)};function Gp(t,e){const{containerEl:n,instance:r}=t[vi],{disabled:i}=U0(t,r);i||n.clientHeight===0||(n.scrollHeight<=n.clientHeight?e.call(r):WE(t))}const Dte={async mounted(t,e){const{instance:n,value:r}=e;gt(r)||kn(vi,"'v-infinite-scroll' binding value must be a function"),await et();const{delay:i,immediate:o}=U0(t,n),s=Zv(t,!0),a=s===window?document.documentElement:s,l=Ks(Ite.bind(null,t,r),i);if(!!s){if(t[vi]={instance:n,container:s,containerEl:a,delay:i,cb:r,onScroll:l,lastScrollTop:a.scrollTop},o){const u=new MutationObserver(Ks(Gp.bind(null,t,r),kte));t[vi].observer=u,u.observe(t,{childList:!0,subtree:!0}),Gp(t,r)}s.addEventListener("scroll",l)}},unmounted(t){const{container:e,onScroll:n}=t[vi];e==null||e.removeEventListener("scroll",n),WE(t)},async updated(t){t[vi]||await et();const{containerEl:e,cb:n,observer:r}=t[vi];e.clientHeight&&r&&Gp(t,n)}},Hg=Dte;Hg.install=t=>{t.directive("InfiniteScroll",Hg)};const $te=Hg;function Nte(t){let e;const n=F(!1),r=Ot(Ue(Ee({},t),{originalPosition:"",originalOverflow:"",visible:!1}));function i(d){r.text=d}function o(){const d=r.parent;if(!d.vLoadingAddClassList){let f=d.getAttribute("loading-number");f=Number.parseInt(f)-1,f?d.setAttribute("loading-number",f.toString()):(vr(d,"el-loading-parent--relative"),d.removeAttribute("loading-number")),vr(d,"el-loading-parent--hidden")}s()}function s(){var d,f;(f=(d=c.$el)==null?void 0:d.parentNode)==null||f.removeChild(c.$el)}function a(){var d;if(t.beforeClose&&!t.beforeClose())return;const f=r.parent;f.vLoadingAddClassList=void 0,n.value=!0,clearTimeout(e),e=window.setTimeout(()=>{n.value&&(n.value=!1,o())},400),r.visible=!1,(d=t.closed)==null||d.call(t)}function l(){!n.value||(n.value=!1,o())}const c=KC({name:"ElLoading",setup(){return()=>{const d=r.spinner||r.svg,f=Xe("svg",Ee({class:"circular",viewBox:r.svgViewBox?r.svgViewBox:"25 25 50 50"},d?{innerHTML:d}:{}),[Xe("circle",{class:"path",cx:"50",cy:"50",r:"20",fill:"none"})]),h=r.text?Xe("p",{class:"el-loading-text"},[r.text]):void 0;return Xe(En,{name:"el-loading-fade",onAfterLeave:l},{default:X(()=>[ut(Z("div",{style:{backgroundColor:r.background||""},class:["el-loading-mask",r.customClass,r.fullscreen?"is-fullscreen":""]},[Xe("div",{class:"el-loading-spinner"},[f,h])]),[[Lt,r.visible]])])})}}}).mount(document.createElement("div"));return Ue(Ee({},Bn(r)),{setText:i,remvoeElLoadingChild:s,close:a,handleAfterLeave:l,vm:c,get $el(){return c.$el}})}let du;const Ug=function(t={}){if(!Tt)return;const e=Ote(t);e.fullscreen&&du&&(du.remvoeElLoadingChild(),du.close());const n=Nte(Ue(Ee({},e),{closed:()=>{var i;(i=e.closed)==null||i.call(e),e.fullscreen&&(du=void 0)}}));Fte(e,e.parent,n),Pw(e,e.parent,n),e.parent.vLoadingAddClassList=()=>Pw(e,e.parent,n);let r=e.parent.getAttribute("loading-number");return r?r=`${Number.parseInt(r)+1}`:r="1",e.parent.setAttribute("loading-number",r),e.parent.appendChild(n.$el),et(()=>n.visible.value=e.visible),e.fullscreen&&(du=n),n},Ote=t=>{var e,n,r,i;let o;return pt(t.target)?o=(e=document.querySelector(t.target))!=null?e:document.body:o=t.target||document.body,{parent:o===document.body||t.body?document.body:o,background:t.background||"",svg:t.svg||"",svgViewBox:t.svgViewBox||"",spinner:t.spinner||!1,text:t.text||"",fullscreen:o===document.body&&((n=t.fullscreen)!=null?n:!0),lock:(r=t.lock)!=null?r:!1,customClass:t.customClass||"",visible:(i=t.visible)!=null?i:!0,target:o}},Fte=async(t,e,n)=>{const{nextZIndex:r}=To(),i={};if(t.fullscreen)n.originalPosition.value=zi(document.body,"position"),n.originalOverflow.value=zi(document.body,"overflow"),i.zIndex=r();else if(t.parent===document.body){n.originalPosition.value=zi(document.body,"position"),await et();for(const o of["top","left"]){const s=o==="top"?"scrollTop":"scrollLeft";i[o]=`${t.target.getBoundingClientRect()[o]+document.body[s]+document.documentElement[s]-Number.parseInt(zi(document.body,`margin-${o}`),10)}px`}for(const o of["height","width"])i[o]=`${t.target.getBoundingClientRect()[o]}px`}else n.originalPosition.value=zi(e,"position");for(const[o,s]of Object.entries(i))n.$el.style[o]=s},Pw=(t,e,n)=>{n.originalPosition.value!=="absolute"&&n.originalPosition.value!=="fixed"?Hi(e,"el-loading-parent--relative"):vr(e,"el-loading-parent--relative"),t.fullscreen&&t.lock?Hi(e,"el-loading-parent--hidden"):vr(e,"el-loading-parent--hidden")},Wg=Symbol("ElLoading"),Lw=(t,e)=>{var n,r,i,o;const s=e.instance,a=f=>kt(e.value)?e.value[f]:void 0,l=f=>{const h=pt(f)&&(s==null?void 0:s[f])||f;return h&&F(h)},u=f=>l(a(f)||t.getAttribute(`element-loading-${ls(f)}`)),c=(n=a("fullscreen"))!=null?n:e.modifiers.fullscreen,d={text:u("text"),svg:u("svg"),svgViewBox:u("svgViewBox"),spinner:u("spinner"),background:u("background"),customClass:u("customClass"),fullscreen:c,target:(r=a("target"))!=null?r:c?void 0:t,body:(i=a("body"))!=null?i:e.modifiers.body,lock:(o=a("lock"))!=null?o:e.modifiers.lock};t[Wg]={options:d,instance:Ug(d)}},Bte=(t,e)=>{for(const n of Object.keys(e))hn(e[n])&&(e[n].value=t[n])},Rw={mounted(t,e){e.value&&Lw(t,e)},updated(t,e){const n=t[Wg];e.oldValue!==e.value&&(e.value&&!e.oldValue?Lw(t,e):e.value&&e.oldValue?kt(e.value)&&Bte(e.value,n.options):n==null||n.instance.close())},unmounted(t){var e;(e=t[Wg])==null||e.instance.close()}},zte={install(t){t.directive("loading",Rw),t.config.globalProperties.$loading=Ug},directive:Rw,service:Ug},GE=["success","info","warning","error"],Vte=Je({customClass:{type:String,default:""},center:{type:Boolean,default:!1},dangerouslyUseHTMLString:{type:Boolean,default:!1},duration:{type:Number,default:3e3},icon:{type:tr,default:""},id:{type:String,default:""},message:{type:Fe([String,Object,Function]),default:""},onClose:{type:Fe(Function),required:!1},showClose:{type:Boolean,default:!1},type:{type:String,values:GE,default:"info"},offset:{type:Number,default:20},zIndex:{type:Number,default:0},grouping:{type:Boolean,default:!1},repeatNum:{type:Number,default:1}}),Hte={destroy:()=>!0},Ute=pe({name:"ElMessage",components:Ee({ElBadge:k2,ElIcon:st},kh),props:Vte,emits:Hte,setup(t){const e=$e("message"),n=F(!1),r=F(t.type?t.type==="error"?"danger":t.type:"info");let i;const o=k(()=>{const f=t.type;return{[e.bm("icon",f)]:f&&wo[f]}}),s=k(()=>t.icon||wo[t.type]||""),a=k(()=>({top:`${t.offset}px`,zIndex:t.zIndex}));function l(){t.duration>0&&({stop:i}=ra(()=>{n.value&&c()},t.duration))}function u(){i==null||i()}function c(){n.value=!1}function d({code:f}){f===qe.esc?n.value&&c():l()}return ft(()=>{l(),n.value=!0}),Me(()=>t.repeatNum,()=>{u(),l()}),xn(document,"keydown",d),{ns:e,typeClass:o,iconComponent:s,customStyle:a,visible:n,badgeType:r,close:c,clearTimer:u,startTimer:l}}}),Wte=["id"],Gte=["innerHTML"];function jte(t,e,n,r,i,o){const s=ve("el-badge"),a=ve("el-icon"),l=ve("close");return E(),fe(En,{name:t.ns.b("fade"),onBeforeLeave:t.onClose,onAfterLeave:e[2]||(e[2]=u=>t.$emit("destroy"))},{default:X(()=>[ut(G("div",{id:t.id,class:$([t.ns.b(),{[t.ns.m(t.type)]:t.type&&!t.icon},t.ns.is("center",t.center),t.ns.is("closable",t.showClose),t.customClass]),style:Ye(t.customStyle),role:"alert",onMouseenter:e[0]||(e[0]=(...u)=>t.clearTimer&&t.clearTimer(...u)),onMouseleave:e[1]||(e[1]=(...u)=>t.startTimer&&t.startTimer(...u))},[t.repeatNum>1?(E(),fe(s,{key:0,value:t.repeatNum,type:t.badgeType,class:$(t.ns.e("badge"))},null,8,["value","type","class"])):ue("v-if",!0),t.iconComponent?(E(),fe(a,{key:1,class:$([t.ns.e("icon"),t.typeClass])},{default:X(()=>[(E(),fe(Pt(t.iconComponent)))]),_:1},8,["class"])):ue("v-if",!0),Ce(t.$slots,"default",{},()=>[t.dangerouslyUseHTMLString?(E(),V(Ze,{key:1},[ue(" Caution here, message could've been compromised, never use user's input as message "),G("p",{class:$(t.ns.e("content")),innerHTML:t.message},null,10,Gte)],2112)):(E(),V("p",{key:0,class:$(t.ns.e("content"))},Pe(t.message),3))]),t.showClose?(E(),fe(a,{key:2,class:$(t.ns.e("closeBtn")),onClick:ot(t.close,["stop"])},{default:X(()=>[Z(l)]),_:1},8,["class","onClick"])):ue("v-if",!0)],46,Wte),[[Lt,t.visible]])]),_:3},8,["name","onBeforeLeave"])}var Kte=De(Ute,[["render",jte],["__file","/home/runner/work/element-plus/element-plus/packages/components/message/src/message.vue"]]);const kr=[];let qte=1;const kl=function(t={},e){if(!Tt)return{close:()=>{}};if(It(Eg.max)&&kr.length>=Eg.max)return{close:()=>{}};if(!Mn(t)&&kt(t)&&t.grouping&&!Mn(t.message)&&kr.length){const d=kr.find(f=>{var h,m,g;return`${(m=(h=f.vm.props)==null?void 0:h.message)!=null?m:""}`==`${(g=t.message)!=null?g:""}`});if(d)return d.vm.component.props.repeatNum+=1,d.vm.component.props.type=(t==null?void 0:t.type)||"info",{close:()=>c.component.proxy.visible=!1}}(pt(t)||Mn(t))&&(t={message:t});let n=t.offset||20;kr.forEach(({vm:d})=>{var f;n+=(((f=d.el)==null?void 0:f.offsetHeight)||0)+16}),n+=16;const{nextZIndex:r}=To(),i=`message_${qte++}`,o=t.onClose,s=Ue(Ee({zIndex:r()},t),{offset:n,id:i,onClose:()=>{Yte(i,o)}});let a=document.body;ia(t.appendTo)?a=t.appendTo:pt(t.appendTo)&&(a=document.querySelector(t.appendTo)),ia(a)||(a=document.body);const l=document.createElement("div");l.className=`container_${i}`;const u=s.message,c=Z(Kte,s,gt(u)?{default:u}:Mn(u)?{default:()=>u}:null);return c.appContext=e||kl._context,c.props.onDestroy=()=>{vl(null,l)},vl(c,l),kr.push({vm:c}),a.appendChild(l.firstElementChild),{close:()=>c.component.proxy.visible=!1}};GE.forEach(t=>{kl[t]=(e={},n)=>((pt(e)||Mn(e))&&(e={message:e}),kl(Ue(Ee({},e),{type:t}),n))});function Yte(t,e){const n=kr.findIndex(({vm:s})=>t===s.component.props.id);if(n===-1)return;const{vm:r}=kr[n];if(!r)return;e==null||e(r);const i=r.el.offsetHeight;kr.splice(n,1);const o=kr.length;if(!(o<1))for(let s=n;s<o;s++){const a=Number.parseInt(kr[s].vm.el.style.top,10)-i-16;kr[s].vm.component.props.offset=a}}function Xte(){var t;for(let e=kr.length-1;e>=0;e--){const n=kr[e].vm.component;(t=n==null?void 0:n.proxy)==null||t.close()}}kl.closeAll=Xte;kl._context=null;const Zte=DM(kl,"$message"),Jte=pe({name:"ElMessageBox",directives:{TrapFocus:V2},components:Ee({ElButton:Jr,ElInput:ai,ElOverlay:M0,ElIcon:st},kh),inheritAttrs:!1,props:{buttonSize:{type:String,validator:Hr},modal:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},closeOnHashChange:{type:Boolean,default:!0},center:Boolean,draggable:Boolean,roundButton:{default:!1,type:Boolean},container:{type:String,default:"body"},boxType:{type:String,default:""}},emits:["vanish","action"],setup(t,{emit:e}){const{t:n}=Gt(),r=F(!1),{nextZIndex:i}=To(),o=Ot({beforeClose:null,callback:null,cancelButtonText:"",cancelButtonClass:"",confirmButtonText:"",confirmButtonClass:"",customClass:"",customStyle:{},dangerouslyUseHTMLString:!1,distinguishCancelAndClose:!1,icon:"",inputPattern:null,inputPlaceholder:"",inputType:"text",inputValue:null,inputValidator:null,inputErrorMessage:"",message:null,modalFade:!0,modalClass:"",showCancelButton:!1,showConfirmButton:!0,type:"",title:void 0,showInput:!1,action:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonDisabled:!1,editorErrorMessage:"",validateError:!1,zIndex:i()}),s=k(()=>{const T=o.type;return T&&wo[T]?`el-message-box-icon--${T}`:""}),a=Pn(k(()=>t.buttonSize),{prop:!0,form:!0,formItem:!0}),l=k(()=>o.icon||wo[o.type]||""),u=k(()=>!!o.message),c=F(),d=F(),f=F(),h=F(),m=k(()=>o.confirmButtonClass);Me(()=>o.inputValue,async T=>{await et(),t.boxType==="prompt"&&T!==null&&b()},{immediate:!0}),Me(()=>r.value,T=>{T&&((t.boxType==="alert"||t.boxType==="confirm")&&et().then(()=>{var N,I,x;(x=(I=(N=h.value)==null?void 0:N.$el)==null?void 0:I.focus)==null||x.call(I)}),o.zIndex=i()),t.boxType==="prompt"&&(T?et().then(()=>{f.value&&f.value.$el&&S().focus()}):(o.editorErrorMessage="",o.validateError=!1))});const g=k(()=>t.draggable);e2(c,d,g),ft(async()=>{await et(),t.closeOnHashChange&&sn(window,"hashchange",p)}),rn(()=>{t.closeOnHashChange&&wn(window,"hashchange",p)});function p(){!r.value||(r.value=!1,et(()=>{o.action&&e("action",o.action)}))}const v=()=>{t.closeOnClickModal&&_(o.distinguishCancelAndClose?"close":"cancel")},y=i0(v),w=T=>{if(o.inputType!=="textarea")return T.preventDefault(),_("confirm")},_=T=>{var N;t.boxType==="prompt"&&T==="confirm"&&!b()||(o.action=T,o.beforeClose?(N=o.beforeClose)==null||N.call(o,T,o,p):p())},b=()=>{if(t.boxType==="prompt"){const T=o.inputPattern;if(T&&!T.test(o.inputValue||""))return o.editorErrorMessage=o.inputErrorMessage||n("el.messagebox.error"),o.validateError=!0,!1;const N=o.inputValidator;if(typeof N=="function"){const I=N(o.inputValue);if(I===!1)return o.editorErrorMessage=o.inputErrorMessage||n("el.messagebox.error"),o.validateError=!0,!1;if(typeof I=="string")return o.editorErrorMessage=I,o.validateError=!0,!1}}return o.editorErrorMessage="",o.validateError=!1,!0},S=()=>{const T=f.value.$refs;return T.input||T.textarea},M=()=>{_("close")};return t.closeOnPressEscape?n2({handleClose:M},r):OB(r,"keydown",T=>T.code===qe.esc),t.lockScroll&&t2(r),r2(r),Ue(Ee({},Bn(o)),{overlayEvent:y,visible:r,hasMessage:u,typeClass:s,btnSize:a,iconComponent:l,confirmButtonClasses:m,rootRef:c,headerRef:d,inputRef:f,confirmRef:h,doClose:p,handleClose:M,handleWrapperClick:v,handleInputEnter:w,handleAction:_,t:n})}}),Qte=["aria-label"],ene={key:0,ref:"headerRef",class:"el-message-box__header"},tne={class:"el-message-box__title"},nne={class:"el-message-box__content"},rne={class:"el-message-box__container"},ine={key:1,class:"el-message-box__message"},one={key:0},sne=["innerHTML"],ane={class:"el-message-box__input"},lne={class:"el-message-box__btns"};function une(t,e,n,r,i,o){const s=ve("el-icon"),a=ve("close"),l=ve("el-input"),u=ve("el-button"),c=ve("el-overlay"),d=Vr("trap-focus");return E(),fe(En,{name:"fade-in-linear",onAfterLeave:e[11]||(e[11]=f=>t.$emit("vanish"))},{default:X(()=>[ut(Z(c,{"z-index":t.zIndex,"overlay-class":["is-message-box",t.modalClass],mask:t.modal},{default:X(()=>[G("div",{class:"el-overlay-message-box",onClick:e[8]||(e[8]=(...f)=>t.overlayEvent.onClick&&t.overlayEvent.onClick(...f)),onMousedown:e[9]||(e[9]=(...f)=>t.overlayEvent.onMousedown&&t.overlayEvent.onMousedown(...f)),onMouseup:e[10]||(e[10]=(...f)=>t.overlayEvent.onMouseup&&t.overlayEvent.onMouseup(...f))},[ut((E(),V("div",{ref:"rootRef",role:"dialog","aria-label":t.title||"dialog","aria-modal":"true",class:$(["el-message-box",t.customClass,{"el-message-box--center":t.center,"is-draggable":t.draggable}]),style:Ye(t.customStyle),onClick:e[7]||(e[7]=ot(()=>{},["stop"]))},[t.title!==null&&t.title!==void 0?(E(),V("div",ene,[G("div",tne,[t.iconComponent&&t.center?(E(),fe(s,{key:0,class:$(["el-message-box__status",t.typeClass])},{default:X(()=>[(E(),fe(Pt(t.iconComponent)))]),_:1},8,["class"])):ue("v-if",!0),G("span",null,Pe(t.title),1)]),t.showClose?(E(),V("button",{key:0,type:"button",class:"el-message-box__headerbtn","aria-label":"Close",onClick:e[0]||(e[0]=f=>t.handleAction(t.distinguishCancelAndClose?"close":"cancel")),onKeydown:e[1]||(e[1]=Mt(ot(f=>t.handleAction(t.distinguishCancelAndClose?"close":"cancel"),["prevent"]),["enter"]))},[Z(s,{class:"el-message-box__close"},{default:X(()=>[Z(a)]),_:1})],32)):ue("v-if",!0)],512)):ue("v-if",!0),G("div",nne,[G("div",rne,[t.iconComponent&&!t.center&&t.hasMessage?(E(),fe(s,{key:0,class:$(["el-message-box__status",t.typeClass])},{default:X(()=>[(E(),fe(Pt(t.iconComponent)))]),_:1},8,["class"])):ue("v-if",!0),t.hasMessage?(E(),V("div",ine,[Ce(t.$slots,"default",{},()=>[t.dangerouslyUseHTMLString?(E(),V("p",{key:1,innerHTML:t.message},null,8,sne)):(E(),V("p",one,Pe(t.message),1))])])):ue("v-if",!0)]),ut(G("div",ane,[Z(l,{ref:"inputRef",modelValue:t.inputValue,"onUpdate:modelValue":e[2]||(e[2]=f=>t.inputValue=f),type:t.inputType,placeholder:t.inputPlaceholder,class:$({invalid:t.validateError}),onKeydown:Mt(t.handleInputEnter,["enter"])},null,8,["modelValue","type","placeholder","class","onKeydown"]),G("div",{class:"el-message-box__errormsg",style:Ye({visibility:t.editorErrorMessage?"visible":"hidden"})},Pe(t.editorErrorMessage),5)],512),[[Lt,t.showInput]])]),G("div",lne,[t.showCancelButton?(E(),fe(u,{key:0,loading:t.cancelButtonLoading,class:$([t.cancelButtonClass]),round:t.roundButton,size:t.btnSize,onClick:e[3]||(e[3]=f=>t.handleAction("cancel")),onKeydown:e[4]||(e[4]=Mt(ot(f=>t.handleAction("cancel"),["prevent"]),["enter"]))},{default:X(()=>[lt(Pe(t.cancelButtonText||t.t("el.messagebox.cancel")),1)]),_:1},8,["loading","class","round","size"])):ue("v-if",!0),ut(Z(u,{ref:"confirmRef",type:"primary",loading:t.confirmButtonLoading,class:$([t.confirmButtonClasses]),round:t.roundButton,disabled:t.confirmButtonDisabled,size:t.btnSize,onClick:e[5]||(e[5]=f=>t.handleAction("confirm")),onKeydown:e[6]||(e[6]=Mt(ot(f=>t.handleAction("confirm"),["prevent"]),["enter"]))},{default:X(()=>[lt(Pe(t.confirmButtonText||t.t("el.messagebox.confirm")),1)]),_:1},8,["loading","class","round","disabled","size"]),[[Lt,t.showConfirmButton]])])],14,Qte)),[[d]])],32)]),_:3},8,["z-index","overlay-class","mask"]),[[Lt,t.visible]])]),_:3})}var cne=De(Jte,[["render",une],["__file","/home/runner/work/element-plus/element-plus/packages/components/message-box/src/index.vue"]]);const vc=new Map,dne=(t,e,n=null)=>{const r=Xe(cne,t);return r.appContext=n,vl(r,e),document.body.appendChild(e.firstElementChild),r.component},fne=()=>document.createElement("div"),hne=(t,e)=>{const n=fne();t.onVanish=()=>{vl(null,n),vc.delete(i)},t.onAction=o=>{const s=vc.get(i);let a;t.showInput?a={value:i.inputValue,action:o}:a=o,t.callback?t.callback(a,r.proxy):o==="cancel"||o==="close"?t.distinguishCancelAndClose&&o!=="cancel"?s.reject("close"):s.reject("cancel"):s.resolve(a)};const r=dne(t,n,e),i=r.proxy;for(const o in t)Et(t,o)&&!Et(i.$props,o)&&(i[o]=t[o]);return Me(()=>i.message,(o,s)=>{Mn(o)?r.slots.default=()=>[o]:Mn(s)&&!Mn(o)&&delete r.slots.default},{immediate:!0}),i.visible=!0,i};function Kl(t,e=null){if(!Tt)return Promise.reject();let n;return pt(t)||Mn(t)?t={message:t}:n=t.callback,new Promise((r,i)=>{const o=hne(t,e!=null?e:Kl._context);vc.set(o,{options:t,callback:n,resolve:r,reject:i})})}const pne=["alert","confirm","prompt"],mne={alert:{closeOnPressEscape:!1,closeOnClickModal:!1},confirm:{showCancelButton:!0},prompt:{showCancelButton:!0,showInput:!0}};pne.forEach(t=>{Kl[t]=gne(t)});function gne(t){return(e,n,r,i)=>{let o;return kt(n)?(r=n,o=""):Rr(n)?o="":o=n,Kl(Object.assign(Ee({title:o,message:e,type:""},mne[t]),r,{boxType:t}),i)}}Kl.close=()=>{vc.forEach((t,e)=>{e.doClose()}),vc.clear()};Kl._context=null;const Go=Kl;Go.install=t=>{Go._context=t._context,t.config.globalProperties.$msgbox=Go,t.config.globalProperties.$messageBox=Go,t.config.globalProperties.$alert=Go.alert,t.config.globalProperties.$confirm=Go.confirm,t.config.globalProperties.$prompt=Go.prompt};const vne=Go,jE=["success","info","warning","error"],yne=Je({customClass:{type:String,default:""},dangerouslyUseHTMLString:{type:Boolean,default:!1},duration:{type:Number,default:4500},icon:{type:Fe([String,Object]),default:""},id:{type:String,default:""},message:{type:Fe([String,Object]),default:""},offset:{type:Number,default:0},onClick:{type:Fe(Function),default:()=>{}},onClose:{type:Fe(Function),required:!0},position:{type:String,values:["top-right","top-left","bottom-right","bottom-left"],default:"top-right"},showClose:{type:Boolean,default:!0},title:{type:String,default:""},type:{type:String,values:[...jE,""],default:""},zIndex:{type:Number,default:0}}),bne={destroy:()=>!0},wne=pe({name:"ElNotification",components:Ee({ElIcon:st},kh),props:yne,emits:bne,setup(t){const e=$e("notification"),n=F(!1);let r;const i=k(()=>{const h=t.type;return h&&wo[t.type]?e.m(h):""}),o=k(()=>wo[t.type]||t.icon||""),s=k(()=>t.position.endsWith("right")?"right":"left"),a=k(()=>t.position.startsWith("top")?"top":"bottom"),l=k(()=>({[a.value]:`${t.offset}px`,zIndex:t.zIndex}));function u(){t.duration>0&&({stop:r}=ra(()=>{n.value&&d()},t.duration))}function c(){r==null||r()}function d(){n.value=!1}function f({code:h}){h===qe.delete||h===qe.backspace?c():h===qe.esc?n.value&&d():u()}return ft(()=>{u(),n.value=!0}),xn(document,"keydown",f),{ns:e,horizontalClass:s,typeClass:i,iconComponent:o,positionStyle:l,visible:n,close:d,clearTimer:c,startTimer:u}}}),_ne=["id"],Sne=["textContent"],Cne={key:0},Mne=["innerHTML"];function xne(t,e,n,r,i,o){const s=ve("el-icon"),a=ve("close");return E(),fe(En,{name:t.ns.b("fade"),onBeforeLeave:t.onClose,onAfterLeave:e[3]||(e[3]=l=>t.$emit("destroy"))},{default:X(()=>[ut(G("div",{id:t.id,class:$([t.ns.b(),t.customClass,t.horizontalClass]),style:Ye(t.positionStyle),role:"alert",onMouseenter:e[0]||(e[0]=(...l)=>t.clearTimer&&t.clearTimer(...l)),onMouseleave:e[1]||(e[1]=(...l)=>t.startTimer&&t.startTimer(...l)),onClick:e[2]||(e[2]=(...l)=>t.onClick&&t.onClick(...l))},[t.iconComponent?(E(),fe(s,{key:0,class:$([t.ns.e("icon"),t.typeClass])},{default:X(()=>[(E(),fe(Pt(t.iconComponent)))]),_:1},8,["class"])):ue("v-if",!0),G("div",{class:$(t.ns.e("group"))},[G("h2",{class:$(t.ns.e("title")),textContent:Pe(t.title)},null,10,Sne),ut(G("div",{class:$(t.ns.e("content")),style:Ye(t.title?void 0:{margin:0})},[Ce(t.$slots,"default",{},()=>[t.dangerouslyUseHTMLString?(E(),V(Ze,{key:1},[ue(" Caution here, message could've been compromized, nerver use user's input as message "),ue(" eslint-disable-next-line "),G("p",{innerHTML:t.message},null,8,Mne)],2112)):(E(),V("p",Cne,Pe(t.message),1))])],6),[[Lt,t.message]]),t.showClose?(E(),fe(s,{key:0,class:$(t.ns.e("closeBtn")),onClick:ot(t.close,["stop"])},{default:X(()=>[Z(a)]),_:1},8,["class","onClick"])):ue("v-if",!0)],2)],46,_ne),[[Lt,t.visible]])]),_:3},8,["name","onBeforeLeave"])}var Ene=De(wne,[["render",xne],["__file","/home/runner/work/element-plus/element-plus/packages/components/notification/src/notification.vue"]]);const th={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]},Gg=16;let Tne=1;const Pl=function(t={},e=null){if(!Tt)return{close:()=>{}};(typeof t=="string"||Mn(t))&&(t={message:t});const n=t.position||"top-right";let r=t.offset||0;th[n].forEach(({vm:d})=>{var f;r+=(((f=d.el)==null?void 0:f.offsetHeight)||0)+Gg}),r+=Gg;const{nextZIndex:i}=To(),o=`notification_${Tne++}`,s=t.onClose,a=Ue(Ee({zIndex:i(),offset:r},t),{id:o,onClose:()=>{Ane(o,n,s)}});let l=document.body;ia(t.appendTo)?l=t.appendTo:pt(t.appendTo)&&(l=document.querySelector(t.appendTo)),ia(l)||(l=document.body);const u=document.createElement("div"),c=Z(Ene,a,Mn(a.message)?{default:()=>a.message}:null);return c.appContext=e!=null?e:Pl._context,c.props.onDestroy=()=>{vl(null,u)},vl(c,u),th[n].push({vm:c}),l.appendChild(u.firstElementChild),{close:()=>{c.component.proxy.visible=!1}}};jE.forEach(t=>{Pl[t]=(e={})=>((typeof e=="string"||Mn(e))&&(e={message:e}),Pl(Ue(Ee({},e),{type:t})))});function Ane(t,e,n){const r=th[e],i=r.findIndex(({vm:u})=>{var c;return((c=u.component)==null?void 0:c.props.id)===t});if(i===-1)return;const{vm:o}=r[i];if(!o)return;n==null||n(o);const s=o.el.offsetHeight,a=e.split("-")[0];r.splice(i,1);const l=r.length;if(!(l<1))for(let u=i;u<l;u++){const{el:c,component:d}=r[u].vm,f=Number.parseInt(c.style[a],10)-s-Gg;d.props.offset=f}}function kne(){for(const t of Object.values(th))t.forEach(({vm:e})=>{e.component.proxy.visible=!1})}Pl.closeAll=kne;Pl._context=null;const Pne=DM(Pl,"$notify");var Lne=[$te,zte,Zte,vne,Pne,IY],Rne=p5([...Ate,...Lne]);/**
 * @license
 * Copyright 2010-2022 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const W0="139",jp={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Ine=0,Iw=1,Dne=2,KE=1,$ne=2,Tu=3,yc=0,Si=1,So=2,qE=1,Qo=0,dl=1,jg=2,Dw=3,$w=4,Nne=5,Xa=100,One=101,Fne=102,Nw=103,Ow=104,Bne=200,zne=201,Vne=202,Hne=203,YE=204,XE=205,Une=206,Wne=207,Gne=208,jne=209,Kne=210,qne=0,Yne=1,Xne=2,Kg=3,Zne=4,Jne=5,Qne=6,ere=7,Vh=0,tre=1,nre=2,po=0,rre=1,ire=2,ore=3,sre=4,are=5,ZE=300,Ll=301,Rl=302,qg=303,Yg=304,Hh=306,Xg=1e3,yi=1001,Zg=1002,Fn=1003,Fw=1004,Bw=1005,Yn=1006,lre=1007,Uh=1008,sa=1009,ure=1010,cre=1011,bc=1012,dre=1013,Ef=1014,Hs=1015,fl=1016,fre=1017,hre=1018,hl=1020,pre=1021,mre=1022,$r=1023,gre=1024,vre=1025,Js=1026,Il=1027,G0=1028,yre=1029,bre=1030,wre=1031,_re=1033,Kp=33776,qp=33777,Yp=33778,Xp=33779,zw=35840,Vw=35841,Hw=35842,Uw=35843,Sre=36196,Ww=37492,Gw=37496,jw=37808,Kw=37809,qw=37810,Yw=37811,Xw=37812,Zw=37813,Jw=37814,Qw=37815,e_=37816,t_=37817,n_=37818,r_=37819,i_=37820,o_=37821,s_=36492,Cre=2200,Mre=2201,xre=2202,nh=2300,rh=2301,Zp=2302,Qa=2400,el=2401,ih=2402,j0=2500,JE=2501,Ere=0,Co=3e3,yn=3001,Tre=3200,Are=3201,ql=0,kre=1,so="srgb",Us="srgb-linear",Jp=7680,Pre=519,wc=35044,oh=35048,a_="300 es",Jg=1035;class ds{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const o=i.indexOf(n);o!==-1&&i.splice(o,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let o=0,s=i.length;o<s;o++)i[o].call(this,e);e.target=null}}}const jn=[];for(let t=0;t<256;t++)jn[t]=(t<16?"0":"")+t.toString(16);let l_=1234567;const Wu=Math.PI/180,_c=180/Math.PI;function Ci(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(jn[t&255]+jn[t>>8&255]+jn[t>>16&255]+jn[t>>24&255]+"-"+jn[e&255]+jn[e>>8&255]+"-"+jn[e>>16&15|64]+jn[e>>24&255]+"-"+jn[n&63|128]+jn[n>>8&255]+"-"+jn[n>>16&255]+jn[n>>24&255]+jn[r&255]+jn[r>>8&255]+jn[r>>16&255]+jn[r>>24&255]).toLowerCase()}function Xn(t,e,n){return Math.max(e,Math.min(n,t))}function K0(t,e){return(t%e+e)%e}function Lre(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function Rre(t,e,n){return t!==e?(n-t)/(e-t):0}function Gu(t,e,n){return(1-n)*t+n*e}function Ire(t,e,n,r){return Gu(t,e,1-Math.exp(-n*r))}function Dre(t,e=1){return e-Math.abs(K0(t,e*2)-e)}function $re(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function Nre(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function Ore(t,e){return t+Math.floor(Math.random()*(e-t+1))}function Fre(t,e){return t+Math.random()*(e-t)}function Bre(t){return t*(.5-Math.random())}function zre(t){t!==void 0&&(l_=t);let e=l_+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function Vre(t){return t*Wu}function Hre(t){return t*_c}function Qg(t){return(t&t-1)===0&&t!==0}function Ure(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function sh(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function Wre(t,e,n,r,i){const o=Math.cos,s=Math.sin,a=o(n/2),l=s(n/2),u=o((e+r)/2),c=s((e+r)/2),d=o((e-r)/2),f=s((e-r)/2),h=o((r-e)/2),m=s((r-e)/2);switch(i){case"XYX":t.set(a*c,l*d,l*f,a*u);break;case"YZY":t.set(l*f,a*c,l*d,a*u);break;case"ZXZ":t.set(l*d,l*f,a*c,a*u);break;case"XZX":t.set(a*c,l*m,l*h,a*u);break;case"YXY":t.set(l*h,a*c,l*m,a*u);break;case"ZYZ":t.set(l*m,l*h,a*c,a*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function Gre(t,e){switch(e.constructor){case Float32Array:return t;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function jre(t,e){switch(e.constructor){case Float32Array:return t;case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}var Kre=Object.freeze({__proto__:null,DEG2RAD:Wu,RAD2DEG:_c,generateUUID:Ci,clamp:Xn,euclideanModulo:K0,mapLinear:Lre,inverseLerp:Rre,lerp:Gu,damp:Ire,pingpong:Dre,smoothstep:$re,smootherstep:Nre,randInt:Ore,randFloat:Fre,randFloatSpread:Bre,seededRandom:zre,degToRad:Vre,radToDeg:Hre,isPowerOfTwo:Qg,ceilPowerOfTwo:Ure,floorPowerOfTwo:sh,setQuaternionFromProperEuler:Wre,normalize:jre,denormalize:Gre});class Ge{constructor(e=0,n=0){this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e,n){return n!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,n)):(this.x+=e.x,this.y+=e.y,this)}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e,n){return n!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,n)):(this.x-=e.x,this.y-=e.y,this)}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n,r){return r!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),o=this.x-e.x,s=this.y-e.y;return this.x=o*r-s*i+e.x,this.y=o*i+s*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}Ge.prototype.isVector2=!0;class Jn{constructor(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(e,n,r,i,o,s,a,l,u){const c=this.elements;return c[0]=e,c[1]=i,c[2]=a,c[3]=n,c[4]=o,c[5]=l,c[6]=r,c[7]=s,c[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,o=this.elements,s=r[0],a=r[3],l=r[6],u=r[1],c=r[4],d=r[7],f=r[2],h=r[5],m=r[8],g=i[0],p=i[3],v=i[6],y=i[1],w=i[4],_=i[7],b=i[2],S=i[5],M=i[8];return o[0]=s*g+a*y+l*b,o[3]=s*p+a*w+l*S,o[6]=s*v+a*_+l*M,o[1]=u*g+c*y+d*b,o[4]=u*p+c*w+d*S,o[7]=u*v+c*_+d*M,o[2]=f*g+h*y+m*b,o[5]=f*p+h*w+m*S,o[8]=f*v+h*_+m*M,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=e[6],u=e[7],c=e[8];return n*s*c-n*a*u-r*o*c+r*a*l+i*o*u-i*s*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=e[6],u=e[7],c=e[8],d=c*s-a*u,f=a*l-c*o,h=u*o-s*l,m=n*d+r*f+i*h;if(m===0)return this.set(0,0,0,0,0,0,0,0,0);const g=1/m;return e[0]=d*g,e[1]=(i*u-c*r)*g,e[2]=(a*r-i*s)*g,e[3]=f*g,e[4]=(c*n-i*l)*g,e[5]=(i*o-a*n)*g,e[6]=h*g,e[7]=(r*l-u*n)*g,e[8]=(s*n-r*o)*g,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,o,s,a){const l=Math.cos(o),u=Math.sin(o);return this.set(r*l,r*u,-r*(l*s+u*a)+s+e,-i*u,i*l,-i*(-u*s+l*a)+a+n,0,0,1),this}scale(e,n){const r=this.elements;return r[0]*=e,r[3]*=e,r[6]*=e,r[1]*=n,r[4]*=n,r[7]*=n,this}rotate(e){const n=Math.cos(e),r=Math.sin(e),i=this.elements,o=i[0],s=i[3],a=i[6],l=i[1],u=i[4],c=i[7];return i[0]=n*o+r*l,i[3]=n*s+r*u,i[6]=n*a+r*c,i[1]=-r*o+n*l,i[4]=-r*s+n*u,i[7]=-r*a+n*c,this}translate(e,n){const r=this.elements;return r[0]+=e*r[2],r[3]+=e*r[5],r[6]+=e*r[8],r[1]+=n*r[2],r[4]+=n*r[5],r[7]+=n*r[8],this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}Jn.prototype.isMatrix3=!0;function QE(t){for(let e=t.length-1;e>=0;--e)if(t[e]>65535)return!0;return!1}function Sc(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function Qs(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function Tf(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}const Qp={[so]:{[Us]:Qs},[Us]:{[so]:Tf}},fi={legacyMode:!0,get workingColorSpace(){return Us},set workingColorSpace(t){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(t,e,n){if(this.legacyMode||e===n||!e||!n)return t;if(Qp[e]&&Qp[e][n]!==void 0){const r=Qp[e][n];return t.r=r(t.r),t.g=r(t.g),t.b=r(t.b),t}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(t,e){return this.convert(t,this.workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this.workingColorSpace)}},eT={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},On={r:0,g:0,b:0},hi={h:0,s:0,l:0},ud={h:0,s:0,l:0};function em(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}function cd(t,e){return e.r=t.r,e.g=t.g,e.b=t.b,e}class ht{constructor(e,n,r){return n===void 0&&r===void 0?this.set(e):this.setRGB(e,n,r)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=so){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,fi.toWorkingColorSpace(this,n),this}setRGB(e,n,r,i=Us){return this.r=e,this.g=n,this.b=r,fi.toWorkingColorSpace(this,i),this}setHSL(e,n,r,i=Us){if(e=K0(e,1),n=Xn(n,0,1),r=Xn(r,0,1),n===0)this.r=this.g=this.b=r;else{const o=r<=.5?r*(1+n):r+n-r*n,s=2*r-o;this.r=em(s,o,e+1/3),this.g=em(s,o,e),this.b=em(s,o,e-1/3)}return fi.toWorkingColorSpace(this,i),this}setStyle(e,n=so){function r(o){o!==void 0&&parseFloat(o)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let o;const s=i[1],a=i[2];switch(s){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(o[1],10))/255,this.g=Math.min(255,parseInt(o[2],10))/255,this.b=Math.min(255,parseInt(o[3],10))/255,fi.toWorkingColorSpace(this,n),r(o[4]),this;if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(o[1],10))/100,this.g=Math.min(100,parseInt(o[2],10))/100,this.b=Math.min(100,parseInt(o[3],10))/100,fi.toWorkingColorSpace(this,n),r(o[4]),this;break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){const l=parseFloat(o[1])/360,u=parseInt(o[2],10)/100,c=parseInt(o[3],10)/100;return r(o[4]),this.setHSL(l,u,c,n)}break}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const o=i[1],s=o.length;if(s===3)return this.r=parseInt(o.charAt(0)+o.charAt(0),16)/255,this.g=parseInt(o.charAt(1)+o.charAt(1),16)/255,this.b=parseInt(o.charAt(2)+o.charAt(2),16)/255,fi.toWorkingColorSpace(this,n),this;if(s===6)return this.r=parseInt(o.charAt(0)+o.charAt(1),16)/255,this.g=parseInt(o.charAt(2)+o.charAt(3),16)/255,this.b=parseInt(o.charAt(4)+o.charAt(5),16)/255,fi.toWorkingColorSpace(this,n),this}return e&&e.length>0?this.setColorName(e,n):this}setColorName(e,n=so){const r=eT[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Qs(e.r),this.g=Qs(e.g),this.b=Qs(e.b),this}copyLinearToSRGB(e){return this.r=Tf(e.r),this.g=Tf(e.g),this.b=Tf(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=so){return fi.fromWorkingColorSpace(cd(this,On),e),Xn(On.r*255,0,255)<<16^Xn(On.g*255,0,255)<<8^Xn(On.b*255,0,255)<<0}getHexString(e=so){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=Us){fi.fromWorkingColorSpace(cd(this,On),n);const r=On.r,i=On.g,o=On.b,s=Math.max(r,i,o),a=Math.min(r,i,o);let l,u;const c=(a+s)/2;if(a===s)l=0,u=0;else{const d=s-a;switch(u=c<=.5?d/(s+a):d/(2-s-a),s){case r:l=(i-o)/d+(i<o?6:0);break;case i:l=(o-r)/d+2;break;case o:l=(r-i)/d+4;break}l/=6}return e.h=l,e.s=u,e.l=c,e}getRGB(e,n=Us){return fi.fromWorkingColorSpace(cd(this,On),n),e.r=On.r,e.g=On.g,e.b=On.b,e}getStyle(e=so){return fi.fromWorkingColorSpace(cd(this,On),e),e!==so?`color(${e} ${On.r} ${On.g} ${On.b})`:`rgb(${On.r*255|0},${On.g*255|0},${On.b*255|0})`}offsetHSL(e,n,r){return this.getHSL(hi),hi.h+=e,hi.s+=n,hi.l+=r,this.setHSL(hi.h,hi.s,hi.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(hi),e.getHSL(ud);const r=Gu(hi.h,ud.h,n),i=Gu(hi.s,ud.s,n),o=Gu(hi.l,ud.l,n);return this.setHSL(r,i,o),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),e.normalized===!0&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}}ht.NAMES=eT;ht.prototype.isColor=!0;ht.prototype.r=1;ht.prototype.g=1;ht.prototype.b=1;let Ta;class ga{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement=="undefined")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{Ta===void 0&&(Ta=Sc("canvas")),Ta.width=e.width,Ta.height=e.height;const r=Ta.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=Ta}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement!="undefined"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&e instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&e instanceof ImageBitmap){const n=Sc("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),o=i.data;for(let s=0;s<o.length;s++)o[s]=Qs(o[s]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(Qs(n[r]/255)*255):n[r]=Qs(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class tT{constructor(e=null){this.uuid=Ci(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let o;if(Array.isArray(i)){o=[];for(let s=0,a=i.length;s<a;s++)i[s].isDataTexture?o.push(tm(i[s].image)):o.push(tm(i[s]))}else o=tm(i);r.url=o}return n||(e.images[this.uuid]=r),r}}function tm(t){return typeof HTMLImageElement!="undefined"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&t instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&t instanceof ImageBitmap?ga.getDataURL(t):t.data?{data:Array.prototype.slice.call(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}tT.prototype.isSource=!0;let qre=0;class Rn extends ds{constructor(e=Rn.DEFAULT_IMAGE,n=Rn.DEFAULT_MAPPING,r=yi,i=yi,o=Yn,s=Uh,a=$r,l=sa,u=1,c=Co){super();Object.defineProperty(this,"id",{value:qre++}),this.uuid=Ci(),this.name="",this.source=new tT(e),this.mipmaps=[],this.mapping=n,this.wrapS=r,this.wrapT=i,this.magFilter=o,this.minFilter=s,this.anisotropy=u,this.format=a,this.internalFormat=null,this.type=l,this.offset=new Ge(0,0),this.repeat=new Ge(1,1),this.center=new Ge(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Jn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=c,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==ZE)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Xg:e.x=e.x-Math.floor(e.x);break;case yi:e.x=e.x<0?0:1;break;case Zg:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Xg:e.y=e.y-Math.floor(e.y);break;case yi:e.y=e.y<0?0:1;break;case Zg:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}Rn.DEFAULT_IMAGE=null;Rn.DEFAULT_MAPPING=ZE;Rn.prototype.isTexture=!0;class nn{constructor(e=0,n=0,r=0,i=1){this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e,n){return n!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,n)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e,n){return n!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,n)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,o=this.w,s=e.elements;return this.x=s[0]*n+s[4]*r+s[8]*i+s[12]*o,this.y=s[1]*n+s[5]*r+s[9]*i+s[13]*o,this.z=s[2]*n+s[6]*r+s[10]*i+s[14]*o,this.w=s[3]*n+s[7]*r+s[11]*i+s[15]*o,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,o;const l=e.elements,u=l[0],c=l[4],d=l[8],f=l[1],h=l[5],m=l[9],g=l[2],p=l[6],v=l[10];if(Math.abs(c-f)<.01&&Math.abs(d-g)<.01&&Math.abs(m-p)<.01){if(Math.abs(c+f)<.1&&Math.abs(d+g)<.1&&Math.abs(m+p)<.1&&Math.abs(u+h+v-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const w=(u+1)/2,_=(h+1)/2,b=(v+1)/2,S=(c+f)/4,M=(d+g)/4,T=(m+p)/4;return w>_&&w>b?w<.01?(r=0,i=.707106781,o=.707106781):(r=Math.sqrt(w),i=S/r,o=M/r):_>b?_<.01?(r=.707106781,i=0,o=.707106781):(i=Math.sqrt(_),r=S/i,o=T/i):b<.01?(r=.707106781,i=.707106781,o=0):(o=Math.sqrt(b),r=M/o,i=T/o),this.set(r,i,o,n),this}let y=Math.sqrt((p-m)*(p-m)+(d-g)*(d-g)+(f-c)*(f-c));return Math.abs(y)<.001&&(y=1),this.x=(p-m)/y,this.y=(d-g)/y,this.z=(f-c)/y,this.w=Math.acos((u+h+v-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n,r){return r!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}nn.prototype.isVector4=!0;class Br extends ds{constructor(e,n,r={}){super();this.width=e,this.height=n,this.depth=1,this.scissor=new nn(0,0,e,n),this.scissorTest=!1,this.viewport=new nn(0,0,e,n);const i={width:e,height:n,depth:1};this.texture=new Rn(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.internalFormat=r.internalFormat!==void 0?r.internalFormat:null,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:Yn,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null,this.samples=r.samples!==void 0?r.samples:0}setSize(e,n,r=1){(this.width!==e||this.height!==n||this.depth!==r)&&(this.width=e,this.height=n,this.depth=r,this.texture.image.width=e,this.texture.image.height=n,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0,this.texture.image=Object.assign({},e.texture.image),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}Br.prototype.isWebGLRenderTarget=!0;class Wh extends Rn{constructor(e=null,n=1,r=1,i=1){super(null);this.image={data:e,width:n,height:r,depth:i},this.magFilter=Fn,this.minFilter=Fn,this.wrapR=yi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}Wh.prototype.isDataArrayTexture=!0;class Yre extends Br{constructor(e,n,r){super(e,n);this.depth=r,this.texture=new Wh(null,e,n,r),this.texture.isRenderTargetTexture=!0}}Yre.prototype.isWebGLArrayRenderTarget=!0;class Gh extends Rn{constructor(e=null,n=1,r=1,i=1){super(null);this.image={data:e,width:n,height:r,depth:i},this.magFilter=Fn,this.minFilter=Fn,this.wrapR=yi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}Gh.prototype.isData3DTexture=!0;class Xre extends Br{constructor(e,n,r){super(e,n);this.depth=r,this.texture=new Gh(null,e,n,r),this.texture.isRenderTargetTexture=!0}}Xre.prototype.isWebGL3DRenderTarget=!0;class Zre extends Br{constructor(e,n,r,i={}){super(e,n,i);const o=this.texture;this.texture=[];for(let s=0;s<r;s++)this.texture[s]=o.clone(),this.texture[s].isRenderTargetTexture=!0}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,o=this.texture.length;i<o;i++)this.texture[i].image.width=e,this.texture[i].image.height=n,this.texture[i].image.depth=r;this.dispose()}return this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this.texture.length=0;for(let n=0,r=e.texture.length;n<r;n++)this.texture[n]=e.texture[n].clone();return this}}Zre.prototype.isWebGLMultipleRenderTargets=!0;class gn{constructor(e=0,n=0,r=0,i=1){this._x=e,this._y=n,this._z=r,this._w=i}static slerp(e,n,r,i){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),r.slerpQuaternions(e,n,i)}static slerpFlat(e,n,r,i,o,s,a){let l=r[i+0],u=r[i+1],c=r[i+2],d=r[i+3];const f=o[s+0],h=o[s+1],m=o[s+2],g=o[s+3];if(a===0){e[n+0]=l,e[n+1]=u,e[n+2]=c,e[n+3]=d;return}if(a===1){e[n+0]=f,e[n+1]=h,e[n+2]=m,e[n+3]=g;return}if(d!==g||l!==f||u!==h||c!==m){let p=1-a;const v=l*f+u*h+c*m+d*g,y=v>=0?1:-1,w=1-v*v;if(w>Number.EPSILON){const b=Math.sqrt(w),S=Math.atan2(b,v*y);p=Math.sin(p*S)/b,a=Math.sin(a*S)/b}const _=a*y;if(l=l*p+f*_,u=u*p+h*_,c=c*p+m*_,d=d*p+g*_,p===1-a){const b=1/Math.sqrt(l*l+u*u+c*c+d*d);l*=b,u*=b,c*=b,d*=b}}e[n]=l,e[n+1]=u,e[n+2]=c,e[n+3]=d}static multiplyQuaternionsFlat(e,n,r,i,o,s){const a=r[i],l=r[i+1],u=r[i+2],c=r[i+3],d=o[s],f=o[s+1],h=o[s+2],m=o[s+3];return e[n]=a*m+c*d+l*h-u*f,e[n+1]=l*m+c*f+u*d-a*h,e[n+2]=u*m+c*h+a*f-l*d,e[n+3]=c*m-a*d-l*f-u*h,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n){if(!(e&&e.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const r=e._x,i=e._y,o=e._z,s=e._order,a=Math.cos,l=Math.sin,u=a(r/2),c=a(i/2),d=a(o/2),f=l(r/2),h=l(i/2),m=l(o/2);switch(s){case"XYZ":this._x=f*c*d+u*h*m,this._y=u*h*d-f*c*m,this._z=u*c*m+f*h*d,this._w=u*c*d-f*h*m;break;case"YXZ":this._x=f*c*d+u*h*m,this._y=u*h*d-f*c*m,this._z=u*c*m-f*h*d,this._w=u*c*d+f*h*m;break;case"ZXY":this._x=f*c*d-u*h*m,this._y=u*h*d+f*c*m,this._z=u*c*m+f*h*d,this._w=u*c*d-f*h*m;break;case"ZYX":this._x=f*c*d-u*h*m,this._y=u*h*d+f*c*m,this._z=u*c*m-f*h*d,this._w=u*c*d+f*h*m;break;case"YZX":this._x=f*c*d+u*h*m,this._y=u*h*d+f*c*m,this._z=u*c*m-f*h*d,this._w=u*c*d-f*h*m;break;case"XZY":this._x=f*c*d-u*h*m,this._y=u*h*d-f*c*m,this._z=u*c*m+f*h*d,this._w=u*c*d+f*h*m;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return n!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],o=n[8],s=n[1],a=n[5],l=n[9],u=n[2],c=n[6],d=n[10],f=r+a+d;if(f>0){const h=.5/Math.sqrt(f+1);this._w=.25/h,this._x=(c-l)*h,this._y=(o-u)*h,this._z=(s-i)*h}else if(r>a&&r>d){const h=2*Math.sqrt(1+r-a-d);this._w=(c-l)/h,this._x=.25*h,this._y=(i+s)/h,this._z=(o+u)/h}else if(a>d){const h=2*Math.sqrt(1+a-r-d);this._w=(o-u)/h,this._x=(i+s)/h,this._y=.25*h,this._z=(l+c)/h}else{const h=2*Math.sqrt(1+d-r-a);this._w=(s-i)/h,this._x=(o+u)/h,this._y=(l+c)/h,this._z=.25*h}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Xn(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e,n){return n!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,n)):this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,o=e._z,s=e._w,a=n._x,l=n._y,u=n._z,c=n._w;return this._x=r*c+s*a+i*u-o*l,this._y=i*c+s*l+o*a-r*u,this._z=o*c+s*u+r*l-i*a,this._w=s*c-r*a-i*l-o*u,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,o=this._z,s=this._w;let a=s*e._w+r*e._x+i*e._y+o*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=s,this._x=r,this._y=i,this._z=o,this;const l=1-a*a;if(l<=Number.EPSILON){const h=1-n;return this._w=h*s+n*this._w,this._x=h*r+n*this._x,this._y=h*i+n*this._y,this._z=h*o+n*this._z,this.normalize(),this._onChangeCallback(),this}const u=Math.sqrt(l),c=Math.atan2(u,a),d=Math.sin((1-n)*c)/u,f=Math.sin(n*c)/u;return this._w=s*d+this._w*f,this._x=r*d+this._x*f,this._y=i*d+this._y*f,this._z=o*d+this._z*f,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=Math.random(),n=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),o=2*Math.PI*Math.random();return this.set(n*Math.cos(i),r*Math.sin(o),r*Math.cos(o),n*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}}gn.prototype.isQuaternion=!0;class ne{constructor(e=0,n=0,r=0){this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e,n){return n!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,n)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e,n){return n!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,n)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e,n){return n!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,n)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(u_.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(u_.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*n+o[3]*r+o[6]*i,this.y=o[1]*n+o[4]*r+o[7]*i,this.z=o[2]*n+o[5]*r+o[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,o=e.elements,s=1/(o[3]*n+o[7]*r+o[11]*i+o[15]);return this.x=(o[0]*n+o[4]*r+o[8]*i+o[12])*s,this.y=(o[1]*n+o[5]*r+o[9]*i+o[13])*s,this.z=(o[2]*n+o[6]*r+o[10]*i+o[14])*s,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,o=e.x,s=e.y,a=e.z,l=e.w,u=l*n+s*i-a*r,c=l*r+a*n-o*i,d=l*i+o*r-s*n,f=-o*n-s*r-a*i;return this.x=u*l+f*-o+c*-a-d*-s,this.y=c*l+f*-s+d*-o-u*-a,this.z=d*l+f*-a+u*-s-c*-o,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*i,this.y=o[1]*n+o[5]*r+o[9]*i,this.z=o[2]*n+o[6]*r+o[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e,n){return n!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,n)):this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,o=e.z,s=n.x,a=n.y,l=n.z;return this.x=i*l-o*a,this.y=o*s-r*l,this.z=r*a-i*s,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return nm.copy(this).projectOnVector(e),this.sub(nm)}reflect(e){return this.sub(nm.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Xn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n,r){return r!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,n=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(n),this.y=r*Math.sin(n),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}ne.prototype.isVector3=!0;const nm=new ne,u_=new gn;class li{constructor(e=new ne(1/0,1/0,1/0),n=new ne(-1/0,-1/0,-1/0)){this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){let n=1/0,r=1/0,i=1/0,o=-1/0,s=-1/0,a=-1/0;for(let l=0,u=e.length;l<u;l+=3){const c=e[l],d=e[l+1],f=e[l+2];c<n&&(n=c),d<r&&(r=d),f<i&&(i=f),c>o&&(o=c),d>s&&(s=d),f>a&&(a=f)}return this.min.set(n,r,i),this.max.set(o,s,a),this}setFromBufferAttribute(e){let n=1/0,r=1/0,i=1/0,o=-1/0,s=-1/0,a=-1/0;for(let l=0,u=e.count;l<u;l++){const c=e.getX(l),d=e.getY(l),f=e.getZ(l);c<n&&(n=c),d<r&&(r=d),f<i&&(i=f),c>o&&(o=c),d>s&&(s=d),f>a&&(a=f)}return this.min.set(n,r,i),this.max.set(o,s,a),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=_s.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0)if(n&&r.attributes!=null&&r.attributes.position!==void 0){const o=r.attributes.position;for(let s=0,a=o.count;s<a;s++)_s.fromBufferAttribute(o,s).applyMatrix4(e.matrixWorld),this.expandByPoint(_s)}else r.boundingBox===null&&r.computeBoundingBox(),rm.copy(r.boundingBox),rm.applyMatrix4(e.matrixWorld),this.union(rm);const i=e.children;for(let o=0,s=i.length;o<s;o++)this.expandByObject(i[o],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,_s),_s.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(fu),dd.subVectors(this.max,fu),Aa.subVectors(e.a,fu),ka.subVectors(e.b,fu),Pa.subVectors(e.c,fu),Do.subVectors(ka,Aa),$o.subVectors(Pa,ka),Ss.subVectors(Aa,Pa);let n=[0,-Do.z,Do.y,0,-$o.z,$o.y,0,-Ss.z,Ss.y,Do.z,0,-Do.x,$o.z,0,-$o.x,Ss.z,0,-Ss.x,-Do.y,Do.x,0,-$o.y,$o.x,0,-Ss.y,Ss.x,0];return!im(n,Aa,ka,Pa,dd)||(n=[1,0,0,0,1,0,0,0,1],!im(n,Aa,ka,Pa,dd))?!1:(fd.crossVectors(Do,$o),n=[fd.x,fd.y,fd.z],im(n,Aa,ka,Pa,dd))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return _s.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(_s).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Qi[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Qi[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Qi[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Qi[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Qi[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Qi[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Qi[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Qi[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Qi),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}li.prototype.isBox3=!0;const Qi=[new ne,new ne,new ne,new ne,new ne,new ne,new ne,new ne],_s=new ne,rm=new li,Aa=new ne,ka=new ne,Pa=new ne,Do=new ne,$o=new ne,Ss=new ne,fu=new ne,dd=new ne,fd=new ne,Cs=new ne;function im(t,e,n,r,i){for(let o=0,s=t.length-3;o<=s;o+=3){Cs.fromArray(t,o);const a=i.x*Math.abs(Cs.x)+i.y*Math.abs(Cs.y)+i.z*Math.abs(Cs.z),l=e.dot(Cs),u=n.dot(Cs),c=r.dot(Cs);if(Math.max(-Math.max(l,u,c),Math.min(l,u,c))>a)return!1}return!0}const Jre=new li,c_=new ne,hd=new ne,om=new ne;class Yl{constructor(e=new ne,n=-1){this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):Jre.setFromPoints(e).getCenter(r);let i=0;for(let o=0,s=e.length;o<s;o++)i=Math.max(i,r.distanceToSquared(e[o]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){om.subVectors(e,this.center);const n=om.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.add(om.multiplyScalar(i/r)),this.radius+=i}return this}union(e){return this.center.equals(e.center)===!0?hd.set(0,0,1).multiplyScalar(e.radius):hd.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(c_.copy(e.center).add(hd)),this.expandByPoint(c_.copy(e.center).sub(hd)),this}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const eo=new ne,sm=new ne,pd=new ne,No=new ne,am=new ne,md=new ne,lm=new ne;class va{constructor(e=new ne,n=new ne(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,eo)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.direction).multiplyScalar(r).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=eo.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(eo.copy(this.direction).multiplyScalar(n).add(this.origin),eo.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){sm.copy(e).add(n).multiplyScalar(.5),pd.copy(n).sub(e).normalize(),No.copy(this.origin).sub(sm);const o=e.distanceTo(n)*.5,s=-this.direction.dot(pd),a=No.dot(this.direction),l=-No.dot(pd),u=No.lengthSq(),c=Math.abs(1-s*s);let d,f,h,m;if(c>0)if(d=s*l-a,f=s*a-l,m=o*c,d>=0)if(f>=-m)if(f<=m){const g=1/c;d*=g,f*=g,h=d*(d+s*f+2*a)+f*(s*d+f+2*l)+u}else f=o,d=Math.max(0,-(s*f+a)),h=-d*d+f*(f+2*l)+u;else f=-o,d=Math.max(0,-(s*f+a)),h=-d*d+f*(f+2*l)+u;else f<=-m?(d=Math.max(0,-(-s*o+a)),f=d>0?-o:Math.min(Math.max(-o,-l),o),h=-d*d+f*(f+2*l)+u):f<=m?(d=0,f=Math.min(Math.max(-o,-l),o),h=f*(f+2*l)+u):(d=Math.max(0,-(s*o+a)),f=d>0?o:Math.min(Math.max(-o,-l),o),h=-d*d+f*(f+2*l)+u);else f=s>0?-o:o,d=Math.max(0,-(s*f+a)),h=-d*d+f*(f+2*l)+u;return r&&r.copy(this.direction).multiplyScalar(d).add(this.origin),i&&i.copy(pd).multiplyScalar(f).add(sm),h}intersectSphere(e,n){eo.subVectors(e.center,this.origin);const r=eo.dot(this.direction),i=eo.dot(eo)-r*r,o=e.radius*e.radius;if(i>o)return null;const s=Math.sqrt(o-i),a=r-s,l=r+s;return a<0&&l<0?null:a<0?this.at(l,n):this.at(a,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,o,s,a,l;const u=1/this.direction.x,c=1/this.direction.y,d=1/this.direction.z,f=this.origin;return u>=0?(r=(e.min.x-f.x)*u,i=(e.max.x-f.x)*u):(r=(e.max.x-f.x)*u,i=(e.min.x-f.x)*u),c>=0?(o=(e.min.y-f.y)*c,s=(e.max.y-f.y)*c):(o=(e.max.y-f.y)*c,s=(e.min.y-f.y)*c),r>s||o>i||((o>r||r!==r)&&(r=o),(s<i||i!==i)&&(i=s),d>=0?(a=(e.min.z-f.z)*d,l=(e.max.z-f.z)*d):(a=(e.max.z-f.z)*d,l=(e.min.z-f.z)*d),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,eo)!==null}intersectTriangle(e,n,r,i,o){am.subVectors(n,e),md.subVectors(r,e),lm.crossVectors(am,md);let s=this.direction.dot(lm),a;if(s>0){if(i)return null;a=1}else if(s<0)a=-1,s=-s;else return null;No.subVectors(this.origin,e);const l=a*this.direction.dot(md.crossVectors(No,md));if(l<0)return null;const u=a*this.direction.dot(am.cross(No));if(u<0||l+u>s)return null;const c=-a*No.dot(lm);return c<0?null:this.at(c/s,o)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class St{constructor(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(e,n,r,i,o,s,a,l,u,c,d,f,h,m,g,p){const v=this.elements;return v[0]=e,v[4]=n,v[8]=r,v[12]=i,v[1]=o,v[5]=s,v[9]=a,v[13]=l,v[2]=u,v[6]=c,v[10]=d,v[14]=f,v[3]=h,v[7]=m,v[11]=g,v[15]=p,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new St().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/La.setFromMatrixColumn(e,0).length(),o=1/La.setFromMatrixColumn(e,1).length(),s=1/La.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*o,n[5]=r[5]*o,n[6]=r[6]*o,n[7]=0,n[8]=r[8]*s,n[9]=r[9]*s,n[10]=r[10]*s,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const n=this.elements,r=e.x,i=e.y,o=e.z,s=Math.cos(r),a=Math.sin(r),l=Math.cos(i),u=Math.sin(i),c=Math.cos(o),d=Math.sin(o);if(e.order==="XYZ"){const f=s*c,h=s*d,m=a*c,g=a*d;n[0]=l*c,n[4]=-l*d,n[8]=u,n[1]=h+m*u,n[5]=f-g*u,n[9]=-a*l,n[2]=g-f*u,n[6]=m+h*u,n[10]=s*l}else if(e.order==="YXZ"){const f=l*c,h=l*d,m=u*c,g=u*d;n[0]=f+g*a,n[4]=m*a-h,n[8]=s*u,n[1]=s*d,n[5]=s*c,n[9]=-a,n[2]=h*a-m,n[6]=g+f*a,n[10]=s*l}else if(e.order==="ZXY"){const f=l*c,h=l*d,m=u*c,g=u*d;n[0]=f-g*a,n[4]=-s*d,n[8]=m+h*a,n[1]=h+m*a,n[5]=s*c,n[9]=g-f*a,n[2]=-s*u,n[6]=a,n[10]=s*l}else if(e.order==="ZYX"){const f=s*c,h=s*d,m=a*c,g=a*d;n[0]=l*c,n[4]=m*u-h,n[8]=f*u+g,n[1]=l*d,n[5]=g*u+f,n[9]=h*u-m,n[2]=-u,n[6]=a*l,n[10]=s*l}else if(e.order==="YZX"){const f=s*l,h=s*u,m=a*l,g=a*u;n[0]=l*c,n[4]=g-f*d,n[8]=m*d+h,n[1]=d,n[5]=s*c,n[9]=-a*c,n[2]=-u*c,n[6]=h*d+m,n[10]=f-g*d}else if(e.order==="XZY"){const f=s*l,h=s*u,m=a*l,g=a*u;n[0]=l*c,n[4]=-d,n[8]=u*c,n[1]=f*d+g,n[5]=s*c,n[9]=h*d-m,n[2]=m*d-h,n[6]=a*c,n[10]=g*d+f}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Qre,e,eie)}lookAt(e,n,r){const i=this.elements;return xr.subVectors(e,n),xr.lengthSq()===0&&(xr.z=1),xr.normalize(),Oo.crossVectors(r,xr),Oo.lengthSq()===0&&(Math.abs(r.z)===1?xr.x+=1e-4:xr.z+=1e-4,xr.normalize(),Oo.crossVectors(r,xr)),Oo.normalize(),gd.crossVectors(xr,Oo),i[0]=Oo.x,i[4]=gd.x,i[8]=xr.x,i[1]=Oo.y,i[5]=gd.y,i[9]=xr.y,i[2]=Oo.z,i[6]=gd.z,i[10]=xr.z,this}multiply(e,n){return n!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,n)):this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,o=this.elements,s=r[0],a=r[4],l=r[8],u=r[12],c=r[1],d=r[5],f=r[9],h=r[13],m=r[2],g=r[6],p=r[10],v=r[14],y=r[3],w=r[7],_=r[11],b=r[15],S=i[0],M=i[4],T=i[8],N=i[12],I=i[1],x=i[5],R=i[9],O=i[13],D=i[2],B=i[6],L=i[10],A=i[14],P=i[3],W=i[7],K=i[11],te=i[15];return o[0]=s*S+a*I+l*D+u*P,o[4]=s*M+a*x+l*B+u*W,o[8]=s*T+a*R+l*L+u*K,o[12]=s*N+a*O+l*A+u*te,o[1]=c*S+d*I+f*D+h*P,o[5]=c*M+d*x+f*B+h*W,o[9]=c*T+d*R+f*L+h*K,o[13]=c*N+d*O+f*A+h*te,o[2]=m*S+g*I+p*D+v*P,o[6]=m*M+g*x+p*B+v*W,o[10]=m*T+g*R+p*L+v*K,o[14]=m*N+g*O+p*A+v*te,o[3]=y*S+w*I+_*D+b*P,o[7]=y*M+w*x+_*B+b*W,o[11]=y*T+w*R+_*L+b*K,o[15]=y*N+w*O+_*A+b*te,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],o=e[12],s=e[1],a=e[5],l=e[9],u=e[13],c=e[2],d=e[6],f=e[10],h=e[14],m=e[3],g=e[7],p=e[11],v=e[15];return m*(+o*l*d-i*u*d-o*a*f+r*u*f+i*a*h-r*l*h)+g*(+n*l*h-n*u*f+o*s*f-i*s*h+i*u*c-o*l*c)+p*(+n*u*d-n*a*h-o*s*d+r*s*h+o*a*c-r*u*c)+v*(-i*a*c-n*l*d+n*a*f+i*s*d-r*s*f+r*l*c)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=e[6],u=e[7],c=e[8],d=e[9],f=e[10],h=e[11],m=e[12],g=e[13],p=e[14],v=e[15],y=d*p*u-g*f*u+g*l*h-a*p*h-d*l*v+a*f*v,w=m*f*u-c*p*u-m*l*h+s*p*h+c*l*v-s*f*v,_=c*g*u-m*d*u+m*a*h-s*g*h-c*a*v+s*d*v,b=m*d*l-c*g*l-m*a*f+s*g*f+c*a*p-s*d*p,S=n*y+r*w+i*_+o*b;if(S===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const M=1/S;return e[0]=y*M,e[1]=(g*f*o-d*p*o-g*i*h+r*p*h+d*i*v-r*f*v)*M,e[2]=(a*p*o-g*l*o+g*i*u-r*p*u-a*i*v+r*l*v)*M,e[3]=(d*l*o-a*f*o-d*i*u+r*f*u+a*i*h-r*l*h)*M,e[4]=w*M,e[5]=(c*p*o-m*f*o+m*i*h-n*p*h-c*i*v+n*f*v)*M,e[6]=(m*l*o-s*p*o-m*i*u+n*p*u+s*i*v-n*l*v)*M,e[7]=(s*f*o-c*l*o+c*i*u-n*f*u-s*i*h+n*l*h)*M,e[8]=_*M,e[9]=(m*d*o-c*g*o-m*r*h+n*g*h+c*r*v-n*d*v)*M,e[10]=(s*g*o-m*a*o+m*r*u-n*g*u-s*r*v+n*a*v)*M,e[11]=(c*a*o-s*d*o-c*r*u+n*d*u+s*r*h-n*a*h)*M,e[12]=b*M,e[13]=(c*g*i-m*d*i+m*r*f-n*g*f-c*r*p+n*d*p)*M,e[14]=(m*a*i-s*g*i-m*r*l+n*g*l+s*r*p-n*a*p)*M,e[15]=(s*d*i-c*a*i+c*r*l-n*d*l-s*r*f+n*a*f)*M,this}scale(e){const n=this.elements,r=e.x,i=e.y,o=e.z;return n[0]*=r,n[4]*=i,n[8]*=o,n[1]*=r,n[5]*=i,n[9]*=o,n[2]*=r,n[6]*=i,n[10]*=o,n[3]*=r,n[7]*=i,n[11]*=o,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),o=1-r,s=e.x,a=e.y,l=e.z,u=o*s,c=o*a;return this.set(u*s+r,u*a-i*l,u*l+i*a,0,u*a+i*l,c*a+r,c*l-i*s,0,u*l-i*a,c*l+i*s,o*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,o,s){return this.set(1,r,o,0,e,1,s,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,o=n._x,s=n._y,a=n._z,l=n._w,u=o+o,c=s+s,d=a+a,f=o*u,h=o*c,m=o*d,g=s*c,p=s*d,v=a*d,y=l*u,w=l*c,_=l*d,b=r.x,S=r.y,M=r.z;return i[0]=(1-(g+v))*b,i[1]=(h+_)*b,i[2]=(m-w)*b,i[3]=0,i[4]=(h-_)*S,i[5]=(1-(f+v))*S,i[6]=(p+y)*S,i[7]=0,i[8]=(m+w)*M,i[9]=(p-y)*M,i[10]=(1-(f+g))*M,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let o=La.set(i[0],i[1],i[2]).length();const s=La.set(i[4],i[5],i[6]).length(),a=La.set(i[8],i[9],i[10]).length();this.determinant()<0&&(o=-o),e.x=i[12],e.y=i[13],e.z=i[14],pi.copy(this);const u=1/o,c=1/s,d=1/a;return pi.elements[0]*=u,pi.elements[1]*=u,pi.elements[2]*=u,pi.elements[4]*=c,pi.elements[5]*=c,pi.elements[6]*=c,pi.elements[8]*=d,pi.elements[9]*=d,pi.elements[10]*=d,n.setFromRotationMatrix(pi),r.x=o,r.y=s,r.z=a,this}makePerspective(e,n,r,i,o,s){s===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const a=this.elements,l=2*o/(n-e),u=2*o/(r-i),c=(n+e)/(n-e),d=(r+i)/(r-i),f=-(s+o)/(s-o),h=-2*s*o/(s-o);return a[0]=l,a[4]=0,a[8]=c,a[12]=0,a[1]=0,a[5]=u,a[9]=d,a[13]=0,a[2]=0,a[6]=0,a[10]=f,a[14]=h,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,n,r,i,o,s){const a=this.elements,l=1/(n-e),u=1/(r-i),c=1/(s-o),d=(n+e)*l,f=(r+i)*u,h=(s+o)*c;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-d,a[1]=0,a[5]=2*u,a[9]=0,a[13]=-f,a[2]=0,a[6]=0,a[10]=-2*c,a[14]=-h,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}St.prototype.isMatrix4=!0;const La=new ne,pi=new St,Qre=new ne(0,0,0),eie=new ne(1,1,1),Oo=new ne,gd=new ne,xr=new ne,d_=new St,f_=new gn;class fs{constructor(e=0,n=0,r=0,i=fs.DefaultOrder){this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,o=i[0],s=i[4],a=i[8],l=i[1],u=i[5],c=i[9],d=i[2],f=i[6],h=i[10];switch(n){case"XYZ":this._y=Math.asin(Xn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-c,h),this._z=Math.atan2(-s,o)):(this._x=Math.atan2(f,u),this._z=0);break;case"YXZ":this._x=Math.asin(-Xn(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(a,h),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-d,o),this._z=0);break;case"ZXY":this._x=Math.asin(Xn(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-d,h),this._z=Math.atan2(-s,u)):(this._y=0,this._z=Math.atan2(l,o));break;case"ZYX":this._y=Math.asin(-Xn(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(f,h),this._z=Math.atan2(l,o)):(this._x=0,this._z=Math.atan2(-s,u));break;case"YZX":this._z=Math.asin(Xn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-c,u),this._y=Math.atan2(-d,o)):(this._x=0,this._y=Math.atan2(a,h));break;case"XZY":this._z=Math.asin(-Xn(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(f,u),this._y=Math.atan2(a,o)):(this._x=Math.atan2(-c,h),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return d_.makeRotationFromQuaternion(e),this.setFromRotationMatrix(d_,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return f_.setFromEuler(this),this.setFromQuaternion(f_,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}}fs.prototype.isEuler=!0;fs.DefaultOrder="XYZ";fs.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class q0{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let tie=0;const h_=new ne,Ra=new gn,to=new St,vd=new ne,hu=new ne,nie=new ne,rie=new gn,p_=new ne(1,0,0),m_=new ne(0,1,0),g_=new ne(0,0,1),iie={type:"added"},v_={type:"removed"};class Zt extends ds{constructor(){super();Object.defineProperty(this,"id",{value:tie++}),this.uuid=Ci(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Zt.DefaultUp.clone();const e=new ne,n=new fs,r=new gn,i=new ne(1,1,1);function o(){r.setFromEuler(n,!1)}function s(){n.setFromQuaternion(r,void 0,!1)}n._onChange(o),r._onChange(s),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new St},normalMatrix:{value:new Jn}}),this.matrix=new St,this.matrixWorld=new St,this.matrixAutoUpdate=Zt.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new q0,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return Ra.setFromAxisAngle(e,n),this.quaternion.multiply(Ra),this}rotateOnWorldAxis(e,n){return Ra.setFromAxisAngle(e,n),this.quaternion.premultiply(Ra),this}rotateX(e){return this.rotateOnAxis(p_,e)}rotateY(e){return this.rotateOnAxis(m_,e)}rotateZ(e){return this.rotateOnAxis(g_,e)}translateOnAxis(e,n){return h_.copy(e).applyQuaternion(this.quaternion),this.position.add(h_.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(p_,e)}translateY(e){return this.translateOnAxis(m_,e)}translateZ(e){return this.translateOnAxis(g_,e)}localToWorld(e){return e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return e.applyMatrix4(to.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?vd.copy(e):vd.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),hu.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?to.lookAt(hu,vd,this.up):to.lookAt(vd,hu,this.up),this.quaternion.setFromRotationMatrix(to),i&&(to.extractRotation(i.matrixWorld),Ra.setFromRotationMatrix(to),this.quaternion.premultiply(Ra.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(iie)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(v_)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const n=this.children[e];n.parent=null,n.dispatchEvent(v_)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),to.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),to.multiply(e.parent.matrixWorld)),e.applyMatrix4(to),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const s=this.children[r].getObjectByProperty(e,n);if(s!==void 0)return s}}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(hu,e,nie),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(hu,rie,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].updateMatrixWorld(e)}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const i=this.children;for(let o=0,s=i.length;o<s;o++)i[o].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function o(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=o(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let u=0,c=l.length;u<c;u++){const d=l[u];o(e.shapes,d)}else o(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(o(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,u=this.material.length;l<u;l++)a.push(o(e.materials,this.material[l]));i.material=a}else i.material=o(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(o(e.animations,l))}}if(n){const a=s(e.geometries),l=s(e.materials),u=s(e.textures),c=s(e.images),d=s(e.shapes),f=s(e.skeletons),h=s(e.animations),m=s(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),u.length>0&&(r.textures=u),c.length>0&&(r.images=c),d.length>0&&(r.shapes=d),f.length>0&&(r.skeletons=f),h.length>0&&(r.animations=h),m.length>0&&(r.nodes=m)}return r.object=i,r;function s(a){const l=[];for(const u in a){const c=a[u];delete c.metadata,l.push(c)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}Zt.DefaultUp=new ne(0,1,0);Zt.DefaultMatrixAutoUpdate=!0;Zt.prototype.isObject3D=!0;const mi=new ne,no=new ne,um=new ne,ro=new ne,Ia=new ne,Da=new ne,y_=new ne,cm=new ne,dm=new ne,fm=new ne;class $n{constructor(e=new ne,n=new ne,r=new ne){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),mi.subVectors(e,n),i.cross(mi);const o=i.lengthSq();return o>0?i.multiplyScalar(1/Math.sqrt(o)):i.set(0,0,0)}static getBarycoord(e,n,r,i,o){mi.subVectors(i,n),no.subVectors(r,n),um.subVectors(e,n);const s=mi.dot(mi),a=mi.dot(no),l=mi.dot(um),u=no.dot(no),c=no.dot(um),d=s*u-a*a;if(d===0)return o.set(-2,-1,-1);const f=1/d,h=(u*l-a*c)*f,m=(s*c-a*l)*f;return o.set(1-h-m,m,h)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,ro),ro.x>=0&&ro.y>=0&&ro.x+ro.y<=1}static getUV(e,n,r,i,o,s,a,l){return this.getBarycoord(e,n,r,i,ro),l.set(0,0),l.addScaledVector(o,ro.x),l.addScaledVector(s,ro.y),l.addScaledVector(a,ro.z),l}static isFrontFacing(e,n,r,i){return mi.subVectors(r,n),no.subVectors(e,n),mi.cross(no).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return mi.subVectors(this.c,this.b),no.subVectors(this.a,this.b),mi.cross(no).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return $n.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return $n.getBarycoord(e,this.a,this.b,this.c,n)}getUV(e,n,r,i,o){return $n.getUV(e,this.a,this.b,this.c,n,r,i,o)}containsPoint(e){return $n.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return $n.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,o=this.c;let s,a;Ia.subVectors(i,r),Da.subVectors(o,r),cm.subVectors(e,r);const l=Ia.dot(cm),u=Da.dot(cm);if(l<=0&&u<=0)return n.copy(r);dm.subVectors(e,i);const c=Ia.dot(dm),d=Da.dot(dm);if(c>=0&&d<=c)return n.copy(i);const f=l*d-c*u;if(f<=0&&l>=0&&c<=0)return s=l/(l-c),n.copy(r).addScaledVector(Ia,s);fm.subVectors(e,o);const h=Ia.dot(fm),m=Da.dot(fm);if(m>=0&&h<=m)return n.copy(o);const g=h*u-l*m;if(g<=0&&u>=0&&m<=0)return a=u/(u-m),n.copy(r).addScaledVector(Da,a);const p=c*m-h*d;if(p<=0&&d-c>=0&&h-m>=0)return y_.subVectors(o,i),a=(d-c)/(d-c+(h-m)),n.copy(i).addScaledVector(y_,a);const v=1/(p+g+f);return s=g*v,a=f*v,n.copy(r).addScaledVector(Ia,s).addScaledVector(Da,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let oie=0;class Hn extends ds{constructor(){super();Object.defineProperty(this,"id",{value:oie++}),this.uuid=Ci(),this.name="",this.type="Material",this.fog=!0,this.blending=dl,this.side=yc,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=YE,this.blendDst=XE,this.blendEquation=Xa,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Kg,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=Pre,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Jp,this.stencilZFail=Jp,this.stencilZPass=Jp,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn("THREE.Material: '"+n+"' parameter is undefined.");continue}if(n==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=r===qE;continue}const i=this[n];if(i===void 0){console.warn("THREE."+this.type+": '"+n+"' is not a property of this material.");continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==dl&&(r.blending=this.blending),this.side!==yc&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(r.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=this.flatShading),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData);function i(o){const s=[];for(const a in o){const l=o[a];delete l.metadata,s.push(l)}return s}if(n){const o=i(e.textures),s=i(e.images);o.length>0&&(r.textures=o),s.length>0&&(r.images=s)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let o=0;o!==i;++o)r[o]=n[o].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}Hn.prototype.isMaterial=!0;Hn.fromType=function(){return null};class ya extends Hn{constructor(e){super();this.type="MeshBasicMaterial",this.color=new ht(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Vh,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}ya.prototype.isMeshBasicMaterial=!0;const Dn=new ne,yd=new Ge;class _n{constructor(e,n,r){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r===!0,this.usage=wc,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,o=this.itemSize;i<o;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}copyColorsArray(e){const n=this.array;let r=0;for(let i=0,o=e.length;i<o;i++){let s=e[i];s===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),s=new ht),n[r++]=s.r,n[r++]=s.g,n[r++]=s.b}return this}copyVector2sArray(e){const n=this.array;let r=0;for(let i=0,o=e.length;i<o;i++){let s=e[i];s===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),s=new Ge),n[r++]=s.x,n[r++]=s.y}return this}copyVector3sArray(e){const n=this.array;let r=0;for(let i=0,o=e.length;i<o;i++){let s=e[i];s===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),s=new ne),n[r++]=s.x,n[r++]=s.y,n[r++]=s.z}return this}copyVector4sArray(e){const n=this.array;let r=0;for(let i=0,o=e.length;i<o;i++){let s=e[i];s===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),s=new nn),n[r++]=s.x,n[r++]=s.y,n[r++]=s.z,n[r++]=s.w}return this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)yd.fromBufferAttribute(this,n),yd.applyMatrix3(e),this.setXY(n,yd.x,yd.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)Dn.fromBufferAttribute(this,n),Dn.applyMatrix3(e),this.setXYZ(n,Dn.x,Dn.y,Dn.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)Dn.fromBufferAttribute(this,n),Dn.applyMatrix4(e),this.setXYZ(n,Dn.x,Dn.y,Dn.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Dn.fromBufferAttribute(this,n),Dn.applyNormalMatrix(e),this.setXYZ(n,Dn.x,Dn.y,Dn.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Dn.fromBufferAttribute(this,n),Dn.transformDirection(e),this.setXYZ(n,Dn.x,Dn.y,Dn.z);return this}set(e,n=0){return this.array.set(e,n),this}getX(e){return this.array[e*this.itemSize]}setX(e,n){return this.array[e*this.itemSize]=n,this}getY(e){return this.array[e*this.itemSize+1]}setY(e,n){return this.array[e*this.itemSize+1]=n,this}getZ(e){return this.array[e*this.itemSize+2]}setZ(e,n){return this.array[e*this.itemSize+2]=n,this}getW(e){return this.array[e*this.itemSize+3]}setW(e,n){return this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,o){return e*=this.itemSize,this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=o,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==wc&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}}_n.prototype.isBufferAttribute=!0;class nT extends _n{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class rT extends _n{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class sie extends _n{constructor(e,n,r){super(new Uint16Array(e),n,r)}}sie.prototype.isFloat16BufferAttribute=!0;class jt extends _n{constructor(e,n,r){super(new Float32Array(e),n,r)}}let aie=0;const jr=new St,hm=new Zt,$a=new ne,Er=new li,pu=new li,Un=new ne;class Ht extends ds{constructor(){super();Object.defineProperty(this,"id",{value:aie++}),this.uuid=Ci(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(QE(e)?rT:nT)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const o=new Jn().getNormalMatrix(e);r.applyNormalMatrix(o),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return jr.makeRotationFromQuaternion(e),this.applyMatrix4(jr),this}rotateX(e){return jr.makeRotationX(e),this.applyMatrix4(jr),this}rotateY(e){return jr.makeRotationY(e),this.applyMatrix4(jr),this}rotateZ(e){return jr.makeRotationZ(e),this.applyMatrix4(jr),this}translate(e,n,r){return jr.makeTranslation(e,n,r),this.applyMatrix4(jr),this}scale(e,n,r){return jr.makeScale(e,n,r),this.applyMatrix4(jr),this}lookAt(e){return hm.lookAt(e),hm.updateMatrix(),this.applyMatrix4(hm.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter($a).negate(),this.translate($a.x,$a.y,$a.z),this}setFromPoints(e){const n=[];for(let r=0,i=e.length;r<i;r++){const o=e[r];n.push(o.x,o.y,o.z||0)}return this.setAttribute("position",new jt(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new li);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new ne(-1/0,-1/0,-1/0),new ne(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const o=n[r];Er.setFromBufferAttribute(o),this.morphTargetsRelative?(Un.addVectors(this.boundingBox.min,Er.min),this.boundingBox.expandByPoint(Un),Un.addVectors(this.boundingBox.max,Er.max),this.boundingBox.expandByPoint(Un)):(this.boundingBox.expandByPoint(Er.min),this.boundingBox.expandByPoint(Er.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Yl);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new ne,1/0);return}if(e){const r=this.boundingSphere.center;if(Er.setFromBufferAttribute(e),n)for(let o=0,s=n.length;o<s;o++){const a=n[o];pu.setFromBufferAttribute(a),this.morphTargetsRelative?(Un.addVectors(Er.min,pu.min),Er.expandByPoint(Un),Un.addVectors(Er.max,pu.max),Er.expandByPoint(Un)):(Er.expandByPoint(pu.min),Er.expandByPoint(pu.max))}Er.getCenter(r);let i=0;for(let o=0,s=e.count;o<s;o++)Un.fromBufferAttribute(e,o),i=Math.max(i,r.distanceToSquared(Un));if(n)for(let o=0,s=n.length;o<s;o++){const a=n[o],l=this.morphTargetsRelative;for(let u=0,c=a.count;u<c;u++)Un.fromBufferAttribute(a,u),l&&($a.fromBufferAttribute(e,u),Un.add($a)),i=Math.max(i,r.distanceToSquared(Un))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=n.position.array,o=n.normal.array,s=n.uv.array,a=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new _n(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,u=[],c=[];for(let I=0;I<a;I++)u[I]=new ne,c[I]=new ne;const d=new ne,f=new ne,h=new ne,m=new Ge,g=new Ge,p=new Ge,v=new ne,y=new ne;function w(I,x,R){d.fromArray(i,I*3),f.fromArray(i,x*3),h.fromArray(i,R*3),m.fromArray(s,I*2),g.fromArray(s,x*2),p.fromArray(s,R*2),f.sub(d),h.sub(d),g.sub(m),p.sub(m);const O=1/(g.x*p.y-p.x*g.y);!isFinite(O)||(v.copy(f).multiplyScalar(p.y).addScaledVector(h,-g.y).multiplyScalar(O),y.copy(h).multiplyScalar(g.x).addScaledVector(f,-p.x).multiplyScalar(O),u[I].add(v),u[x].add(v),u[R].add(v),c[I].add(y),c[x].add(y),c[R].add(y))}let _=this.groups;_.length===0&&(_=[{start:0,count:r.length}]);for(let I=0,x=_.length;I<x;++I){const R=_[I],O=R.start,D=R.count;for(let B=O,L=O+D;B<L;B+=3)w(r[B+0],r[B+1],r[B+2])}const b=new ne,S=new ne,M=new ne,T=new ne;function N(I){M.fromArray(o,I*3),T.copy(M);const x=u[I];b.copy(x),b.sub(M.multiplyScalar(M.dot(x))).normalize(),S.crossVectors(T,x);const O=S.dot(c[I])<0?-1:1;l[I*4]=b.x,l[I*4+1]=b.y,l[I*4+2]=b.z,l[I*4+3]=O}for(let I=0,x=_.length;I<x;++I){const R=_[I],O=R.start,D=R.count;for(let B=O,L=O+D;B<L;B+=3)N(r[B+0]),N(r[B+1]),N(r[B+2])}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new _n(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let f=0,h=r.count;f<h;f++)r.setXYZ(f,0,0,0);const i=new ne,o=new ne,s=new ne,a=new ne,l=new ne,u=new ne,c=new ne,d=new ne;if(e)for(let f=0,h=e.count;f<h;f+=3){const m=e.getX(f+0),g=e.getX(f+1),p=e.getX(f+2);i.fromBufferAttribute(n,m),o.fromBufferAttribute(n,g),s.fromBufferAttribute(n,p),c.subVectors(s,o),d.subVectors(i,o),c.cross(d),a.fromBufferAttribute(r,m),l.fromBufferAttribute(r,g),u.fromBufferAttribute(r,p),a.add(c),l.add(c),u.add(c),r.setXYZ(m,a.x,a.y,a.z),r.setXYZ(g,l.x,l.y,l.z),r.setXYZ(p,u.x,u.y,u.z)}else for(let f=0,h=n.count;f<h;f+=3)i.fromBufferAttribute(n,f+0),o.fromBufferAttribute(n,f+1),s.fromBufferAttribute(n,f+2),c.subVectors(s,o),d.subVectors(i,o),c.cross(d),r.setXYZ(f+0,c.x,c.y,c.z),r.setXYZ(f+1,c.x,c.y,c.z),r.setXYZ(f+2,c.x,c.y,c.z);this.normalizeNormals(),r.needsUpdate=!0}}merge(e,n){if(!(e&&e.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);return}n===void 0&&(n=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const r=this.attributes;for(const i in r){if(e.attributes[i]===void 0)continue;const s=r[i].array,a=e.attributes[i],l=a.array,u=a.itemSize*n,c=Math.min(l.length,s.length-u);for(let d=0,f=u;d<c;d++,f++)s[f]=l[d]}return this}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)Un.fromBufferAttribute(e,n),Un.normalize(),e.setXYZ(n,Un.x,Un.y,Un.z)}toNonIndexed(){function e(a,l){const u=a.array,c=a.itemSize,d=a.normalized,f=new u.constructor(l.length*c);let h=0,m=0;for(let g=0,p=l.length;g<p;g++){a.isInterleavedBufferAttribute?h=l[g]*a.data.stride+a.offset:h=l[g]*c;for(let v=0;v<c;v++)f[m++]=u[h++]}return new _n(f,c,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new Ht,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],u=e(l,r);n.setAttribute(a,u)}const o=this.morphAttributes;for(const a in o){const l=[],u=o[a];for(let c=0,d=u.length;c<d;c++){const f=u[c],h=e(f,r);l.push(h)}n.morphAttributes[a]=l}n.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let a=0,l=s.length;a<l;a++){const u=s[a];n.addGroup(u.start,u.count,u.materialIndex)}return n}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(e[u]=l[u]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const u=r[l];e.data.attributes[l]=u.toJSON(e.data)}const i={};let o=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],c=[];for(let d=0,f=u.length;d<f;d++){const h=u[d];c.push(h.toJSON(e.data))}c.length>0&&(i[l]=c,o=!0)}o&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(n));const i=e.attributes;for(const u in i){const c=i[u];this.setAttribute(u,c.clone(n))}const o=e.morphAttributes;for(const u in o){const c=[],d=o[u];for(let f=0,h=d.length;f<h;f++)c.push(d[f].clone(n));this.morphAttributes[u]=c}this.morphTargetsRelative=e.morphTargetsRelative;const s=e.groups;for(let u=0,c=s.length;u<c;u++){const d=s[u];this.addGroup(d.start,d.count,d.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}Ht.prototype.isBufferGeometry=!0;const b_=new St,Na=new va,pm=new Yl,Fo=new ne,Bo=new ne,zo=new ne,mm=new ne,gm=new ne,vm=new ne,bd=new ne,wd=new ne,_d=new ne,Sd=new Ge,Cd=new Ge,Md=new Ge,ym=new ne,xd=new ne;class it extends Zt{constructor(e=new Ht,n=new ya){super();this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e){return super.copy(e),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const n=e.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=i.length;o<s;o++){const a=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}else{const n=e.morphTargets;n!==void 0&&n.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}raycast(e,n){const r=this.geometry,i=this.material,o=this.matrixWorld;if(i===void 0||(r.boundingSphere===null&&r.computeBoundingSphere(),pm.copy(r.boundingSphere),pm.applyMatrix4(o),e.ray.intersectsSphere(pm)===!1)||(b_.copy(o).invert(),Na.copy(e.ray).applyMatrix4(b_),r.boundingBox!==null&&Na.intersectsBox(r.boundingBox)===!1))return;let s;if(r.isBufferGeometry){const a=r.index,l=r.attributes.position,u=r.morphAttributes.position,c=r.morphTargetsRelative,d=r.attributes.uv,f=r.attributes.uv2,h=r.groups,m=r.drawRange;if(a!==null)if(Array.isArray(i))for(let g=0,p=h.length;g<p;g++){const v=h[g],y=i[v.materialIndex],w=Math.max(v.start,m.start),_=Math.min(a.count,Math.min(v.start+v.count,m.start+m.count));for(let b=w,S=_;b<S;b+=3){const M=a.getX(b),T=a.getX(b+1),N=a.getX(b+2);s=Ed(this,y,e,Na,l,u,c,d,f,M,T,N),s&&(s.faceIndex=Math.floor(b/3),s.face.materialIndex=v.materialIndex,n.push(s))}}else{const g=Math.max(0,m.start),p=Math.min(a.count,m.start+m.count);for(let v=g,y=p;v<y;v+=3){const w=a.getX(v),_=a.getX(v+1),b=a.getX(v+2);s=Ed(this,i,e,Na,l,u,c,d,f,w,_,b),s&&(s.faceIndex=Math.floor(v/3),n.push(s))}}else if(l!==void 0)if(Array.isArray(i))for(let g=0,p=h.length;g<p;g++){const v=h[g],y=i[v.materialIndex],w=Math.max(v.start,m.start),_=Math.min(l.count,Math.min(v.start+v.count,m.start+m.count));for(let b=w,S=_;b<S;b+=3){const M=b,T=b+1,N=b+2;s=Ed(this,y,e,Na,l,u,c,d,f,M,T,N),s&&(s.faceIndex=Math.floor(b/3),s.face.materialIndex=v.materialIndex,n.push(s))}}else{const g=Math.max(0,m.start),p=Math.min(l.count,m.start+m.count);for(let v=g,y=p;v<y;v+=3){const w=v,_=v+1,b=v+2;s=Ed(this,i,e,Na,l,u,c,d,f,w,_,b),s&&(s.faceIndex=Math.floor(v/3),n.push(s))}}}else r.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}it.prototype.isMesh=!0;function lie(t,e,n,r,i,o,s,a){let l;if(e.side===Si?l=r.intersectTriangle(s,o,i,!0,a):l=r.intersectTriangle(i,o,s,e.side!==So,a),l===null)return null;xd.copy(a),xd.applyMatrix4(t.matrixWorld);const u=n.ray.origin.distanceTo(xd);return u<n.near||u>n.far?null:{distance:u,point:xd.clone(),object:t}}function Ed(t,e,n,r,i,o,s,a,l,u,c,d){Fo.fromBufferAttribute(i,u),Bo.fromBufferAttribute(i,c),zo.fromBufferAttribute(i,d);const f=t.morphTargetInfluences;if(o&&f){bd.set(0,0,0),wd.set(0,0,0),_d.set(0,0,0);for(let m=0,g=o.length;m<g;m++){const p=f[m],v=o[m];p!==0&&(mm.fromBufferAttribute(v,u),gm.fromBufferAttribute(v,c),vm.fromBufferAttribute(v,d),s?(bd.addScaledVector(mm,p),wd.addScaledVector(gm,p),_d.addScaledVector(vm,p)):(bd.addScaledVector(mm.sub(Fo),p),wd.addScaledVector(gm.sub(Bo),p),_d.addScaledVector(vm.sub(zo),p)))}Fo.add(bd),Bo.add(wd),zo.add(_d)}t.isSkinnedMesh&&(t.boneTransform(u,Fo),t.boneTransform(c,Bo),t.boneTransform(d,zo));const h=lie(t,e,n,r,Fo,Bo,zo,ym);if(h){a&&(Sd.fromBufferAttribute(a,u),Cd.fromBufferAttribute(a,c),Md.fromBufferAttribute(a,d),h.uv=$n.getUV(ym,Fo,Bo,zo,Sd,Cd,Md,new Ge)),l&&(Sd.fromBufferAttribute(l,u),Cd.fromBufferAttribute(l,c),Md.fromBufferAttribute(l,d),h.uv2=$n.getUV(ym,Fo,Bo,zo,Sd,Cd,Md,new Ge));const m={a:u,b:c,c:d,normal:new ne,materialIndex:0};$n.getNormal(Fo,Bo,zo,m.normal),h.face=m}return h}class An extends Ht{constructor(e=1,n=1,r=1,i=1,o=1,s=1){super();this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:o,depthSegments:s};const a=this;i=Math.floor(i),o=Math.floor(o),s=Math.floor(s);const l=[],u=[],c=[],d=[];let f=0,h=0;m("z","y","x",-1,-1,r,n,e,s,o,0),m("z","y","x",1,-1,r,n,-e,s,o,1),m("x","z","y",1,1,e,r,n,i,s,2),m("x","z","y",1,-1,e,r,-n,i,s,3),m("x","y","z",1,-1,e,n,r,i,o,4),m("x","y","z",-1,-1,e,n,-r,i,o,5),this.setIndex(l),this.setAttribute("position",new jt(u,3)),this.setAttribute("normal",new jt(c,3)),this.setAttribute("uv",new jt(d,2));function m(g,p,v,y,w,_,b,S,M,T,N){const I=_/M,x=b/T,R=_/2,O=b/2,D=S/2,B=M+1,L=T+1;let A=0,P=0;const W=new ne;for(let K=0;K<L;K++){const te=K*x-O;for(let J=0;J<B;J++){const se=J*I-R;W[g]=se*y,W[p]=te*w,W[v]=D,u.push(W.x,W.y,W.z),W[g]=0,W[p]=0,W[v]=S>0?1:-1,c.push(W.x,W.y,W.z),d.push(J/M),d.push(1-K/T),A+=1}}for(let K=0;K<T;K++)for(let te=0;te<M;te++){const J=f+te+B*K,se=f+te+B*(K+1),Te=f+(te+1)+B*(K+1),Le=f+(te+1)+B*K;l.push(J,se,Le),l.push(se,Te,Le),P+=6}a.addGroup(h,P,N),h+=P,f+=A}}static fromJSON(e){return new An(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Dl(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function rr(t){const e={};for(let n=0;n<t.length;n++){const r=Dl(t[n]);for(const i in r)e[i]=r[i]}return e}const uie={clone:Dl,merge:rr};var cie=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,die=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Ur extends Hn{constructor(e){super();this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=cie,this.fragmentShader=die,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&(e.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Dl(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const s=this.uniforms[i].value;s&&s.isTexture?n.uniforms[i]={type:"t",value:s.toJSON(e).uuid}:s&&s.isColor?n.uniforms[i]={type:"c",value:s.getHex()}:s&&s.isVector2?n.uniforms[i]={type:"v2",value:s.toArray()}:s&&s.isVector3?n.uniforms[i]={type:"v3",value:s.toArray()}:s&&s.isVector4?n.uniforms[i]={type:"v4",value:s.toArray()}:s&&s.isMatrix3?n.uniforms[i]={type:"m3",value:s.toArray()}:s&&s.isMatrix4?n.uniforms[i]={type:"m4",value:s.toArray()}:n.uniforms[i]={value:s}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}Ur.prototype.isShaderMaterial=!0;class Y0 extends Zt{constructor(){super();this.type="Camera",this.matrixWorldInverse=new St,this.projectionMatrix=new St,this.projectionMatrixInverse=new St}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(-n[8],-n[9],-n[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}Y0.prototype.isCamera=!0;class cr extends Y0{constructor(e=50,n=1,r=.1,i=2e3){super();this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=_c*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Wu*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return _c*2*Math.atan(Math.tan(Wu*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,n,r,i,o,s){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(Wu*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,o=-.5*i;const s=this.view;if(this.view!==null&&this.view.enabled){const l=s.fullWidth,u=s.fullHeight;o+=s.offsetX*i/l,n-=s.offsetY*r/u,i*=s.width/l,r*=s.height/u}const a=this.filmOffset;a!==0&&(o+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+i,n,n-r,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}cr.prototype.isPerspectiveCamera=!0;const Oa=90,Fa=1;class X0 extends Zt{constructor(e,n,r){super();if(this.type="CubeCamera",r.isWebGLCubeRenderTarget!==!0){console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");return}this.renderTarget=r;const i=new cr(Oa,Fa,e,n);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new ne(1,0,0)),this.add(i);const o=new cr(Oa,Fa,e,n);o.layers=this.layers,o.up.set(0,-1,0),o.lookAt(new ne(-1,0,0)),this.add(o);const s=new cr(Oa,Fa,e,n);s.layers=this.layers,s.up.set(0,0,1),s.lookAt(new ne(0,1,0)),this.add(s);const a=new cr(Oa,Fa,e,n);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(new ne(0,-1,0)),this.add(a);const l=new cr(Oa,Fa,e,n);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new ne(0,0,1)),this.add(l);const u=new cr(Oa,Fa,e,n);u.layers=this.layers,u.up.set(0,-1,0),u.lookAt(new ne(0,0,-1)),this.add(u)}update(e,n){this.parent===null&&this.updateMatrixWorld();const r=this.renderTarget,[i,o,s,a,l,u]=this.children,c=e.getRenderTarget(),d=e.outputEncoding,f=e.toneMapping,h=e.xr.enabled;e.outputEncoding=Co,e.toneMapping=po,e.xr.enabled=!1;const m=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(n,i),e.setRenderTarget(r,1),e.render(n,o),e.setRenderTarget(r,2),e.render(n,s),e.setRenderTarget(r,3),e.render(n,a),e.setRenderTarget(r,4),e.render(n,l),r.texture.generateMipmaps=m,e.setRenderTarget(r,5),e.render(n,u),e.setRenderTarget(c),e.outputEncoding=d,e.toneMapping=f,e.xr.enabled=h,r.texture.needsPMREMUpdate=!0}}class jh extends Rn{constructor(e,n,r,i,o,s,a,l,u,c){e=e!==void 0?e:[],n=n!==void 0?n:Ll;super(e,n,r,i,o,s,a,l,u,c);this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}jh.prototype.isCubeTexture=!0;class iT extends Br{constructor(e,n={}){super(e,e,n);const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new jh(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:Yn}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.encoding=n.encoding,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new An(5,5,5),o=new Ur({name:"CubemapFromEquirect",uniforms:Dl(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Si,blending:Qo});o.uniforms.tEquirect.value=n;const s=new it(i,o),a=n.minFilter;return n.minFilter===Uh&&(n.minFilter=Yn),new X0(1,10,this).update(e,s),n.minFilter=a,s.geometry.dispose(),s.material.dispose(),this}clear(e,n,r,i){const o=e.getRenderTarget();for(let s=0;s<6;s++)e.setRenderTarget(this,s),e.clear(n,r,i);e.setRenderTarget(o)}}iT.prototype.isWebGLCubeRenderTarget=!0;const bm=new ne,fie=new ne,hie=new Jn;class ao{constructor(e=new ne(1,0,0),n=0){this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=bm.subVectors(r,n).cross(fie.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,n){const r=e.delta(bm),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const o=-(e.start.dot(this.normal)+this.constant)/i;return o<0||o>1?null:n.copy(r).multiplyScalar(o).add(e.start)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||hie.getNormalMatrix(e),i=this.coplanarPoint(bm).applyMatrix4(e),o=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(o),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}ao.prototype.isPlane=!0;const Ba=new Yl,Td=new ne;class Kh{constructor(e=new ao,n=new ao,r=new ao,i=new ao,o=new ao,s=new ao){this.planes=[e,n,r,i,o,s]}set(e,n,r,i,o,s){const a=this.planes;return a[0].copy(e),a[1].copy(n),a[2].copy(r),a[3].copy(i),a[4].copy(o),a[5].copy(s),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e){const n=this.planes,r=e.elements,i=r[0],o=r[1],s=r[2],a=r[3],l=r[4],u=r[5],c=r[6],d=r[7],f=r[8],h=r[9],m=r[10],g=r[11],p=r[12],v=r[13],y=r[14],w=r[15];return n[0].setComponents(a-i,d-l,g-f,w-p).normalize(),n[1].setComponents(a+i,d+l,g+f,w+p).normalize(),n[2].setComponents(a+o,d+u,g+h,w+v).normalize(),n[3].setComponents(a-o,d-u,g-h,w-v).normalize(),n[4].setComponents(a-s,d-c,g-m,w-y).normalize(),n[5].setComponents(a+s,d+c,g+m,w+y).normalize(),this}intersectsObject(e){const n=e.geometry;return n.boundingSphere===null&&n.computeBoundingSphere(),Ba.copy(n.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Ba)}intersectsSprite(e){return Ba.center.set(0,0,0),Ba.radius=.7071067811865476,Ba.applyMatrix4(e.matrixWorld),this.intersectsSphere(Ba)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let o=0;o<6;o++)if(n[o].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(Td.x=i.normal.x>0?e.max.x:e.min.x,Td.y=i.normal.y>0?e.max.y:e.min.y,Td.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(Td)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function oT(){let t=null,e=!1,n=null,r=null;function i(o,s){n(o,s),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(o){n=o},setContext:function(o){t=o}}}function pie(t,e){const n=e.isWebGL2,r=new WeakMap;function i(u,c){const d=u.array,f=u.usage,h=t.createBuffer();t.bindBuffer(c,h),t.bufferData(c,d,f),u.onUploadCallback();let m;if(d instanceof Float32Array)m=5126;else if(d instanceof Uint16Array)if(u.isFloat16BufferAttribute)if(n)m=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else m=5123;else if(d instanceof Int16Array)m=5122;else if(d instanceof Uint32Array)m=5125;else if(d instanceof Int32Array)m=5124;else if(d instanceof Int8Array)m=5120;else if(d instanceof Uint8Array)m=5121;else if(d instanceof Uint8ClampedArray)m=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+d);return{buffer:h,type:m,bytesPerElement:d.BYTES_PER_ELEMENT,version:u.version}}function o(u,c,d){const f=c.array,h=c.updateRange;t.bindBuffer(d,u),h.count===-1?t.bufferSubData(d,0,f):(n?t.bufferSubData(d,h.offset*f.BYTES_PER_ELEMENT,f,h.offset,h.count):t.bufferSubData(d,h.offset*f.BYTES_PER_ELEMENT,f.subarray(h.offset,h.offset+h.count)),h.count=-1)}function s(u){return u.isInterleavedBufferAttribute&&(u=u.data),r.get(u)}function a(u){u.isInterleavedBufferAttribute&&(u=u.data);const c=r.get(u);c&&(t.deleteBuffer(c.buffer),r.delete(u))}function l(u,c){if(u.isGLBufferAttribute){const f=r.get(u);(!f||f.version<u.version)&&r.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version});return}u.isInterleavedBufferAttribute&&(u=u.data);const d=r.get(u);d===void 0?r.set(u,i(u,c)):d.version<u.version&&(o(d.buffer,u,c),d.version=u.version)}return{get:s,remove:a,update:l}}class Xl extends Ht{constructor(e=1,n=1,r=1,i=1){super();this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const o=e/2,s=n/2,a=Math.floor(r),l=Math.floor(i),u=a+1,c=l+1,d=e/a,f=n/l,h=[],m=[],g=[],p=[];for(let v=0;v<c;v++){const y=v*f-s;for(let w=0;w<u;w++){const _=w*d-o;m.push(_,-y,0),g.push(0,0,1),p.push(w/a),p.push(1-v/l)}}for(let v=0;v<l;v++)for(let y=0;y<a;y++){const w=y+u*v,_=y+u*(v+1),b=y+1+u*(v+1),S=y+1+u*v;h.push(w,_,S),h.push(_,b,S)}this.setIndex(h),this.setAttribute("position",new jt(m,3)),this.setAttribute("normal",new jt(g,3)),this.setAttribute("uv",new jt(p,2))}static fromJSON(e){return new Xl(e.width,e.height,e.widthSegments,e.heightSegments)}}var mie=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,gie=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,vie=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,yie=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,bie=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,wie=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,_ie="vec3 transformed = vec3( position );",Sie=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Cie=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,Mie=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,xie=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,Eie=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Tie=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,Aie=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,kie=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,Pie=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Lie=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,Rie=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,Iie=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float linearToRelativeLuminance( const in vec3 color ) {
	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
	return dot( weights, color.rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,Die=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		vec2 uv = getUV( direction, face ) * ( faceSize - 1.0 ) + 0.5;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define r0 1.0
	#define v0 0.339
	#define m0 - 2.0
	#define r1 0.8
	#define v1 0.276
	#define m1 - 1.0
	#define r4 0.4
	#define v4 0.046
	#define m4 2.0
	#define r5 0.305
	#define v5 0.016
	#define m5 3.0
	#define r6 0.21
	#define v6 0.0038
	#define m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= r1 ) {
			mip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;
		} else if ( roughness >= r4 ) {
			mip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;
		} else if ( roughness >= r5 ) {
			mip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;
		} else if ( roughness >= r6 ) {
			mip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,$ie=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Nie=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Oie=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,Fie=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Bie=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,zie="gl_FragColor = linearToOutputTexel( gl_FragColor );",Vie=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,Hie=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Uie=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,Wie=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Gie=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,jie=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Kie=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,qie=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Yie=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Xie=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Zie=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,Jie=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,Qie=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,eoe=`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointLightInfo( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotLightInfo( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalLightInfo( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );
		#endif
	}
	#pragma unroll_loop_end
#endif`,toe=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,noe=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,roe=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,ioe=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,ooe=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,soe=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,aoe=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,loe=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	vec3 FssEss = specularColor * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	vec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,uoe=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,coe=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,doe=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,foe=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,hoe=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,poe=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,moe=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,goe=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,voe=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,yoe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,boe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,woe=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,_oe=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Soe=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,Coe=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,Moe=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,xoe=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,Eoe=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,Toe=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,Aoe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,koe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Poe=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Loe=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
		vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,Roe=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,Ioe=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,Doe=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,$oe=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Noe=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,Ooe=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,Foe=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Boe=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,zoe=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Voe=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Hoe=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Uoe=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,Woe=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Goe=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,joe=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Koe=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,qoe=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	#ifdef BONE_TEXTURE
		uniform highp sampler2D boneTexture;
		uniform int boneTextureSize;
		mat4 getBoneMatrix( const in float i ) {
			float j = i * 4.0;
			float x = mod( j, float( boneTextureSize ) );
			float y = floor( j / float( boneTextureSize ) );
			float dx = 1.0 / float( boneTextureSize );
			float dy = 1.0 / float( boneTextureSize );
			y = dy * ( y + 0.5 );
			vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
			vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
			vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
			vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
			mat4 bone = mat4( v1, v2, v3, v4 );
			return bone;
		}
	#else
		uniform mat4 boneMatrices[ MAX_BONES ];
		mat4 getBoneMatrix( const in float i ) {
			mat4 bone = boneMatrices[ int(i) ];
			return bone;
		}
	#endif
#endif`,Yoe=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Xoe=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Zoe=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Joe=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Qoe=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,ese=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,tse=`#ifdef USE_TRANSMISSION
	float transmissionAlpha = 1.0;
	float transmissionFactor = transmission;
	float thicknessFactor = thickness;
	#ifdef USE_TRANSMISSIONMAP
		transmissionFactor *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		thicknessFactor *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,
		attenuationColor, attenuationDistance );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );
	transmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );
#endif`,nse=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( attenuationDistance == 0.0 ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,rse=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,ise=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,ose=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,sse=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,ase=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,lse=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,use=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const cse=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,dse=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	gl_FragColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		gl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );
	#endif
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,fse=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,hse=`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,pse=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,mse=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,gse=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,vse=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,yse=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,bse=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,wse=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,_se=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Sse=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Cse=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Mse=`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,xse=`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Ese=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,Tse=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Ase=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,kse=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Pse=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Lse=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Rse=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,Ise=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Dse=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,$se=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Nse=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Ose=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Fse=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Bse=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,zse=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Vse=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,Nt={alphamap_fragment:mie,alphamap_pars_fragment:gie,alphatest_fragment:vie,alphatest_pars_fragment:yie,aomap_fragment:bie,aomap_pars_fragment:wie,begin_vertex:_ie,beginnormal_vertex:Sie,bsdfs:Cie,bumpmap_pars_fragment:Mie,clipping_planes_fragment:xie,clipping_planes_pars_fragment:Eie,clipping_planes_pars_vertex:Tie,clipping_planes_vertex:Aie,color_fragment:kie,color_pars_fragment:Pie,color_pars_vertex:Lie,color_vertex:Rie,common:Iie,cube_uv_reflection_fragment:Die,defaultnormal_vertex:$ie,displacementmap_pars_vertex:Nie,displacementmap_vertex:Oie,emissivemap_fragment:Fie,emissivemap_pars_fragment:Bie,encodings_fragment:zie,encodings_pars_fragment:Vie,envmap_fragment:Hie,envmap_common_pars_fragment:Uie,envmap_pars_fragment:Wie,envmap_pars_vertex:Gie,envmap_physical_pars_fragment:noe,envmap_vertex:jie,fog_vertex:Kie,fog_pars_vertex:qie,fog_fragment:Yie,fog_pars_fragment:Xie,gradientmap_pars_fragment:Zie,lightmap_fragment:Jie,lightmap_pars_fragment:Qie,lights_lambert_vertex:eoe,lights_pars_begin:toe,lights_toon_fragment:roe,lights_toon_pars_fragment:ioe,lights_phong_fragment:ooe,lights_phong_pars_fragment:soe,lights_physical_fragment:aoe,lights_physical_pars_fragment:loe,lights_fragment_begin:uoe,lights_fragment_maps:coe,lights_fragment_end:doe,logdepthbuf_fragment:foe,logdepthbuf_pars_fragment:hoe,logdepthbuf_pars_vertex:poe,logdepthbuf_vertex:moe,map_fragment:goe,map_pars_fragment:voe,map_particle_fragment:yoe,map_particle_pars_fragment:boe,metalnessmap_fragment:woe,metalnessmap_pars_fragment:_oe,morphcolor_vertex:Soe,morphnormal_vertex:Coe,morphtarget_pars_vertex:Moe,morphtarget_vertex:xoe,normal_fragment_begin:Eoe,normal_fragment_maps:Toe,normal_pars_fragment:Aoe,normal_pars_vertex:koe,normal_vertex:Poe,normalmap_pars_fragment:Loe,clearcoat_normal_fragment_begin:Roe,clearcoat_normal_fragment_maps:Ioe,clearcoat_pars_fragment:Doe,output_fragment:$oe,packing:Noe,premultiplied_alpha_fragment:Ooe,project_vertex:Foe,dithering_fragment:Boe,dithering_pars_fragment:zoe,roughnessmap_fragment:Voe,roughnessmap_pars_fragment:Hoe,shadowmap_pars_fragment:Uoe,shadowmap_pars_vertex:Woe,shadowmap_vertex:Goe,shadowmask_pars_fragment:joe,skinbase_vertex:Koe,skinning_pars_vertex:qoe,skinning_vertex:Yoe,skinnormal_vertex:Xoe,specularmap_fragment:Zoe,specularmap_pars_fragment:Joe,tonemapping_fragment:Qoe,tonemapping_pars_fragment:ese,transmission_fragment:tse,transmission_pars_fragment:nse,uv_pars_fragment:rse,uv_pars_vertex:ise,uv_vertex:ose,uv2_pars_fragment:sse,uv2_pars_vertex:ase,uv2_vertex:lse,worldpos_vertex:use,background_vert:cse,background_frag:dse,cube_vert:fse,cube_frag:hse,depth_vert:pse,depth_frag:mse,distanceRGBA_vert:gse,distanceRGBA_frag:vse,equirect_vert:yse,equirect_frag:bse,linedashed_vert:wse,linedashed_frag:_se,meshbasic_vert:Sse,meshbasic_frag:Cse,meshlambert_vert:Mse,meshlambert_frag:xse,meshmatcap_vert:Ese,meshmatcap_frag:Tse,meshnormal_vert:Ase,meshnormal_frag:kse,meshphong_vert:Pse,meshphong_frag:Lse,meshphysical_vert:Rse,meshphysical_frag:Ise,meshtoon_vert:Dse,meshtoon_frag:$se,points_vert:Nse,points_frag:Ose,shadow_vert:Fse,shadow_frag:Bse,sprite_vert:zse,sprite_frag:Vse},at={common:{diffuse:{value:new ht(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Jn},uv2Transform:{value:new Jn},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Ge(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new ht(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new ht(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Jn}},sprite:{diffuse:{value:new ht(16777215)},opacity:{value:1},center:{value:new Ge(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Jn}}},Bi={basic:{uniforms:rr([at.common,at.specularmap,at.envmap,at.aomap,at.lightmap,at.fog]),vertexShader:Nt.meshbasic_vert,fragmentShader:Nt.meshbasic_frag},lambert:{uniforms:rr([at.common,at.specularmap,at.envmap,at.aomap,at.lightmap,at.emissivemap,at.fog,at.lights,{emissive:{value:new ht(0)}}]),vertexShader:Nt.meshlambert_vert,fragmentShader:Nt.meshlambert_frag},phong:{uniforms:rr([at.common,at.specularmap,at.envmap,at.aomap,at.lightmap,at.emissivemap,at.bumpmap,at.normalmap,at.displacementmap,at.fog,at.lights,{emissive:{value:new ht(0)},specular:{value:new ht(1118481)},shininess:{value:30}}]),vertexShader:Nt.meshphong_vert,fragmentShader:Nt.meshphong_frag},standard:{uniforms:rr([at.common,at.envmap,at.aomap,at.lightmap,at.emissivemap,at.bumpmap,at.normalmap,at.displacementmap,at.roughnessmap,at.metalnessmap,at.fog,at.lights,{emissive:{value:new ht(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Nt.meshphysical_vert,fragmentShader:Nt.meshphysical_frag},toon:{uniforms:rr([at.common,at.aomap,at.lightmap,at.emissivemap,at.bumpmap,at.normalmap,at.displacementmap,at.gradientmap,at.fog,at.lights,{emissive:{value:new ht(0)}}]),vertexShader:Nt.meshtoon_vert,fragmentShader:Nt.meshtoon_frag},matcap:{uniforms:rr([at.common,at.bumpmap,at.normalmap,at.displacementmap,at.fog,{matcap:{value:null}}]),vertexShader:Nt.meshmatcap_vert,fragmentShader:Nt.meshmatcap_frag},points:{uniforms:rr([at.points,at.fog]),vertexShader:Nt.points_vert,fragmentShader:Nt.points_frag},dashed:{uniforms:rr([at.common,at.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Nt.linedashed_vert,fragmentShader:Nt.linedashed_frag},depth:{uniforms:rr([at.common,at.displacementmap]),vertexShader:Nt.depth_vert,fragmentShader:Nt.depth_frag},normal:{uniforms:rr([at.common,at.bumpmap,at.normalmap,at.displacementmap,{opacity:{value:1}}]),vertexShader:Nt.meshnormal_vert,fragmentShader:Nt.meshnormal_frag},sprite:{uniforms:rr([at.sprite,at.fog]),vertexShader:Nt.sprite_vert,fragmentShader:Nt.sprite_frag},background:{uniforms:{uvTransform:{value:new Jn},t2D:{value:null}},vertexShader:Nt.background_vert,fragmentShader:Nt.background_frag},cube:{uniforms:rr([at.envmap,{opacity:{value:1}}]),vertexShader:Nt.cube_vert,fragmentShader:Nt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Nt.equirect_vert,fragmentShader:Nt.equirect_frag},distanceRGBA:{uniforms:rr([at.common,at.displacementmap,{referencePosition:{value:new ne},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Nt.distanceRGBA_vert,fragmentShader:Nt.distanceRGBA_frag},shadow:{uniforms:rr([at.lights,at.fog,{color:{value:new ht(0)},opacity:{value:1}}]),vertexShader:Nt.shadow_vert,fragmentShader:Nt.shadow_frag}};Bi.physical={uniforms:rr([Bi.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Ge(1,1)},clearcoatNormalMap:{value:null},sheen:{value:0},sheenColor:{value:new ht(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Ge},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new ht(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new ht(1,1,1)},specularColorMap:{value:null}}]),vertexShader:Nt.meshphysical_vert,fragmentShader:Nt.meshphysical_frag};function Hse(t,e,n,r,i,o){const s=new ht(0);let a=i===!0?0:1,l,u,c=null,d=0,f=null;function h(g,p){let v=!1,y=p.isScene===!0?p.background:null;y&&y.isTexture&&(y=e.get(y));const w=t.xr,_=w.getSession&&w.getSession();_&&_.environmentBlendMode==="additive"&&(y=null),y===null?m(s,a):y&&y.isColor&&(m(y,1),v=!0),(t.autoClear||v)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),y&&(y.isCubeTexture||y.mapping===Hh)?(u===void 0&&(u=new it(new An(1,1,1),new Ur({name:"BackgroundCubeMaterial",uniforms:Dl(Bi.cube.uniforms),vertexShader:Bi.cube.vertexShader,fragmentShader:Bi.cube.fragmentShader,side:Si,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(b,S,M){this.matrixWorld.copyPosition(M.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(u)),u.material.uniforms.envMap.value=y,u.material.uniforms.flipEnvMap.value=y.isCubeTexture&&y.isRenderTargetTexture===!1?-1:1,(c!==y||d!==y.version||f!==t.toneMapping)&&(u.material.needsUpdate=!0,c=y,d=y.version,f=t.toneMapping),g.unshift(u,u.geometry,u.material,0,0,null)):y&&y.isTexture&&(l===void 0&&(l=new it(new Xl(2,2),new Ur({name:"BackgroundMaterial",uniforms:Dl(Bi.background.uniforms),vertexShader:Bi.background.vertexShader,fragmentShader:Bi.background.fragmentShader,side:yc,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(l)),l.material.uniforms.t2D.value=y,y.matrixAutoUpdate===!0&&y.updateMatrix(),l.material.uniforms.uvTransform.value.copy(y.matrix),(c!==y||d!==y.version||f!==t.toneMapping)&&(l.material.needsUpdate=!0,c=y,d=y.version,f=t.toneMapping),g.unshift(l,l.geometry,l.material,0,0,null))}function m(g,p){n.buffers.color.setClear(g.r,g.g,g.b,p,o)}return{getClearColor:function(){return s},setClearColor:function(g,p=1){s.set(g),a=p,m(s,a)},getClearAlpha:function(){return a},setClearAlpha:function(g){a=g,m(s,a)},render:h}}function Use(t,e,n,r){const i=t.getParameter(34921),o=r.isWebGL2?null:e.get("OES_vertex_array_object"),s=r.isWebGL2||o!==null,a={},l=p(null);let u=l,c=!1;function d(D,B,L,A,P){let W=!1;if(s){const K=g(A,L,B);u!==K&&(u=K,h(u.object)),W=v(A,P),W&&y(A,P)}else{const K=B.wireframe===!0;(u.geometry!==A.id||u.program!==L.id||u.wireframe!==K)&&(u.geometry=A.id,u.program=L.id,u.wireframe=K,W=!0)}D.isInstancedMesh===!0&&(W=!0),P!==null&&n.update(P,34963),(W||c)&&(c=!1,T(D,B,L,A),P!==null&&t.bindBuffer(34963,n.get(P).buffer))}function f(){return r.isWebGL2?t.createVertexArray():o.createVertexArrayOES()}function h(D){return r.isWebGL2?t.bindVertexArray(D):o.bindVertexArrayOES(D)}function m(D){return r.isWebGL2?t.deleteVertexArray(D):o.deleteVertexArrayOES(D)}function g(D,B,L){const A=L.wireframe===!0;let P=a[D.id];P===void 0&&(P={},a[D.id]=P);let W=P[B.id];W===void 0&&(W={},P[B.id]=W);let K=W[A];return K===void 0&&(K=p(f()),W[A]=K),K}function p(D){const B=[],L=[],A=[];for(let P=0;P<i;P++)B[P]=0,L[P]=0,A[P]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:B,enabledAttributes:L,attributeDivisors:A,object:D,attributes:{},index:null}}function v(D,B){const L=u.attributes,A=D.attributes;let P=0;for(const W in A){const K=L[W],te=A[W];if(K===void 0||K.attribute!==te||K.data!==te.data)return!0;P++}return u.attributesNum!==P||u.index!==B}function y(D,B){const L={},A=D.attributes;let P=0;for(const W in A){const K=A[W],te={};te.attribute=K,K.data&&(te.data=K.data),L[W]=te,P++}u.attributes=L,u.attributesNum=P,u.index=B}function w(){const D=u.newAttributes;for(let B=0,L=D.length;B<L;B++)D[B]=0}function _(D){b(D,0)}function b(D,B){const L=u.newAttributes,A=u.enabledAttributes,P=u.attributeDivisors;L[D]=1,A[D]===0&&(t.enableVertexAttribArray(D),A[D]=1),P[D]!==B&&((r.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](D,B),P[D]=B)}function S(){const D=u.newAttributes,B=u.enabledAttributes;for(let L=0,A=B.length;L<A;L++)B[L]!==D[L]&&(t.disableVertexAttribArray(L),B[L]=0)}function M(D,B,L,A,P,W){r.isWebGL2===!0&&(L===5124||L===5125)?t.vertexAttribIPointer(D,B,L,P,W):t.vertexAttribPointer(D,B,L,A,P,W)}function T(D,B,L,A){if(r.isWebGL2===!1&&(D.isInstancedMesh||A.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;w();const P=A.attributes,W=L.getAttributes(),K=B.defaultAttributeValues;for(const te in W){const J=W[te];if(J.location>=0){let se=P[te];if(se===void 0&&(te==="instanceMatrix"&&D.instanceMatrix&&(se=D.instanceMatrix),te==="instanceColor"&&D.instanceColor&&(se=D.instanceColor)),se!==void 0){const Te=se.normalized,Le=se.itemSize,q=n.get(se);if(q===void 0)continue;const re=q.buffer,he=q.type,we=q.bytesPerElement;if(se.isInterleavedBufferAttribute){const ye=se.data,ze=ye.stride,be=se.offset;if(ye.isInstancedInterleavedBuffer){for(let U=0;U<J.locationSize;U++)b(J.location+U,ye.meshPerAttribute);D.isInstancedMesh!==!0&&A._maxInstanceCount===void 0&&(A._maxInstanceCount=ye.meshPerAttribute*ye.count)}else for(let U=0;U<J.locationSize;U++)_(J.location+U);t.bindBuffer(34962,re);for(let U=0;U<J.locationSize;U++)M(J.location+U,Le/J.locationSize,he,Te,ze*we,(be+Le/J.locationSize*U)*we)}else{if(se.isInstancedBufferAttribute){for(let ye=0;ye<J.locationSize;ye++)b(J.location+ye,se.meshPerAttribute);D.isInstancedMesh!==!0&&A._maxInstanceCount===void 0&&(A._maxInstanceCount=se.meshPerAttribute*se.count)}else for(let ye=0;ye<J.locationSize;ye++)_(J.location+ye);t.bindBuffer(34962,re);for(let ye=0;ye<J.locationSize;ye++)M(J.location+ye,Le/J.locationSize,he,Te,Le*we,Le/J.locationSize*ye*we)}}else if(K!==void 0){const Te=K[te];if(Te!==void 0)switch(Te.length){case 2:t.vertexAttrib2fv(J.location,Te);break;case 3:t.vertexAttrib3fv(J.location,Te);break;case 4:t.vertexAttrib4fv(J.location,Te);break;default:t.vertexAttrib1fv(J.location,Te)}}}}S()}function N(){R();for(const D in a){const B=a[D];for(const L in B){const A=B[L];for(const P in A)m(A[P].object),delete A[P];delete B[L]}delete a[D]}}function I(D){if(a[D.id]===void 0)return;const B=a[D.id];for(const L in B){const A=B[L];for(const P in A)m(A[P].object),delete A[P];delete B[L]}delete a[D.id]}function x(D){for(const B in a){const L=a[B];if(L[D.id]===void 0)continue;const A=L[D.id];for(const P in A)m(A[P].object),delete A[P];delete L[D.id]}}function R(){O(),c=!0,u!==l&&(u=l,h(u.object))}function O(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:d,reset:R,resetDefaultState:O,dispose:N,releaseStatesOfGeometry:I,releaseStatesOfProgram:x,initAttributes:w,enableAttribute:_,disableUnusedAttributes:S}}function Wse(t,e,n,r){const i=r.isWebGL2;let o;function s(u){o=u}function a(u,c){t.drawArrays(o,u,c),n.update(c,o,1)}function l(u,c,d){if(d===0)return;let f,h;if(i)f=t,h="drawArraysInstanced";else if(f=e.get("ANGLE_instanced_arrays"),h="drawArraysInstancedANGLE",f===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}f[h](o,u,c,d),n.update(c,o,d)}this.setMode=s,this.render=a,this.renderInstances=l}function Gse(t,e,n){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const M=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(M.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function o(M){if(M==="highp"){if(t.getShaderPrecisionFormat(35633,36338).precision>0&&t.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";M="mediump"}return M==="mediump"&&t.getShaderPrecisionFormat(35633,36337).precision>0&&t.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const s=typeof WebGL2RenderingContext!="undefined"&&t instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext!="undefined"&&t instanceof WebGL2ComputeRenderingContext;let a=n.precision!==void 0?n.precision:"highp";const l=o(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const u=s||e.has("WEBGL_draw_buffers"),c=n.logarithmicDepthBuffer===!0,d=t.getParameter(34930),f=t.getParameter(35660),h=t.getParameter(3379),m=t.getParameter(34076),g=t.getParameter(34921),p=t.getParameter(36347),v=t.getParameter(36348),y=t.getParameter(36349),w=f>0,_=s||e.has("OES_texture_float"),b=w&&_,S=s?t.getParameter(36183):0;return{isWebGL2:s,drawBuffers:u,getMaxAnisotropy:i,getMaxPrecision:o,precision:a,logarithmicDepthBuffer:c,maxTextures:d,maxVertexTextures:f,maxTextureSize:h,maxCubemapSize:m,maxAttributes:g,maxVertexUniforms:p,maxVaryings:v,maxFragmentUniforms:y,vertexTextures:w,floatFragmentTextures:_,floatVertexTextures:b,maxSamples:S}}function jse(t){const e=this;let n=null,r=0,i=!1,o=!1;const s=new ao,a=new Jn,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,f,h){const m=d.length!==0||f||r!==0||i;return i=f,n=c(d,h,0),r=d.length,m},this.beginShadows=function(){o=!0,c(null)},this.endShadows=function(){o=!1,u()},this.setState=function(d,f,h){const m=d.clippingPlanes,g=d.clipIntersection,p=d.clipShadows,v=t.get(d);if(!i||m===null||m.length===0||o&&!p)o?c(null):u();else{const y=o?0:r,w=y*4;let _=v.clippingState||null;l.value=_,_=c(m,f,w,h);for(let b=0;b!==w;++b)_[b]=n[b];v.clippingState=_,this.numIntersection=g?this.numPlanes:0,this.numPlanes+=y}};function u(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function c(d,f,h,m){const g=d!==null?d.length:0;let p=null;if(g!==0){if(p=l.value,m!==!0||p===null){const v=h+g*4,y=f.matrixWorldInverse;a.getNormalMatrix(y),(p===null||p.length<v)&&(p=new Float32Array(v));for(let w=0,_=h;w!==g;++w,_+=4)s.copy(d[w]).applyMatrix4(y,a),s.normal.toArray(p,_),p[_+3]=s.constant}l.value=p,l.needsUpdate=!0}return e.numPlanes=g,e.numIntersection=0,p}}function Kse(t){let e=new WeakMap;function n(s,a){return a===qg?s.mapping=Ll:a===Yg&&(s.mapping=Rl),s}function r(s){if(s&&s.isTexture&&s.isRenderTargetTexture===!1){const a=s.mapping;if(a===qg||a===Yg)if(e.has(s)){const l=e.get(s).texture;return n(l,s.mapping)}else{const l=s.image;if(l&&l.height>0){const u=new iT(l.height/2);return u.fromEquirectangularTexture(t,s),e.set(s,u),s.addEventListener("dispose",i),n(u.texture,s.mapping)}else return null}}return s}function i(s){const a=s.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function o(){e=new WeakMap}return{get:r,dispose:o}}class Z0 extends Y0{constructor(e=-1,n=1,r=1,i=-1,o=.1,s=2e3){super();this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=o,this.far=s,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,o,s){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let o=r-e,s=r+e,a=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,c=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=u*this.view.offsetX,s=o+u*this.view.width,a-=c*this.view.offsetY,l=a-c*this.view.height}this.projectionMatrix.makeOrthographic(o,s,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}Z0.prototype.isOrthographicCamera=!0;const tl=4,w_=[.125,.215,.35,.446,.526,.582],Ds=20,wm=new Z0,__=new ht;let _m=null;const ks=(1+Math.sqrt(5))/2,za=1/ks,S_=[new ne(1,1,1),new ne(-1,1,1),new ne(1,1,-1),new ne(-1,1,-1),new ne(0,ks,za),new ne(0,ks,-za),new ne(za,0,ks),new ne(-za,0,ks),new ne(ks,za,0),new ne(-ks,za,0)];class C_{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100){_m=this._renderer.getRenderTarget(),this._setSize(256);const o=this._allocateTargets();return o.depthBuffer=!0,this._sceneToCubeUV(e,r,i,o),n>0&&this._blur(o,0,0,n),this._applyPMREM(o),this._cleanup(o),o}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=E_(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=x_(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(_m),e.scissorTest=!1,Ad(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===Ll||e.mapping===Rl?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),_m=this._renderer.getRenderTarget();const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize-32,r={magFilter:Yn,minFilter:Yn,generateMipmaps:!1,type:fl,format:$r,encoding:Co,depthBuffer:!1},i=M_(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=M_(e,n,r);const{_lodMax:o}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=qse(o)),this._blurMaterial=Yse(o,e,n)}return i}_compileMaterial(e){const n=new it(this._lodPlanes[0],e);this._renderer.compile(n,wm)}_sceneToCubeUV(e,n,r,i){const a=new cr(90,1,n,r),l=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],c=this._renderer,d=c.autoClear,f=c.toneMapping;c.getClearColor(__),c.toneMapping=po,c.autoClear=!1;const h=new ya({name:"PMREM.Background",side:Si,depthWrite:!1,depthTest:!1}),m=new it(new An,h);let g=!1;const p=e.background;p?p.isColor&&(h.color.copy(p),e.background=null,g=!0):(h.color.copy(__),g=!0);for(let v=0;v<6;v++){const y=v%3;y===0?(a.up.set(0,l[v],0),a.lookAt(u[v],0,0)):y===1?(a.up.set(0,0,l[v]),a.lookAt(0,u[v],0)):(a.up.set(0,l[v],0),a.lookAt(0,0,u[v]));const w=this._cubeSize;Ad(i,y*w,v>2?w:0,w,w),c.setRenderTarget(i),g&&c.render(m,a),c.render(e,a)}m.geometry.dispose(),m.material.dispose(),c.toneMapping=f,c.autoClear=d,e.background=p}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===Ll||e.mapping===Rl;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=E_()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=x_());const o=i?this._cubemapMaterial:this._equirectMaterial,s=new it(this._lodPlanes[0],o),a=o.uniforms;a.envMap.value=e;const l=this._cubeSize;Ad(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(s,wm)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const o=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),s=S_[(i-1)%S_.length];this._blur(e,i-1,i,o,s)}n.autoClear=r}_blur(e,n,r,i,o){const s=this._pingPongRenderTarget;this._halfBlur(e,s,n,r,i,"latitudinal",o),this._halfBlur(s,e,r,r,i,"longitudinal",o)}_halfBlur(e,n,r,i,o,s,a){const l=this._renderer,u=this._blurMaterial;s!=="latitudinal"&&s!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const c=3,d=new it(this._lodPlanes[i],u),f=u.uniforms,h=this._sizeLods[r]-1,m=isFinite(o)?Math.PI/(2*h):2*Math.PI/(2*Ds-1),g=o/m,p=isFinite(o)?1+Math.floor(c*g):Ds;p>Ds&&console.warn(`sigmaRadians, ${o}, is too large and will clip, as it requested ${p} samples when the maximum is set to ${Ds}`);const v=[];let y=0;for(let M=0;M<Ds;++M){const T=M/g,N=Math.exp(-T*T/2);v.push(N),M===0?y+=N:M<p&&(y+=2*N)}for(let M=0;M<v.length;M++)v[M]=v[M]/y;f.envMap.value=e.texture,f.samples.value=p,f.weights.value=v,f.latitudinal.value=s==="latitudinal",a&&(f.poleAxis.value=a);const{_lodMax:w}=this;f.dTheta.value=m,f.mipInt.value=w-r;const _=this._sizeLods[i],b=3*_*(i>w-tl?i-w+tl:0),S=4*(this._cubeSize-_);Ad(n,b,S,3*_,2*_),l.setRenderTarget(n),l.render(d,wm)}}function qse(t){const e=[],n=[],r=[];let i=t;const o=t-tl+1+w_.length;for(let s=0;s<o;s++){const a=Math.pow(2,i);n.push(a);let l=1/a;s>t-tl?l=w_[s-t+tl-1]:s===0&&(l=0),r.push(l);const u=1/(a-1),c=-u/2,d=1+u/2,f=[c,c,d,c,d,d,c,c,d,d,c,d],h=6,m=6,g=3,p=2,v=1,y=new Float32Array(g*m*h),w=new Float32Array(p*m*h),_=new Float32Array(v*m*h);for(let S=0;S<h;S++){const M=S%3*2/3-1,T=S>2?0:-1,N=[M,T,0,M+2/3,T,0,M+2/3,T+1,0,M,T,0,M+2/3,T+1,0,M,T+1,0];y.set(N,g*m*S),w.set(f,p*m*S);const I=[S,S,S,S,S,S];_.set(I,v*m*S)}const b=new Ht;b.setAttribute("position",new _n(y,g)),b.setAttribute("uv",new _n(w,p)),b.setAttribute("faceIndex",new _n(_,v)),e.push(b),i>tl&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function M_(t,e,n){const r=new Br(t,e,n);return r.texture.mapping=Hh,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Ad(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function Yse(t,e,n){const r=new Float32Array(Ds),i=new ne(0,1,0);return new Ur({name:"SphericalGaussianBlur",defines:{n:Ds,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:J0(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Qo,depthTest:!1,depthWrite:!1})}function x_(){return new Ur({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:J0(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Qo,depthTest:!1,depthWrite:!1})}function E_(){return new Ur({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:J0(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Qo,depthTest:!1,depthWrite:!1})}function J0(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Xse(t){let e=new WeakMap,n=null;function r(a){if(a&&a.isTexture){const l=a.mapping,u=l===qg||l===Yg,c=l===Ll||l===Rl;if(u||c)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let d=e.get(a);return n===null&&(n=new C_(t)),d=u?n.fromEquirectangular(a,d):n.fromCubemap(a,d),e.set(a,d),d.texture}else{if(e.has(a))return e.get(a).texture;{const d=a.image;if(u&&d&&d.height>0||c&&d&&i(d)){n===null&&(n=new C_(t));const f=u?n.fromEquirectangular(a):n.fromCubemap(a);return e.set(a,f),a.addEventListener("dispose",o),f.texture}else return null}}}return a}function i(a){let l=0;const u=6;for(let c=0;c<u;c++)a[c]!==void 0&&l++;return l===u}function o(a){const l=a.target;l.removeEventListener("dispose",o);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function s(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:s}}function Zse(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(r){r.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(r){const i=n(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function Jse(t,e,n,r){const i={},o=new WeakMap;function s(d){const f=d.target;f.index!==null&&e.remove(f.index);for(const m in f.attributes)e.remove(f.attributes[m]);f.removeEventListener("dispose",s),delete i[f.id];const h=o.get(f);h&&(e.remove(h),o.delete(f)),r.releaseStatesOfGeometry(f),f.isInstancedBufferGeometry===!0&&delete f._maxInstanceCount,n.memory.geometries--}function a(d,f){return i[f.id]===!0||(f.addEventListener("dispose",s),i[f.id]=!0,n.memory.geometries++),f}function l(d){const f=d.attributes;for(const m in f)e.update(f[m],34962);const h=d.morphAttributes;for(const m in h){const g=h[m];for(let p=0,v=g.length;p<v;p++)e.update(g[p],34962)}}function u(d){const f=[],h=d.index,m=d.attributes.position;let g=0;if(h!==null){const y=h.array;g=h.version;for(let w=0,_=y.length;w<_;w+=3){const b=y[w+0],S=y[w+1],M=y[w+2];f.push(b,S,S,M,M,b)}}else{const y=m.array;g=m.version;for(let w=0,_=y.length/3-1;w<_;w+=3){const b=w+0,S=w+1,M=w+2;f.push(b,S,S,M,M,b)}}const p=new(QE(f)?rT:nT)(f,1);p.version=g;const v=o.get(d);v&&e.remove(v),o.set(d,p)}function c(d){const f=o.get(d);if(f){const h=d.index;h!==null&&f.version<h.version&&u(d)}else u(d);return o.get(d)}return{get:a,update:l,getWireframeAttribute:c}}function Qse(t,e,n,r){const i=r.isWebGL2;let o;function s(f){o=f}let a,l;function u(f){a=f.type,l=f.bytesPerElement}function c(f,h){t.drawElements(o,h,a,f*l),n.update(h,o,1)}function d(f,h,m){if(m===0)return;let g,p;if(i)g=t,p="drawElementsInstanced";else if(g=e.get("ANGLE_instanced_arrays"),p="drawElementsInstancedANGLE",g===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}g[p](o,h,a,f*l,m),n.update(h,o,m)}this.setMode=s,this.setIndex=u,this.render=c,this.renderInstances=d}function eae(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(o,s,a){switch(n.calls++,s){case 4:n.triangles+=a*(o/3);break;case 1:n.lines+=a*(o/2);break;case 3:n.lines+=a*(o-1);break;case 2:n.lines+=a*o;break;case 0:n.points+=a*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",s);break}}function i(){n.frame++,n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function tae(t,e){return t[0]-e[0]}function nae(t,e){return Math.abs(e[1])-Math.abs(t[1])}function Sm(t,e){let n=1;const r=e.isInterleavedBufferAttribute?e.data.array:e.array;r instanceof Int8Array?n=127:r instanceof Int16Array?n=32767:r instanceof Int32Array?n=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",r),t.divideScalar(n)}function rae(t,e,n){const r={},i=new Float32Array(8),o=new WeakMap,s=new nn,a=[];for(let u=0;u<8;u++)a[u]=[u,0];function l(u,c,d,f){const h=u.morphTargetInfluences;if(e.isWebGL2===!0){const g=c.morphAttributes.position||c.morphAttributes.normal||c.morphAttributes.color,p=g!==void 0?g.length:0;let v=o.get(c);if(v===void 0||v.count!==p){let L=function(){D.dispose(),o.delete(c),c.removeEventListener("dispose",L)};var m=L;v!==void 0&&v.texture.dispose();const _=c.morphAttributes.position!==void 0,b=c.morphAttributes.normal!==void 0,S=c.morphAttributes.color!==void 0,M=c.morphAttributes.position||[],T=c.morphAttributes.normal||[],N=c.morphAttributes.color||[];let I=0;_===!0&&(I=1),b===!0&&(I=2),S===!0&&(I=3);let x=c.attributes.position.count*I,R=1;x>e.maxTextureSize&&(R=Math.ceil(x/e.maxTextureSize),x=e.maxTextureSize);const O=new Float32Array(x*R*4*p),D=new Wh(O,x,R,p);D.type=Hs,D.needsUpdate=!0;const B=I*4;for(let A=0;A<p;A++){const P=M[A],W=T[A],K=N[A],te=x*R*4*A;for(let J=0;J<P.count;J++){const se=J*B;_===!0&&(s.fromBufferAttribute(P,J),P.normalized===!0&&Sm(s,P),O[te+se+0]=s.x,O[te+se+1]=s.y,O[te+se+2]=s.z,O[te+se+3]=0),b===!0&&(s.fromBufferAttribute(W,J),W.normalized===!0&&Sm(s,W),O[te+se+4]=s.x,O[te+se+5]=s.y,O[te+se+6]=s.z,O[te+se+7]=0),S===!0&&(s.fromBufferAttribute(K,J),K.normalized===!0&&Sm(s,K),O[te+se+8]=s.x,O[te+se+9]=s.y,O[te+se+10]=s.z,O[te+se+11]=K.itemSize===4?s.w:1)}}v={count:p,texture:D,size:new Ge(x,R)},o.set(c,v),c.addEventListener("dispose",L)}let y=0;for(let _=0;_<h.length;_++)y+=h[_];const w=c.morphTargetsRelative?1:1-y;f.getUniforms().setValue(t,"morphTargetBaseInfluence",w),f.getUniforms().setValue(t,"morphTargetInfluences",h),f.getUniforms().setValue(t,"morphTargetsTexture",v.texture,n),f.getUniforms().setValue(t,"morphTargetsTextureSize",v.size)}else{const g=h===void 0?0:h.length;let p=r[c.id];if(p===void 0||p.length!==g){p=[];for(let b=0;b<g;b++)p[b]=[b,0];r[c.id]=p}for(let b=0;b<g;b++){const S=p[b];S[0]=b,S[1]=h[b]}p.sort(nae);for(let b=0;b<8;b++)b<g&&p[b][1]?(a[b][0]=p[b][0],a[b][1]=p[b][1]):(a[b][0]=Number.MAX_SAFE_INTEGER,a[b][1]=0);a.sort(tae);const v=c.morphAttributes.position,y=c.morphAttributes.normal;let w=0;for(let b=0;b<8;b++){const S=a[b],M=S[0],T=S[1];M!==Number.MAX_SAFE_INTEGER&&T?(v&&c.getAttribute("morphTarget"+b)!==v[M]&&c.setAttribute("morphTarget"+b,v[M]),y&&c.getAttribute("morphNormal"+b)!==y[M]&&c.setAttribute("morphNormal"+b,y[M]),i[b]=T,w+=T):(v&&c.hasAttribute("morphTarget"+b)===!0&&c.deleteAttribute("morphTarget"+b),y&&c.hasAttribute("morphNormal"+b)===!0&&c.deleteAttribute("morphNormal"+b),i[b]=0)}const _=c.morphTargetsRelative?1:1-w;f.getUniforms().setValue(t,"morphTargetBaseInfluence",_),f.getUniforms().setValue(t,"morphTargetInfluences",i)}}return{update:l}}function iae(t,e,n,r){let i=new WeakMap;function o(l){const u=r.render.frame,c=l.geometry,d=e.get(l,c);return i.get(d)!==u&&(e.update(d),i.set(d,u)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),n.update(l.instanceMatrix,34962),l.instanceColor!==null&&n.update(l.instanceColor,34962)),d}function s(){i=new WeakMap}function a(l){const u=l.target;u.removeEventListener("dispose",a),n.remove(u.instanceMatrix),u.instanceColor!==null&&n.remove(u.instanceColor)}return{update:o,dispose:s}}const sT=new Rn,aT=new Wh,lT=new Gh,uT=new jh,T_=[],A_=[],k_=new Float32Array(16),P_=new Float32Array(9),L_=new Float32Array(4);function Zl(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let o=T_[i];if(o===void 0&&(o=new Float32Array(i),T_[i]=o),e!==0){r.toArray(o,0);for(let s=1,a=0;s!==e;++s)a+=n,t[s].toArray(o,a)}return o}function dr(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function or(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function qh(t,e){let n=A_[e];n===void 0&&(n=new Int32Array(e),A_[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function oae(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function sae(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(dr(n,e))return;t.uniform2fv(this.addr,e),or(n,e)}}function aae(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(dr(n,e))return;t.uniform3fv(this.addr,e),or(n,e)}}function lae(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(dr(n,e))return;t.uniform4fv(this.addr,e),or(n,e)}}function uae(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(dr(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),or(n,e)}else{if(dr(n,r))return;L_.set(r),t.uniformMatrix2fv(this.addr,!1,L_),or(n,r)}}function cae(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(dr(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),or(n,e)}else{if(dr(n,r))return;P_.set(r),t.uniformMatrix3fv(this.addr,!1,P_),or(n,r)}}function dae(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(dr(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),or(n,e)}else{if(dr(n,r))return;k_.set(r),t.uniformMatrix4fv(this.addr,!1,k_),or(n,r)}}function fae(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function hae(t,e){const n=this.cache;dr(n,e)||(t.uniform2iv(this.addr,e),or(n,e))}function pae(t,e){const n=this.cache;dr(n,e)||(t.uniform3iv(this.addr,e),or(n,e))}function mae(t,e){const n=this.cache;dr(n,e)||(t.uniform4iv(this.addr,e),or(n,e))}function gae(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function vae(t,e){const n=this.cache;dr(n,e)||(t.uniform2uiv(this.addr,e),or(n,e))}function yae(t,e){const n=this.cache;dr(n,e)||(t.uniform3uiv(this.addr,e),or(n,e))}function bae(t,e){const n=this.cache;dr(n,e)||(t.uniform4uiv(this.addr,e),or(n,e))}function wae(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2D(e||sT,i)}function _ae(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||lT,i)}function Sae(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||uT,i)}function Cae(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||aT,i)}function Mae(t){switch(t){case 5126:return oae;case 35664:return sae;case 35665:return aae;case 35666:return lae;case 35674:return uae;case 35675:return cae;case 35676:return dae;case 5124:case 35670:return fae;case 35667:case 35671:return hae;case 35668:case 35672:return pae;case 35669:case 35673:return mae;case 5125:return gae;case 36294:return vae;case 36295:return yae;case 36296:return bae;case 35678:case 36198:case 36298:case 36306:case 35682:return wae;case 35679:case 36299:case 36307:return _ae;case 35680:case 36300:case 36308:case 36293:return Sae;case 36289:case 36303:case 36311:case 36292:return Cae}}function xae(t,e){t.uniform1fv(this.addr,e)}function Eae(t,e){const n=Zl(e,this.size,2);t.uniform2fv(this.addr,n)}function Tae(t,e){const n=Zl(e,this.size,3);t.uniform3fv(this.addr,n)}function Aae(t,e){const n=Zl(e,this.size,4);t.uniform4fv(this.addr,n)}function kae(t,e){const n=Zl(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function Pae(t,e){const n=Zl(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function Lae(t,e){const n=Zl(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function Rae(t,e){t.uniform1iv(this.addr,e)}function Iae(t,e){t.uniform2iv(this.addr,e)}function Dae(t,e){t.uniform3iv(this.addr,e)}function $ae(t,e){t.uniform4iv(this.addr,e)}function Nae(t,e){t.uniform1uiv(this.addr,e)}function Oae(t,e){t.uniform2uiv(this.addr,e)}function Fae(t,e){t.uniform3uiv(this.addr,e)}function Bae(t,e){t.uniform4uiv(this.addr,e)}function zae(t,e,n){const r=e.length,i=qh(n,r);t.uniform1iv(this.addr,i);for(let o=0;o!==r;++o)n.setTexture2D(e[o]||sT,i[o])}function Vae(t,e,n){const r=e.length,i=qh(n,r);t.uniform1iv(this.addr,i);for(let o=0;o!==r;++o)n.setTexture3D(e[o]||lT,i[o])}function Hae(t,e,n){const r=e.length,i=qh(n,r);t.uniform1iv(this.addr,i);for(let o=0;o!==r;++o)n.setTextureCube(e[o]||uT,i[o])}function Uae(t,e,n){const r=e.length,i=qh(n,r);t.uniform1iv(this.addr,i);for(let o=0;o!==r;++o)n.setTexture2DArray(e[o]||aT,i[o])}function Wae(t){switch(t){case 5126:return xae;case 35664:return Eae;case 35665:return Tae;case 35666:return Aae;case 35674:return kae;case 35675:return Pae;case 35676:return Lae;case 5124:case 35670:return Rae;case 35667:case 35671:return Iae;case 35668:case 35672:return Dae;case 35669:case 35673:return $ae;case 5125:return Nae;case 36294:return Oae;case 36295:return Fae;case 36296:return Bae;case 35678:case 36198:case 36298:case 36306:case 35682:return zae;case 35679:case 36299:case 36307:return Vae;case 35680:case 36300:case 36308:case 36293:return Hae;case 36289:case 36303:case 36311:case 36292:return Uae}}function Gae(t,e,n){this.id=t,this.addr=n,this.cache=[],this.setValue=Mae(e.type)}function cT(t,e,n){this.id=t,this.addr=n,this.cache=[],this.size=e.size,this.setValue=Wae(e.type)}cT.prototype.updateCache=function(t){const e=this.cache;t instanceof Float32Array&&e.length!==t.length&&(this.cache=new Float32Array(t.length)),or(e,t)};function dT(t){this.id=t,this.seq=[],this.map={}}dT.prototype.setValue=function(t,e,n){const r=this.seq;for(let i=0,o=r.length;i!==o;++i){const s=r[i];s.setValue(t,e[s.id],n)}};const Cm=/(\w+)(\])?(\[|\.)?/g;function R_(t,e){t.seq.push(e),t.map[e.id]=e}function jae(t,e,n){const r=t.name,i=r.length;for(Cm.lastIndex=0;;){const o=Cm.exec(r),s=Cm.lastIndex;let a=o[1];const l=o[2]==="]",u=o[3];if(l&&(a=a|0),u===void 0||u==="["&&s+2===i){R_(n,u===void 0?new Gae(a,t,e):new cT(a,t,e));break}else{let d=n.map[a];d===void 0&&(d=new dT(a),R_(n,d)),n=d}}}function es(t,e){this.seq=[],this.map={};const n=t.getProgramParameter(e,35718);for(let r=0;r<n;++r){const i=t.getActiveUniform(e,r),o=t.getUniformLocation(e,i.name);jae(i,o,this)}}es.prototype.setValue=function(t,e,n,r){const i=this.map[e];i!==void 0&&i.setValue(t,n,r)};es.prototype.setOptional=function(t,e,n){const r=e[n];r!==void 0&&this.setValue(t,n,r)};es.upload=function(t,e,n,r){for(let i=0,o=e.length;i!==o;++i){const s=e[i],a=n[s.id];a.needsUpdate!==!1&&s.setValue(t,a.value,r)}};es.seqWithValue=function(t,e){const n=[];for(let r=0,i=t.length;r!==i;++r){const o=t[r];o.id in e&&n.push(o)}return n};function I_(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}let Kae=0;function qae(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),o=Math.min(e+6,n.length);for(let s=i;s<o;s++)r.push(s+1+": "+n[s]);return r.join(`
`)}function Yae(t){switch(t){case Co:return["Linear","( value )"];case yn:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",t),["Linear","( value )"]}}function D_(t,e,n){const r=t.getShaderParameter(e,35713),i=t.getShaderInfoLog(e).trim();if(r&&i==="")return"";const o=parseInt(/ERROR: 0:(\d+)/.exec(i)[1]);return n.toUpperCase()+`

`+i+`

`+qae(t.getShaderSource(e),o)}function Xae(t,e){const n=Yae(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function Zae(t,e){let n;switch(e){case rre:n="Linear";break;case ire:n="Reinhard";break;case ore:n="OptimizedCineon";break;case sre:n="ACESFilmic";break;case are:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function Jae(t){return[t.extensionDerivatives||!!t.envMapCubeUVHeight||t.bumpMap||t.tangentSpaceNormalMap||t.clearcoatNormalMap||t.flatShading||t.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Au).join(`
`)}function Qae(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function ele(t,e){const n={},r=t.getProgramParameter(e,35721);for(let i=0;i<r;i++){const o=t.getActiveAttrib(e,i),s=o.name;let a=1;o.type===35674&&(a=2),o.type===35675&&(a=3),o.type===35676&&(a=4),n[s]={type:o.type,location:t.getAttribLocation(e,s),locationSize:a}}return n}function Au(t){return t!==""}function $_(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function N_(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const tle=/^[ \t]*#include +<([\w\d./]+)>/gm;function ev(t){return t.replace(tle,nle)}function nle(t,e){const n=Nt[e];if(n===void 0)throw new Error("Can not resolve #include <"+e+">");return ev(n)}const rle=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,ile=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function O_(t){return t.replace(ile,fT).replace(rle,ole)}function ole(t,e,n,r){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),fT(t,e,n,r)}function fT(t,e,n,r){let i="";for(let o=parseInt(e);o<parseInt(n);o++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return i}function F_(t){let e="precision "+t.precision+` float;
precision `+t.precision+" int;";return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function sle(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===KE?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===$ne?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===Tu&&(e="SHADOWMAP_TYPE_VSM"),e}function ale(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case Ll:case Rl:e="ENVMAP_TYPE_CUBE";break;case Hh:e="ENVMAP_TYPE_CUBE_UV";break}return e}function lle(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case Rl:e="ENVMAP_MODE_REFRACTION";break}return e}function ule(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case Vh:e="ENVMAP_BLENDING_MULTIPLY";break;case tre:e="ENVMAP_BLENDING_MIX";break;case nre:e="ENVMAP_BLENDING_ADD";break}return e}function cle(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e/32+1)+3,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function dle(t,e,n,r){const i=t.getContext(),o=n.defines;let s=n.vertexShader,a=n.fragmentShader;const l=sle(n),u=ale(n),c=lle(n),d=ule(n),f=cle(n),h=n.isWebGL2?"":Jae(n),m=Qae(o),g=i.createProgram();let p,v,y=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(p=[m].filter(Au).join(`
`),p.length>0&&(p+=`
`),v=[h,m].filter(Au).join(`
`),v.length>0&&(v+=`
`)):(p=[F_(n),"#define SHADER_NAME "+n.shaderName,m,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define MAX_BONES "+n.maxBones,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.useVertexTexture?"#define BONE_TEXTURE":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Au).join(`
`),v=[h,F_(n),"#define SHADER_NAME "+n.shaderName,m,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.envMap?"#define "+c:"",n.envMap?"#define "+d:"",f?"#define CUBEUV_TEXEL_WIDTH "+f.texelWidth:"",f?"#define CUBEUV_TEXEL_HEIGHT "+f.texelHeight:"",f?"#define CUBEUV_MAX_MIP "+f.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==po?"#define TONE_MAPPING":"",n.toneMapping!==po?Nt.tonemapping_pars_fragment:"",n.toneMapping!==po?Zae("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Nt.encodings_pars_fragment,Xae("linearToOutputTexel",n.outputEncoding),n.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(Au).join(`
`)),s=ev(s),s=$_(s,n),s=N_(s,n),a=ev(a),a=$_(a,n),a=N_(a,n),s=O_(s),a=O_(a),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(y=`#version 300 es
`,p=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+p,v=["#define varying in",n.glslVersion===a_?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===a_?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+v);const w=y+p+s,_=y+v+a,b=I_(i,35633,w),S=I_(i,35632,_);if(i.attachShader(g,b),i.attachShader(g,S),n.index0AttributeName!==void 0?i.bindAttribLocation(g,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(g,0,"position"),i.linkProgram(g),t.debug.checkShaderErrors){const N=i.getProgramInfoLog(g).trim(),I=i.getShaderInfoLog(b).trim(),x=i.getShaderInfoLog(S).trim();let R=!0,O=!0;if(i.getProgramParameter(g,35714)===!1){R=!1;const D=D_(i,b,"vertex"),B=D_(i,S,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(g,35715)+`

Program Info Log: `+N+`
`+D+`
`+B)}else N!==""?console.warn("THREE.WebGLProgram: Program Info Log:",N):(I===""||x==="")&&(O=!1);O&&(this.diagnostics={runnable:R,programLog:N,vertexShader:{log:I,prefix:p},fragmentShader:{log:x,prefix:v}})}i.deleteShader(b),i.deleteShader(S);let M;this.getUniforms=function(){return M===void 0&&(M=new es(i,g)),M};let T;return this.getAttributes=function(){return T===void 0&&(T=ele(i,g)),T},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(g),this.program=void 0},this.name=n.shaderName,this.id=Kae++,this.cacheKey=e,this.usedTimes=1,this.program=g,this.vertexShader=b,this.fragmentShader=S,this}let fle=0;class hle{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),o=this._getShaderStage(r),s=this._getShaderCacheForMaterial(e);return s.has(i)===!1&&(s.add(i),i.usedTimes++),s.has(o)===!1&&(s.add(o),o.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;return n.has(e)===!1&&n.set(e,new Set),n.get(e)}_getShaderStage(e){const n=this.shaderCache;if(n.has(e)===!1){const r=new ple(e);n.set(e,r)}return n.get(e)}}class ple{constructor(e){this.id=fle++,this.code=e,this.usedTimes=0}}function mle(t,e,n,r,i,o,s){const a=new q0,l=new hle,u=[],c=i.isWebGL2,d=i.logarithmicDepthBuffer,f=i.floatVertexTextures,h=i.maxVertexUniforms,m=i.vertexTextures;let g=i.precision;const p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function v(x){const O=x.skeleton.bones;if(f)return 1024;{const B=Math.floor((h-20)/4),L=Math.min(B,O.length);return L<O.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+O.length+" bones. This GPU supports "+L+"."),0):L}}function y(x,R,O,D,B){const L=D.fog,A=B.geometry,P=x.isMeshStandardMaterial?D.environment:null,W=(x.isMeshStandardMaterial?n:e).get(x.envMap||P),K=!!W&&W.mapping===Hh?W.image.height:null,te=p[x.type],J=B.isSkinnedMesh?v(B):0;x.precision!==null&&(g=i.getMaxPrecision(x.precision),g!==x.precision&&console.warn("THREE.WebGLProgram.getParameters:",x.precision,"not supported, using",g,"instead."));const se=A.morphAttributes.position||A.morphAttributes.normal||A.morphAttributes.color,Te=se!==void 0?se.length:0;let Le=0;A.morphAttributes.position!==void 0&&(Le=1),A.morphAttributes.normal!==void 0&&(Le=2),A.morphAttributes.color!==void 0&&(Le=3);let q,re,he,we;if(te){const Q=Bi[te];q=Q.vertexShader,re=Q.fragmentShader}else q=x.vertexShader,re=x.fragmentShader,l.update(x),he=l.getVertexShaderID(x),we=l.getFragmentShaderID(x);const ye=t.getRenderTarget(),ze=x.alphaTest>0,be=x.clearcoat>0;return{isWebGL2:c,shaderID:te,shaderName:x.type,vertexShader:q,fragmentShader:re,defines:x.defines,customVertexShaderID:he,customFragmentShaderID:we,isRawShaderMaterial:x.isRawShaderMaterial===!0,glslVersion:x.glslVersion,precision:g,instancing:B.isInstancedMesh===!0,instancingColor:B.isInstancedMesh===!0&&B.instanceColor!==null,supportsVertexTextures:m,outputEncoding:ye===null?t.outputEncoding:ye.isXRRenderTarget===!0?ye.texture.encoding:Co,map:!!x.map,matcap:!!x.matcap,envMap:!!W,envMapMode:W&&W.mapping,envMapCubeUVHeight:K,lightMap:!!x.lightMap,aoMap:!!x.aoMap,emissiveMap:!!x.emissiveMap,bumpMap:!!x.bumpMap,normalMap:!!x.normalMap,objectSpaceNormalMap:x.normalMapType===kre,tangentSpaceNormalMap:x.normalMapType===ql,decodeVideoTexture:!!x.map&&x.map.isVideoTexture===!0&&x.map.encoding===yn,clearcoat:be,clearcoatMap:be&&!!x.clearcoatMap,clearcoatRoughnessMap:be&&!!x.clearcoatRoughnessMap,clearcoatNormalMap:be&&!!x.clearcoatNormalMap,displacementMap:!!x.displacementMap,roughnessMap:!!x.roughnessMap,metalnessMap:!!x.metalnessMap,specularMap:!!x.specularMap,specularIntensityMap:!!x.specularIntensityMap,specularColorMap:!!x.specularColorMap,opaque:x.transparent===!1&&x.blending===dl,alphaMap:!!x.alphaMap,alphaTest:ze,gradientMap:!!x.gradientMap,sheen:x.sheen>0,sheenColorMap:!!x.sheenColorMap,sheenRoughnessMap:!!x.sheenRoughnessMap,transmission:x.transmission>0,transmissionMap:!!x.transmissionMap,thicknessMap:!!x.thicknessMap,combine:x.combine,vertexTangents:!!x.normalMap&&!!A.attributes.tangent,vertexColors:x.vertexColors,vertexAlphas:x.vertexColors===!0&&!!A.attributes.color&&A.attributes.color.itemSize===4,vertexUvs:!!x.map||!!x.bumpMap||!!x.normalMap||!!x.specularMap||!!x.alphaMap||!!x.emissiveMap||!!x.roughnessMap||!!x.metalnessMap||!!x.clearcoatMap||!!x.clearcoatRoughnessMap||!!x.clearcoatNormalMap||!!x.displacementMap||!!x.transmissionMap||!!x.thicknessMap||!!x.specularIntensityMap||!!x.specularColorMap||!!x.sheenColorMap||!!x.sheenRoughnessMap,uvsVertexOnly:!(!!x.map||!!x.bumpMap||!!x.normalMap||!!x.specularMap||!!x.alphaMap||!!x.emissiveMap||!!x.roughnessMap||!!x.metalnessMap||!!x.clearcoatNormalMap||x.transmission>0||!!x.transmissionMap||!!x.thicknessMap||!!x.specularIntensityMap||!!x.specularColorMap||x.sheen>0||!!x.sheenColorMap||!!x.sheenRoughnessMap)&&!!x.displacementMap,fog:!!L,useFog:x.fog,fogExp2:L&&L.isFogExp2,flatShading:!!x.flatShading,sizeAttenuation:x.sizeAttenuation,logarithmicDepthBuffer:d,skinning:B.isSkinnedMesh===!0&&J>0,maxBones:J,useVertexTexture:f,morphTargets:A.morphAttributes.position!==void 0,morphNormals:A.morphAttributes.normal!==void 0,morphColors:A.morphAttributes.color!==void 0,morphTargetsCount:Te,morphTextureStride:Le,numDirLights:R.directional.length,numPointLights:R.point.length,numSpotLights:R.spot.length,numRectAreaLights:R.rectArea.length,numHemiLights:R.hemi.length,numDirLightShadows:R.directionalShadowMap.length,numPointLightShadows:R.pointShadowMap.length,numSpotLightShadows:R.spotShadowMap.length,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:x.dithering,shadowMapEnabled:t.shadowMap.enabled&&O.length>0,shadowMapType:t.shadowMap.type,toneMapping:x.toneMapped?t.toneMapping:po,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:x.premultipliedAlpha,doubleSided:x.side===So,flipSided:x.side===Si,depthPacking:x.depthPacking!==void 0?x.depthPacking:!1,index0AttributeName:x.index0AttributeName,extensionDerivatives:x.extensions&&x.extensions.derivatives,extensionFragDepth:x.extensions&&x.extensions.fragDepth,extensionDrawBuffers:x.extensions&&x.extensions.drawBuffers,extensionShaderTextureLOD:x.extensions&&x.extensions.shaderTextureLOD,rendererExtensionFragDepth:c||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:c||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:c||r.has("EXT_shader_texture_lod"),customProgramCacheKey:x.customProgramCacheKey()}}function w(x){const R=[];if(x.shaderID?R.push(x.shaderID):(R.push(x.customVertexShaderID),R.push(x.customFragmentShaderID)),x.defines!==void 0)for(const O in x.defines)R.push(O),R.push(x.defines[O]);return x.isRawShaderMaterial===!1&&(_(R,x),b(R,x),R.push(t.outputEncoding)),R.push(x.customProgramCacheKey),R.join()}function _(x,R){x.push(R.precision),x.push(R.outputEncoding),x.push(R.envMapMode),x.push(R.envMapCubeUVHeight),x.push(R.combine),x.push(R.vertexUvs),x.push(R.fogExp2),x.push(R.sizeAttenuation),x.push(R.maxBones),x.push(R.morphTargetsCount),x.push(R.morphAttributeCount),x.push(R.numDirLights),x.push(R.numPointLights),x.push(R.numSpotLights),x.push(R.numHemiLights),x.push(R.numRectAreaLights),x.push(R.numDirLightShadows),x.push(R.numPointLightShadows),x.push(R.numSpotLightShadows),x.push(R.shadowMapType),x.push(R.toneMapping),x.push(R.numClippingPlanes),x.push(R.numClipIntersection)}function b(x,R){a.disableAll(),R.isWebGL2&&a.enable(0),R.supportsVertexTextures&&a.enable(1),R.instancing&&a.enable(2),R.instancingColor&&a.enable(3),R.map&&a.enable(4),R.matcap&&a.enable(5),R.envMap&&a.enable(6),R.lightMap&&a.enable(7),R.aoMap&&a.enable(8),R.emissiveMap&&a.enable(9),R.bumpMap&&a.enable(10),R.normalMap&&a.enable(11),R.objectSpaceNormalMap&&a.enable(12),R.tangentSpaceNormalMap&&a.enable(13),R.clearcoat&&a.enable(14),R.clearcoatMap&&a.enable(15),R.clearcoatRoughnessMap&&a.enable(16),R.clearcoatNormalMap&&a.enable(17),R.displacementMap&&a.enable(18),R.specularMap&&a.enable(19),R.roughnessMap&&a.enable(20),R.metalnessMap&&a.enable(21),R.gradientMap&&a.enable(22),R.alphaMap&&a.enable(23),R.alphaTest&&a.enable(24),R.vertexColors&&a.enable(25),R.vertexAlphas&&a.enable(26),R.vertexUvs&&a.enable(27),R.vertexTangents&&a.enable(28),R.uvsVertexOnly&&a.enable(29),R.fog&&a.enable(30),x.push(a.mask),a.disableAll(),R.useFog&&a.enable(0),R.flatShading&&a.enable(1),R.logarithmicDepthBuffer&&a.enable(2),R.skinning&&a.enable(3),R.useVertexTexture&&a.enable(4),R.morphTargets&&a.enable(5),R.morphNormals&&a.enable(6),R.morphColors&&a.enable(7),R.premultipliedAlpha&&a.enable(8),R.shadowMapEnabled&&a.enable(9),R.physicallyCorrectLights&&a.enable(10),R.doubleSided&&a.enable(11),R.flipSided&&a.enable(12),R.depthPacking&&a.enable(13),R.dithering&&a.enable(14),R.specularIntensityMap&&a.enable(15),R.specularColorMap&&a.enable(16),R.transmission&&a.enable(17),R.transmissionMap&&a.enable(18),R.thicknessMap&&a.enable(19),R.sheen&&a.enable(20),R.sheenColorMap&&a.enable(21),R.sheenRoughnessMap&&a.enable(22),R.decodeVideoTexture&&a.enable(23),R.opaque&&a.enable(24),x.push(a.mask)}function S(x){const R=p[x.type];let O;if(R){const D=Bi[R];O=uie.clone(D.uniforms)}else O=x.uniforms;return O}function M(x,R){let O;for(let D=0,B=u.length;D<B;D++){const L=u[D];if(L.cacheKey===R){O=L,++O.usedTimes;break}}return O===void 0&&(O=new dle(t,R,x,o),u.push(O)),O}function T(x){if(--x.usedTimes===0){const R=u.indexOf(x);u[R]=u[u.length-1],u.pop(),x.destroy()}}function N(x){l.remove(x)}function I(){l.dispose()}return{getParameters:y,getProgramCacheKey:w,getUniforms:S,acquireProgram:M,releaseProgram:T,releaseShaderCache:N,programs:u,dispose:I}}function gle(){let t=new WeakMap;function e(o){let s=t.get(o);return s===void 0&&(s={},t.set(o,s)),s}function n(o){t.delete(o)}function r(o,s,a){t.get(o)[s]=a}function i(){t=new WeakMap}return{get:e,remove:n,update:r,dispose:i}}function vle(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function B_(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function z_(){const t=[];let e=0;const n=[],r=[],i=[];function o(){e=0,n.length=0,r.length=0,i.length=0}function s(d,f,h,m,g,p){let v=t[e];return v===void 0?(v={id:d.id,object:d,geometry:f,material:h,groupOrder:m,renderOrder:d.renderOrder,z:g,group:p},t[e]=v):(v.id=d.id,v.object=d,v.geometry=f,v.material=h,v.groupOrder=m,v.renderOrder=d.renderOrder,v.z=g,v.group=p),e++,v}function a(d,f,h,m,g,p){const v=s(d,f,h,m,g,p);h.transmission>0?r.push(v):h.transparent===!0?i.push(v):n.push(v)}function l(d,f,h,m,g,p){const v=s(d,f,h,m,g,p);h.transmission>0?r.unshift(v):h.transparent===!0?i.unshift(v):n.unshift(v)}function u(d,f){n.length>1&&n.sort(d||vle),r.length>1&&r.sort(f||B_),i.length>1&&i.sort(f||B_)}function c(){for(let d=e,f=t.length;d<f;d++){const h=t[d];if(h.id===null)break;h.id=null,h.object=null,h.geometry=null,h.material=null,h.group=null}}return{opaque:n,transmissive:r,transparent:i,init:o,push:a,unshift:l,finish:c,sort:u}}function yle(){let t=new WeakMap;function e(r,i){let o;return t.has(r)===!1?(o=new z_,t.set(r,[o])):i>=t.get(r).length?(o=new z_,t.get(r).push(o)):o=t.get(r)[i],o}function n(){t=new WeakMap}return{get:e,dispose:n}}function ble(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new ne,color:new ht};break;case"SpotLight":n={position:new ne,direction:new ne,color:new ht,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new ne,color:new ht,distance:0,decay:0};break;case"HemisphereLight":n={direction:new ne,skyColor:new ht,groundColor:new ht};break;case"RectAreaLight":n={color:new ht,position:new ne,halfWidth:new ne,halfHeight:new ne};break}return t[e.id]=n,n}}}function wle(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ge};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ge};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ge,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let _le=0;function Sle(t,e){return(e.castShadow?1:0)-(t.castShadow?1:0)}function Cle(t,e){const n=new ble,r=wle(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let c=0;c<9;c++)i.probe.push(new ne);const o=new ne,s=new St,a=new St;function l(c,d){let f=0,h=0,m=0;for(let N=0;N<9;N++)i.probe[N].set(0,0,0);let g=0,p=0,v=0,y=0,w=0,_=0,b=0,S=0;c.sort(Sle);const M=d!==!0?Math.PI:1;for(let N=0,I=c.length;N<I;N++){const x=c[N],R=x.color,O=x.intensity,D=x.distance,B=x.shadow&&x.shadow.map?x.shadow.map.texture:null;if(x.isAmbientLight)f+=R.r*O*M,h+=R.g*O*M,m+=R.b*O*M;else if(x.isLightProbe)for(let L=0;L<9;L++)i.probe[L].addScaledVector(x.sh.coefficients[L],O);else if(x.isDirectionalLight){const L=n.get(x);if(L.color.copy(x.color).multiplyScalar(x.intensity*M),x.castShadow){const A=x.shadow,P=r.get(x);P.shadowBias=A.bias,P.shadowNormalBias=A.normalBias,P.shadowRadius=A.radius,P.shadowMapSize=A.mapSize,i.directionalShadow[g]=P,i.directionalShadowMap[g]=B,i.directionalShadowMatrix[g]=x.shadow.matrix,_++}i.directional[g]=L,g++}else if(x.isSpotLight){const L=n.get(x);if(L.position.setFromMatrixPosition(x.matrixWorld),L.color.copy(R).multiplyScalar(O*M),L.distance=D,L.coneCos=Math.cos(x.angle),L.penumbraCos=Math.cos(x.angle*(1-x.penumbra)),L.decay=x.decay,x.castShadow){const A=x.shadow,P=r.get(x);P.shadowBias=A.bias,P.shadowNormalBias=A.normalBias,P.shadowRadius=A.radius,P.shadowMapSize=A.mapSize,i.spotShadow[v]=P,i.spotShadowMap[v]=B,i.spotShadowMatrix[v]=x.shadow.matrix,S++}i.spot[v]=L,v++}else if(x.isRectAreaLight){const L=n.get(x);L.color.copy(R).multiplyScalar(O),L.halfWidth.set(x.width*.5,0,0),L.halfHeight.set(0,x.height*.5,0),i.rectArea[y]=L,y++}else if(x.isPointLight){const L=n.get(x);if(L.color.copy(x.color).multiplyScalar(x.intensity*M),L.distance=x.distance,L.decay=x.decay,x.castShadow){const A=x.shadow,P=r.get(x);P.shadowBias=A.bias,P.shadowNormalBias=A.normalBias,P.shadowRadius=A.radius,P.shadowMapSize=A.mapSize,P.shadowCameraNear=A.camera.near,P.shadowCameraFar=A.camera.far,i.pointShadow[p]=P,i.pointShadowMap[p]=B,i.pointShadowMatrix[p]=x.shadow.matrix,b++}i.point[p]=L,p++}else if(x.isHemisphereLight){const L=n.get(x);L.skyColor.copy(x.color).multiplyScalar(O*M),L.groundColor.copy(x.groundColor).multiplyScalar(O*M),i.hemi[w]=L,w++}}y>0&&(e.isWebGL2||t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=at.LTC_FLOAT_1,i.rectAreaLTC2=at.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=at.LTC_HALF_1,i.rectAreaLTC2=at.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=f,i.ambient[1]=h,i.ambient[2]=m;const T=i.hash;(T.directionalLength!==g||T.pointLength!==p||T.spotLength!==v||T.rectAreaLength!==y||T.hemiLength!==w||T.numDirectionalShadows!==_||T.numPointShadows!==b||T.numSpotShadows!==S)&&(i.directional.length=g,i.spot.length=v,i.rectArea.length=y,i.point.length=p,i.hemi.length=w,i.directionalShadow.length=_,i.directionalShadowMap.length=_,i.pointShadow.length=b,i.pointShadowMap.length=b,i.spotShadow.length=S,i.spotShadowMap.length=S,i.directionalShadowMatrix.length=_,i.pointShadowMatrix.length=b,i.spotShadowMatrix.length=S,T.directionalLength=g,T.pointLength=p,T.spotLength=v,T.rectAreaLength=y,T.hemiLength=w,T.numDirectionalShadows=_,T.numPointShadows=b,T.numSpotShadows=S,i.version=_le++)}function u(c,d){let f=0,h=0,m=0,g=0,p=0;const v=d.matrixWorldInverse;for(let y=0,w=c.length;y<w;y++){const _=c[y];if(_.isDirectionalLight){const b=i.directional[f];b.direction.setFromMatrixPosition(_.matrixWorld),o.setFromMatrixPosition(_.target.matrixWorld),b.direction.sub(o),b.direction.transformDirection(v),f++}else if(_.isSpotLight){const b=i.spot[m];b.position.setFromMatrixPosition(_.matrixWorld),b.position.applyMatrix4(v),b.direction.setFromMatrixPosition(_.matrixWorld),o.setFromMatrixPosition(_.target.matrixWorld),b.direction.sub(o),b.direction.transformDirection(v),m++}else if(_.isRectAreaLight){const b=i.rectArea[g];b.position.setFromMatrixPosition(_.matrixWorld),b.position.applyMatrix4(v),a.identity(),s.copy(_.matrixWorld),s.premultiply(v),a.extractRotation(s),b.halfWidth.set(_.width*.5,0,0),b.halfHeight.set(0,_.height*.5,0),b.halfWidth.applyMatrix4(a),b.halfHeight.applyMatrix4(a),g++}else if(_.isPointLight){const b=i.point[h];b.position.setFromMatrixPosition(_.matrixWorld),b.position.applyMatrix4(v),h++}else if(_.isHemisphereLight){const b=i.hemi[p];b.direction.setFromMatrixPosition(_.matrixWorld),b.direction.transformDirection(v),b.direction.normalize(),p++}}}return{setup:l,setupView:u,state:i}}function V_(t,e){const n=new Cle(t,e),r=[],i=[];function o(){r.length=0,i.length=0}function s(d){r.push(d)}function a(d){i.push(d)}function l(d){n.setup(r,d)}function u(d){n.setupView(r,d)}return{init:o,state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:l,setupLightsView:u,pushLight:s,pushShadow:a}}function Mle(t,e){let n=new WeakMap;function r(o,s=0){let a;return n.has(o)===!1?(a=new V_(t,e),n.set(o,[a])):s>=n.get(o).length?(a=new V_(t,e),n.get(o).push(a)):a=n.get(o)[s],a}function i(){n=new WeakMap}return{get:r,dispose:i}}class Q0 extends Hn{constructor(e){super();this.type="MeshDepthMaterial",this.depthPacking=Tre,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}Q0.prototype.isMeshDepthMaterial=!0;class ey extends Hn{constructor(e){super();this.type="MeshDistanceMaterial",this.referencePosition=new ne,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}ey.prototype.isMeshDistanceMaterial=!0;const xle=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,Ele=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function hT(t,e,n){let r=new Kh;const i=new Ge,o=new Ge,s=new nn,a=new Q0({depthPacking:Are}),l=new ey,u={},c=n.maxTextureSize,d={0:Si,1:yc,2:So},f=new Ur({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ge},radius:{value:4}},vertexShader:xle,fragmentShader:Ele}),h=f.clone();h.defines.HORIZONTAL_PASS=1;const m=new Ht;m.setAttribute("position",new _n(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const g=new it(m,f),p=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=KE,this.render=function(_,b,S){if(p.enabled===!1||p.autoUpdate===!1&&p.needsUpdate===!1||_.length===0)return;const M=t.getRenderTarget(),T=t.getActiveCubeFace(),N=t.getActiveMipmapLevel(),I=t.state;I.setBlending(Qo),I.buffers.color.setClear(1,1,1,1),I.buffers.depth.setTest(!0),I.setScissorTest(!1);for(let x=0,R=_.length;x<R;x++){const O=_[x],D=O.shadow;if(D===void 0){console.warn("THREE.WebGLShadowMap:",O,"has no shadow.");continue}if(D.autoUpdate===!1&&D.needsUpdate===!1)continue;i.copy(D.mapSize);const B=D.getFrameExtents();if(i.multiply(B),o.copy(D.mapSize),(i.x>c||i.y>c)&&(i.x>c&&(o.x=Math.floor(c/B.x),i.x=o.x*B.x,D.mapSize.x=o.x),i.y>c&&(o.y=Math.floor(c/B.y),i.y=o.y*B.y,D.mapSize.y=o.y)),D.map===null&&!D.isPointLightShadow&&this.type===Tu&&(D.map=new Br(i.x,i.y),D.map.texture.name=O.name+".shadowMap",D.mapPass=new Br(i.x,i.y),D.camera.updateProjectionMatrix()),D.map===null){const A={minFilter:Fn,magFilter:Fn,format:$r};D.map=new Br(i.x,i.y,A),D.map.texture.name=O.name+".shadowMap",D.camera.updateProjectionMatrix()}t.setRenderTarget(D.map),t.clear();const L=D.getViewportCount();for(let A=0;A<L;A++){const P=D.getViewport(A);s.set(o.x*P.x,o.y*P.y,o.x*P.z,o.y*P.w),I.viewport(s),D.updateMatrices(O,A),r=D.getFrustum(),w(b,S,D.camera,O,this.type)}!D.isPointLightShadow&&this.type===Tu&&v(D,S),D.needsUpdate=!1}p.needsUpdate=!1,t.setRenderTarget(M,T,N)};function v(_,b){const S=e.update(g);f.defines.VSM_SAMPLES!==_.blurSamples&&(f.defines.VSM_SAMPLES=_.blurSamples,h.defines.VSM_SAMPLES=_.blurSamples,f.needsUpdate=!0,h.needsUpdate=!0),f.uniforms.shadow_pass.value=_.map.texture,f.uniforms.resolution.value=_.mapSize,f.uniforms.radius.value=_.radius,t.setRenderTarget(_.mapPass),t.clear(),t.renderBufferDirect(b,null,S,f,g,null),h.uniforms.shadow_pass.value=_.mapPass.texture,h.uniforms.resolution.value=_.mapSize,h.uniforms.radius.value=_.radius,t.setRenderTarget(_.map),t.clear(),t.renderBufferDirect(b,null,S,h,g,null)}function y(_,b,S,M,T,N){let I=null;const x=S.isPointLight===!0?_.customDistanceMaterial:_.customDepthMaterial;if(x!==void 0?I=x:I=S.isPointLight===!0?l:a,t.localClippingEnabled&&b.clipShadows===!0&&b.clippingPlanes.length!==0||b.displacementMap&&b.displacementScale!==0||b.alphaMap&&b.alphaTest>0){const R=I.uuid,O=b.uuid;let D=u[R];D===void 0&&(D={},u[R]=D);let B=D[O];B===void 0&&(B=I.clone(),D[O]=B),I=B}return I.visible=b.visible,I.wireframe=b.wireframe,N===Tu?I.side=b.shadowSide!==null?b.shadowSide:b.side:I.side=b.shadowSide!==null?b.shadowSide:d[b.side],I.alphaMap=b.alphaMap,I.alphaTest=b.alphaTest,I.clipShadows=b.clipShadows,I.clippingPlanes=b.clippingPlanes,I.clipIntersection=b.clipIntersection,I.displacementMap=b.displacementMap,I.displacementScale=b.displacementScale,I.displacementBias=b.displacementBias,I.wireframeLinewidth=b.wireframeLinewidth,I.linewidth=b.linewidth,S.isPointLight===!0&&I.isMeshDistanceMaterial===!0&&(I.referencePosition.setFromMatrixPosition(S.matrixWorld),I.nearDistance=M,I.farDistance=T),I}function w(_,b,S,M,T){if(_.visible===!1)return;if(_.layers.test(b.layers)&&(_.isMesh||_.isLine||_.isPoints)&&(_.castShadow||_.receiveShadow&&T===Tu)&&(!_.frustumCulled||r.intersectsObject(_))){_.modelViewMatrix.multiplyMatrices(S.matrixWorldInverse,_.matrixWorld);const x=e.update(_),R=_.material;if(Array.isArray(R)){const O=x.groups;for(let D=0,B=O.length;D<B;D++){const L=O[D],A=R[L.materialIndex];if(A&&A.visible){const P=y(_,A,M,S.near,S.far,T);t.renderBufferDirect(S,null,x,P,_,L)}}}else if(R.visible){const O=y(_,R,M,S.near,S.far,T);t.renderBufferDirect(S,null,x,O,_,null)}}const I=_.children;for(let x=0,R=I.length;x<R;x++)w(I[x],b,S,M,T)}}function Tle(t,e,n){const r=n.isWebGL2;function i(){let ie=!1;const He=new nn;let We=null;const rt=new nn(0,0,0,0);return{setMask:function(tt){We!==tt&&!ie&&(t.colorMask(tt,tt,tt,tt),We=tt)},setLocked:function(tt){ie=tt},setClear:function(tt,vt,Qe,yt,Kt){Kt===!0&&(tt*=yt,vt*=yt,Qe*=yt),He.set(tt,vt,Qe,yt),rt.equals(He)===!1&&(t.clearColor(tt,vt,Qe,yt),rt.copy(He))},reset:function(){ie=!1,We=null,rt.set(-1,0,0,0)}}}function o(){let ie=!1,He=null,We=null,rt=null;return{setTest:function(tt){tt?Le(2929):q(2929)},setMask:function(tt){He!==tt&&!ie&&(t.depthMask(tt),He=tt)},setFunc:function(tt){if(We!==tt){if(tt)switch(tt){case qne:t.depthFunc(512);break;case Yne:t.depthFunc(519);break;case Xne:t.depthFunc(513);break;case Kg:t.depthFunc(515);break;case Zne:t.depthFunc(514);break;case Jne:t.depthFunc(518);break;case Qne:t.depthFunc(516);break;case ere:t.depthFunc(517);break;default:t.depthFunc(515)}else t.depthFunc(515);We=tt}},setLocked:function(tt){ie=tt},setClear:function(tt){rt!==tt&&(t.clearDepth(tt),rt=tt)},reset:function(){ie=!1,He=null,We=null,rt=null}}}function s(){let ie=!1,He=null,We=null,rt=null,tt=null,vt=null,Qe=null,yt=null,Kt=null;return{setTest:function($t){ie||($t?Le(2960):q(2960))},setMask:function($t){He!==$t&&!ie&&(t.stencilMask($t),He=$t)},setFunc:function($t,Ie,nt){(We!==$t||rt!==Ie||tt!==nt)&&(t.stencilFunc($t,Ie,nt),We=$t,rt=Ie,tt=nt)},setOp:function($t,Ie,nt){(vt!==$t||Qe!==Ie||yt!==nt)&&(t.stencilOp($t,Ie,nt),vt=$t,Qe=Ie,yt=nt)},setLocked:function($t){ie=$t},setClear:function($t){Kt!==$t&&(t.clearStencil($t),Kt=$t)},reset:function(){ie=!1,He=null,We=null,rt=null,tt=null,vt=null,Qe=null,yt=null,Kt=null}}}const a=new i,l=new o,u=new s;let c={},d={},f=new WeakMap,h=[],m=null,g=!1,p=null,v=null,y=null,w=null,_=null,b=null,S=null,M=!1,T=null,N=null,I=null,x=null,R=null;const O=t.getParameter(35661);let D=!1,B=0;const L=t.getParameter(7938);L.indexOf("WebGL")!==-1?(B=parseFloat(/^WebGL (\d)/.exec(L)[1]),D=B>=1):L.indexOf("OpenGL ES")!==-1&&(B=parseFloat(/^OpenGL ES (\d)/.exec(L)[1]),D=B>=2);let A=null,P={};const W=t.getParameter(3088),K=t.getParameter(2978),te=new nn().fromArray(W),J=new nn().fromArray(K);function se(ie,He,We){const rt=new Uint8Array(4),tt=t.createTexture();t.bindTexture(ie,tt),t.texParameteri(ie,10241,9728),t.texParameteri(ie,10240,9728);for(let vt=0;vt<We;vt++)t.texImage2D(He+vt,0,6408,1,1,0,6408,5121,rt);return tt}const Te={};Te[3553]=se(3553,3553,1),Te[34067]=se(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),u.setClear(0),Le(2929),l.setFunc(Kg),Q(!1),de(Iw),Le(2884),be(Qo);function Le(ie){c[ie]!==!0&&(t.enable(ie),c[ie]=!0)}function q(ie){c[ie]!==!1&&(t.disable(ie),c[ie]=!1)}function re(ie,He){return d[ie]!==He?(t.bindFramebuffer(ie,He),d[ie]=He,r&&(ie===36009&&(d[36160]=He),ie===36160&&(d[36009]=He)),!0):!1}function he(ie,He){let We=h,rt=!1;if(ie)if(We=f.get(He),We===void 0&&(We=[],f.set(He,We)),ie.isWebGLMultipleRenderTargets){const tt=ie.texture;if(We.length!==tt.length||We[0]!==36064){for(let vt=0,Qe=tt.length;vt<Qe;vt++)We[vt]=36064+vt;We.length=tt.length,rt=!0}}else We[0]!==36064&&(We[0]=36064,rt=!0);else We[0]!==1029&&(We[0]=1029,rt=!0);rt&&(n.isWebGL2?t.drawBuffers(We):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(We))}function we(ie){return m!==ie?(t.useProgram(ie),m=ie,!0):!1}const ye={[Xa]:32774,[One]:32778,[Fne]:32779};if(r)ye[Nw]=32775,ye[Ow]=32776;else{const ie=e.get("EXT_blend_minmax");ie!==null&&(ye[Nw]=ie.MIN_EXT,ye[Ow]=ie.MAX_EXT)}const ze={[Bne]:0,[zne]:1,[Vne]:768,[YE]:770,[Kne]:776,[Gne]:774,[Une]:772,[Hne]:769,[XE]:771,[jne]:775,[Wne]:773};function be(ie,He,We,rt,tt,vt,Qe,yt){if(ie===Qo){g===!0&&(q(3042),g=!1);return}if(g===!1&&(Le(3042),g=!0),ie!==Nne){if(ie!==p||yt!==M){if((v!==Xa||_!==Xa)&&(t.blendEquation(32774),v=Xa,_=Xa),yt)switch(ie){case dl:t.blendFuncSeparate(1,771,1,771);break;case jg:t.blendFunc(1,1);break;case Dw:t.blendFuncSeparate(0,769,0,1);break;case $w:t.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",ie);break}else switch(ie){case dl:t.blendFuncSeparate(770,771,1,771);break;case jg:t.blendFunc(770,1);break;case Dw:t.blendFuncSeparate(0,769,0,1);break;case $w:t.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",ie);break}y=null,w=null,b=null,S=null,p=ie,M=yt}return}tt=tt||He,vt=vt||We,Qe=Qe||rt,(He!==v||tt!==_)&&(t.blendEquationSeparate(ye[He],ye[tt]),v=He,_=tt),(We!==y||rt!==w||vt!==b||Qe!==S)&&(t.blendFuncSeparate(ze[We],ze[rt],ze[vt],ze[Qe]),y=We,w=rt,b=vt,S=Qe),p=ie,M=null}function U(ie,He){ie.side===So?q(2884):Le(2884);let We=ie.side===Si;He&&(We=!We),Q(We),ie.blending===dl&&ie.transparent===!1?be(Qo):be(ie.blending,ie.blendEquation,ie.blendSrc,ie.blendDst,ie.blendEquationAlpha,ie.blendSrcAlpha,ie.blendDstAlpha,ie.premultipliedAlpha),l.setFunc(ie.depthFunc),l.setTest(ie.depthTest),l.setMask(ie.depthWrite),a.setMask(ie.colorWrite);const rt=ie.stencilWrite;u.setTest(rt),rt&&(u.setMask(ie.stencilWriteMask),u.setFunc(ie.stencilFunc,ie.stencilRef,ie.stencilFuncMask),u.setOp(ie.stencilFail,ie.stencilZFail,ie.stencilZPass)),Se(ie.polygonOffset,ie.polygonOffsetFactor,ie.polygonOffsetUnits),ie.alphaToCoverage===!0?Le(32926):q(32926)}function Q(ie){T!==ie&&(ie?t.frontFace(2304):t.frontFace(2305),T=ie)}function de(ie){ie!==Ine?(Le(2884),ie!==N&&(ie===Iw?t.cullFace(1029):ie===Dne?t.cullFace(1028):t.cullFace(1032))):q(2884),N=ie}function me(ie){ie!==I&&(D&&t.lineWidth(ie),I=ie)}function Se(ie,He,We){ie?(Le(32823),(x!==He||R!==We)&&(t.polygonOffset(He,We),x=He,R=We)):q(32823)}function Ae(ie){ie?Le(3089):q(3089)}function ee(ie){ie===void 0&&(ie=33984+O-1),A!==ie&&(t.activeTexture(ie),A=ie)}function le(ie,He){A===null&&ee();let We=P[A];We===void 0&&(We={type:void 0,texture:void 0},P[A]=We),(We.type!==ie||We.texture!==He)&&(t.bindTexture(ie,He||Te[ie]),We.type=ie,We.texture=He)}function ae(){const ie=P[A];ie!==void 0&&ie.type!==void 0&&(t.bindTexture(ie.type,null),ie.type=void 0,ie.texture=void 0)}function z(){try{t.compressedTexImage2D.apply(t,arguments)}catch(ie){console.error("THREE.WebGLState:",ie)}}function H(){try{t.texSubImage2D.apply(t,arguments)}catch(ie){console.error("THREE.WebGLState:",ie)}}function j(){try{t.texSubImage3D.apply(t,arguments)}catch(ie){console.error("THREE.WebGLState:",ie)}}function ce(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(ie){console.error("THREE.WebGLState:",ie)}}function ke(){try{t.texStorage2D.apply(t,arguments)}catch(ie){console.error("THREE.WebGLState:",ie)}}function Ve(){try{t.texStorage3D.apply(t,arguments)}catch(ie){console.error("THREE.WebGLState:",ie)}}function Ne(){try{t.texImage2D.apply(t,arguments)}catch(ie){console.error("THREE.WebGLState:",ie)}}function Y(){try{t.texImage3D.apply(t,arguments)}catch(ie){console.error("THREE.WebGLState:",ie)}}function _e(ie){te.equals(ie)===!1&&(t.scissor(ie.x,ie.y,ie.z,ie.w),te.copy(ie))}function ge(ie){J.equals(ie)===!1&&(t.viewport(ie.x,ie.y,ie.z,ie.w),J.copy(ie))}function xe(){t.disable(3042),t.disable(2884),t.disable(2929),t.disable(32823),t.disable(3089),t.disable(2960),t.disable(32926),t.blendEquation(32774),t.blendFunc(1,0),t.blendFuncSeparate(1,0,1,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(513),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(519,0,4294967295),t.stencilOp(7680,7680,7680),t.clearStencil(0),t.cullFace(1029),t.frontFace(2305),t.polygonOffset(0,0),t.activeTexture(33984),t.bindFramebuffer(36160,null),r===!0&&(t.bindFramebuffer(36009,null),t.bindFramebuffer(36008,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),c={},A=null,P={},d={},f=new WeakMap,h=[],m=null,g=!1,p=null,v=null,y=null,w=null,_=null,b=null,S=null,M=!1,T=null,N=null,I=null,x=null,R=null,te.set(0,0,t.canvas.width,t.canvas.height),J.set(0,0,t.canvas.width,t.canvas.height),a.reset(),l.reset(),u.reset()}return{buffers:{color:a,depth:l,stencil:u},enable:Le,disable:q,bindFramebuffer:re,drawBuffers:he,useProgram:we,setBlending:be,setMaterial:U,setFlipSided:Q,setCullFace:de,setLineWidth:me,setPolygonOffset:Se,setScissorTest:Ae,activeTexture:ee,bindTexture:le,unbindTexture:ae,compressedTexImage2D:z,texImage2D:Ne,texImage3D:Y,texStorage2D:ke,texStorage3D:Ve,texSubImage2D:H,texSubImage3D:j,compressedTexSubImage2D:ce,scissor:_e,viewport:ge,reset:xe}}function Ale(t,e,n,r,i,o,s){const a=i.isWebGL2,l=i.maxTextures,u=i.maxCubemapSize,c=i.maxTextureSize,d=i.maxSamples,f=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,h=/OculusBrowser/g.test(navigator.userAgent),m=new WeakMap;let g;const p=new WeakMap;let v=!1;try{v=typeof OffscreenCanvas!="undefined"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function y(z,H){return v?new OffscreenCanvas(z,H):Sc("canvas")}function w(z,H,j,ce){let ke=1;if((z.width>ce||z.height>ce)&&(ke=ce/Math.max(z.width,z.height)),ke<1||H===!0)if(typeof HTMLImageElement!="undefined"&&z instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&z instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&z instanceof ImageBitmap){const Ve=H?sh:Math.floor,Ne=Ve(ke*z.width),Y=Ve(ke*z.height);g===void 0&&(g=y(Ne,Y));const _e=j?y(Ne,Y):g;return _e.width=Ne,_e.height=Y,_e.getContext("2d").drawImage(z,0,0,Ne,Y),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+z.width+"x"+z.height+") to ("+Ne+"x"+Y+")."),_e}else return"data"in z&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+z.width+"x"+z.height+")."),z;return z}function _(z){return Qg(z.width)&&Qg(z.height)}function b(z){return a?!1:z.wrapS!==yi||z.wrapT!==yi||z.minFilter!==Fn&&z.minFilter!==Yn}function S(z,H){return z.generateMipmaps&&H&&z.minFilter!==Fn&&z.minFilter!==Yn}function M(z){t.generateMipmap(z)}function T(z,H,j,ce,ke=!1){if(a===!1)return H;if(z!==null){if(t[z]!==void 0)return t[z];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+z+"'")}let Ve=H;return H===6403&&(j===5126&&(Ve=33326),j===5131&&(Ve=33325),j===5121&&(Ve=33321)),H===33319&&(j===5126&&(Ve=33328),j===5131&&(Ve=33327),j===5121&&(Ve=33323)),H===6408&&(j===5126&&(Ve=34836),j===5131&&(Ve=34842),j===5121&&(Ve=ce===yn&&ke===!1?35907:32856),j===32819&&(Ve=32854),j===32820&&(Ve=32855)),(Ve===33325||Ve===33326||Ve===33327||Ve===33328||Ve===34842||Ve===34836)&&e.get("EXT_color_buffer_float"),Ve}function N(z,H,j){return S(z,j)===!0||z.isFramebufferTexture&&z.minFilter!==Fn&&z.minFilter!==Yn?Math.log2(Math.max(H.width,H.height))+1:z.mipmaps!==void 0&&z.mipmaps.length>0?z.mipmaps.length:z.isCompressedTexture&&Array.isArray(z.image)?H.mipmaps.length:1}function I(z){return z===Fn||z===Fw||z===Bw?9728:9729}function x(z){const H=z.target;H.removeEventListener("dispose",x),O(H),H.isVideoTexture&&m.delete(H)}function R(z){const H=z.target;H.removeEventListener("dispose",R),B(H)}function O(z){const H=r.get(z);if(H.__webglInit===void 0)return;const j=z.source,ce=p.get(j);if(ce){const ke=ce[H.__cacheKey];ke.usedTimes--,ke.usedTimes===0&&D(z),Object.keys(ce).length===0&&p.delete(j)}r.remove(z)}function D(z){const H=r.get(z);t.deleteTexture(H.__webglTexture);const j=z.source,ce=p.get(j);delete ce[H.__cacheKey],s.memory.textures--}function B(z){const H=z.texture,j=r.get(z),ce=r.get(H);if(ce.__webglTexture!==void 0&&(t.deleteTexture(ce.__webglTexture),s.memory.textures--),z.depthTexture&&z.depthTexture.dispose(),z.isWebGLCubeRenderTarget)for(let ke=0;ke<6;ke++)t.deleteFramebuffer(j.__webglFramebuffer[ke]),j.__webglDepthbuffer&&t.deleteRenderbuffer(j.__webglDepthbuffer[ke]);else t.deleteFramebuffer(j.__webglFramebuffer),j.__webglDepthbuffer&&t.deleteRenderbuffer(j.__webglDepthbuffer),j.__webglMultisampledFramebuffer&&t.deleteFramebuffer(j.__webglMultisampledFramebuffer),j.__webglColorRenderbuffer&&t.deleteRenderbuffer(j.__webglColorRenderbuffer),j.__webglDepthRenderbuffer&&t.deleteRenderbuffer(j.__webglDepthRenderbuffer);if(z.isWebGLMultipleRenderTargets)for(let ke=0,Ve=H.length;ke<Ve;ke++){const Ne=r.get(H[ke]);Ne.__webglTexture&&(t.deleteTexture(Ne.__webglTexture),s.memory.textures--),r.remove(H[ke])}r.remove(H),r.remove(z)}let L=0;function A(){L=0}function P(){const z=L;return z>=l&&console.warn("THREE.WebGLTextures: Trying to use "+z+" texture units while this GPU supports only "+l),L+=1,z}function W(z){const H=[];return H.push(z.wrapS),H.push(z.wrapT),H.push(z.magFilter),H.push(z.minFilter),H.push(z.anisotropy),H.push(z.internalFormat),H.push(z.format),H.push(z.type),H.push(z.generateMipmaps),H.push(z.premultiplyAlpha),H.push(z.flipY),H.push(z.unpackAlignment),H.push(z.encoding),H.join()}function K(z,H){const j=r.get(z);if(z.isVideoTexture&&le(z),z.isRenderTargetTexture===!1&&z.version>0&&j.__version!==z.version){const ce=z.image;if(ce===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(ce.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{he(j,z,H);return}}n.activeTexture(33984+H),n.bindTexture(3553,j.__webglTexture)}function te(z,H){const j=r.get(z);if(z.version>0&&j.__version!==z.version){he(j,z,H);return}n.activeTexture(33984+H),n.bindTexture(35866,j.__webglTexture)}function J(z,H){const j=r.get(z);if(z.version>0&&j.__version!==z.version){he(j,z,H);return}n.activeTexture(33984+H),n.bindTexture(32879,j.__webglTexture)}function se(z,H){const j=r.get(z);if(z.version>0&&j.__version!==z.version){we(j,z,H);return}n.activeTexture(33984+H),n.bindTexture(34067,j.__webglTexture)}const Te={[Xg]:10497,[yi]:33071,[Zg]:33648},Le={[Fn]:9728,[Fw]:9984,[Bw]:9986,[Yn]:9729,[lre]:9985,[Uh]:9987};function q(z,H,j){if(j?(t.texParameteri(z,10242,Te[H.wrapS]),t.texParameteri(z,10243,Te[H.wrapT]),(z===32879||z===35866)&&t.texParameteri(z,32882,Te[H.wrapR]),t.texParameteri(z,10240,Le[H.magFilter]),t.texParameteri(z,10241,Le[H.minFilter])):(t.texParameteri(z,10242,33071),t.texParameteri(z,10243,33071),(z===32879||z===35866)&&t.texParameteri(z,32882,33071),(H.wrapS!==yi||H.wrapT!==yi)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(z,10240,I(H.magFilter)),t.texParameteri(z,10241,I(H.minFilter)),H.minFilter!==Fn&&H.minFilter!==Yn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const ce=e.get("EXT_texture_filter_anisotropic");if(H.type===Hs&&e.has("OES_texture_float_linear")===!1||a===!1&&H.type===fl&&e.has("OES_texture_half_float_linear")===!1)return;(H.anisotropy>1||r.get(H).__currentAnisotropy)&&(t.texParameterf(z,ce.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(H.anisotropy,i.getMaxAnisotropy())),r.get(H).__currentAnisotropy=H.anisotropy)}}function re(z,H){let j=!1;z.__webglInit===void 0&&(z.__webglInit=!0,H.addEventListener("dispose",x));const ce=H.source;let ke=p.get(ce);ke===void 0&&(ke={},p.set(ce,ke));const Ve=W(H);if(Ve!==z.__cacheKey){ke[Ve]===void 0&&(ke[Ve]={texture:t.createTexture(),usedTimes:0},s.memory.textures++,j=!0),ke[Ve].usedTimes++;const Ne=ke[z.__cacheKey];Ne!==void 0&&(ke[z.__cacheKey].usedTimes--,Ne.usedTimes===0&&D(H)),z.__cacheKey=Ve,z.__webglTexture=ke[Ve].texture}return j}function he(z,H,j){let ce=3553;H.isDataArrayTexture&&(ce=35866),H.isData3DTexture&&(ce=32879);const ke=re(z,H),Ve=H.source;if(n.activeTexture(33984+j),n.bindTexture(ce,z.__webglTexture),Ve.version!==Ve.__currentVersion||ke===!0){t.pixelStorei(37440,H.flipY),t.pixelStorei(37441,H.premultiplyAlpha),t.pixelStorei(3317,H.unpackAlignment),t.pixelStorei(37443,0);const Ne=b(H)&&_(H.image)===!1;let Y=w(H.image,Ne,!1,c);Y=ae(H,Y);const _e=_(Y)||a,ge=o.convert(H.format,H.encoding);let xe=o.convert(H.type),ie=T(H.internalFormat,ge,xe,H.encoding,H.isVideoTexture);q(ce,H,_e);let He;const We=H.mipmaps,rt=a&&H.isVideoTexture!==!0,tt=z.__version===void 0,vt=N(H,Y,_e);if(H.isDepthTexture)ie=6402,a?H.type===Hs?ie=36012:H.type===Ef?ie=33190:H.type===hl?ie=35056:ie=33189:H.type===Hs&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),H.format===Js&&ie===6402&&H.type!==bc&&H.type!==Ef&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),H.type=bc,xe=o.convert(H.type)),H.format===Il&&ie===6402&&(ie=34041,H.type!==hl&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),H.type=hl,xe=o.convert(H.type))),rt&&tt?n.texStorage2D(3553,1,ie,Y.width,Y.height):n.texImage2D(3553,0,ie,Y.width,Y.height,0,ge,xe,null);else if(H.isDataTexture)if(We.length>0&&_e){rt&&tt&&n.texStorage2D(3553,vt,ie,We[0].width,We[0].height);for(let Qe=0,yt=We.length;Qe<yt;Qe++)He=We[Qe],rt?n.texSubImage2D(3553,Qe,0,0,He.width,He.height,ge,xe,He.data):n.texImage2D(3553,Qe,ie,He.width,He.height,0,ge,xe,He.data);H.generateMipmaps=!1}else rt?(tt&&n.texStorage2D(3553,vt,ie,Y.width,Y.height),n.texSubImage2D(3553,0,0,0,Y.width,Y.height,ge,xe,Y.data)):n.texImage2D(3553,0,ie,Y.width,Y.height,0,ge,xe,Y.data);else if(H.isCompressedTexture){rt&&tt&&n.texStorage2D(3553,vt,ie,We[0].width,We[0].height);for(let Qe=0,yt=We.length;Qe<yt;Qe++)He=We[Qe],H.format!==$r?ge!==null?rt?n.compressedTexSubImage2D(3553,Qe,0,0,He.width,He.height,ge,He.data):n.compressedTexImage2D(3553,Qe,ie,He.width,He.height,0,He.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):rt?n.texSubImage2D(3553,Qe,0,0,He.width,He.height,ge,xe,He.data):n.texImage2D(3553,Qe,ie,He.width,He.height,0,ge,xe,He.data)}else if(H.isDataArrayTexture)rt?(tt&&n.texStorage3D(35866,vt,ie,Y.width,Y.height,Y.depth),n.texSubImage3D(35866,0,0,0,0,Y.width,Y.height,Y.depth,ge,xe,Y.data)):n.texImage3D(35866,0,ie,Y.width,Y.height,Y.depth,0,ge,xe,Y.data);else if(H.isData3DTexture)rt?(tt&&n.texStorage3D(32879,vt,ie,Y.width,Y.height,Y.depth),n.texSubImage3D(32879,0,0,0,0,Y.width,Y.height,Y.depth,ge,xe,Y.data)):n.texImage3D(32879,0,ie,Y.width,Y.height,Y.depth,0,ge,xe,Y.data);else if(H.isFramebufferTexture)rt&&tt?n.texStorage2D(3553,vt,ie,Y.width,Y.height):n.texImage2D(3553,0,ie,Y.width,Y.height,0,ge,xe,null);else if(We.length>0&&_e){rt&&tt&&n.texStorage2D(3553,vt,ie,We[0].width,We[0].height);for(let Qe=0,yt=We.length;Qe<yt;Qe++)He=We[Qe],rt?n.texSubImage2D(3553,Qe,0,0,ge,xe,He):n.texImage2D(3553,Qe,ie,ge,xe,He);H.generateMipmaps=!1}else rt?(tt&&n.texStorage2D(3553,vt,ie,Y.width,Y.height),n.texSubImage2D(3553,0,0,0,ge,xe,Y)):n.texImage2D(3553,0,ie,ge,xe,Y);S(H,_e)&&M(ce),Ve.__currentVersion=Ve.version,H.onUpdate&&H.onUpdate(H)}z.__version=H.version}function we(z,H,j){if(H.image.length!==6)return;const ce=re(z,H),ke=H.source;if(n.activeTexture(33984+j),n.bindTexture(34067,z.__webglTexture),ke.version!==ke.__currentVersion||ce===!0){t.pixelStorei(37440,H.flipY),t.pixelStorei(37441,H.premultiplyAlpha),t.pixelStorei(3317,H.unpackAlignment),t.pixelStorei(37443,0);const Ve=H.isCompressedTexture||H.image[0].isCompressedTexture,Ne=H.image[0]&&H.image[0].isDataTexture,Y=[];for(let Qe=0;Qe<6;Qe++)!Ve&&!Ne?Y[Qe]=w(H.image[Qe],!1,!0,u):Y[Qe]=Ne?H.image[Qe].image:H.image[Qe],Y[Qe]=ae(H,Y[Qe]);const _e=Y[0],ge=_(_e)||a,xe=o.convert(H.format,H.encoding),ie=o.convert(H.type),He=T(H.internalFormat,xe,ie,H.encoding),We=a&&H.isVideoTexture!==!0,rt=z.__version===void 0;let tt=N(H,_e,ge);q(34067,H,ge);let vt;if(Ve){We&&rt&&n.texStorage2D(34067,tt,He,_e.width,_e.height);for(let Qe=0;Qe<6;Qe++){vt=Y[Qe].mipmaps;for(let yt=0;yt<vt.length;yt++){const Kt=vt[yt];H.format!==$r?xe!==null?We?n.compressedTexSubImage2D(34069+Qe,yt,0,0,Kt.width,Kt.height,xe,Kt.data):n.compressedTexImage2D(34069+Qe,yt,He,Kt.width,Kt.height,0,Kt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):We?n.texSubImage2D(34069+Qe,yt,0,0,Kt.width,Kt.height,xe,ie,Kt.data):n.texImage2D(34069+Qe,yt,He,Kt.width,Kt.height,0,xe,ie,Kt.data)}}}else{vt=H.mipmaps,We&&rt&&(vt.length>0&&tt++,n.texStorage2D(34067,tt,He,Y[0].width,Y[0].height));for(let Qe=0;Qe<6;Qe++)if(Ne){We?n.texSubImage2D(34069+Qe,0,0,0,Y[Qe].width,Y[Qe].height,xe,ie,Y[Qe].data):n.texImage2D(34069+Qe,0,He,Y[Qe].width,Y[Qe].height,0,xe,ie,Y[Qe].data);for(let yt=0;yt<vt.length;yt++){const $t=vt[yt].image[Qe].image;We?n.texSubImage2D(34069+Qe,yt+1,0,0,$t.width,$t.height,xe,ie,$t.data):n.texImage2D(34069+Qe,yt+1,He,$t.width,$t.height,0,xe,ie,$t.data)}}else{We?n.texSubImage2D(34069+Qe,0,0,0,xe,ie,Y[Qe]):n.texImage2D(34069+Qe,0,He,xe,ie,Y[Qe]);for(let yt=0;yt<vt.length;yt++){const Kt=vt[yt];We?n.texSubImage2D(34069+Qe,yt+1,0,0,xe,ie,Kt.image[Qe]):n.texImage2D(34069+Qe,yt+1,He,xe,ie,Kt.image[Qe])}}}S(H,ge)&&M(34067),ke.__currentVersion=ke.version,H.onUpdate&&H.onUpdate(H)}z.__version=H.version}function ye(z,H,j,ce,ke){const Ve=o.convert(j.format,j.encoding),Ne=o.convert(j.type),Y=T(j.internalFormat,Ve,Ne,j.encoding);r.get(H).__hasExternalTextures||(ke===32879||ke===35866?n.texImage3D(ke,0,Y,H.width,H.height,H.depth,0,Ve,Ne,null):n.texImage2D(ke,0,Y,H.width,H.height,0,Ve,Ne,null)),n.bindFramebuffer(36160,z),ee(H)?f.framebufferTexture2DMultisampleEXT(36160,ce,ke,r.get(j).__webglTexture,0,Ae(H)):t.framebufferTexture2D(36160,ce,ke,r.get(j).__webglTexture,0),n.bindFramebuffer(36160,null)}function ze(z,H,j){if(t.bindRenderbuffer(36161,z),H.depthBuffer&&!H.stencilBuffer){let ce=33189;if(j||ee(H)){const ke=H.depthTexture;ke&&ke.isDepthTexture&&(ke.type===Hs?ce=36012:ke.type===Ef&&(ce=33190));const Ve=Ae(H);ee(H)?f.renderbufferStorageMultisampleEXT(36161,Ve,ce,H.width,H.height):t.renderbufferStorageMultisample(36161,Ve,ce,H.width,H.height)}else t.renderbufferStorage(36161,ce,H.width,H.height);t.framebufferRenderbuffer(36160,36096,36161,z)}else if(H.depthBuffer&&H.stencilBuffer){const ce=Ae(H);j&&ee(H)===!1?t.renderbufferStorageMultisample(36161,ce,35056,H.width,H.height):ee(H)?f.renderbufferStorageMultisampleEXT(36161,ce,35056,H.width,H.height):t.renderbufferStorage(36161,34041,H.width,H.height),t.framebufferRenderbuffer(36160,33306,36161,z)}else{const ce=H.isWebGLMultipleRenderTargets===!0?H.texture[0]:H.texture,ke=o.convert(ce.format,ce.encoding),Ve=o.convert(ce.type),Ne=T(ce.internalFormat,ke,Ve,ce.encoding),Y=Ae(H);j&&ee(H)===!1?t.renderbufferStorageMultisample(36161,Y,Ne,H.width,H.height):ee(H)?f.renderbufferStorageMultisampleEXT(36161,Y,Ne,H.width,H.height):t.renderbufferStorage(36161,Ne,H.width,H.height)}t.bindRenderbuffer(36161,null)}function be(z,H){if(H&&H.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(36160,z),!(H.depthTexture&&H.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(H.depthTexture).__webglTexture||H.depthTexture.image.width!==H.width||H.depthTexture.image.height!==H.height)&&(H.depthTexture.image.width=H.width,H.depthTexture.image.height=H.height,H.depthTexture.needsUpdate=!0),K(H.depthTexture,0);const ce=r.get(H.depthTexture).__webglTexture,ke=Ae(H);if(H.depthTexture.format===Js)ee(H)?f.framebufferTexture2DMultisampleEXT(36160,36096,3553,ce,0,ke):t.framebufferTexture2D(36160,36096,3553,ce,0);else if(H.depthTexture.format===Il)ee(H)?f.framebufferTexture2DMultisampleEXT(36160,33306,3553,ce,0,ke):t.framebufferTexture2D(36160,33306,3553,ce,0);else throw new Error("Unknown depthTexture format")}function U(z){const H=r.get(z),j=z.isWebGLCubeRenderTarget===!0;if(z.depthTexture&&!H.__autoAllocateDepthBuffer){if(j)throw new Error("target.depthTexture not supported in Cube render targets");be(H.__webglFramebuffer,z)}else if(j){H.__webglDepthbuffer=[];for(let ce=0;ce<6;ce++)n.bindFramebuffer(36160,H.__webglFramebuffer[ce]),H.__webglDepthbuffer[ce]=t.createRenderbuffer(),ze(H.__webglDepthbuffer[ce],z,!1)}else n.bindFramebuffer(36160,H.__webglFramebuffer),H.__webglDepthbuffer=t.createRenderbuffer(),ze(H.__webglDepthbuffer,z,!1);n.bindFramebuffer(36160,null)}function Q(z,H,j){const ce=r.get(z);H!==void 0&&ye(ce.__webglFramebuffer,z,z.texture,36064,3553),j!==void 0&&U(z)}function de(z){const H=z.texture,j=r.get(z),ce=r.get(H);z.addEventListener("dispose",R),z.isWebGLMultipleRenderTargets!==!0&&(ce.__webglTexture===void 0&&(ce.__webglTexture=t.createTexture()),ce.__version=H.version,s.memory.textures++);const ke=z.isWebGLCubeRenderTarget===!0,Ve=z.isWebGLMultipleRenderTargets===!0,Ne=_(z)||a;if(ke){j.__webglFramebuffer=[];for(let Y=0;Y<6;Y++)j.__webglFramebuffer[Y]=t.createFramebuffer()}else if(j.__webglFramebuffer=t.createFramebuffer(),Ve)if(i.drawBuffers){const Y=z.texture;for(let _e=0,ge=Y.length;_e<ge;_e++){const xe=r.get(Y[_e]);xe.__webglTexture===void 0&&(xe.__webglTexture=t.createTexture(),s.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");else if(a&&z.samples>0&&ee(z)===!1){j.__webglMultisampledFramebuffer=t.createFramebuffer(),j.__webglColorRenderbuffer=t.createRenderbuffer(),t.bindRenderbuffer(36161,j.__webglColorRenderbuffer);const Y=o.convert(H.format,H.encoding),_e=o.convert(H.type),ge=T(H.internalFormat,Y,_e,H.encoding),xe=Ae(z);t.renderbufferStorageMultisample(36161,xe,ge,z.width,z.height),n.bindFramebuffer(36160,j.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064,36161,j.__webglColorRenderbuffer),t.bindRenderbuffer(36161,null),z.depthBuffer&&(j.__webglDepthRenderbuffer=t.createRenderbuffer(),ze(j.__webglDepthRenderbuffer,z,!0)),n.bindFramebuffer(36160,null)}if(ke){n.bindTexture(34067,ce.__webglTexture),q(34067,H,Ne);for(let Y=0;Y<6;Y++)ye(j.__webglFramebuffer[Y],z,H,36064,34069+Y);S(H,Ne)&&M(34067),n.unbindTexture()}else if(Ve){const Y=z.texture;for(let _e=0,ge=Y.length;_e<ge;_e++){const xe=Y[_e],ie=r.get(xe);n.bindTexture(3553,ie.__webglTexture),q(3553,xe,Ne),ye(j.__webglFramebuffer,z,xe,36064+_e,3553),S(xe,Ne)&&M(3553)}n.unbindTexture()}else{let Y=3553;(z.isWebGL3DRenderTarget||z.isWebGLArrayRenderTarget)&&(a?Y=z.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(Y,ce.__webglTexture),q(Y,H,Ne),ye(j.__webglFramebuffer,z,H,36064,Y),S(H,Ne)&&M(Y),n.unbindTexture()}z.depthBuffer&&U(z)}function me(z){const H=_(z)||a,j=z.isWebGLMultipleRenderTargets===!0?z.texture:[z.texture];for(let ce=0,ke=j.length;ce<ke;ce++){const Ve=j[ce];if(S(Ve,H)){const Ne=z.isWebGLCubeRenderTarget?34067:3553,Y=r.get(Ve).__webglTexture;n.bindTexture(Ne,Y),M(Ne),n.unbindTexture()}}}function Se(z){if(a&&z.samples>0&&ee(z)===!1){const H=z.width,j=z.height;let ce=16384;const ke=[36064],Ve=z.stencilBuffer?33306:36096;z.depthBuffer&&ke.push(Ve);const Ne=r.get(z),Y=Ne.__ignoreDepthValues!==void 0?Ne.__ignoreDepthValues:!1;Y===!1&&(z.depthBuffer&&(ce|=256),z.stencilBuffer&&(ce|=1024)),n.bindFramebuffer(36008,Ne.__webglMultisampledFramebuffer),n.bindFramebuffer(36009,Ne.__webglFramebuffer),Y===!0&&(t.invalidateFramebuffer(36008,[Ve]),t.invalidateFramebuffer(36009,[Ve])),t.blitFramebuffer(0,0,H,j,0,0,H,j,ce,9728),h&&t.invalidateFramebuffer(36008,ke),n.bindFramebuffer(36008,null),n.bindFramebuffer(36009,Ne.__webglMultisampledFramebuffer)}}function Ae(z){return Math.min(d,z.samples)}function ee(z){const H=r.get(z);return a&&z.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&H.__useRenderToTexture!==!1}function le(z){const H=s.render.frame;m.get(z)!==H&&(m.set(z,H),z.update())}function ae(z,H){const j=z.encoding,ce=z.format,ke=z.type;return z.isCompressedTexture===!0||z.isVideoTexture===!0||z.format===Jg||j!==Co&&(j===yn?a===!1?e.has("EXT_sRGB")===!0&&ce===$r?(z.format=Jg,z.minFilter=Yn,z.generateMipmaps=!1):H=ga.sRGBToLinear(H):(ce!==$r||ke!==sa)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",j)),H}this.allocateTextureUnit=P,this.resetTextureUnits=A,this.setTexture2D=K,this.setTexture2DArray=te,this.setTexture3D=J,this.setTextureCube=se,this.rebindTextures=Q,this.setupRenderTarget=de,this.updateRenderTargetMipmap=me,this.updateMultisampleRenderTarget=Se,this.setupDepthRenderbuffer=U,this.setupFrameBufferTexture=ye,this.useMultisampledRTT=ee}function kle(t,e,n){const r=n.isWebGL2;function i(o,s=null){let a;if(o===sa)return 5121;if(o===fre)return 32819;if(o===hre)return 32820;if(o===ure)return 5120;if(o===cre)return 5122;if(o===bc)return 5123;if(o===dre)return 5124;if(o===Ef)return 5125;if(o===Hs)return 5126;if(o===fl)return r?5131:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(o===pre)return 6406;if(o===$r)return 6408;if(o===gre)return 6409;if(o===vre)return 6410;if(o===Js)return 6402;if(o===Il)return 34041;if(o===G0)return 6403;if(o===mre)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(o===Jg)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(o===yre)return 36244;if(o===bre)return 33319;if(o===wre)return 33320;if(o===_re)return 36249;if(o===Kp||o===qp||o===Yp||o===Xp)if(s===yn)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(o===Kp)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(o===qp)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(o===Yp)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(o===Xp)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(o===Kp)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(o===qp)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(o===Yp)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(o===Xp)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(o===zw||o===Vw||o===Hw||o===Uw)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(o===zw)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(o===Vw)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(o===Hw)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(o===Uw)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(o===Sre)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(o===Ww||o===Gw)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(o===Ww)return s===yn?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(o===Gw)return s===yn?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(o===jw||o===Kw||o===qw||o===Yw||o===Xw||o===Zw||o===Jw||o===Qw||o===e_||o===t_||o===n_||o===r_||o===i_||o===o_)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(o===jw)return s===yn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(o===Kw)return s===yn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(o===qw)return s===yn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(o===Yw)return s===yn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(o===Xw)return s===yn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(o===Zw)return s===yn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(o===Jw)return s===yn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(o===Qw)return s===yn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(o===e_)return s===yn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(o===t_)return s===yn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(o===n_)return s===yn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(o===r_)return s===yn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(o===i_)return s===yn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(o===o_)return s===yn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(o===s_)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(o===s_)return s===yn?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(o===hl)return r?34042:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null)}return{convert:i}}class pT extends cr{constructor(e=[]){super();this.cameras=e}}pT.prototype.isArrayCamera=!0;class gr extends Zt{constructor(){super();this.type="Group"}}gr.prototype.isGroup=!0;const Ple={type:"move"};class Mm{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new gr,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new gr,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ne,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ne),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new gr,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ne,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ne),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,o=null,s=null;const a=this._targetRay,l=this._grip,u=this._hand;if(e&&n.session.visibilityState!=="visible-blurred")if(a!==null&&(i=n.getPose(e.targetRaySpace,r),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(Ple))),u&&e.hand){s=!0;for(const g of e.hand.values()){const p=n.getJointPose(g,r);if(u.joints[g.jointName]===void 0){const y=new gr;y.matrixAutoUpdate=!1,y.visible=!1,u.joints[g.jointName]=y,u.add(y)}const v=u.joints[g.jointName];p!==null&&(v.matrix.fromArray(p.transform.matrix),v.matrix.decompose(v.position,v.rotation,v.scale),v.jointRadius=p.radius),v.visible=p!==null}const c=u.joints["index-finger-tip"],d=u.joints["thumb-tip"],f=c.position.distanceTo(d.position),h=.02,m=.005;u.inputState.pinching&&f>h+m?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&f<=h-m&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(o=n.getPose(e.gripSpace,r),o!==null&&(l.matrix.fromArray(o.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),o.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(o.linearVelocity)):l.hasLinearVelocity=!1,o.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(o.angularVelocity)):l.hasAngularVelocity=!1));return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=o!==null),u!==null&&(u.visible=s!==null),this}}class mT extends Rn{constructor(e,n,r,i,o,s,a,l,u,c){if(c=c!==void 0?c:Js,c!==Js&&c!==Il)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&c===Js&&(r=bc),r===void 0&&c===Il&&(r=hl);super(null,i,o,s,a,l,c,r,u);this.image={width:e,height:n},this.magFilter=a!==void 0?a:Fn,this.minFilter=l!==void 0?l:Fn,this.flipY=!1,this.generateMipmaps=!1}}mT.prototype.isDepthTexture=!0;class Lle extends ds{constructor(e,n){super();const r=this;let i=null,o=1,s=null,a="local-floor",l=null,u=null,c=null,d=null,f=null;const h=n.getContextAttributes();let m=null,g=null;const p=[],v=new Map,y=new cr;y.layers.enable(1),y.viewport=new nn;const w=new cr;w.layers.enable(2),w.viewport=new nn;const _=[y,w],b=new pT;b.layers.enable(1),b.layers.enable(2);let S=null,M=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(P){let W=p[P];return W===void 0&&(W=new Mm,p[P]=W),W.getTargetRaySpace()},this.getControllerGrip=function(P){let W=p[P];return W===void 0&&(W=new Mm,p[P]=W),W.getGripSpace()},this.getHand=function(P){let W=p[P];return W===void 0&&(W=new Mm,p[P]=W),W.getHandSpace()};function T(P){const W=v.get(P.inputSource);W&&W.dispatchEvent({type:P.type,data:P.inputSource})}function N(){v.forEach(function(P,W){P.disconnect(W)}),v.clear(),S=null,M=null,e.setRenderTarget(m),d=null,c=null,u=null,i=null,g=null,A.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(P){o=P,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(P){a=P,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return s},this.getBaseLayer=function(){return c!==null?c:d},this.getBinding=function(){return u},this.getFrame=function(){return f},this.getSession=function(){return i},this.setSession=async function(P){if(i=P,i!==null){if(m=e.getRenderTarget(),i.addEventListener("select",T),i.addEventListener("selectstart",T),i.addEventListener("selectend",T),i.addEventListener("squeeze",T),i.addEventListener("squeezestart",T),i.addEventListener("squeezeend",T),i.addEventListener("end",N),i.addEventListener("inputsourceschange",I),h.xrCompatible!==!0&&await n.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const W={antialias:i.renderState.layers===void 0?h.antialias:!0,alpha:h.alpha,depth:h.depth,stencil:h.stencil,framebufferScaleFactor:o};d=new XRWebGLLayer(i,n,W),i.updateRenderState({baseLayer:d}),g=new Br(d.framebufferWidth,d.framebufferHeight,{format:$r,type:sa,encoding:e.outputEncoding})}else{let W=null,K=null,te=null;h.depth&&(te=h.stencil?35056:33190,W=h.stencil?Il:Js,K=h.stencil?hl:bc);const J={colorFormat:e.outputEncoding===yn?35907:32856,depthFormat:te,scaleFactor:o};u=new XRWebGLBinding(i,n),c=u.createProjectionLayer(J),i.updateRenderState({layers:[c]}),g=new Br(c.textureWidth,c.textureHeight,{format:$r,type:sa,depthTexture:new mT(c.textureWidth,c.textureHeight,K,void 0,void 0,void 0,void 0,void 0,void 0,W),stencilBuffer:h.stencil,encoding:e.outputEncoding,samples:h.antialias?4:0});const se=e.properties.get(g);se.__ignoreDepthValues=c.ignoreDepthValues}g.isXRRenderTarget=!0,this.setFoveation(1),s=await i.requestReferenceSpace(a),A.setContext(i),A.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}};function I(P){const W=i.inputSources;for(let K=0;K<p.length;K++)v.set(W[K],p[K]);for(let K=0;K<P.removed.length;K++){const te=P.removed[K],J=v.get(te);J&&(J.dispatchEvent({type:"disconnected",data:te}),v.delete(te))}for(let K=0;K<P.added.length;K++){const te=P.added[K],J=v.get(te);J&&J.dispatchEvent({type:"connected",data:te})}}const x=new ne,R=new ne;function O(P,W,K){x.setFromMatrixPosition(W.matrixWorld),R.setFromMatrixPosition(K.matrixWorld);const te=x.distanceTo(R),J=W.projectionMatrix.elements,se=K.projectionMatrix.elements,Te=J[14]/(J[10]-1),Le=J[14]/(J[10]+1),q=(J[9]+1)/J[5],re=(J[9]-1)/J[5],he=(J[8]-1)/J[0],we=(se[8]+1)/se[0],ye=Te*he,ze=Te*we,be=te/(-he+we),U=be*-he;W.matrixWorld.decompose(P.position,P.quaternion,P.scale),P.translateX(U),P.translateZ(be),P.matrixWorld.compose(P.position,P.quaternion,P.scale),P.matrixWorldInverse.copy(P.matrixWorld).invert();const Q=Te+be,de=Le+be,me=ye-U,Se=ze+(te-U),Ae=q*Le/de*Q,ee=re*Le/de*Q;P.projectionMatrix.makePerspective(me,Se,Ae,ee,Q,de)}function D(P,W){W===null?P.matrixWorld.copy(P.matrix):P.matrixWorld.multiplyMatrices(W.matrixWorld,P.matrix),P.matrixWorldInverse.copy(P.matrixWorld).invert()}this.updateCamera=function(P){if(i===null)return;b.near=w.near=y.near=P.near,b.far=w.far=y.far=P.far,(S!==b.near||M!==b.far)&&(i.updateRenderState({depthNear:b.near,depthFar:b.far}),S=b.near,M=b.far);const W=P.parent,K=b.cameras;D(b,W);for(let J=0;J<K.length;J++)D(K[J],W);b.matrixWorld.decompose(b.position,b.quaternion,b.scale),P.position.copy(b.position),P.quaternion.copy(b.quaternion),P.scale.copy(b.scale),P.matrix.copy(b.matrix),P.matrixWorld.copy(b.matrixWorld);const te=P.children;for(let J=0,se=te.length;J<se;J++)te[J].updateMatrixWorld(!0);K.length===2?O(b,y,w):b.projectionMatrix.copy(y.projectionMatrix)},this.getCamera=function(){return b},this.getFoveation=function(){if(c!==null)return c.fixedFoveation;if(d!==null)return d.fixedFoveation},this.setFoveation=function(P){c!==null&&(c.fixedFoveation=P),d!==null&&d.fixedFoveation!==void 0&&(d.fixedFoveation=P)};let B=null;function L(P,W){if(l=W.getViewerPose(s),f=W,l!==null){const te=l.views;d!==null&&(e.setRenderTargetFramebuffer(g,d.framebuffer),e.setRenderTarget(g));let J=!1;te.length!==b.cameras.length&&(b.cameras.length=0,J=!0);for(let se=0;se<te.length;se++){const Te=te[se];let Le=null;if(d!==null)Le=d.getViewport(Te);else{const re=u.getViewSubImage(c,Te);Le=re.viewport,se===0&&(e.setRenderTargetTextures(g,re.colorTexture,c.ignoreDepthValues?void 0:re.depthStencilTexture),e.setRenderTarget(g))}const q=_[se];q.matrix.fromArray(Te.transform.matrix),q.projectionMatrix.fromArray(Te.projectionMatrix),q.viewport.set(Le.x,Le.y,Le.width,Le.height),se===0&&b.matrix.copy(q.matrix),J===!0&&b.cameras.push(q)}}const K=i.inputSources;for(let te=0;te<p.length;te++){const J=p[te],se=K[te];J.update(se,W,s)}B&&B(P,W),f=null}const A=new oT;A.setAnimationLoop(L),this.setAnimationLoop=function(P){B=P},this.dispose=function(){}}}function Rle(t,e){function n(g,p){g.fogColor.value.copy(p.color),p.isFog?(g.fogNear.value=p.near,g.fogFar.value=p.far):p.isFogExp2&&(g.fogDensity.value=p.density)}function r(g,p,v,y,w){p.isMeshBasicMaterial||p.isMeshLambertMaterial?i(g,p):p.isMeshToonMaterial?(i(g,p),c(g,p)):p.isMeshPhongMaterial?(i(g,p),u(g,p)):p.isMeshStandardMaterial?(i(g,p),d(g,p),p.isMeshPhysicalMaterial&&f(g,p,w)):p.isMeshMatcapMaterial?(i(g,p),h(g,p)):p.isMeshDepthMaterial?i(g,p):p.isMeshDistanceMaterial?(i(g,p),m(g,p)):p.isMeshNormalMaterial?i(g,p):p.isLineBasicMaterial?(o(g,p),p.isLineDashedMaterial&&s(g,p)):p.isPointsMaterial?a(g,p,v,y):p.isSpriteMaterial?l(g,p):p.isShadowMaterial?(g.color.value.copy(p.color),g.opacity.value=p.opacity):p.isShaderMaterial&&(p.uniformsNeedUpdate=!1)}function i(g,p){g.opacity.value=p.opacity,p.color&&g.diffuse.value.copy(p.color),p.emissive&&g.emissive.value.copy(p.emissive).multiplyScalar(p.emissiveIntensity),p.map&&(g.map.value=p.map),p.alphaMap&&(g.alphaMap.value=p.alphaMap),p.bumpMap&&(g.bumpMap.value=p.bumpMap,g.bumpScale.value=p.bumpScale,p.side===Si&&(g.bumpScale.value*=-1)),p.displacementMap&&(g.displacementMap.value=p.displacementMap,g.displacementScale.value=p.displacementScale,g.displacementBias.value=p.displacementBias),p.emissiveMap&&(g.emissiveMap.value=p.emissiveMap),p.normalMap&&(g.normalMap.value=p.normalMap,g.normalScale.value.copy(p.normalScale),p.side===Si&&g.normalScale.value.negate()),p.specularMap&&(g.specularMap.value=p.specularMap),p.alphaTest>0&&(g.alphaTest.value=p.alphaTest);const v=e.get(p).envMap;if(v&&(g.envMap.value=v,g.flipEnvMap.value=v.isCubeTexture&&v.isRenderTargetTexture===!1?-1:1,g.reflectivity.value=p.reflectivity,g.ior.value=p.ior,g.refractionRatio.value=p.refractionRatio),p.lightMap){g.lightMap.value=p.lightMap;const _=t.physicallyCorrectLights!==!0?Math.PI:1;g.lightMapIntensity.value=p.lightMapIntensity*_}p.aoMap&&(g.aoMap.value=p.aoMap,g.aoMapIntensity.value=p.aoMapIntensity);let y;p.map?y=p.map:p.specularMap?y=p.specularMap:p.displacementMap?y=p.displacementMap:p.normalMap?y=p.normalMap:p.bumpMap?y=p.bumpMap:p.roughnessMap?y=p.roughnessMap:p.metalnessMap?y=p.metalnessMap:p.alphaMap?y=p.alphaMap:p.emissiveMap?y=p.emissiveMap:p.clearcoatMap?y=p.clearcoatMap:p.clearcoatNormalMap?y=p.clearcoatNormalMap:p.clearcoatRoughnessMap?y=p.clearcoatRoughnessMap:p.specularIntensityMap?y=p.specularIntensityMap:p.specularColorMap?y=p.specularColorMap:p.transmissionMap?y=p.transmissionMap:p.thicknessMap?y=p.thicknessMap:p.sheenColorMap?y=p.sheenColorMap:p.sheenRoughnessMap&&(y=p.sheenRoughnessMap),y!==void 0&&(y.isWebGLRenderTarget&&(y=y.texture),y.matrixAutoUpdate===!0&&y.updateMatrix(),g.uvTransform.value.copy(y.matrix));let w;p.aoMap?w=p.aoMap:p.lightMap&&(w=p.lightMap),w!==void 0&&(w.isWebGLRenderTarget&&(w=w.texture),w.matrixAutoUpdate===!0&&w.updateMatrix(),g.uv2Transform.value.copy(w.matrix))}function o(g,p){g.diffuse.value.copy(p.color),g.opacity.value=p.opacity}function s(g,p){g.dashSize.value=p.dashSize,g.totalSize.value=p.dashSize+p.gapSize,g.scale.value=p.scale}function a(g,p,v,y){g.diffuse.value.copy(p.color),g.opacity.value=p.opacity,g.size.value=p.size*v,g.scale.value=y*.5,p.map&&(g.map.value=p.map),p.alphaMap&&(g.alphaMap.value=p.alphaMap),p.alphaTest>0&&(g.alphaTest.value=p.alphaTest);let w;p.map?w=p.map:p.alphaMap&&(w=p.alphaMap),w!==void 0&&(w.matrixAutoUpdate===!0&&w.updateMatrix(),g.uvTransform.value.copy(w.matrix))}function l(g,p){g.diffuse.value.copy(p.color),g.opacity.value=p.opacity,g.rotation.value=p.rotation,p.map&&(g.map.value=p.map),p.alphaMap&&(g.alphaMap.value=p.alphaMap),p.alphaTest>0&&(g.alphaTest.value=p.alphaTest);let v;p.map?v=p.map:p.alphaMap&&(v=p.alphaMap),v!==void 0&&(v.matrixAutoUpdate===!0&&v.updateMatrix(),g.uvTransform.value.copy(v.matrix))}function u(g,p){g.specular.value.copy(p.specular),g.shininess.value=Math.max(p.shininess,1e-4)}function c(g,p){p.gradientMap&&(g.gradientMap.value=p.gradientMap)}function d(g,p){g.roughness.value=p.roughness,g.metalness.value=p.metalness,p.roughnessMap&&(g.roughnessMap.value=p.roughnessMap),p.metalnessMap&&(g.metalnessMap.value=p.metalnessMap),e.get(p).envMap&&(g.envMapIntensity.value=p.envMapIntensity)}function f(g,p,v){g.ior.value=p.ior,p.sheen>0&&(g.sheenColor.value.copy(p.sheenColor).multiplyScalar(p.sheen),g.sheenRoughness.value=p.sheenRoughness,p.sheenColorMap&&(g.sheenColorMap.value=p.sheenColorMap),p.sheenRoughnessMap&&(g.sheenRoughnessMap.value=p.sheenRoughnessMap)),p.clearcoat>0&&(g.clearcoat.value=p.clearcoat,g.clearcoatRoughness.value=p.clearcoatRoughness,p.clearcoatMap&&(g.clearcoatMap.value=p.clearcoatMap),p.clearcoatRoughnessMap&&(g.clearcoatRoughnessMap.value=p.clearcoatRoughnessMap),p.clearcoatNormalMap&&(g.clearcoatNormalScale.value.copy(p.clearcoatNormalScale),g.clearcoatNormalMap.value=p.clearcoatNormalMap,p.side===Si&&g.clearcoatNormalScale.value.negate())),p.transmission>0&&(g.transmission.value=p.transmission,g.transmissionSamplerMap.value=v.texture,g.transmissionSamplerSize.value.set(v.width,v.height),p.transmissionMap&&(g.transmissionMap.value=p.transmissionMap),g.thickness.value=p.thickness,p.thicknessMap&&(g.thicknessMap.value=p.thicknessMap),g.attenuationDistance.value=p.attenuationDistance,g.attenuationColor.value.copy(p.attenuationColor)),g.specularIntensity.value=p.specularIntensity,g.specularColor.value.copy(p.specularColor),p.specularIntensityMap&&(g.specularIntensityMap.value=p.specularIntensityMap),p.specularColorMap&&(g.specularColorMap.value=p.specularColorMap)}function h(g,p){p.matcap&&(g.matcap.value=p.matcap)}function m(g,p){g.referencePosition.value.copy(p.referencePosition),g.nearDistance.value=p.nearDistance,g.farDistance.value=p.farDistance}return{refreshFogUniforms:n,refreshMaterialUniforms:r}}function Ile(){const t=Sc("canvas");return t.style.display="block",t}function on(t={}){const e=t.canvas!==void 0?t.canvas:Ile(),n=t.context!==void 0?t.context:null,r=t.depth!==void 0?t.depth:!0,i=t.stencil!==void 0?t.stencil:!0,o=t.antialias!==void 0?t.antialias:!1,s=t.premultipliedAlpha!==void 0?t.premultipliedAlpha:!0,a=t.preserveDrawingBuffer!==void 0?t.preserveDrawingBuffer:!1,l=t.powerPreference!==void 0?t.powerPreference:"default",u=t.failIfMajorPerformanceCaveat!==void 0?t.failIfMajorPerformanceCaveat:!1;let c;t.context!==void 0?c=n.getContextAttributes().alpha:c=t.alpha!==void 0?t.alpha:!1;let d=null,f=null;const h=[],m=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=Co,this.physicallyCorrectLights=!1,this.toneMapping=po,this.toneMappingExposure=1;const g=this;let p=!1,v=0,y=0,w=null,_=-1,b=null;const S=new nn,M=new nn;let T=null,N=e.width,I=e.height,x=1,R=null,O=null;const D=new nn(0,0,N,I),B=new nn(0,0,N,I);let L=!1;const A=new Kh;let P=!1,W=!1,K=null;const te=new St,J=new Ge,se=new ne,Te={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Le(){return w===null?x:1}let q=n;function re(oe,Re){for(let Be=0;Be<oe.length;Be++){const Oe=oe[Be],je=e.getContext(Oe,Re);if(je!==null)return je}return null}try{const oe={alpha:!0,depth:r,stencil:i,antialias:o,premultipliedAlpha:s,preserveDrawingBuffer:a,powerPreference:l,failIfMajorPerformanceCaveat:u};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${W0}`),e.addEventListener("webglcontextlost",ie,!1),e.addEventListener("webglcontextrestored",He,!1),q===null){const Re=["webgl2","webgl","experimental-webgl"];if(g.isWebGL1Renderer===!0&&Re.shift(),q=re(Re,oe),q===null)throw re(Re)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}q.getShaderPrecisionFormat===void 0&&(q.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(oe){throw console.error("THREE.WebGLRenderer: "+oe.message),oe}let he,we,ye,ze,be,U,Q,de,me,Se,Ae,ee,le,ae,z,H,j,ce,ke,Ve,Ne,Y,_e;function ge(){he=new Zse(q),we=new Gse(q,he,t),he.init(we),Y=new kle(q,he,we),ye=new Tle(q,he,we),ze=new eae(q),be=new gle,U=new Ale(q,he,ye,be,we,Y,ze),Q=new Kse(g),de=new Xse(g),me=new pie(q,we),_e=new Use(q,he,me,we),Se=new Jse(q,me,ze,_e),Ae=new iae(q,Se,me,ze),ke=new rae(q,we,U),H=new jse(be),ee=new mle(g,Q,de,he,we,_e,H),le=new Rle(g,be),ae=new yle,z=new Mle(he,we),ce=new Hse(g,Q,ye,Ae,c,s),j=new hT(g,Ae,we),Ve=new Wse(q,he,ze,we),Ne=new Qse(q,he,ze,we),ze.programs=ee.programs,g.capabilities=we,g.extensions=he,g.properties=be,g.renderLists=ae,g.shadowMap=j,g.state=ye,g.info=ze}ge();const xe=new Lle(g,q);this.xr=xe,this.getContext=function(){return q},this.getContextAttributes=function(){return q.getContextAttributes()},this.forceContextLoss=function(){const oe=he.get("WEBGL_lose_context");oe&&oe.loseContext()},this.forceContextRestore=function(){const oe=he.get("WEBGL_lose_context");oe&&oe.restoreContext()},this.getPixelRatio=function(){return x},this.setPixelRatio=function(oe){oe!==void 0&&(x=oe,this.setSize(N,I,!1))},this.getSize=function(oe){return oe.set(N,I)},this.setSize=function(oe,Re,Be){if(xe.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}N=oe,I=Re,e.width=Math.floor(oe*x),e.height=Math.floor(Re*x),Be!==!1&&(e.style.width=oe+"px",e.style.height=Re+"px"),this.setViewport(0,0,oe,Re)},this.getDrawingBufferSize=function(oe){return oe.set(N*x,I*x).floor()},this.setDrawingBufferSize=function(oe,Re,Be){N=oe,I=Re,x=Be,e.width=Math.floor(oe*Be),e.height=Math.floor(Re*Be),this.setViewport(0,0,oe,Re)},this.getCurrentViewport=function(oe){return oe.copy(S)},this.getViewport=function(oe){return oe.copy(D)},this.setViewport=function(oe,Re,Be,Oe){oe.isVector4?D.set(oe.x,oe.y,oe.z,oe.w):D.set(oe,Re,Be,Oe),ye.viewport(S.copy(D).multiplyScalar(x).floor())},this.getScissor=function(oe){return oe.copy(B)},this.setScissor=function(oe,Re,Be,Oe){oe.isVector4?B.set(oe.x,oe.y,oe.z,oe.w):B.set(oe,Re,Be,Oe),ye.scissor(M.copy(B).multiplyScalar(x).floor())},this.getScissorTest=function(){return L},this.setScissorTest=function(oe){ye.setScissorTest(L=oe)},this.setOpaqueSort=function(oe){R=oe},this.setTransparentSort=function(oe){O=oe},this.getClearColor=function(oe){return oe.copy(ce.getClearColor())},this.setClearColor=function(){ce.setClearColor.apply(ce,arguments)},this.getClearAlpha=function(){return ce.getClearAlpha()},this.setClearAlpha=function(){ce.setClearAlpha.apply(ce,arguments)},this.clear=function(oe=!0,Re=!0,Be=!0){let Oe=0;oe&&(Oe|=16384),Re&&(Oe|=256),Be&&(Oe|=1024),q.clear(Oe)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",ie,!1),e.removeEventListener("webglcontextrestored",He,!1),ae.dispose(),z.dispose(),be.dispose(),Q.dispose(),de.dispose(),Ae.dispose(),_e.dispose(),ee.dispose(),xe.dispose(),xe.removeEventListener("sessionstart",yt),xe.removeEventListener("sessionend",Kt),K&&(K.dispose(),K=null),$t.stop()};function ie(oe){oe.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),p=!0}function He(){console.log("THREE.WebGLRenderer: Context Restored."),p=!1;const oe=ze.autoReset,Re=j.enabled,Be=j.autoUpdate,Oe=j.needsUpdate,je=j.type;ge(),ze.autoReset=oe,j.enabled=Re,j.autoUpdate=Be,j.needsUpdate=Oe,j.type=je}function We(oe){const Re=oe.target;Re.removeEventListener("dispose",We),rt(Re)}function rt(oe){tt(oe),be.remove(oe)}function tt(oe){const Re=be.get(oe).programs;Re!==void 0&&(Re.forEach(function(Be){ee.releaseProgram(Be)}),oe.isShaderMaterial&&ee.releaseShaderCache(oe))}this.renderBufferDirect=function(oe,Re,Be,Oe,je,At){Re===null&&(Re=Te);const Dt=je.isMesh&&je.matrixWorld.determinant()<0,zt=f3(oe,Re,Be,Oe,je);ye.setMaterial(Oe,Dt);let Bt=Be.index;const en=Be.attributes.position;if(Bt===null){if(en===void 0||en.count===0)return}else if(Bt.count===0)return;let qt=1;Oe.wireframe===!0&&(Bt=Se.getWireframeAttribute(Be),qt=2),_e.setup(je,Oe,zt,Be,Bt);let Xt,Tn=Ve;Bt!==null&&(Xt=me.get(Bt),Tn=Ne,Tn.setIndex(Xt));const ms=Bt!==null?Bt.count:en.count,ba=Be.drawRange.start*qt,wa=Be.drawRange.count*qt,Ri=At!==null?At.start*qt:0,Jt=At!==null?At.count*qt:1/0,_a=Math.max(ba,Ri),In=Math.min(ms,ba+wa,Ri+Jt)-1,Ii=Math.max(0,In-_a+1);if(Ii!==0){if(je.isMesh)Oe.wireframe===!0?(ye.setLineWidth(Oe.wireframeLinewidth*Le()),Tn.setMode(1)):Tn.setMode(4);else if(je.isLine){let Lo=Oe.linewidth;Lo===void 0&&(Lo=1),ye.setLineWidth(Lo*Le()),je.isLineSegments?Tn.setMode(1):je.isLineLoop?Tn.setMode(2):Tn.setMode(3)}else je.isPoints?Tn.setMode(0):je.isSprite&&Tn.setMode(4);if(je.isInstancedMesh)Tn.renderInstances(_a,Ii,je.count);else if(Be.isInstancedBufferGeometry){const Lo=Math.min(Be.instanceCount,Be._maxInstanceCount);Tn.renderInstances(_a,Ii,Lo)}else Tn.render(_a,Ii)}},this.compile=function(oe,Re){f=z.get(oe),f.init(),m.push(f),oe.traverseVisible(function(Be){Be.isLight&&Be.layers.test(Re.layers)&&(f.pushLight(Be),Be.castShadow&&f.pushShadow(Be))}),f.setupLights(g.physicallyCorrectLights),oe.traverse(function(Be){const Oe=Be.material;if(Oe)if(Array.isArray(Oe))for(let je=0;je<Oe.length;je++){const At=Oe[je];fr(At,oe,Be)}else fr(Oe,oe,Be)}),m.pop(),f=null};let vt=null;function Qe(oe){vt&&vt(oe)}function yt(){$t.stop()}function Kt(){$t.start()}const $t=new oT;$t.setAnimationLoop(Qe),typeof self!="undefined"&&$t.setContext(self),this.setAnimationLoop=function(oe){vt=oe,xe.setAnimationLoop(oe),oe===null?$t.stop():$t.start()},xe.addEventListener("sessionstart",yt),xe.addEventListener("sessionend",Kt),this.render=function(oe,Re){if(Re!==void 0&&Re.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(p===!0)return;oe.autoUpdate===!0&&oe.updateMatrixWorld(),Re.parent===null&&Re.updateMatrixWorld(),xe.enabled===!0&&xe.isPresenting===!0&&(xe.cameraAutoUpdate===!0&&xe.updateCamera(Re),Re=xe.getCamera()),oe.isScene===!0&&oe.onBeforeRender(g,oe,Re,w),f=z.get(oe,m.length),f.init(),m.push(f),te.multiplyMatrices(Re.projectionMatrix,Re.matrixWorldInverse),A.setFromProjectionMatrix(te),W=this.localClippingEnabled,P=H.init(this.clippingPlanes,W,Re),d=ae.get(oe,h.length),d.init(),h.push(d),Ie(oe,Re,0,g.sortObjects),d.finish(),g.sortObjects===!0&&d.sort(R,O),P===!0&&H.beginShadows();const Be=f.state.shadowsArray;if(j.render(Be,oe,Re),P===!0&&H.endShadows(),this.info.autoReset===!0&&this.info.reset(),ce.render(d,oe),f.setupLights(g.physicallyCorrectLights),Re.isArrayCamera){const Oe=Re.cameras;for(let je=0,At=Oe.length;je<At;je++){const Dt=Oe[je];nt(d,oe,Dt,Dt.viewport)}}else nt(d,oe,Re);w!==null&&(U.updateMultisampleRenderTarget(w),U.updateRenderTargetMipmap(w)),oe.isScene===!0&&oe.onAfterRender(g,oe,Re),_e.resetDefaultState(),_=-1,b=null,m.pop(),m.length>0?f=m[m.length-1]:f=null,h.pop(),h.length>0?d=h[h.length-1]:d=null};function Ie(oe,Re,Be,Oe){if(oe.visible===!1)return;if(oe.layers.test(Re.layers)){if(oe.isGroup)Be=oe.renderOrder;else if(oe.isLOD)oe.autoUpdate===!0&&oe.update(Re);else if(oe.isLight)f.pushLight(oe),oe.castShadow&&f.pushShadow(oe);else if(oe.isSprite){if(!oe.frustumCulled||A.intersectsSprite(oe)){Oe&&se.setFromMatrixPosition(oe.matrixWorld).applyMatrix4(te);const Dt=Ae.update(oe),zt=oe.material;zt.visible&&d.push(oe,Dt,zt,Be,se.z,null)}}else if((oe.isMesh||oe.isLine||oe.isPoints)&&(oe.isSkinnedMesh&&oe.skeleton.frame!==ze.render.frame&&(oe.skeleton.update(),oe.skeleton.frame=ze.render.frame),!oe.frustumCulled||A.intersectsObject(oe))){Oe&&se.setFromMatrixPosition(oe.matrixWorld).applyMatrix4(te);const Dt=Ae.update(oe),zt=oe.material;if(Array.isArray(zt)){const Bt=Dt.groups;for(let en=0,qt=Bt.length;en<qt;en++){const Xt=Bt[en],Tn=zt[Xt.materialIndex];Tn&&Tn.visible&&d.push(oe,Dt,Tn,Be,se.z,Xt)}}else zt.visible&&d.push(oe,Dt,zt,Be,se.z,null)}}const At=oe.children;for(let Dt=0,zt=At.length;Dt<zt;Dt++)Ie(At[Dt],Re,Be,Oe)}function nt(oe,Re,Be,Oe){const je=oe.opaque,At=oe.transmissive,Dt=oe.transparent;f.setupLightsView(Be),At.length>0&&Rt(je,Re,Be),Oe&&ye.viewport(S.copy(Oe)),je.length>0&&Yt(je,Re,Be),At.length>0&&Yt(At,Re,Be),Dt.length>0&&Yt(Dt,Re,Be),ye.buffers.depth.setTest(!0),ye.buffers.depth.setMask(!0),ye.buffers.color.setMask(!0),ye.setPolygonOffset(!1)}function Rt(oe,Re,Be){const Oe=we.isWebGL2;K===null&&(K=new Br(1,1,{generateMipmaps:!0,type:Y.convert(fl)!==null?fl:sa,minFilter:Uh,samples:Oe&&o===!0?4:0})),g.getDrawingBufferSize(J),Oe?K.setSize(J.x,J.y):K.setSize(sh(J.x),sh(J.y));const je=g.getRenderTarget();g.setRenderTarget(K),g.clear();const At=g.toneMapping;g.toneMapping=po,Yt(oe,Re,Be),g.toneMapping=At,U.updateMultisampleRenderTarget(K),U.updateRenderTargetMipmap(K),g.setRenderTarget(je)}function Yt(oe,Re,Be){const Oe=Re.isScene===!0?Re.overrideMaterial:null;for(let je=0,At=oe.length;je<At;je++){const Dt=oe[je],zt=Dt.object,Bt=Dt.geometry,en=Oe===null?Dt.material:Oe,qt=Dt.group;zt.layers.test(Be.layers)&&ui(zt,Re,Be,Bt,en,qt)}}function ui(oe,Re,Be,Oe,je,At){oe.onBeforeRender(g,Re,Be,Oe,je,At),oe.modelViewMatrix.multiplyMatrices(Be.matrixWorldInverse,oe.matrixWorld),oe.normalMatrix.getNormalMatrix(oe.modelViewMatrix),je.onBeforeRender(g,Re,Be,Oe,oe,At),je.transparent===!0&&je.side===So?(je.side=Si,je.needsUpdate=!0,g.renderBufferDirect(Be,Re,Oe,je,oe,At),je.side=yc,je.needsUpdate=!0,g.renderBufferDirect(Be,Re,Oe,je,oe,At),je.side=So):g.renderBufferDirect(Be,Re,Oe,je,oe,At),oe.onAfterRender(g,Re,Be,Oe,je,At)}function fr(oe,Re,Be){Re.isScene!==!0&&(Re=Te);const Oe=be.get(oe),je=f.state.lights,At=f.state.shadowsArray,Dt=je.state.version,zt=ee.getParameters(oe,je.state,At,Re,Be),Bt=ee.getProgramCacheKey(zt);let en=Oe.programs;Oe.environment=oe.isMeshStandardMaterial?Re.environment:null,Oe.fog=Re.fog,Oe.envMap=(oe.isMeshStandardMaterial?de:Q).get(oe.envMap||Oe.environment),en===void 0&&(oe.addEventListener("dispose",We),en=new Map,Oe.programs=en);let qt=en.get(Bt);if(qt!==void 0){if(Oe.currentProgram===qt&&Oe.lightsStateVersion===Dt)return ps(oe,zt),qt}else zt.uniforms=ee.getUniforms(oe),oe.onBuild(Be,zt,g),oe.onBeforeCompile(zt,g),qt=ee.acquireProgram(zt,Bt),en.set(Bt,qt),Oe.uniforms=zt.uniforms;const Xt=Oe.uniforms;(!oe.isShaderMaterial&&!oe.isRawShaderMaterial||oe.clipping===!0)&&(Xt.clippingPlanes=H.uniform),ps(oe,zt),Oe.needsLights=p3(oe),Oe.lightsStateVersion=Dt,Oe.needsLights&&(Xt.ambientLightColor.value=je.state.ambient,Xt.lightProbe.value=je.state.probe,Xt.directionalLights.value=je.state.directional,Xt.directionalLightShadows.value=je.state.directionalShadow,Xt.spotLights.value=je.state.spot,Xt.spotLightShadows.value=je.state.spotShadow,Xt.rectAreaLights.value=je.state.rectArea,Xt.ltc_1.value=je.state.rectAreaLTC1,Xt.ltc_2.value=je.state.rectAreaLTC2,Xt.pointLights.value=je.state.point,Xt.pointLightShadows.value=je.state.pointShadow,Xt.hemisphereLights.value=je.state.hemi,Xt.directionalShadowMap.value=je.state.directionalShadowMap,Xt.directionalShadowMatrix.value=je.state.directionalShadowMatrix,Xt.spotShadowMap.value=je.state.spotShadowMap,Xt.spotShadowMatrix.value=je.state.spotShadowMatrix,Xt.pointShadowMap.value=je.state.pointShadowMap,Xt.pointShadowMatrix.value=je.state.pointShadowMatrix);const Tn=qt.getUniforms(),ms=es.seqWithValue(Tn.seq,Xt);return Oe.currentProgram=qt,Oe.uniformsList=ms,qt}function ps(oe,Re){const Be=be.get(oe);Be.outputEncoding=Re.outputEncoding,Be.instancing=Re.instancing,Be.skinning=Re.skinning,Be.morphTargets=Re.morphTargets,Be.morphNormals=Re.morphNormals,Be.morphColors=Re.morphColors,Be.morphTargetsCount=Re.morphTargetsCount,Be.numClippingPlanes=Re.numClippingPlanes,Be.numIntersection=Re.numClipIntersection,Be.vertexAlphas=Re.vertexAlphas,Be.vertexTangents=Re.vertexTangents,Be.toneMapping=Re.toneMapping}function f3(oe,Re,Be,Oe,je){Re.isScene!==!0&&(Re=Te),U.resetTextureUnits();const At=Re.fog,Dt=Oe.isMeshStandardMaterial?Re.environment:null,zt=w===null?g.outputEncoding:w.isXRRenderTarget===!0?w.texture.encoding:Co,Bt=(Oe.isMeshStandardMaterial?de:Q).get(Oe.envMap||Dt),en=Oe.vertexColors===!0&&!!Be.attributes.color&&Be.attributes.color.itemSize===4,qt=!!Oe.normalMap&&!!Be.attributes.tangent,Xt=!!Be.morphAttributes.position,Tn=!!Be.morphAttributes.normal,ms=!!Be.morphAttributes.color,ba=Oe.toneMapped?g.toneMapping:po,wa=Be.morphAttributes.position||Be.morphAttributes.normal||Be.morphAttributes.color,Ri=wa!==void 0?wa.length:0,Jt=be.get(Oe),_a=f.state.lights;if(P===!0&&(W===!0||oe!==b)){const ci=oe===b&&Oe.id===_;H.setState(Oe,oe,ci)}let In=!1;Oe.version===Jt.__version?(Jt.needsLights&&Jt.lightsStateVersion!==_a.state.version||Jt.outputEncoding!==zt||je.isInstancedMesh&&Jt.instancing===!1||!je.isInstancedMesh&&Jt.instancing===!0||je.isSkinnedMesh&&Jt.skinning===!1||!je.isSkinnedMesh&&Jt.skinning===!0||Jt.envMap!==Bt||Oe.fog&&Jt.fog!==At||Jt.numClippingPlanes!==void 0&&(Jt.numClippingPlanes!==H.numPlanes||Jt.numIntersection!==H.numIntersection)||Jt.vertexAlphas!==en||Jt.vertexTangents!==qt||Jt.morphTargets!==Xt||Jt.morphNormals!==Tn||Jt.morphColors!==ms||Jt.toneMapping!==ba||we.isWebGL2===!0&&Jt.morphTargetsCount!==Ri)&&(In=!0):(In=!0,Jt.__version=Oe.version);let Ii=Jt.currentProgram;In===!0&&(Ii=fr(Oe,Re,je));let Lo=!1,ru=!1,ap=!1;const nr=Ii.getUniforms(),iu=Jt.uniforms;if(ye.useProgram(Ii.program)&&(Lo=!0,ru=!0,ap=!0),Oe.id!==_&&(_=Oe.id,ru=!0),Lo||b!==oe){if(nr.setValue(q,"projectionMatrix",oe.projectionMatrix),we.logarithmicDepthBuffer&&nr.setValue(q,"logDepthBufFC",2/(Math.log(oe.far+1)/Math.LN2)),b!==oe&&(b=oe,ru=!0,ap=!0),Oe.isShaderMaterial||Oe.isMeshPhongMaterial||Oe.isMeshToonMaterial||Oe.isMeshStandardMaterial||Oe.envMap){const ci=nr.map.cameraPosition;ci!==void 0&&ci.setValue(q,se.setFromMatrixPosition(oe.matrixWorld))}(Oe.isMeshPhongMaterial||Oe.isMeshToonMaterial||Oe.isMeshLambertMaterial||Oe.isMeshBasicMaterial||Oe.isMeshStandardMaterial||Oe.isShaderMaterial)&&nr.setValue(q,"isOrthographic",oe.isOrthographicCamera===!0),(Oe.isMeshPhongMaterial||Oe.isMeshToonMaterial||Oe.isMeshLambertMaterial||Oe.isMeshBasicMaterial||Oe.isMeshStandardMaterial||Oe.isShaderMaterial||Oe.isShadowMaterial||je.isSkinnedMesh)&&nr.setValue(q,"viewMatrix",oe.matrixWorldInverse)}if(je.isSkinnedMesh){nr.setOptional(q,je,"bindMatrix"),nr.setOptional(q,je,"bindMatrixInverse");const ci=je.skeleton;ci&&(we.floatVertexTextures?(ci.boneTexture===null&&ci.computeBoneTexture(),nr.setValue(q,"boneTexture",ci.boneTexture,U),nr.setValue(q,"boneTextureSize",ci.boneTextureSize)):nr.setOptional(q,ci,"boneMatrices"))}const lp=Be.morphAttributes;return(lp.position!==void 0||lp.normal!==void 0||lp.color!==void 0&&we.isWebGL2===!0)&&ke.update(je,Be,Oe,Ii),(ru||Jt.receiveShadow!==je.receiveShadow)&&(Jt.receiveShadow=je.receiveShadow,nr.setValue(q,"receiveShadow",je.receiveShadow)),ru&&(nr.setValue(q,"toneMappingExposure",g.toneMappingExposure),Jt.needsLights&&h3(iu,ap),At&&Oe.fog&&le.refreshFogUniforms(iu,At),le.refreshMaterialUniforms(iu,Oe,x,I,K),es.upload(q,Jt.uniformsList,iu,U)),Oe.isShaderMaterial&&Oe.uniformsNeedUpdate===!0&&(es.upload(q,Jt.uniformsList,iu,U),Oe.uniformsNeedUpdate=!1),Oe.isSpriteMaterial&&nr.setValue(q,"center",je.center),nr.setValue(q,"modelViewMatrix",je.modelViewMatrix),nr.setValue(q,"normalMatrix",je.normalMatrix),nr.setValue(q,"modelMatrix",je.matrixWorld),Ii}function h3(oe,Re){oe.ambientLightColor.needsUpdate=Re,oe.lightProbe.needsUpdate=Re,oe.directionalLights.needsUpdate=Re,oe.directionalLightShadows.needsUpdate=Re,oe.pointLights.needsUpdate=Re,oe.pointLightShadows.needsUpdate=Re,oe.spotLights.needsUpdate=Re,oe.spotLightShadows.needsUpdate=Re,oe.rectAreaLights.needsUpdate=Re,oe.hemisphereLights.needsUpdate=Re}function p3(oe){return oe.isMeshLambertMaterial||oe.isMeshToonMaterial||oe.isMeshPhongMaterial||oe.isMeshStandardMaterial||oe.isShadowMaterial||oe.isShaderMaterial&&oe.lights===!0}this.getActiveCubeFace=function(){return v},this.getActiveMipmapLevel=function(){return y},this.getRenderTarget=function(){return w},this.setRenderTargetTextures=function(oe,Re,Be){be.get(oe.texture).__webglTexture=Re,be.get(oe.depthTexture).__webglTexture=Be;const Oe=be.get(oe);Oe.__hasExternalTextures=!0,Oe.__hasExternalTextures&&(Oe.__autoAllocateDepthBuffer=Be===void 0,Oe.__autoAllocateDepthBuffer||he.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Oe.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(oe,Re){const Be=be.get(oe);Be.__webglFramebuffer=Re,Be.__useDefaultFramebuffer=Re===void 0},this.setRenderTarget=function(oe,Re=0,Be=0){w=oe,v=Re,y=Be;let Oe=!0;if(oe){const Bt=be.get(oe);Bt.__useDefaultFramebuffer!==void 0?(ye.bindFramebuffer(36160,null),Oe=!1):Bt.__webglFramebuffer===void 0?U.setupRenderTarget(oe):Bt.__hasExternalTextures&&U.rebindTextures(oe,be.get(oe.texture).__webglTexture,be.get(oe.depthTexture).__webglTexture)}let je=null,At=!1,Dt=!1;if(oe){const Bt=oe.texture;(Bt.isData3DTexture||Bt.isDataArrayTexture)&&(Dt=!0);const en=be.get(oe).__webglFramebuffer;oe.isWebGLCubeRenderTarget?(je=en[Re],At=!0):we.isWebGL2&&oe.samples>0&&U.useMultisampledRTT(oe)===!1?je=be.get(oe).__webglMultisampledFramebuffer:je=en,S.copy(oe.viewport),M.copy(oe.scissor),T=oe.scissorTest}else S.copy(D).multiplyScalar(x).floor(),M.copy(B).multiplyScalar(x).floor(),T=L;if(ye.bindFramebuffer(36160,je)&&we.drawBuffers&&Oe&&ye.drawBuffers(oe,je),ye.viewport(S),ye.scissor(M),ye.setScissorTest(T),At){const Bt=be.get(oe.texture);q.framebufferTexture2D(36160,36064,34069+Re,Bt.__webglTexture,Be)}else if(Dt){const Bt=be.get(oe.texture),en=Re||0;q.framebufferTextureLayer(36160,36064,Bt.__webglTexture,Be||0,en)}_=-1},this.readRenderTargetPixels=function(oe,Re,Be,Oe,je,At,Dt){if(!(oe&&oe.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let zt=be.get(oe).__webglFramebuffer;if(oe.isWebGLCubeRenderTarget&&Dt!==void 0&&(zt=zt[Dt]),zt){ye.bindFramebuffer(36160,zt);try{const Bt=oe.texture,en=Bt.format,qt=Bt.type;if(en!==$r&&Y.convert(en)!==q.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Xt=qt===fl&&(he.has("EXT_color_buffer_half_float")||we.isWebGL2&&he.has("EXT_color_buffer_float"));if(qt!==sa&&Y.convert(qt)!==q.getParameter(35738)&&!(qt===Hs&&(we.isWebGL2||he.has("OES_texture_float")||he.has("WEBGL_color_buffer_float")))&&!Xt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Re>=0&&Re<=oe.width-Oe&&Be>=0&&Be<=oe.height-je&&q.readPixels(Re,Be,Oe,je,Y.convert(en),Y.convert(qt),At)}finally{const Bt=w!==null?be.get(w).__webglFramebuffer:null;ye.bindFramebuffer(36160,Bt)}}},this.copyFramebufferToTexture=function(oe,Re,Be=0){if(Re.isFramebufferTexture!==!0){console.error("THREE.WebGLRenderer: copyFramebufferToTexture() can only be used with FramebufferTexture.");return}const Oe=Math.pow(2,-Be),je=Math.floor(Re.image.width*Oe),At=Math.floor(Re.image.height*Oe);U.setTexture2D(Re,0),q.copyTexSubImage2D(3553,Be,0,0,oe.x,oe.y,je,At),ye.unbindTexture()},this.copyTextureToTexture=function(oe,Re,Be,Oe=0){const je=Re.image.width,At=Re.image.height,Dt=Y.convert(Be.format),zt=Y.convert(Be.type);U.setTexture2D(Be,0),q.pixelStorei(37440,Be.flipY),q.pixelStorei(37441,Be.premultiplyAlpha),q.pixelStorei(3317,Be.unpackAlignment),Re.isDataTexture?q.texSubImage2D(3553,Oe,oe.x,oe.y,je,At,Dt,zt,Re.image.data):Re.isCompressedTexture?q.compressedTexSubImage2D(3553,Oe,oe.x,oe.y,Re.mipmaps[0].width,Re.mipmaps[0].height,Dt,Re.mipmaps[0].data):q.texSubImage2D(3553,Oe,oe.x,oe.y,Dt,zt,Re.image),Oe===0&&Be.generateMipmaps&&q.generateMipmap(3553),ye.unbindTexture()},this.copyTextureToTexture3D=function(oe,Re,Be,Oe,je=0){if(g.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const At=oe.max.x-oe.min.x+1,Dt=oe.max.y-oe.min.y+1,zt=oe.max.z-oe.min.z+1,Bt=Y.convert(Oe.format),en=Y.convert(Oe.type);let qt;if(Oe.isData3DTexture)U.setTexture3D(Oe,0),qt=32879;else if(Oe.isDataArrayTexture)U.setTexture2DArray(Oe,0),qt=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}q.pixelStorei(37440,Oe.flipY),q.pixelStorei(37441,Oe.premultiplyAlpha),q.pixelStorei(3317,Oe.unpackAlignment);const Xt=q.getParameter(3314),Tn=q.getParameter(32878),ms=q.getParameter(3316),ba=q.getParameter(3315),wa=q.getParameter(32877),Ri=Be.isCompressedTexture?Be.mipmaps[0]:Be.image;q.pixelStorei(3314,Ri.width),q.pixelStorei(32878,Ri.height),q.pixelStorei(3316,oe.min.x),q.pixelStorei(3315,oe.min.y),q.pixelStorei(32877,oe.min.z),Be.isDataTexture||Be.isData3DTexture?q.texSubImage3D(qt,je,Re.x,Re.y,Re.z,At,Dt,zt,Bt,en,Ri.data):Be.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),q.compressedTexSubImage3D(qt,je,Re.x,Re.y,Re.z,At,Dt,zt,Bt,Ri.data)):q.texSubImage3D(qt,je,Re.x,Re.y,Re.z,At,Dt,zt,Bt,en,Ri),q.pixelStorei(3314,Xt),q.pixelStorei(32878,Tn),q.pixelStorei(3316,ms),q.pixelStorei(3315,ba),q.pixelStorei(32877,wa),je===0&&Oe.generateMipmaps&&q.generateMipmap(qt),ye.unbindTexture()},this.initTexture=function(oe){U.setTexture2D(oe,0),ye.unbindTexture()},this.resetState=function(){v=0,y=0,w=null,ye.reset(),_e.reset()},typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}on.prototype.isWebGLRenderer=!0;class Dle extends on{}Dle.prototype.isWebGL1Renderer=!0;class ty extends Zt{constructor(){super();this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),n}}ty.prototype.isScene=!0;class Jl{constructor(e,n){this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=wc,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Ci()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,o=this.stride;i<o;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ci()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ci()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}Jl.prototype.isInterleavedBuffer=!0;const ar=new ne;class aa{constructor(e,n,r,i=!1){this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i===!0}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)ar.fromBufferAttribute(this,n),ar.applyMatrix4(e),this.setXYZ(n,ar.x,ar.y,ar.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)ar.fromBufferAttribute(this,n),ar.applyNormalMatrix(e),this.setXYZ(n,ar.x,ar.y,ar.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)ar.fromBufferAttribute(this,n),ar.transformDirection(e),this.setXYZ(n,ar.x,ar.y,ar.z);return this}setX(e,n){return this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){return this.data.array[e*this.data.stride+this.offset]}getY(e){return this.data.array[e*this.data.stride+this.offset+1]}getZ(e){return this.data.array[e*this.data.stride+this.offset+2]}getW(e){return this.data.array[e*this.data.stride+this.offset+3]}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,o){return e=e*this.data.stride+this.offset,this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=o,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)n.push(this.data.array[i+o])}return new _n(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new aa(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)n.push(this.data.array[i+o])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}aa.prototype.isInterleavedBufferAttribute=!0;class ny extends Hn{constructor(e){super();this.type="SpriteMaterial",this.color=new ht(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this}}ny.prototype.isSpriteMaterial=!0;let Va;const mu=new ne,Ha=new ne,Ua=new ne,Wa=new Ge,gu=new Ge,gT=new St,kd=new ne,vu=new ne,Pd=new ne,H_=new Ge,xm=new Ge,U_=new Ge;class $le extends Zt{constructor(e){super();if(this.type="Sprite",Va===void 0){Va=new Ht;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new Jl(n,5);Va.setIndex([0,1,2,0,2,3]),Va.setAttribute("position",new aa(r,3,0,!1)),Va.setAttribute("uv",new aa(r,2,3,!1))}this.geometry=Va,this.material=e!==void 0?e:new ny,this.center=new Ge(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Ha.setFromMatrixScale(this.matrixWorld),gT.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Ua.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Ha.multiplyScalar(-Ua.z);const r=this.material.rotation;let i,o;r!==0&&(o=Math.cos(r),i=Math.sin(r));const s=this.center;Ld(kd.set(-.5,-.5,0),Ua,s,Ha,i,o),Ld(vu.set(.5,-.5,0),Ua,s,Ha,i,o),Ld(Pd.set(.5,.5,0),Ua,s,Ha,i,o),H_.set(0,0),xm.set(1,0),U_.set(1,1);let a=e.ray.intersectTriangle(kd,vu,Pd,!1,mu);if(a===null&&(Ld(vu.set(-.5,.5,0),Ua,s,Ha,i,o),xm.set(0,1),a=e.ray.intersectTriangle(kd,Pd,vu,!1,mu),a===null))return;const l=e.ray.origin.distanceTo(mu);l<e.near||l>e.far||n.push({distance:l,point:mu.clone(),uv:$n.getUV(mu,kd,vu,Pd,H_,xm,U_,new Ge),face:null,object:this})}copy(e){return super.copy(e),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}$le.prototype.isSprite=!0;function Ld(t,e,n,r,i,o){Wa.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(gu.x=o*Wa.x-i*Wa.y,gu.y=i*Wa.x+o*Wa.y):gu.copy(Wa),t.copy(e),t.x+=gu.x,t.y+=gu.y,t.applyMatrix4(gT)}const W_=new ne,G_=new nn,j_=new nn,Nle=new ne,K_=new St;class vT extends it{constructor(e,n){super(e,n);this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new St,this.bindMatrixInverse=new St}copy(e){return super.copy(e),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new nn,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const o=1/e.manhattanLength();o!==1/0?e.multiplyScalar(o):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,n){const r=this.skeleton,i=this.geometry;G_.fromBufferAttribute(i.attributes.skinIndex,e),j_.fromBufferAttribute(i.attributes.skinWeight,e),W_.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let o=0;o<4;o++){const s=j_.getComponent(o);if(s!==0){const a=G_.getComponent(o);K_.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),n.addScaledVector(Nle.copy(W_).applyMatrix4(K_),s)}}return n.applyMatrix4(this.bindMatrixInverse)}}vT.prototype.isSkinnedMesh=!0;class Ole extends Zt{constructor(){super();this.type="Bone"}}Ole.prototype.isBone=!0;class yT extends Rn{constructor(e=null,n=1,r=1,i,o,s,a,l,u=Fn,c=Fn,d,f){super(null,s,a,l,u,c,i,o,d,f);this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}yT.prototype.isDataTexture=!0;class tv extends _n{constructor(e,n,r,i=1){typeof r=="number"&&(i=r,r=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument."));super(e,n,r);this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}tv.prototype.isInstancedBufferAttribute=!0;const q_=new St,Y_=new St,Rd=[],yu=new it;class Fle extends it{constructor(e,n,r){super(e,n);this.instanceMatrix=new tv(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.frustumCulled=!1}copy(e){return super.copy(e),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}raycast(e,n){const r=this.matrixWorld,i=this.count;if(yu.geometry=this.geometry,yu.material=this.material,yu.material!==void 0)for(let o=0;o<i;o++){this.getMatrixAt(o,q_),Y_.multiplyMatrices(r,q_),yu.matrixWorld=Y_,yu.raycast(e,Rd);for(let s=0,a=Rd.length;s<a;s++){const l=Rd[s];l.instanceId=o,l.object=this,n.push(l)}Rd.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new tv(new Float32Array(this.instanceMatrix.count*3),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}Fle.prototype.isInstancedMesh=!0;class Sr extends Hn{constructor(e){super();this.type="LineBasicMaterial",this.color=new ht(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this}}Sr.prototype.isLineBasicMaterial=!0;const X_=new ne,Z_=new ne,J_=new St,Em=new va,Id=new Yl;class ur extends Zt{constructor(e=new Ht,n=new Sr){super();this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.isBufferGeometry)if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,o=n.count;i<o;i++)X_.fromBufferAttribute(n,i-1),Z_.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=X_.distanceTo(Z_);e.setAttribute("lineDistance",new jt(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,o=e.params.Line.threshold,s=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Id.copy(r.boundingSphere),Id.applyMatrix4(i),Id.radius+=o,e.ray.intersectsSphere(Id)===!1)return;J_.copy(i).invert(),Em.copy(e.ray).applyMatrix4(J_);const a=o/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=new ne,c=new ne,d=new ne,f=new ne,h=this.isLineSegments?2:1;if(r.isBufferGeometry){const m=r.index,p=r.attributes.position;if(m!==null){const v=Math.max(0,s.start),y=Math.min(m.count,s.start+s.count);for(let w=v,_=y-1;w<_;w+=h){const b=m.getX(w),S=m.getX(w+1);if(u.fromBufferAttribute(p,b),c.fromBufferAttribute(p,S),Em.distanceSqToSegment(u,c,f,d)>l)continue;f.applyMatrix4(this.matrixWorld);const T=e.ray.origin.distanceTo(f);T<e.near||T>e.far||n.push({distance:T,point:d.clone().applyMatrix4(this.matrixWorld),index:w,face:null,faceIndex:null,object:this})}}else{const v=Math.max(0,s.start),y=Math.min(p.count,s.start+s.count);for(let w=v,_=y-1;w<_;w+=h){if(u.fromBufferAttribute(p,w),c.fromBufferAttribute(p,w+1),Em.distanceSqToSegment(u,c,f,d)>l)continue;f.applyMatrix4(this.matrixWorld);const S=e.ray.origin.distanceTo(f);S<e.near||S>e.far||n.push({distance:S,point:d.clone().applyMatrix4(this.matrixWorld),index:w,face:null,faceIndex:null,object:this})}}}else r.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const n=e.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=i.length;o<s;o++){const a=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}else{const n=e.morphTargets;n!==void 0&&n.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}ur.prototype.isLine=!0;const Q_=new ne,eS=new ne;class la extends ur{constructor(e,n){super(e,n);this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.isBufferGeometry)if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,o=n.count;i<o;i+=2)Q_.fromBufferAttribute(n,i),eS.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+Q_.distanceTo(eS);e.setAttribute("lineDistance",new jt(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}}la.prototype.isLineSegments=!0;class Ble extends ur{constructor(e,n){super(e,n);this.type="LineLoop"}}Ble.prototype.isLineLoop=!0;class ry extends Hn{constructor(e){super();this.type="PointsMaterial",this.color=new ht(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this}}ry.prototype.isPointsMaterial=!0;const tS=new St,nv=new va,Dd=new Yl,$d=new ne;class zle extends Zt{constructor(e=new Ht,n=new ry){super();this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,o=e.params.Points.threshold,s=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Dd.copy(r.boundingSphere),Dd.applyMatrix4(i),Dd.radius+=o,e.ray.intersectsSphere(Dd)===!1)return;tS.copy(i).invert(),nv.copy(e.ray).applyMatrix4(tS);const a=o/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a;if(r.isBufferGeometry){const u=r.index,d=r.attributes.position;if(u!==null){const f=Math.max(0,s.start),h=Math.min(u.count,s.start+s.count);for(let m=f,g=h;m<g;m++){const p=u.getX(m);$d.fromBufferAttribute(d,p),nS($d,p,l,i,e,n,this)}}else{const f=Math.max(0,s.start),h=Math.min(d.count,s.start+s.count);for(let m=f,g=h;m<g;m++)$d.fromBufferAttribute(d,m),nS($d,m,l,i,e,n,this)}}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const n=e.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=i.length;o<s;o++){const a=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}else{const n=e.morphTargets;n!==void 0&&n.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}zle.prototype.isPoints=!0;function nS(t,e,n,r,i,o,s){const a=nv.distanceSqToPoint(t);if(a<n){const l=new ne;nv.closestPointToPoint(t,l),l.applyMatrix4(r);const u=i.ray.origin.distanceTo(l);if(u<i.near||u>i.far)return;o.push({distance:u,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:s})}}class Vle extends Rn{constructor(e,n,r,i,o,s,a,l,u){super(e,n,r,i,o,s,a,l,u);this.minFilter=s!==void 0?s:Yn,this.magFilter=o!==void 0?o:Yn,this.generateMipmaps=!1;const c=this;function d(){c.needsUpdate=!0,e.requestVideoFrameCallback(d)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(d)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}Vle.prototype.isVideoTexture=!0;class rv extends Rn{constructor(e,n,r){super({width:e,height:n});this.format=r,this.magFilter=Fn,this.minFilter=Fn,this.generateMipmaps=!1,this.needsUpdate=!0}}rv.prototype.isFramebufferTexture=!0;class Hle extends Rn{constructor(e,n,r,i,o,s,a,l,u,c,d,f){super(null,s,a,l,u,c,i,o,d,f);this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}Hle.prototype.isCompressedTexture=!0;class Ule extends Rn{constructor(e,n,r,i,o,s,a,l,u){super(e,n,r,i,o,s,a,l,u);this.needsUpdate=!0}}Ule.prototype.isCanvasTexture=!0;class oi{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),o=0;n.push(0);for(let s=1;s<=e;s++)r=this.getPoint(s/e),o+=r.distanceTo(i),n.push(o),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const r=this.getLengths();let i=0;const o=r.length;let s;n?s=n:s=e*r[o-1];let a=0,l=o-1,u;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),u=r[i]-s,u<0)a=i+1;else if(u>0)l=i-1;else{l=i;break}if(i=l,r[i]===s)return i/(o-1);const c=r[i],f=r[i+1]-c,h=(s-c)/f;return(i+h)/(o-1)}getTangent(e,n){let i=e-1e-4,o=e+1e-4;i<0&&(i=0),o>1&&(o=1);const s=this.getPoint(i),a=this.getPoint(o),l=n||(s.isVector2?new Ge:new ne);return l.copy(a).sub(s).normalize(),l}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n){const r=new ne,i=[],o=[],s=[],a=new ne,l=new St;for(let h=0;h<=e;h++){const m=h/e;i[h]=this.getTangentAt(m,new ne)}o[0]=new ne,s[0]=new ne;let u=Number.MAX_VALUE;const c=Math.abs(i[0].x),d=Math.abs(i[0].y),f=Math.abs(i[0].z);c<=u&&(u=c,r.set(1,0,0)),d<=u&&(u=d,r.set(0,1,0)),f<=u&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),o[0].crossVectors(i[0],a),s[0].crossVectors(i[0],o[0]);for(let h=1;h<=e;h++){if(o[h]=o[h-1].clone(),s[h]=s[h-1].clone(),a.crossVectors(i[h-1],i[h]),a.length()>Number.EPSILON){a.normalize();const m=Math.acos(Xn(i[h-1].dot(i[h]),-1,1));o[h].applyMatrix4(l.makeRotationAxis(a,m))}s[h].crossVectors(i[h],o[h])}if(n===!0){let h=Math.acos(Xn(o[0].dot(o[e]),-1,1));h/=e,i[0].dot(a.crossVectors(o[0],o[e]))>0&&(h=-h);for(let m=1;m<=e;m++)o[m].applyMatrix4(l.makeRotationAxis(i[m],h*m)),s[m].crossVectors(i[m],o[m])}return{tangents:i,normals:o,binormals:s}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Yh extends oi{constructor(e=0,n=0,r=1,i=1,o=0,s=Math.PI*2,a=!1,l=0){super();this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=o,this.aEndAngle=s,this.aClockwise=a,this.aRotation=l}getPoint(e,n){const r=n||new Ge,i=Math.PI*2;let o=this.aEndAngle-this.aStartAngle;const s=Math.abs(o)<Number.EPSILON;for(;o<0;)o+=i;for(;o>i;)o-=i;o<Number.EPSILON&&(s?o=0:o=i),this.aClockwise===!0&&!s&&(o===i?o=-i:o=o-i);const a=this.aStartAngle+e*o;let l=this.aX+this.xRadius*Math.cos(a),u=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const c=Math.cos(this.aRotation),d=Math.sin(this.aRotation),f=l-this.aX,h=u-this.aY;l=f*c-h*d+this.aX,u=f*d+h*c+this.aY}return r.set(l,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}Yh.prototype.isEllipseCurve=!0;class bT extends Yh{constructor(e,n,r,i,o,s){super(e,n,r,r,i,o,s);this.type="ArcCurve"}}bT.prototype.isArcCurve=!0;function iy(){let t=0,e=0,n=0,r=0;function i(o,s,a,l){t=o,e=a,n=-3*o+3*s-2*a-l,r=2*o-2*s+a+l}return{initCatmullRom:function(o,s,a,l,u){i(s,a,u*(a-o),u*(l-s))},initNonuniformCatmullRom:function(o,s,a,l,u,c,d){let f=(s-o)/u-(a-o)/(u+c)+(a-s)/c,h=(a-s)/c-(l-s)/(c+d)+(l-a)/d;f*=c,h*=c,i(s,a,f,h)},calc:function(o){const s=o*o,a=s*o;return t+e*o+n*s+r*a}}}const Nd=new ne,Tm=new iy,Am=new iy,km=new iy;class wT extends oi{constructor(e=[],n=!1,r="centripetal",i=.5){super();this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new ne){const r=n,i=this.points,o=i.length,s=(o-(this.closed?0:1))*e;let a=Math.floor(s),l=s-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/o)+1)*o:l===0&&a===o-1&&(a=o-2,l=1);let u,c;this.closed||a>0?u=i[(a-1)%o]:(Nd.subVectors(i[0],i[1]).add(i[0]),u=Nd);const d=i[a%o],f=i[(a+1)%o];if(this.closed||a+2<o?c=i[(a+2)%o]:(Nd.subVectors(i[o-1],i[o-2]).add(i[o-1]),c=Nd),this.curveType==="centripetal"||this.curveType==="chordal"){const h=this.curveType==="chordal"?.5:.25;let m=Math.pow(u.distanceToSquared(d),h),g=Math.pow(d.distanceToSquared(f),h),p=Math.pow(f.distanceToSquared(c),h);g<1e-4&&(g=1),m<1e-4&&(m=g),p<1e-4&&(p=g),Tm.initNonuniformCatmullRom(u.x,d.x,f.x,c.x,m,g,p),Am.initNonuniformCatmullRom(u.y,d.y,f.y,c.y,m,g,p),km.initNonuniformCatmullRom(u.z,d.z,f.z,c.z,m,g,p)}else this.curveType==="catmullrom"&&(Tm.initCatmullRom(u.x,d.x,f.x,c.x,this.tension),Am.initCatmullRom(u.y,d.y,f.y,c.y,this.tension),km.initCatmullRom(u.z,d.z,f.z,c.z,this.tension));return r.set(Tm.calc(l),Am.calc(l),km.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new ne().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}wT.prototype.isCatmullRomCurve3=!0;function rS(t,e,n,r,i){const o=(r-e)*.5,s=(i-n)*.5,a=t*t,l=t*a;return(2*n-2*r+o+s)*l+(-3*n+3*r-2*o-s)*a+o*t+n}function Wle(t,e){const n=1-t;return n*n*e}function Gle(t,e){return 2*(1-t)*t*e}function jle(t,e){return t*t*e}function ju(t,e,n,r){return Wle(t,e)+Gle(t,n)+jle(t,r)}function Kle(t,e){const n=1-t;return n*n*n*e}function qle(t,e){const n=1-t;return 3*n*n*t*e}function Yle(t,e){return 3*(1-t)*t*t*e}function Xle(t,e){return t*t*t*e}function Ku(t,e,n,r,i){return Kle(t,e)+qle(t,n)+Yle(t,r)+Xle(t,i)}class oy extends oi{constructor(e=new Ge,n=new Ge,r=new Ge,i=new Ge){super();this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new Ge){const r=n,i=this.v0,o=this.v1,s=this.v2,a=this.v3;return r.set(Ku(e,i.x,o.x,s.x,a.x),Ku(e,i.y,o.y,s.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}oy.prototype.isCubicBezierCurve=!0;class _T extends oi{constructor(e=new ne,n=new ne,r=new ne,i=new ne){super();this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new ne){const r=n,i=this.v0,o=this.v1,s=this.v2,a=this.v3;return r.set(Ku(e,i.x,o.x,s.x,a.x),Ku(e,i.y,o.y,s.y,a.y),Ku(e,i.z,o.z,s.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}_T.prototype.isCubicBezierCurve3=!0;class Xh extends oi{constructor(e=new Ge,n=new Ge){super();this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new Ge){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n){const r=n||new Ge;return r.copy(this.v2).sub(this.v1).normalize(),r}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}Xh.prototype.isLineCurve=!0;class Zle extends oi{constructor(e=new ne,n=new ne){super();this.type="LineCurve3",this.isLineCurve3=!0,this.v1=e,this.v2=n}getPoint(e,n=new ne){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class sy extends oi{constructor(e=new Ge,n=new Ge,r=new Ge){super();this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new Ge){const r=n,i=this.v0,o=this.v1,s=this.v2;return r.set(ju(e,i.x,o.x,s.x),ju(e,i.y,o.y,s.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}sy.prototype.isQuadraticBezierCurve=!0;class ST extends oi{constructor(e=new ne,n=new ne,r=new ne){super();this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new ne){const r=n,i=this.v0,o=this.v1,s=this.v2;return r.set(ju(e,i.x,o.x,s.x),ju(e,i.y,o.y,s.y),ju(e,i.z,o.z,s.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}ST.prototype.isQuadraticBezierCurve3=!0;class ay extends oi{constructor(e=[]){super();this.type="SplineCurve",this.points=e}getPoint(e,n=new Ge){const r=n,i=this.points,o=(i.length-1)*e,s=Math.floor(o),a=o-s,l=i[s===0?s:s-1],u=i[s],c=i[s>i.length-2?i.length-1:s+1],d=i[s>i.length-3?i.length-1:s+2];return r.set(rS(a,l.x,u.x,c.x,d.x),rS(a,l.y,u.y,c.y,d.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new Ge().fromArray(i))}return this}}ay.prototype.isSplineCurve=!0;var CT=Object.freeze({__proto__:null,ArcCurve:bT,CatmullRomCurve3:wT,CubicBezierCurve:oy,CubicBezierCurve3:_T,EllipseCurve:Yh,LineCurve:Xh,LineCurve3:Zle,QuadraticBezierCurve:sy,QuadraticBezierCurve3:ST,SplineCurve:ay});class Jle extends oi{constructor(){super();this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);e.equals(n)||this.curves.push(new Xh(n,e))}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let o=0;for(;o<i.length;){if(i[o]>=r){const s=i[o]-r,a=this.curves[o],l=a.getLength(),u=l===0?0:1-s/l;return a.getPointAt(u,n)}o++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,o=this.curves;i<o.length;i++){const s=o[i],a=s.isEllipseCurve?e*2:s.isLineCurve||s.isLineCurve3?1:s.isSplineCurve?e*s.points.length:e,l=s.getPoints(a);for(let u=0;u<l.length;u++){const c=l[u];r&&r.equals(c)||(n.push(c),r=c)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new CT[i.type]().fromJSON(i))}return this}}class ah extends Jle{constructor(e){super();this.type="Path",this.currentPoint=new Ge,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new Xh(this.currentPoint.clone(),new Ge(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const o=new sy(this.currentPoint.clone(),new Ge(e,n),new Ge(r,i));return this.curves.push(o),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,o,s){const a=new oy(this.currentPoint.clone(),new Ge(e,n),new Ge(r,i),new Ge(o,s));return this.curves.push(a),this.currentPoint.set(o,s),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new ay(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,o,s){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,n+l,r,i,o,s),this}absarc(e,n,r,i,o,s){return this.absellipse(e,n,r,r,i,o,s),this}ellipse(e,n,r,i,o,s,a,l){const u=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+u,n+c,r,i,o,s,a,l),this}absellipse(e,n,r,i,o,s,a,l){const u=new Yh(e,n,r,i,o,s,a,l);if(this.curves.length>0){const d=u.getPoint(0);d.equals(this.currentPoint)||this.lineTo(d.x,d.y)}this.curves.push(u);const c=u.getPoint(1);return this.currentPoint.copy(c),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class ir extends Ht{constructor(e=1,n=1,r=1,i=8,o=1,s=!1,a=0,l=Math.PI*2){super();this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:o,openEnded:s,thetaStart:a,thetaLength:l};const u=this;i=Math.floor(i),o=Math.floor(o);const c=[],d=[],f=[],h=[];let m=0;const g=[],p=r/2;let v=0;y(),s===!1&&(e>0&&w(!0),n>0&&w(!1)),this.setIndex(c),this.setAttribute("position",new jt(d,3)),this.setAttribute("normal",new jt(f,3)),this.setAttribute("uv",new jt(h,2));function y(){const _=new ne,b=new ne;let S=0;const M=(n-e)/r;for(let T=0;T<=o;T++){const N=[],I=T/o,x=I*(n-e)+e;for(let R=0;R<=i;R++){const O=R/i,D=O*l+a,B=Math.sin(D),L=Math.cos(D);b.x=x*B,b.y=-I*r+p,b.z=x*L,d.push(b.x,b.y,b.z),_.set(B,M,L).normalize(),f.push(_.x,_.y,_.z),h.push(O,1-I),N.push(m++)}g.push(N)}for(let T=0;T<i;T++)for(let N=0;N<o;N++){const I=g[N][T],x=g[N+1][T],R=g[N+1][T+1],O=g[N][T+1];c.push(I,x,O),c.push(x,R,O),S+=6}u.addGroup(v,S,0),v+=S}function w(_){const b=m,S=new Ge,M=new ne;let T=0;const N=_===!0?e:n,I=_===!0?1:-1;for(let R=1;R<=i;R++)d.push(0,p*I,0),f.push(0,I,0),h.push(.5,.5),m++;const x=m;for(let R=0;R<=i;R++){const D=R/i*l+a,B=Math.cos(D),L=Math.sin(D);M.x=N*L,M.y=p*I,M.z=N*B,d.push(M.x,M.y,M.z),f.push(0,I,0),S.x=B*.5+.5,S.y=L*.5*I+.5,h.push(S.x,S.y),m++}for(let R=0;R<i;R++){const O=b+R,D=x+R;_===!0?c.push(D,D+1,O):c.push(D+1,D,O),T+=3}u.addGroup(v,T,_===!0?1:2),v+=T}}static fromJSON(e){return new ir(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class ly extends Ht{constructor(e=[],n=[],r=1,i=0){super();this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const o=[],s=[];a(i),u(r),c(),this.setAttribute("position",new jt(o,3)),this.setAttribute("normal",new jt(o.slice(),3)),this.setAttribute("uv",new jt(s,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(y){const w=new ne,_=new ne,b=new ne;for(let S=0;S<n.length;S+=3)h(n[S+0],w),h(n[S+1],_),h(n[S+2],b),l(w,_,b,y)}function l(y,w,_,b){const S=b+1,M=[];for(let T=0;T<=S;T++){M[T]=[];const N=y.clone().lerp(_,T/S),I=w.clone().lerp(_,T/S),x=S-T;for(let R=0;R<=x;R++)R===0&&T===S?M[T][R]=N:M[T][R]=N.clone().lerp(I,R/x)}for(let T=0;T<S;T++)for(let N=0;N<2*(S-T)-1;N++){const I=Math.floor(N/2);N%2===0?(f(M[T][I+1]),f(M[T+1][I]),f(M[T][I])):(f(M[T][I+1]),f(M[T+1][I+1]),f(M[T+1][I]))}}function u(y){const w=new ne;for(let _=0;_<o.length;_+=3)w.x=o[_+0],w.y=o[_+1],w.z=o[_+2],w.normalize().multiplyScalar(y),o[_+0]=w.x,o[_+1]=w.y,o[_+2]=w.z}function c(){const y=new ne;for(let w=0;w<o.length;w+=3){y.x=o[w+0],y.y=o[w+1],y.z=o[w+2];const _=p(y)/2/Math.PI+.5,b=v(y)/Math.PI+.5;s.push(_,1-b)}m(),d()}function d(){for(let y=0;y<s.length;y+=6){const w=s[y+0],_=s[y+2],b=s[y+4],S=Math.max(w,_,b),M=Math.min(w,_,b);S>.9&&M<.1&&(w<.2&&(s[y+0]+=1),_<.2&&(s[y+2]+=1),b<.2&&(s[y+4]+=1))}}function f(y){o.push(y.x,y.y,y.z)}function h(y,w){const _=y*3;w.x=e[_+0],w.y=e[_+1],w.z=e[_+2]}function m(){const y=new ne,w=new ne,_=new ne,b=new ne,S=new Ge,M=new Ge,T=new Ge;for(let N=0,I=0;N<o.length;N+=9,I+=6){y.set(o[N+0],o[N+1],o[N+2]),w.set(o[N+3],o[N+4],o[N+5]),_.set(o[N+6],o[N+7],o[N+8]),S.set(s[I+0],s[I+1]),M.set(s[I+2],s[I+3]),T.set(s[I+4],s[I+5]),b.copy(y).add(w).add(_).divideScalar(3);const x=p(b);g(S,I+0,y,x),g(M,I+2,w,x),g(T,I+4,_,x)}}function g(y,w,_,b){b<0&&y.x===1&&(s[w]=y.x-1),_.x===0&&_.z===0&&(s[w]=b/2/Math.PI+.5)}function p(y){return Math.atan2(y.z,-y.x)}function v(y){return Math.atan2(-y.y,Math.sqrt(y.x*y.x+y.z*y.z))}}static fromJSON(e){return new ly(e.vertices,e.indices,e.radius,e.details)}}new ne;new ne;new ne;new $n;class ts extends ah{constructor(e){super(e);this.uuid=Ci(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new ah().fromJSON(i))}return this}}const Qle={triangulate:function(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let o=MT(t,0,i,n,!0);const s=[];if(!o||o.next===o.prev)return s;let a,l,u,c,d,f,h;if(r&&(o=iue(t,e,o,n)),t.length>80*n){a=u=t[0],l=c=t[1];for(let m=n;m<i;m+=n)d=t[m],f=t[m+1],d<a&&(a=d),f<l&&(l=f),d>u&&(u=d),f>c&&(c=f);h=Math.max(u-a,c-l),h=h!==0?1/h:0}return Cc(o,s,n,a,l,h),s}};function MT(t,e,n,r,i){let o,s;if(i===mue(t,e,n,r)>0)for(o=e;o<n;o+=r)s=iS(o,t[o],t[o+1],s);else for(o=n-r;o>=e;o-=r)s=iS(o,t[o],t[o+1],s);return s&&Zh(s,s.next)&&(xc(s),s=s.next),s}function ss(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(Zh(n,n.next)||Cn(n.prev,n,n.next)===0)){if(xc(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function Cc(t,e,n,r,i,o,s){if(!t)return;!s&&o&&uue(t,r,i,o);let a=t,l,u;for(;t.prev!==t.next;){if(l=t.prev,u=t.next,o?tue(t,r,i,o):eue(t)){e.push(l.i/n),e.push(t.i/n),e.push(u.i/n),xc(t),t=u.next,a=u.next;continue}if(t=u,t===a){s?s===1?(t=nue(ss(t),e,n),Cc(t,e,n,r,i,o,2)):s===2&&rue(t,e,n,r,i,o):Cc(ss(t),e,n,r,i,o,1);break}}}function eue(t){const e=t.prev,n=t,r=t.next;if(Cn(e,n,r)>=0)return!1;let i=t.next.next;for(;i!==t.prev;){if(nl(e.x,e.y,n.x,n.y,r.x,r.y,i.x,i.y)&&Cn(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function tue(t,e,n,r){const i=t.prev,o=t,s=t.next;if(Cn(i,o,s)>=0)return!1;const a=i.x<o.x?i.x<s.x?i.x:s.x:o.x<s.x?o.x:s.x,l=i.y<o.y?i.y<s.y?i.y:s.y:o.y<s.y?o.y:s.y,u=i.x>o.x?i.x>s.x?i.x:s.x:o.x>s.x?o.x:s.x,c=i.y>o.y?i.y>s.y?i.y:s.y:o.y>s.y?o.y:s.y,d=iv(a,l,e,n,r),f=iv(u,c,e,n,r);let h=t.prevZ,m=t.nextZ;for(;h&&h.z>=d&&m&&m.z<=f;){if(h!==t.prev&&h!==t.next&&nl(i.x,i.y,o.x,o.y,s.x,s.y,h.x,h.y)&&Cn(h.prev,h,h.next)>=0||(h=h.prevZ,m!==t.prev&&m!==t.next&&nl(i.x,i.y,o.x,o.y,s.x,s.y,m.x,m.y)&&Cn(m.prev,m,m.next)>=0))return!1;m=m.nextZ}for(;h&&h.z>=d;){if(h!==t.prev&&h!==t.next&&nl(i.x,i.y,o.x,o.y,s.x,s.y,h.x,h.y)&&Cn(h.prev,h,h.next)>=0)return!1;h=h.prevZ}for(;m&&m.z<=f;){if(m!==t.prev&&m!==t.next&&nl(i.x,i.y,o.x,o.y,s.x,s.y,m.x,m.y)&&Cn(m.prev,m,m.next)>=0)return!1;m=m.nextZ}return!0}function nue(t,e,n){let r=t;do{const i=r.prev,o=r.next.next;!Zh(i,o)&&xT(i,r,r.next,o)&&Mc(i,o)&&Mc(o,i)&&(e.push(i.i/n),e.push(r.i/n),e.push(o.i/n),xc(r),xc(r.next),r=t=o),r=r.next}while(r!==t);return ss(r)}function rue(t,e,n,r,i,o){let s=t;do{let a=s.next.next;for(;a!==s.prev;){if(s.i!==a.i&&fue(s,a)){let l=ET(s,a);s=ss(s,s.next),l=ss(l,l.next),Cc(s,e,n,r,i,o),Cc(l,e,n,r,i,o);return}a=a.next}s=s.next}while(s!==t)}function iue(t,e,n,r){const i=[];let o,s,a,l,u;for(o=0,s=e.length;o<s;o++)a=e[o]*r,l=o<s-1?e[o+1]*r:t.length,u=MT(t,a,l,r,!1),u===u.next&&(u.steiner=!0),i.push(due(u));for(i.sort(oue),o=0;o<i.length;o++)sue(i[o],n),n=ss(n,n.next);return n}function oue(t,e){return t.x-e.x}function sue(t,e){if(e=aue(t,e),e){const n=ET(e,t);ss(e,e.next),ss(n,n.next)}}function aue(t,e){let n=e;const r=t.x,i=t.y;let o=-1/0,s;do{if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){const f=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(f<=r&&f>o){if(o=f,f===r){if(i===n.y)return n;if(i===n.next.y)return n.next}s=n.x<n.next.x?n:n.next}}n=n.next}while(n!==e);if(!s)return null;if(r===o)return s;const a=s,l=s.x,u=s.y;let c=1/0,d;n=s;do r>=n.x&&n.x>=l&&r!==n.x&&nl(i<u?r:o,i,l,u,i<u?o:r,i,n.x,n.y)&&(d=Math.abs(i-n.y)/(r-n.x),Mc(n,t)&&(d<c||d===c&&(n.x>s.x||n.x===s.x&&lue(s,n)))&&(s=n,c=d)),n=n.next;while(n!==a);return s}function lue(t,e){return Cn(t.prev,t,e.prev)<0&&Cn(e.next,t,t.next)<0}function uue(t,e,n,r){let i=t;do i.z===null&&(i.z=iv(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,cue(i)}function cue(t){let e,n,r,i,o,s,a,l,u=1;do{for(n=t,t=null,o=null,s=0;n;){for(s++,r=n,a=0,e=0;e<u&&(a++,r=r.nextZ,!!r);e++);for(l=u;a>0||l>0&&r;)a!==0&&(l===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,a--):(i=r,r=r.nextZ,l--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,u*=2}while(s>1);return t}function iv(t,e,n,r,i){return t=32767*(t-n)*i,e=32767*(e-r)*i,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function due(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function nl(t,e,n,r,i,o,s,a){return(i-s)*(e-a)-(t-s)*(o-a)>=0&&(t-s)*(r-a)-(n-s)*(e-a)>=0&&(n-s)*(o-a)-(i-s)*(r-a)>=0}function fue(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!hue(t,e)&&(Mc(t,e)&&Mc(e,t)&&pue(t,e)&&(Cn(t.prev,t,e.prev)||Cn(t,e.prev,e))||Zh(t,e)&&Cn(t.prev,t,t.next)>0&&Cn(e.prev,e,e.next)>0)}function Cn(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function Zh(t,e){return t.x===e.x&&t.y===e.y}function xT(t,e,n,r){const i=Fd(Cn(t,e,n)),o=Fd(Cn(t,e,r)),s=Fd(Cn(n,r,t)),a=Fd(Cn(n,r,e));return!!(i!==o&&s!==a||i===0&&Od(t,n,e)||o===0&&Od(t,r,e)||s===0&&Od(n,t,r)||a===0&&Od(n,e,r))}function Od(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function Fd(t){return t>0?1:t<0?-1:0}function hue(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&xT(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function Mc(t,e){return Cn(t.prev,t,t.next)<0?Cn(t,e,t.next)>=0&&Cn(t,t.prev,e)>=0:Cn(t,e,t.prev)<0||Cn(t,t.next,e)<0}function pue(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,o=(t.y+e.y)/2;do n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function ET(t,e){const n=new ov(t.i,t.x,t.y),r=new ov(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function iS(t,e,n,r){const i=new ov(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function xc(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function ov(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function mue(t,e,n,r){let i=0;for(let o=e,s=n-r;o<n;o+=r)i+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return i}class mo{static area(e){const n=e.length;let r=0;for(let i=n-1,o=0;o<n;i=o++)r+=e[i].x*e[o].y-e[o].x*e[i].y;return r*.5}static isClockWise(e){return mo.area(e)<0}static triangulateShape(e,n){const r=[],i=[],o=[];oS(e),sS(r,e);let s=e.length;n.forEach(oS);for(let l=0;l<n.length;l++)i.push(s),s+=n[l].length,sS(r,n[l]);const a=Qle.triangulate(r,i);for(let l=0;l<a.length;l+=3)o.push(a.slice(l,l+3));return o}}function oS(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function sS(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class Ql extends Ht{constructor(e=new ts([new Ge(.5,.5),new Ge(-.5,.5),new Ge(-.5,-.5),new Ge(.5,-.5)]),n={}){super();this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],o=[];for(let a=0,l=e.length;a<l;a++){const u=e[a];s(u)}this.setAttribute("position",new jt(i,3)),this.setAttribute("uv",new jt(o,2)),this.computeVertexNormals();function s(a){const l=[],u=n.curveSegments!==void 0?n.curveSegments:12,c=n.steps!==void 0?n.steps:1;let d=n.depth!==void 0?n.depth:1,f=n.bevelEnabled!==void 0?n.bevelEnabled:!0,h=n.bevelThickness!==void 0?n.bevelThickness:.2,m=n.bevelSize!==void 0?n.bevelSize:h-.1,g=n.bevelOffset!==void 0?n.bevelOffset:0,p=n.bevelSegments!==void 0?n.bevelSegments:3;const v=n.extrudePath,y=n.UVGenerator!==void 0?n.UVGenerator:gue;n.amount!==void 0&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),d=n.amount);let w,_=!1,b,S,M,T;v&&(w=v.getSpacedPoints(c),_=!0,f=!1,b=v.computeFrenetFrames(c,!1),S=new ne,M=new ne,T=new ne),f||(p=0,h=0,m=0,g=0);const N=a.extractPoints(u);let I=N.shape;const x=N.holes;if(!mo.isClockWise(I)){I=I.reverse();for(let be=0,U=x.length;be<U;be++){const Q=x[be];mo.isClockWise(Q)&&(x[be]=Q.reverse())}}const O=mo.triangulateShape(I,x),D=I;for(let be=0,U=x.length;be<U;be++){const Q=x[be];I=I.concat(Q)}function B(be,U,Q){return U||console.error("THREE.ExtrudeGeometry: vec does not exist"),U.clone().multiplyScalar(Q).add(be)}const L=I.length,A=O.length;function P(be,U,Q){let de,me,Se;const Ae=be.x-U.x,ee=be.y-U.y,le=Q.x-be.x,ae=Q.y-be.y,z=Ae*Ae+ee*ee,H=Ae*ae-ee*le;if(Math.abs(H)>Number.EPSILON){const j=Math.sqrt(z),ce=Math.sqrt(le*le+ae*ae),ke=U.x-ee/j,Ve=U.y+Ae/j,Ne=Q.x-ae/ce,Y=Q.y+le/ce,_e=((Ne-ke)*ae-(Y-Ve)*le)/(Ae*ae-ee*le);de=ke+Ae*_e-be.x,me=Ve+ee*_e-be.y;const ge=de*de+me*me;if(ge<=2)return new Ge(de,me);Se=Math.sqrt(ge/2)}else{let j=!1;Ae>Number.EPSILON?le>Number.EPSILON&&(j=!0):Ae<-Number.EPSILON?le<-Number.EPSILON&&(j=!0):Math.sign(ee)===Math.sign(ae)&&(j=!0),j?(de=-ee,me=Ae,Se=Math.sqrt(z)):(de=Ae,me=ee,Se=Math.sqrt(z/2))}return new Ge(de/Se,me/Se)}const W=[];for(let be=0,U=D.length,Q=U-1,de=be+1;be<U;be++,Q++,de++)Q===U&&(Q=0),de===U&&(de=0),W[be]=P(D[be],D[Q],D[de]);const K=[];let te,J=W.concat();for(let be=0,U=x.length;be<U;be++){const Q=x[be];te=[];for(let de=0,me=Q.length,Se=me-1,Ae=de+1;de<me;de++,Se++,Ae++)Se===me&&(Se=0),Ae===me&&(Ae=0),te[de]=P(Q[de],Q[Se],Q[Ae]);K.push(te),J=J.concat(te)}for(let be=0;be<p;be++){const U=be/p,Q=h*Math.cos(U*Math.PI/2),de=m*Math.sin(U*Math.PI/2)+g;for(let me=0,Se=D.length;me<Se;me++){const Ae=B(D[me],W[me],de);re(Ae.x,Ae.y,-Q)}for(let me=0,Se=x.length;me<Se;me++){const Ae=x[me];te=K[me];for(let ee=0,le=Ae.length;ee<le;ee++){const ae=B(Ae[ee],te[ee],de);re(ae.x,ae.y,-Q)}}}const se=m+g;for(let be=0;be<L;be++){const U=f?B(I[be],J[be],se):I[be];_?(M.copy(b.normals[0]).multiplyScalar(U.x),S.copy(b.binormals[0]).multiplyScalar(U.y),T.copy(w[0]).add(M).add(S),re(T.x,T.y,T.z)):re(U.x,U.y,0)}for(let be=1;be<=c;be++)for(let U=0;U<L;U++){const Q=f?B(I[U],J[U],se):I[U];_?(M.copy(b.normals[be]).multiplyScalar(Q.x),S.copy(b.binormals[be]).multiplyScalar(Q.y),T.copy(w[be]).add(M).add(S),re(T.x,T.y,T.z)):re(Q.x,Q.y,d/c*be)}for(let be=p-1;be>=0;be--){const U=be/p,Q=h*Math.cos(U*Math.PI/2),de=m*Math.sin(U*Math.PI/2)+g;for(let me=0,Se=D.length;me<Se;me++){const Ae=B(D[me],W[me],de);re(Ae.x,Ae.y,d+Q)}for(let me=0,Se=x.length;me<Se;me++){const Ae=x[me];te=K[me];for(let ee=0,le=Ae.length;ee<le;ee++){const ae=B(Ae[ee],te[ee],de);_?re(ae.x,ae.y+w[c-1].y,w[c-1].x+Q):re(ae.x,ae.y,d+Q)}}}Te(),Le();function Te(){const be=i.length/3;if(f){let U=0,Q=L*U;for(let de=0;de<A;de++){const me=O[de];he(me[2]+Q,me[1]+Q,me[0]+Q)}U=c+p*2,Q=L*U;for(let de=0;de<A;de++){const me=O[de];he(me[0]+Q,me[1]+Q,me[2]+Q)}}else{for(let U=0;U<A;U++){const Q=O[U];he(Q[2],Q[1],Q[0])}for(let U=0;U<A;U++){const Q=O[U];he(Q[0]+L*c,Q[1]+L*c,Q[2]+L*c)}}r.addGroup(be,i.length/3-be,0)}function Le(){const be=i.length/3;let U=0;q(D,U),U+=D.length;for(let Q=0,de=x.length;Q<de;Q++){const me=x[Q];q(me,U),U+=me.length}r.addGroup(be,i.length/3-be,1)}function q(be,U){let Q=be.length;for(;--Q>=0;){const de=Q;let me=Q-1;me<0&&(me=be.length-1);for(let Se=0,Ae=c+p*2;Se<Ae;Se++){const ee=L*Se,le=L*(Se+1),ae=U+de+ee,z=U+me+ee,H=U+me+le,j=U+de+le;we(ae,z,H,j)}}}function re(be,U,Q){l.push(be),l.push(U),l.push(Q)}function he(be,U,Q){ye(be),ye(U),ye(Q);const de=i.length/3,me=y.generateTopUV(r,i,de-3,de-2,de-1);ze(me[0]),ze(me[1]),ze(me[2])}function we(be,U,Q,de){ye(be),ye(U),ye(de),ye(U),ye(Q),ye(de);const me=i.length/3,Se=y.generateSideWallUV(r,i,me-6,me-3,me-2,me-1);ze(Se[0]),ze(Se[1]),ze(Se[3]),ze(Se[1]),ze(Se[2]),ze(Se[3])}function ye(be){i.push(l[be*3+0]),i.push(l[be*3+1]),i.push(l[be*3+2])}function ze(be){o.push(be.x),o.push(be.y)}}}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return vue(n,r,e)}static fromJSON(e,n){const r=[];for(let o=0,s=e.shapes.length;o<s;o++){const a=n[e.shapes[o]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new CT[i.type]().fromJSON(i)),new Ql(r,e.options)}}const gue={generateTopUV:function(t,e,n,r,i){const o=e[n*3],s=e[n*3+1],a=e[r*3],l=e[r*3+1],u=e[i*3],c=e[i*3+1];return[new Ge(o,s),new Ge(a,l),new Ge(u,c)]},generateSideWallUV:function(t,e,n,r,i,o){const s=e[n*3],a=e[n*3+1],l=e[n*3+2],u=e[r*3],c=e[r*3+1],d=e[r*3+2],f=e[i*3],h=e[i*3+1],m=e[i*3+2],g=e[o*3],p=e[o*3+1],v=e[o*3+2];return Math.abs(a-c)<Math.abs(s-u)?[new Ge(s,1-l),new Ge(u,1-d),new Ge(f,1-m),new Ge(g,1-v)]:[new Ge(a,1-l),new Ge(c,1-d),new Ge(h,1-m),new Ge(p,1-v)]}};function vue(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const o=t[r];n.shapes.push(o.uuid)}else n.shapes.push(t.uuid);return e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class rl extends ly{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n);this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new rl(e.radius,e.detail)}}class Jh extends Ht{constructor(e=new ts([new Ge(0,.5),new Ge(-.5,-.5),new Ge(.5,-.5)]),n=12){super();this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],i=[],o=[],s=[];let a=0,l=0;if(Array.isArray(e)===!1)u(e);else for(let c=0;c<e.length;c++)u(e[c]),this.addGroup(a,l,c),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new jt(i,3)),this.setAttribute("normal",new jt(o,3)),this.setAttribute("uv",new jt(s,2));function u(c){const d=i.length/3,f=c.extractPoints(n);let h=f.shape;const m=f.holes;mo.isClockWise(h)===!1&&(h=h.reverse());for(let p=0,v=m.length;p<v;p++){const y=m[p];mo.isClockWise(y)===!0&&(m[p]=y.reverse())}const g=mo.triangulateShape(h,m);for(let p=0,v=m.length;p<v;p++){const y=m[p];h=h.concat(y)}for(let p=0,v=h.length;p<v;p++){const y=h[p];i.push(y.x,y.y,0),o.push(0,0,1),s.push(y.x,y.y)}for(let p=0,v=g.length;p<v;p++){const y=g[p],w=y[0]+d,_=y[1]+d,b=y[2]+d;r.push(w,_,b),l+=3}}}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return yue(n,e)}static fromJSON(e,n){const r=[];for(let i=0,o=e.shapes.length;i<o;i++){const s=n[e.shapes[i]];r.push(s)}return new Jh(r,e.curveSegments)}}function yue(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}class Qh extends Ht{constructor(e=1,n=32,r=16,i=0,o=Math.PI*2,s=0,a=Math.PI){super();this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:o,thetaStart:s,thetaLength:a},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const l=Math.min(s+a,Math.PI);let u=0;const c=[],d=new ne,f=new ne,h=[],m=[],g=[],p=[];for(let v=0;v<=r;v++){const y=[],w=v/r;let _=0;v==0&&s==0?_=.5/n:v==r&&l==Math.PI&&(_=-.5/n);for(let b=0;b<=n;b++){const S=b/n;d.x=-e*Math.cos(i+S*o)*Math.sin(s+w*a),d.y=e*Math.cos(s+w*a),d.z=e*Math.sin(i+S*o)*Math.sin(s+w*a),m.push(d.x,d.y,d.z),f.copy(d).normalize(),g.push(f.x,f.y,f.z),p.push(S+_,1-w),y.push(u++)}c.push(y)}for(let v=0;v<r;v++)for(let y=0;y<n;y++){const w=c[v][y+1],_=c[v][y],b=c[v+1][y],S=c[v+1][y+1];(v!==0||s>0)&&h.push(w,_,S),(v!==r-1||l<Math.PI)&&h.push(_,b,S)}this.setIndex(h),this.setAttribute("position",new jt(m,3)),this.setAttribute("normal",new jt(g,3)),this.setAttribute("uv",new jt(p,2))}static fromJSON(e){return new Qh(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class $s extends Ht{constructor(e=1,n=.4,r=8,i=6,o=Math.PI*2){super();this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:o},r=Math.floor(r),i=Math.floor(i);const s=[],a=[],l=[],u=[],c=new ne,d=new ne,f=new ne;for(let h=0;h<=r;h++)for(let m=0;m<=i;m++){const g=m/i*o,p=h/r*Math.PI*2;d.x=(e+n*Math.cos(p))*Math.cos(g),d.y=(e+n*Math.cos(p))*Math.sin(g),d.z=n*Math.sin(p),a.push(d.x,d.y,d.z),c.x=e*Math.cos(g),c.y=e*Math.sin(g),f.subVectors(d,c).normalize(),l.push(f.x,f.y,f.z),u.push(m/i),u.push(h/r)}for(let h=1;h<=r;h++)for(let m=1;m<=i;m++){const g=(i+1)*h+m-1,p=(i+1)*(h-1)+m-1,v=(i+1)*(h-1)+m,y=(i+1)*h+m;s.push(g,p,y),s.push(p,v,y)}this.setIndex(s),this.setAttribute("position",new jt(a,3)),this.setAttribute("normal",new jt(l,3)),this.setAttribute("uv",new jt(u,2))}static fromJSON(e){return new $s(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class TT extends Hn{constructor(e){super();this.type="ShadowMaterial",this.color=new ht(0),this.transparent=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this}}TT.prototype.isShadowMaterial=!0;class qu extends Ur{constructor(e){super(e);this.type="RawShaderMaterial"}}qu.prototype.isRawShaderMaterial=!0;class ep extends Hn{constructor(e){super();this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new ht(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ht(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ql,this.normalScale=new Ge(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this}}ep.prototype.isMeshStandardMaterial=!0;class AT extends ep{constructor(e){super();this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Ge(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Xn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.sheenColor=new ht(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationColor=new ht(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new ht(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}AT.prototype.isMeshPhysicalMaterial=!0;class kT extends Hn{constructor(e){super();this.type="MeshPhongMaterial",this.color=new ht(16777215),this.specular=new ht(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ht(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ql,this.normalScale=new Ge(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Vh,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this}}kT.prototype.isMeshPhongMaterial=!0;class PT extends Hn{constructor(e){super();this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new ht(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ht(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ql,this.normalScale=new Ge(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}PT.prototype.isMeshToonMaterial=!0;class LT extends Hn{constructor(e){super();this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ql,this.normalScale=new Ge(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}LT.prototype.isMeshNormalMaterial=!0;class RT extends Hn{constructor(e){super();this.type="MeshLambertMaterial",this.color=new ht(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ht(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Vh,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}RT.prototype.isMeshLambertMaterial=!0;class IT extends Hn{constructor(e){super();this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new ht(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ql,this.normalScale=new Ge(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this}}IT.prototype.isMeshMatcapMaterial=!0;class DT extends Sr{constructor(e){super();this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}DT.prototype.isLineDashedMaterial=!0;const bue={ShadowMaterial:TT,SpriteMaterial:ny,RawShaderMaterial:qu,ShaderMaterial:Ur,PointsMaterial:ry,MeshPhysicalMaterial:AT,MeshStandardMaterial:ep,MeshPhongMaterial:kT,MeshToonMaterial:PT,MeshNormalMaterial:LT,MeshLambertMaterial:RT,MeshDepthMaterial:Q0,MeshDistanceMaterial:ey,MeshBasicMaterial:ya,MeshMatcapMaterial:IT,LineDashedMaterial:DT,LineBasicMaterial:Sr,Material:Hn};Hn.fromType=function(t){return new bue[t]};const bn={arraySlice:function(t,e,n){return bn.isTypedArray(t)?new t.constructor(t.subarray(e,n!==void 0?n:t.length)):t.slice(e,n)},convertArray:function(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)},isTypedArray:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},getKeyframeOrder:function(t){function e(i,o){return t[i]-t[o]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r},sortedArray:function(t,e,n){const r=t.length,i=new t.constructor(r);for(let o=0,s=0;s!==r;++o){const a=n[o]*e;for(let l=0;l!==e;++l)i[s++]=t[a+l]}return i},flattenJSON:function(t,e,n,r){let i=1,o=t[0];for(;o!==void 0&&o[r]===void 0;)o=t[i++];if(o===void 0)return;let s=o[r];if(s!==void 0)if(Array.isArray(s))do s=o[r],s!==void 0&&(e.push(o.time),n.push.apply(n,s)),o=t[i++];while(o!==void 0);else if(s.toArray!==void 0)do s=o[r],s!==void 0&&(e.push(o.time),s.toArray(n,n.length)),o=t[i++];while(o!==void 0);else do s=o[r],s!==void 0&&(e.push(o.time),n.push(s)),o=t[i++];while(o!==void 0)},subclip:function(t,e,n,r,i=30){const o=t.clone();o.name=e;const s=[];for(let l=0;l<o.tracks.length;++l){const u=o.tracks[l],c=u.getValueSize(),d=[],f=[];for(let h=0;h<u.times.length;++h){const m=u.times[h]*i;if(!(m<n||m>=r)){d.push(u.times[h]);for(let g=0;g<c;++g)f.push(u.values[h*c+g])}}d.length!==0&&(u.times=bn.convertArray(d,u.times.constructor),u.values=bn.convertArray(f,u.values.constructor),s.push(u))}o.tracks=s;let a=1/0;for(let l=0;l<o.tracks.length;++l)a>o.tracks[l].times[0]&&(a=o.tracks[l].times[0]);for(let l=0;l<o.tracks.length;++l)o.tracks[l].shift(-1*a);return o.resetDuration(),o},makeClipAdditive:function(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,o=e/r;for(let s=0;s<i;++s){const a=n.tracks[s],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const u=t.tracks.find(function(v){return v.name===a.name&&v.ValueTypeName===l});if(u===void 0)continue;let c=0;const d=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=d/3);let f=0;const h=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(f=h/3);const m=a.times.length-1;let g;if(o<=a.times[0]){const v=c,y=d-c;g=bn.arraySlice(a.values,v,y)}else if(o>=a.times[m]){const v=m*d+c,y=v+d-c;g=bn.arraySlice(a.values,v,y)}else{const v=a.createInterpolant(),y=c,w=d-c;v.evaluate(o),g=bn.arraySlice(v.resultBuffer,y,w)}l==="quaternion"&&new gn().fromArray(g).normalize().conjugate().toArray(g);const p=u.times.length;for(let v=0;v<p;++v){const y=v*h+f;if(l==="quaternion")gn.multiplyQuaternionsFlat(u.values,y,g,0,u.values,y);else{const w=h-f*2;for(let _=0;_<w;++_)u.values[y+_]-=g[_]}}}return t.blendMode=JE,t}};class as{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],o=n[r-1];e:{t:{let s;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<o)break r;return r=n.length,this._cachedIndex=r,this.afterEnd_(r-1,e,o)}if(r===a)break;if(o=i,i=n[++r],e<i)break t}s=n.length;break n}if(!(e>=o)){const a=n[1];e<a&&(r=2,o=a);for(let l=r-2;;){if(o===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,i);if(r===l)break;if(i=o,o=n[--r-1],e>=o)break t}s=r,r=0;break n}break e}for(;r<s;){const a=r+s>>>1;e<n[a]?s=a:r=a+1}if(i=n[r],o=n[r-1],o===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,i);if(i===void 0)return r=n.length,this._cachedIndex=r,this.afterEnd_(r-1,o,e)}this._cachedIndex=r,this.intervalChanged_(r,o,i)}return this.interpolate_(r,o,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,o=e*i;for(let s=0;s!==i;++s)n[s]=r[o+s];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}as.prototype.beforeStart_=as.prototype.copySampleValue_;as.prototype.afterEnd_=as.prototype.copySampleValue_;class wue extends as{constructor(e,n,r,i){super(e,n,r,i);this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Qa,endingEnd:Qa}}intervalChanged_(e,n,r){const i=this.parameterPositions;let o=e-2,s=e+1,a=i[o],l=i[s];if(a===void 0)switch(this.getSettings_().endingStart){case el:o=e,a=2*n-r;break;case ih:o=i.length-2,a=n+i[o]-i[o+1];break;default:o=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case el:s=e,l=2*r-n;break;case ih:s=1,l=r+i[1]-i[0];break;default:s=e-1,l=n}const u=(r-n)*.5,c=this.valueSize;this._weightPrev=u/(n-a),this._weightNext=u/(l-r),this._offsetPrev=o*c,this._offsetNext=s*c}interpolate_(e,n,r,i){const o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,c=this._offsetPrev,d=this._offsetNext,f=this._weightPrev,h=this._weightNext,m=(r-n)/(i-n),g=m*m,p=g*m,v=-f*p+2*f*g-f*m,y=(1+f)*p+(-1.5-2*f)*g+(-.5+f)*m+1,w=(-1-h)*p+(1.5+h)*g+.5*m,_=h*p-h*g;for(let b=0;b!==a;++b)o[b]=v*s[c+b]+y*s[u+b]+w*s[l+b]+_*s[d+b];return o}}class $T extends as{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,c=(r-n)/(i-n),d=1-c;for(let f=0;f!==a;++f)o[f]=s[u+f]*d+s[l+f]*c;return o}}class _ue extends as{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Xi{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=bn.convertArray(n,this.TimeBufferType),this.values=bn.convertArray(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:bn.convertArray(e.times,Array),values:bn.convertArray(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new _ue(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new $T(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new wue(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case nh:n=this.InterpolantFactoryMethodDiscrete;break;case rh:n=this.InterpolantFactoryMethodLinear;break;case Zp:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return nh;case this.InterpolantFactoryMethodLinear:return rh;case this.InterpolantFactoryMethodSmooth:return Zp}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let o=0,s=i-1;for(;o!==i&&r[o]<e;)++o;for(;s!==-1&&r[s]>n;)--s;if(++s,o!==0||s!==i){o>=s&&(s=Math.max(s,1),o=s-1);const a=this.getValueSize();this.times=bn.arraySlice(r,o,s),this.values=bn.arraySlice(this.values,o*a,s*a)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,o=r.length;o===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let s=null;for(let a=0;a!==o;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(s!==null&&s>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,s),e=!1;break}s=l}if(i!==void 0&&bn.isTypedArray(i))for(let a=0,l=i.length;a!==l;++a){const u=i[a];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,u),e=!1;break}}return e}optimize(){const e=bn.arraySlice(this.times),n=bn.arraySlice(this.values),r=this.getValueSize(),i=this.getInterpolation()===Zp,o=e.length-1;let s=1;for(let a=1;a<o;++a){let l=!1;const u=e[a],c=e[a+1];if(u!==c&&(a!==1||u!==e[0]))if(i)l=!0;else{const d=a*r,f=d-r,h=d+r;for(let m=0;m!==r;++m){const g=n[d+m];if(g!==n[f+m]||g!==n[h+m]){l=!0;break}}}if(l){if(a!==s){e[s]=e[a];const d=a*r,f=s*r;for(let h=0;h!==r;++h)n[f+h]=n[d+h]}++s}}if(o>0){e[s]=e[o];for(let a=o*r,l=s*r,u=0;u!==r;++u)n[l+u]=n[a+u];++s}return s!==e.length?(this.times=bn.arraySlice(e,0,s),this.values=bn.arraySlice(n,0,s*r)):(this.times=e,this.values=n),this}clone(){const e=bn.arraySlice(this.times,0),n=bn.arraySlice(this.values,0),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}Xi.prototype.TimeBufferType=Float32Array;Xi.prototype.ValueBufferType=Float32Array;Xi.prototype.DefaultInterpolation=rh;class eu extends Xi{}eu.prototype.ValueTypeName="bool";eu.prototype.ValueBufferType=Array;eu.prototype.DefaultInterpolation=nh;eu.prototype.InterpolantFactoryMethodLinear=void 0;eu.prototype.InterpolantFactoryMethodSmooth=void 0;class NT extends Xi{}NT.prototype.ValueTypeName="color";class lh extends Xi{}lh.prototype.ValueTypeName="number";class Sue extends as{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,l=(r-n)/(i-n);let u=e*a;for(let c=u+a;u!==c;u+=4)gn.slerpFlat(o,0,s,u-a,s,u,l);return o}}class Vc extends Xi{InterpolantFactoryMethodLinear(e){return new Sue(this.times,this.values,this.getValueSize(),e)}}Vc.prototype.ValueTypeName="quaternion";Vc.prototype.DefaultInterpolation=rh;Vc.prototype.InterpolantFactoryMethodSmooth=void 0;class tu extends Xi{}tu.prototype.ValueTypeName="string";tu.prototype.ValueBufferType=Array;tu.prototype.DefaultInterpolation=nh;tu.prototype.InterpolantFactoryMethodLinear=void 0;tu.prototype.InterpolantFactoryMethodSmooth=void 0;class uh extends Xi{}uh.prototype.ValueTypeName="vector";class aS{constructor(e,n=-1,r,i=j0){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=Ci(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let s=0,a=r.length;s!==a;++s)n.push(Mue(r[s]).scale(i));const o=new this(e.name,e.duration,n,e.blendMode);return o.uuid=e.uuid,o}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let o=0,s=r.length;o!==s;++o)n.push(Xi.toJSON(r[o]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const o=n.length,s=[];for(let a=0;a<o;a++){let l=[],u=[];l.push((a+o-1)%o,a,(a+1)%o),u.push(0,1,0);const c=bn.getKeyframeOrder(l);l=bn.sortedArray(l,1,c),u=bn.sortedArray(u,1,c),!i&&l[0]===0&&(l.push(o),u.push(u[0])),s.push(new lh(".morphTargetInfluences["+n[a].name+"]",l,u).scale(1/r))}return new this(e,-1,s)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},o=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const u=e[a],c=u.name.match(o);if(c&&c.length>1){const d=c[1];let f=i[d];f||(i[d]=f=[]),f.push(u)}}const s=[];for(const a in i)s.push(this.CreateFromMorphTargetSequence(a,i[a],n,r));return s}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(d,f,h,m,g){if(h.length!==0){const p=[],v=[];bn.flattenJSON(h,p,v,m),p.length!==0&&g.push(new d(f,p,v))}},i=[],o=e.name||"default",s=e.fps||30,a=e.blendMode;let l=e.length||-1;const u=e.hierarchy||[];for(let d=0;d<u.length;d++){const f=u[d].keys;if(!(!f||f.length===0))if(f[0].morphTargets){const h={};let m;for(m=0;m<f.length;m++)if(f[m].morphTargets)for(let g=0;g<f[m].morphTargets.length;g++)h[f[m].morphTargets[g]]=-1;for(const g in h){const p=[],v=[];for(let y=0;y!==f[m].morphTargets.length;++y){const w=f[m];p.push(w.time),v.push(w.morphTarget===g?1:0)}i.push(new lh(".morphTargetInfluence["+g+"]",p,v))}l=h.length*s}else{const h=".bones["+n[d].name+"]";r(uh,h+".position",f,"pos",i),r(Vc,h+".quaternion",f,"rot",i),r(uh,h+".scale",f,"scl",i)}}return i.length===0?null:new this(o,l,i,a)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const o=this.tracks[r];n=Math.max(n,o.times[o.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function Cue(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return lh;case"vector":case"vector2":case"vector3":case"vector4":return uh;case"color":return NT;case"quaternion":return Vc;case"bool":case"boolean":return eu;case"string":return tu}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function Mue(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=Cue(t.type);if(t.times===void 0){const n=[],r=[];bn.flattenJSON(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const $l={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class xue{constructor(e,n,r){const i=this;let o=!1,s=0,a=0,l;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(c){a++,o===!1&&i.onStart!==void 0&&i.onStart(c,s,a),o=!0},this.itemEnd=function(c){s++,i.onProgress!==void 0&&i.onProgress(c,s,a),s===a&&(o=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(c){i.onError!==void 0&&i.onError(c)},this.resolveURL=function(c){return l?l(c):c},this.setURLModifier=function(c){return l=c,this},this.addHandler=function(c,d){return u.push(c,d),this},this.removeHandler=function(c){const d=u.indexOf(c);return d!==-1&&u.splice(d,2),this},this.getHandler=function(c){for(let d=0,f=u.length;d<f;d+=2){const h=u[d],m=u[d+1];if(h.global&&(h.lastIndex=0),h.test(c))return m}return null}}}const Eue=new xue;class Po{constructor(e){this.manager=e!==void 0?e:Eue,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,o){r.load(e,i,n,o)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const io={};class uy extends Po{constructor(e){super(e)}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=$l.get(e);if(o!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(o),this.manager.itemEnd(e)},0),o;if(io[e]!==void 0){io[e].push({onLoad:n,onProgress:r,onError:i});return}io[e]=[],io[e].push({onLoad:n,onProgress:r,onError:i});const s=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(s).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream=="undefined"||u.body===void 0||u.body.getReader===void 0)return u;const c=io[e],d=u.body.getReader(),f=u.headers.get("Content-Length"),h=f?parseInt(f):0,m=h!==0;let g=0;const p=new ReadableStream({start(v){y();function y(){d.read().then(({done:w,value:_})=>{if(w)v.close();else{g+=_.byteLength;const b=new ProgressEvent("progress",{lengthComputable:m,loaded:g,total:h});for(let S=0,M=c.length;S<M;S++){const T=c[S];T.onProgress&&T.onProgress(b)}v.enqueue(_),y()}})}}});return new Response(p)}else throw Error(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`)}).then(u=>{switch(l){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(c=>new DOMParser().parseFromString(c,a));case"json":return u.json();default:if(a===void 0)return u.text();{const d=/charset="?([^;"\s]*)"?/i.exec(a),f=d&&d[1]?d[1].toLowerCase():void 0,h=new TextDecoder(f);return u.arrayBuffer().then(m=>h.decode(m))}}}).then(u=>{$l.add(e,u);const c=io[e];delete io[e];for(let d=0,f=c.length;d<f;d++){const h=c[d];h.onLoad&&h.onLoad(u)}}).catch(u=>{const c=io[e];if(c===void 0)throw this.manager.itemError(e),u;delete io[e];for(let d=0,f=c.length;d<f;d++){const h=c[d];h.onError&&h.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class OT extends Po{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,s=$l.get(e);if(s!==void 0)return o.manager.itemStart(e),setTimeout(function(){n&&n(s),o.manager.itemEnd(e)},0),s;const a=Sc("img");function l(){c(),$l.add(e,this),n&&n(this),o.manager.itemEnd(e)}function u(d){c(),i&&i(d),o.manager.itemError(e),o.manager.itemEnd(e)}function c(){a.removeEventListener("load",l,!1),a.removeEventListener("error",u,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),o.manager.itemStart(e),a.src=e,a}}class Tue extends Po{constructor(e){super(e)}load(e,n,r,i){const o=new jh,s=new OT(this.manager);s.setCrossOrigin(this.crossOrigin),s.setPath(this.path);let a=0;function l(u){s.load(e[u],function(c){o.images[u]=c,a++,a===6&&(o.needsUpdate=!0,n&&n(o))},void 0,i)}for(let u=0;u<e.length;++u)l(u);return o}}class go extends Po{constructor(e){super(e)}load(e,n,r,i){const o=new Rn,s=new OT(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(e,function(a){o.image=a,o.needsUpdate=!0,n!==void 0&&n(o)},r,i),o}}class ji extends Zt{constructor(e,n=1){super();this.type="Light",this.color=new ht(e),this.intensity=n}dispose(){}copy(e){return super.copy(e),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}ji.prototype.isLight=!0;class Aue extends ji{constructor(e,n,r){super(e,r);this.type="HemisphereLight",this.position.copy(Zt.DefaultUp),this.updateMatrix(),this.groundColor=new ht(n)}copy(e){return ji.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}Aue.prototype.isHemisphereLight=!0;const lS=new St,uS=new ne,cS=new ne;class cy{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Ge(512,512),this.map=null,this.mapPass=null,this.matrix=new St,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Kh,this._frameExtents=new Ge(1,1),this._viewportCount=1,this._viewports=[new nn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;uS.setFromMatrixPosition(e.matrixWorld),n.position.copy(uS),cS.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(cS),n.updateMatrixWorld(),lS.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(lS),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(n.projectionMatrix),r.multiply(n.matrixWorldInverse)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class FT extends cy{constructor(){super(new cr(50,1,.5,500));this.focus=1}updateMatrices(e){const n=this.camera,r=_c*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,o=e.distance||n.far;(r!==n.fov||i!==n.aspect||o!==n.far)&&(n.fov=r,n.aspect=i,n.far=o,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}FT.prototype.isSpotLightShadow=!0;class kue extends ji{constructor(e,n,r=0,i=Math.PI/3,o=0,s=1){super(e,n);this.type="SpotLight",this.position.copy(Zt.DefaultUp),this.updateMatrix(),this.target=new Zt,this.distance=r,this.angle=i,this.penumbra=o,this.decay=s,this.shadow=new FT}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}kue.prototype.isSpotLight=!0;const dS=new St,bu=new ne,Pm=new ne;class BT extends cy{constructor(){super(new cr(90,1,.5,500));this._frameExtents=new Ge(4,2),this._viewportCount=6,this._viewports=[new nn(2,1,1,1),new nn(0,1,1,1),new nn(3,1,1,1),new nn(1,1,1,1),new nn(3,0,1,1),new nn(1,0,1,1)],this._cubeDirections=[new ne(1,0,0),new ne(-1,0,0),new ne(0,0,1),new ne(0,0,-1),new ne(0,1,0),new ne(0,-1,0)],this._cubeUps=[new ne(0,1,0),new ne(0,1,0),new ne(0,1,0),new ne(0,1,0),new ne(0,0,1),new ne(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,i=this.matrix,o=e.distance||r.far;o!==r.far&&(r.far=o,r.updateProjectionMatrix()),bu.setFromMatrixPosition(e.matrixWorld),r.position.copy(bu),Pm.copy(r.position),Pm.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(Pm),r.updateMatrixWorld(),i.makeTranslation(-bu.x,-bu.y,-bu.z),dS.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(dS)}}BT.prototype.isPointLightShadow=!0;class zT extends ji{constructor(e,n,r=0,i=1){super(e,n);this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new BT}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}zT.prototype.isPointLight=!0;class VT extends cy{constructor(){super(new Z0(-5,5,5,-5,.5,500))}}VT.prototype.isDirectionalLightShadow=!0;class HT extends ji{constructor(e,n){super(e,n);this.type="DirectionalLight",this.position.copy(Zt.DefaultUp),this.updateMatrix(),this.target=new Zt,this.shadow=new VT}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}HT.prototype.isDirectionalLight=!0;class UT extends ji{constructor(e,n){super(e,n);this.type="AmbientLight"}}UT.prototype.isAmbientLight=!0;class Pue extends ji{constructor(e,n,r=10,i=10){super(e,n);this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}Pue.prototype.isRectAreaLight=!0;class WT{constructor(){this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new ne)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,o=e.z,s=this.coefficients;return n.copy(s[0]).multiplyScalar(.282095),n.addScaledVector(s[1],.488603*i),n.addScaledVector(s[2],.488603*o),n.addScaledVector(s[3],.488603*r),n.addScaledVector(s[4],1.092548*(r*i)),n.addScaledVector(s[5],1.092548*(i*o)),n.addScaledVector(s[6],.315392*(3*o*o-1)),n.addScaledVector(s[7],1.092548*(r*o)),n.addScaledVector(s[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,o=e.z,s=this.coefficients;return n.copy(s[0]).multiplyScalar(.886227),n.addScaledVector(s[1],2*.511664*i),n.addScaledVector(s[2],2*.511664*o),n.addScaledVector(s[3],2*.511664*r),n.addScaledVector(s[4],2*.429043*r*i),n.addScaledVector(s[5],2*.429043*i*o),n.addScaledVector(s[6],.743125*o*o-.247708),n.addScaledVector(s[7],2*.429043*r*o),n.addScaledVector(s[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,o=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*o,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*o,n[6]=.315392*(3*o*o-1),n[7]=1.092548*r*o,n[8]=.546274*(r*r-i*i)}}WT.prototype.isSphericalHarmonics3=!0;class dy extends ji{constructor(e=new WT,n=1){super(void 0,n);this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}dy.prototype.isLightProbe=!0;class Lue{static decodeText(e){if(typeof TextDecoder!="undefined")return new TextDecoder().decode(e);let n="";for(let r=0,i=e.length;r<i;r++)n+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class Rue extends Ht{constructor(){super();this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}clone(){return new this.constructor().copy(this)}toJSON(){const e=super.toJSON(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}Rue.prototype.isInstancedBufferGeometry=!0;class Iue extends Po{constructor(e){super(e);typeof createImageBitmap=="undefined"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch=="undefined"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,s=$l.get(e);if(s!==void 0)return o.manager.itemStart(e),setTimeout(function(){n&&n(s),o.manager.itemEnd(e)},0),s;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(o.options,{colorSpaceConversion:"none"}))}).then(function(l){$l.add(e,l),n&&n(l),o.manager.itemEnd(e)}).catch(function(l){i&&i(l),o.manager.itemError(e),o.manager.itemEnd(e)}),o.manager.itemStart(e)}}Iue.prototype.isImageBitmapLoader=!0;let Bd;const Due={getContext:function(){return Bd===void 0&&(Bd=new(window.AudioContext||window.webkitAudioContext)),Bd},setContext:function(t){Bd=t}};class $ue extends Po{constructor(e){super(e)}load(e,n,r,i){const o=this,s=new uy(this.manager);s.setResponseType("arraybuffer"),s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(a){try{const l=a.slice(0);Due.getContext().decodeAudioData(l,function(c){n(c)})}catch(l){i?i(l):console.error(l),o.manager.itemError(e)}},r,i)}}class Nue extends dy{constructor(e,n,r=1){super(void 0,r);const i=new ht().set(e),o=new ht().set(n),s=new ne(i.r,i.g,i.b),a=new ne(o.r,o.g,o.b),l=Math.sqrt(Math.PI),u=l*Math.sqrt(.75);this.sh.coefficients[0].copy(s).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(s).sub(a).multiplyScalar(u)}}Nue.prototype.isHemisphereLightProbe=!0;class Oue extends dy{constructor(e,n=1){super(void 0,n);const r=new ht().set(e);this.sh.coefficients[0].set(r.r,r.g,r.b).multiplyScalar(2*Math.sqrt(Math.PI))}}Oue.prototype.isAmbientLightProbe=!0;class Fue{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=fS(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=fS();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function fS(){return(typeof performance=="undefined"?Date:performance).now()}class Bue extends Zt{constructor(e){super();this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}class zue{constructor(e,n,r){this.binding=e,this.valueSize=r;let i,o,s;switch(n){case"quaternion":i=this._slerp,o=this._slerpAdditive,s=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,o=this._select,s=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,o=this._lerpAdditive,s=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=o,this._setIdentity=s,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,o=e*i+i;let s=this.cumulativeWeight;if(s===0){for(let a=0;a!==i;++a)r[o+a]=r[a];s=n}else{s+=n;const a=n/s;this._mixBufferRegion(r,o,0,a,i)}this.cumulativeWeight=s}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,o=this.cumulativeWeight,s=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,o<1){const l=n*this._origIndex;this._mixBufferRegion(r,i,l,1-o,n)}s>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let l=n,u=n+n;l!==u;++l)if(r[l]!==r[l+n]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let o=r,s=i;o!==s;++o)n[o]=n[i+o%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,o){if(i>=.5)for(let s=0;s!==o;++s)e[n+s]=e[r+s]}_slerp(e,n,r,i){gn.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,o){const s=this._workIndex*o;gn.multiplyQuaternionsFlat(e,s,e,n,e,r),gn.slerpFlat(e,n,e,n,e,s,i)}_lerp(e,n,r,i,o){const s=1-i;for(let a=0;a!==o;++a){const l=n+a;e[l]=e[l]*s+e[r+a]*i}}_lerpAdditive(e,n,r,i,o){for(let s=0;s!==o;++s){const a=n+s;e[a]=e[a]+e[r+s]*i}}}const fy="\\[\\]\\.:\\/",Vue=new RegExp("["+fy+"]","g"),hy="[^"+fy+"]",Hue="[^"+fy.replace("\\.","")+"]",Uue=/((?:WC+[\/:])*)/.source.replace("WC",hy),Wue=/(WCOD+)?/.source.replace("WCOD",Hue),Gue=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",hy),jue=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",hy),Kue=new RegExp("^"+Uue+Wue+Gue+jue+"$"),que=["material","materials","bones"];class Yue{constructor(e,n,r){const i=r||tn.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,o=r.length;i!==o;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class tn{constructor(e,n,r){this.path=n,this.parsedPath=r||tn.parseTrackName(n),this.node=tn.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new tn.Composite(e,n,r):new tn(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Vue,"")}static parseTrackName(e){const n=Kue.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const o=r.nodeName.substring(i+1);que.indexOf(o)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=o)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(o){for(let s=0;s<o.length;s++){const a=o[s];if(a.name===n||a.uuid===n)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let o=n.propertyIndex;if(e||(e=tn.findNode(this.rootNode,n.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(r){let u=n.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let c=0;c<e.length;c++)if(e[c].name===u){u=c;break}break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(u!==void 0){if(e[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const s=e[i];if(s===void 0){const u=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(o!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[o]!==void 0&&(o=e.morphTargetDictionary[o])}else{console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);return}}l=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=o}else s.fromArray!==void 0&&s.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(l=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}tn.Composite=Yue;tn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};tn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};tn.prototype.GetterByBindingType=[tn.prototype._getValue_direct,tn.prototype._getValue_array,tn.prototype._getValue_arrayElement,tn.prototype._getValue_toArray];tn.prototype.SetterByBindingTypeAndVersioning=[[tn.prototype._setValue_direct,tn.prototype._setValue_direct_setNeedsUpdate,tn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[tn.prototype._setValue_array,tn.prototype._setValue_array_setNeedsUpdate,tn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[tn.prototype._setValue_arrayElement,tn.prototype._setValue_arrayElement_setNeedsUpdate,tn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[tn.prototype._setValue_fromArray,tn.prototype._setValue_fromArray_setNeedsUpdate,tn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Xue{constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const o=n.tracks,s=o.length,a=new Array(s),l={endingStart:Qa,endingEnd:Qa};for(let u=0;u!==s;++u){const c=o[u].createInterpolant(null);a[u]=c,c.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(s),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Mre,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r){if(e.fadeOut(n),this.fadeIn(n),r){const i=this._clip.duration,o=e._clip.duration,s=o/i,a=i/o;e.warp(1,s,n),this.warp(a,1,n)}return this}crossFadeTo(e,n,r){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,o=i.time,s=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,u=a.sampleValues;return l[0]=o,l[1]=o+r,u[0]=e/s,u[1]=n/s,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const o=this._startTime;if(o!==null){const l=(e-o)*r;if(l<0||r===0)return;this._startTime=null,n=r*l}n*=this._updateTimeScale(e);const s=this._updateTime(n),a=this._updateWeight(e);if(a>0){const l=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case JE:for(let c=0,d=l.length;c!==d;++c)l[c].evaluate(s),u[c].accumulateAdditive(a);break;case j0:default:for(let c=0,d=l.length;c!==d;++c)l[c].evaluate(s),u[c].accumulate(i,a)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;r!==null&&(n*=r.evaluate(e)[0],e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n))}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,o=this._loopCount;const s=r===xre;if(e===0)return o===-1?i:s&&(o&1)===1?n-i:i;if(r===Cre){o===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(o===-1&&(e>=0?(o=0,this._setEndings(!0,this.repetitions===0,s)):this._setEndings(this.repetitions===0,!0,s)),i>=n||i<0){const a=Math.floor(i/n);i-=n*a,o+=Math.abs(a);const l=this.repetitions-o;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const u=e<0;this._setEndings(u,!u,s)}else this._setEndings(!1,!1,s);this._loopCount=o,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(s&&(o&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=el,i.endingEnd=el):(e?i.endingStart=this.zeroSlopeAtStart?el:Qa:i.endingStart=ih,n?i.endingEnd=this.zeroSlopeAtEnd?el:Qa:i.endingEnd=ih)}_scheduleFading(e,n,r){const i=this._mixer,o=i.time;let s=this._weightInterpolant;s===null&&(s=i._lendControlInterpolant(),this._weightInterpolant=s);const a=s.parameterPositions,l=s.sampleValues;return a[0]=o,l[0]=n,a[1]=o+e,l[1]=r,this}}class Zue extends ds{constructor(e){super();this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,o=i.length,s=e._propertyBindings,a=e._interpolants,l=r.uuid,u=this._bindingsByRootAndName;let c=u[l];c===void 0&&(c={},u[l]=c);for(let d=0;d!==o;++d){const f=i[d],h=f.name;let m=c[h];if(m!==void 0)++m.referenceCount,s[d]=m;else{if(m=s[d],m!==void 0){m._cacheIndex===null&&(++m.referenceCount,this._addInactiveBinding(m,l,h));continue}const g=n&&n._propertyBindings[d].binding.parsedPath;m=new zue(tn.create(r,h,g),f.ValueTypeName,f.getValueSize()),++m.referenceCount,this._addInactiveBinding(m,l,h),s[d]=m}a[d].resultBuffer=m.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,o=this._actionsByClip[i];this._bindAction(e,o&&o.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const o=n[r];o.useCount++===0&&(this._lendBinding(o),o.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const o=n[r];--o.useCount===0&&(o.restoreOriginalState(),this._takeBackBinding(o))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,o=this._actionsByClip;let s=o[n];if(s===void 0)s={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,o[n]=s;else{const a=s.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),s.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const o=e._clip.uuid,s=this._actionsByClip,a=s[o],l=a.knownActions,u=l[l.length-1],c=e._byClipCacheIndex;u._byClipCacheIndex=c,l[c]=u,l.pop(),e._byClipCacheIndex=null;const d=a.actionByRoot,f=(e._localRoot||this._root).uuid;delete d[f],l.length===0&&delete s[o],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const o=n[r];--o.referenceCount===0&&this._removeInactiveBinding(o)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,o=this._bindings;let s=i[n];s===void 0&&(s={},i[n]=s),s[r]=e,e._cacheIndex=o.length,o.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,o=r.path,s=this._bindingsByRootAndName,a=s[i],l=n[n.length-1],u=e._cacheIndex;l._cacheIndex=u,n[u]=l,n.pop(),delete a[o],Object.keys(a).length===0&&delete s[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new $T(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,o=n[i];e.__cacheIndex=i,n[i]=e,o.__cacheIndex=r,n[r]=o}clipAction(e,n,r){const i=n||this._root,o=i.uuid;let s=typeof e=="string"?aS.findByName(i,e):e;const a=s!==null?s.uuid:e,l=this._actionsByClip[a];let u=null;if(r===void 0&&(s!==null?r=s.blendMode:r=j0),l!==void 0){const d=l.actionByRoot[o];if(d!==void 0&&d.blendMode===r)return d;u=l.knownActions[0],s===null&&(s=u._clip)}if(s===null)return null;const c=new Xue(this,s,n,r);return this._bindAction(c,u),this._addInactiveAction(c,a,o),c}existingAction(e,n){const r=n||this._root,i=r.uuid,o=typeof e=="string"?aS.findByName(r,e):e,s=o?o.uuid:e,a=this._actionsByClip[s];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,o=Math.sign(e),s=this._accuIndex^=1;for(let u=0;u!==r;++u)n[u]._update(i,e,o,s);const a=this._bindings,l=this._nActiveBindings;for(let u=0;u!==l;++u)a[u].apply(s);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,o=i[r];if(o!==void 0){const s=o.knownActions;for(let a=0,l=s.length;a!==l;++a){const u=s[a];this._deactivateAction(u);const c=u._cacheIndex,d=n[n.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,d._cacheIndex=c,n[c]=d,n.pop(),this._removeInactiveBindingsForAction(u)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const s in r){const a=r[s].actionByRoot,l=a[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,o=i[n];if(o!==void 0)for(const s in o){const a=o[s];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}Zue.prototype._controlInterpolantsResultBuffer=new Float32Array(1);class Jue extends Jl{constructor(e,n,r=1){super(e,n);this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}Jue.prototype.isInstancedInterleavedBuffer=!0;class Que{constructor(e,n,r=0,i=1/0){this.ray=new va(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new q0,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}intersectObject(e,n=!0,r=[]){return sv(e,this,r,n),r.sort(hS),r}intersectObjects(e,n=!0,r=[]){for(let i=0,o=e.length;i<o;i++)sv(e[i],this,r,n);return r.sort(hS),r}}function hS(t,e){return t.distance-e.distance}function sv(t,e,n,r){if(t.layers.test(e.layers)&&t.raycast(e,n),r===!0){const i=t.children;for(let o=0,s=i.length;o<s;o++)sv(i[o],e,n,!0)}}const pS=new Ge;class nu{constructor(e=new Ge(1/0,1/0),n=new Ge(-1/0,-1/0)){this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=pS.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return pS.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}nu.prototype.isBox2=!0;const Vo=new ne,zd=new St,Lm=new St;class ece extends la{constructor(e){const n=GT(e),r=new Ht,i=[],o=[],s=new ht(0,0,1),a=new ht(0,1,0);for(let u=0;u<n.length;u++){const c=n[u];c.parent&&c.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),o.push(s.r,s.g,s.b),o.push(a.r,a.g,a.b))}r.setAttribute("position",new jt(i,3)),r.setAttribute("color",new jt(o,3));const l=new Sr({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l);this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,r=this.geometry,i=r.getAttribute("position");Lm.copy(this.root.matrixWorld).invert();for(let o=0,s=0;o<n.length;o++){const a=n[o];a.parent&&a.parent.isBone&&(zd.multiplyMatrices(Lm,a.matrixWorld),Vo.setFromMatrixPosition(zd),i.setXYZ(s,Vo.x,Vo.y,Vo.z),zd.multiplyMatrices(Lm,a.parent.matrixWorld),Vo.setFromMatrixPosition(zd),i.setXYZ(s+1,Vo.x,Vo.y,Vo.z),s+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}}function GT(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,GT(t.children[n]));return e}class tce extends la{constructor(e=10,n=10,r=4473924,i=8947848){r=new ht(r),i=new ht(i);const o=n/2,s=e/n,a=e/2,l=[],u=[];for(let f=0,h=0,m=-a;f<=n;f++,m+=s){l.push(-a,0,m,a,0,m),l.push(m,0,-a,m,0,a);const g=f===o?r:i;g.toArray(u,h),h+=3,g.toArray(u,h),h+=3,g.toArray(u,h),h+=3,g.toArray(u,h),h+=3}const c=new Ht;c.setAttribute("position",new jt(l,3)),c.setAttribute("color",new jt(u,3));const d=new Sr({vertexColors:!0,toneMapped:!1});super(c,d);this.type="GridHelper"}}const Vd=new li;class py extends la{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),o=new Ht;o.setIndex(new _n(r,1)),o.setAttribute("position",new _n(i,3));super(o,new Sr({color:n,toneMapped:!1}));this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&Vd.setFromObject(this.object),Vd.isEmpty())return;const n=Vd.min,r=Vd.max,i=this.geometry.attributes.position,o=i.array;o[0]=r.x,o[1]=r.y,o[2]=r.z,o[3]=n.x,o[4]=r.y,o[5]=r.z,o[6]=n.x,o[7]=n.y,o[8]=r.z,o[9]=r.x,o[10]=n.y,o[11]=r.z,o[12]=r.x,o[13]=r.y,o[14]=n.z,o[15]=n.x,o[16]=r.y,o[17]=n.z,o[18]=n.x,o[19]=n.y,o[20]=n.z,o[21]=r.x,o[22]=n.y,o[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e){return la.prototype.copy.call(this,e),this.object=e.object,this}}class nce extends la{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new Ht;i.setAttribute("position",new jt(n,3)),i.setAttribute("color",new jt(r,3));const o=new Sr({vertexColors:!0,toneMapped:!1});super(i,o);this.type="AxesHelper"}setColors(e,n,r){const i=new ht,o=this.geometry.attributes.color.array;return i.set(e),i.toArray(o,0),i.toArray(o,3),i.set(n),i.toArray(o,6),i.toArray(o,9),i.set(r),i.toArray(o,12),i.toArray(o,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class rce{constructor(){this.type="ShapePath",this.color=new ht,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new ah,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,o,s){return this.currentPath.bezierCurveTo(e,n,r,i,o,s),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e,n){function r(y){const w=[];for(let _=0,b=y.length;_<b;_++){const S=y[_],M=new ts;M.curves=S.curves,w.push(M)}return w}function i(y,w){const _=w.length;let b=!1;for(let S=_-1,M=0;M<_;S=M++){let T=w[S],N=w[M],I=N.x-T.x,x=N.y-T.y;if(Math.abs(x)>Number.EPSILON){if(x<0&&(T=w[M],I=-I,N=w[S],x=-x),y.y<T.y||y.y>N.y)continue;if(y.y===T.y){if(y.x===T.x)return!0}else{const R=x*(y.x-T.x)-I*(y.y-T.y);if(R===0)return!0;if(R<0)continue;b=!b}}else{if(y.y!==T.y)continue;if(N.x<=y.x&&y.x<=T.x||T.x<=y.x&&y.x<=N.x)return!0}}return b}const o=mo.isClockWise,s=this.subPaths;if(s.length===0)return[];if(n===!0)return r(s);let a,l,u;const c=[];if(s.length===1)return l=s[0],u=new ts,u.curves=l.curves,c.push(u),c;let d=!o(s[0].getPoints());d=e?!d:d;const f=[],h=[];let m=[],g=0,p;h[g]=void 0,m[g]=[];for(let y=0,w=s.length;y<w;y++)l=s[y],p=l.getPoints(),a=o(p),a=e?!a:a,a?(!d&&h[g]&&g++,h[g]={s:new ts,p},h[g].s.curves=l.curves,d&&g++,m[g]=[]):m[g].push({h:l,p:p[0]});if(!h[0])return r(s);if(h.length>1){let y=!1,w=0;for(let _=0,b=h.length;_<b;_++)f[_]=[];for(let _=0,b=h.length;_<b;_++){const S=m[_];for(let M=0;M<S.length;M++){const T=S[M];let N=!0;for(let I=0;I<h.length;I++)i(T.p,h[I].p)&&(_!==I&&w++,N?(N=!1,f[I].push(T)):y=!0);N&&f[_].push(T)}}w>0&&y===!1&&(m=f)}let v;for(let y=0,w=h.length;y<w;y++){u=h[y].s,c.push(u),v=m[y];for(let _=0,b=v.length;_<b;_++)u.holes.push(v[_].h)}return c}}const $i=new Uint32Array(512),Ni=new Uint32Array(512);for(let t=0;t<256;++t){const e=t-127;e<-27?($i[t]=0,$i[t|256]=32768,Ni[t]=24,Ni[t|256]=24):e<-14?($i[t]=1024>>-e-14,$i[t|256]=1024>>-e-14|32768,Ni[t]=-e-1,Ni[t|256]=-e-1):e<=15?($i[t]=e+15<<10,$i[t|256]=e+15<<10|32768,Ni[t]=13,Ni[t|256]=13):e<128?($i[t]=31744,$i[t|256]=64512,Ni[t]=24,Ni[t|256]=24):($i[t]=31744,$i[t|256]=64512,Ni[t]=13,Ni[t|256]=13)}const jT=new Uint32Array(2048),Hc=new Uint32Array(64),ice=new Uint32Array(64);for(let t=1;t<1024;++t){let e=t<<13,n=0;for(;(e&8388608)===0;)e<<=1,n-=8388608;e&=-8388609,n+=947912704,jT[t]=e|n}for(let t=1024;t<2048;++t)jT[t]=939524096+(t-1024<<13);for(let t=1;t<31;++t)Hc[t]=t<<23;Hc[31]=1199570944;Hc[32]=2147483648;for(let t=33;t<63;++t)Hc[t]=2147483648+(t-32<<23);Hc[63]=3347054592;for(let t=1;t<64;++t)t!==32&&(ice[t]=1024);oi.create=function(t,e){return console.log("THREE.Curve.create() has been deprecated"),t.prototype=Object.create(oi.prototype),t.prototype.constructor=t,t.prototype.getPoint=e,t};ah.prototype.fromPoints=function(t){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(t)};tce.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")};ece.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")};Po.prototype.extractUrlBase=function(t){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),Lue.extractUrlBase(t)};Po.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}};nu.prototype.center=function(t){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(t)};nu.prototype.empty=function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()};nu.prototype.isIntersectionBox=function(t){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)};nu.prototype.size=function(t){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(t)};li.prototype.center=function(t){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(t)};li.prototype.empty=function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()};li.prototype.isIntersectionBox=function(t){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)};li.prototype.isIntersectionSphere=function(t){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)};li.prototype.size=function(t){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(t)};fs.prototype.toVector3=function(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")};Yl.prototype.empty=function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()};Kh.prototype.setFromMatrix=function(t){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(t)};Jn.prototype.flattenToArrayOffset=function(t,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)};Jn.prototype.multiplyVector3=function(t){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)};Jn.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")};Jn.prototype.applyToBufferAttribute=function(t){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)};Jn.prototype.applyToVector3Array=function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")};Jn.prototype.getInverse=function(t){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(t).invert()};St.prototype.extractPosition=function(t){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(t)};St.prototype.flattenToArrayOffset=function(t,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)};St.prototype.getPosition=function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),new ne().setFromMatrixColumn(this,3)};St.prototype.setRotationFromQuaternion=function(t){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(t)};St.prototype.multiplyToArray=function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")};St.prototype.multiplyVector3=function(t){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)};St.prototype.multiplyVector4=function(t){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)};St.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")};St.prototype.rotateAxis=function(t){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),t.transformDirection(this)};St.prototype.crossVector=function(t){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)};St.prototype.translate=function(){console.error("THREE.Matrix4: .translate() has been removed.")};St.prototype.rotateX=function(){console.error("THREE.Matrix4: .rotateX() has been removed.")};St.prototype.rotateY=function(){console.error("THREE.Matrix4: .rotateY() has been removed.")};St.prototype.rotateZ=function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")};St.prototype.rotateByAxis=function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")};St.prototype.applyToBufferAttribute=function(t){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)};St.prototype.applyToVector3Array=function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")};St.prototype.makeFrustum=function(t,e,n,r,i,o){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(t,e,r,n,i,o)};St.prototype.getInverse=function(t){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(t).invert()};ao.prototype.isIntersectionLine=function(t){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(t)};gn.prototype.multiplyVector3=function(t){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),t.applyQuaternion(this)};gn.prototype.inverse=function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()};va.prototype.isIntersectionBox=function(t){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)};va.prototype.isIntersectionPlane=function(t){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(t)};va.prototype.isIntersectionSphere=function(t){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)};$n.prototype.area=function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()};$n.prototype.barycoordFromPoint=function(t,e){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(t,e)};$n.prototype.midpoint=function(t){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(t)};$n.prototypenormal=function(t){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(t)};$n.prototype.plane=function(t){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(t)};$n.barycoordFromPoint=function(t,e,n,r,i){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),$n.getBarycoord(t,e,n,r,i)};$n.normal=function(t,e,n,r){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),$n.getNormal(t,e,n,r)};ts.prototype.extractAllPoints=function(t){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(t)};ts.prototype.extrude=function(t){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Ql(this,t)};ts.prototype.makeGeometry=function(t){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new Jh(this,t)};Ge.prototype.fromAttribute=function(t,e,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)};Ge.prototype.distanceToManhattan=function(t){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)};Ge.prototype.lengthManhattan=function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};ne.prototype.setEulerFromRotationMatrix=function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")};ne.prototype.setEulerFromQuaternion=function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")};ne.prototype.getPositionFromMatrix=function(t){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(t)};ne.prototype.getScaleFromMatrix=function(t){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(t)};ne.prototype.getColumnFromMatrix=function(t,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,t)};ne.prototype.applyProjection=function(t){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(t)};ne.prototype.fromAttribute=function(t,e,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)};ne.prototype.distanceToManhattan=function(t){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)};ne.prototype.lengthManhattan=function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};nn.prototype.fromAttribute=function(t,e,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)};nn.prototype.lengthManhattan=function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};Zt.prototype.getChildByName=function(t){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(t)};Zt.prototype.renderDepth=function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")};Zt.prototype.translate=function(t,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,t)};Zt.prototype.getWorldRotation=function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")};Zt.prototype.applyMatrix=function(t){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)};Object.defineProperties(Zt.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(t){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=t}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}});it.prototype.setDrawMode=function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")};Object.defineProperties(it.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),Ere},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}});vT.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")};cr.prototype.setLens=function(t,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),e!==void 0&&(this.filmGauge=e),this.setFocalLength(t)};Object.defineProperties(ji.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(t){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=t}},shadowCameraLeft:{set:function(t){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=t}},shadowCameraRight:{set:function(t){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=t}},shadowCameraTop:{set:function(t){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=t}},shadowCameraBottom:{set:function(t){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=t}},shadowCameraNear:{set:function(t){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=t}},shadowCameraFar:{set:function(t){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=t}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(t){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=t}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(t){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=t}},shadowMapHeight:{set:function(t){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=t}}});Object.defineProperties(_n.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===oh},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(oh)}}});_n.prototype.setDynamic=function(t){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(t===!0?oh:wc),this};_n.prototype.copyIndicesArray=function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},_n.prototype.setArray=function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};Ht.prototype.addIndex=function(t){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(t)};Ht.prototype.addAttribute=function(t,e){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),!(e&&e.isBufferAttribute)&&!(e&&e.isInterleavedBufferAttribute)?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(t,new _n(arguments[1],arguments[2]))):t==="index"?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(e),this):this.setAttribute(t,e)};Ht.prototype.addDrawCall=function(t,e,n){n!==void 0&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(t,e)};Ht.prototype.clearDrawCalls=function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()};Ht.prototype.computeOffsets=function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")};Ht.prototype.removeAttribute=function(t){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(t)};Ht.prototype.applyMatrix=function(t){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)};Object.defineProperties(Ht.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}});Jl.prototype.setDynamic=function(t){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(t===!0?oh:wc),this};Jl.prototype.setArray=function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};Ql.prototype.getArrays=function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")};Ql.prototype.addShapeList=function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")};Ql.prototype.addShape=function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")};ty.prototype.dispose=function(){console.error("THREE.Scene: .dispose() has been removed.")};Object.defineProperties(Hn.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new ht}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(t){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=t===qE}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(t){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=t}},vertexTangents:{get:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")},set:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")}}});Object.defineProperties(Ur.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(t){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=t}}});on.prototype.clearTarget=function(t,e,n,r){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(t),this.clear(e,n,r)};on.prototype.animate=function(t){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(t)};on.prototype.getCurrentRenderTarget=function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()};on.prototype.getMaxAnisotropy=function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()};on.prototype.getPrecision=function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision};on.prototype.resetGLState=function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()};on.prototype.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")};on.prototype.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")};on.prototype.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")};on.prototype.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")};on.prototype.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")};on.prototype.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")};on.prototype.supportsVertexTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures};on.prototype.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")};on.prototype.enableScissorTest=function(t){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(t)};on.prototype.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")};on.prototype.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")};on.prototype.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")};on.prototype.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")};on.prototype.setFaceCulling=function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")};on.prototype.allocTextureUnit=function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")};on.prototype.setTexture=function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")};on.prototype.setTexture2D=function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")};on.prototype.setTextureCube=function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")};on.prototype.getActiveMipMapLevel=function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()};Object.defineProperties(on.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=t}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=t}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(t){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=t===!0?yn:Co}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}},gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}});Object.defineProperties(hT.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}});Object.defineProperties(Br.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=t}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=t}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=t}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=t}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(t){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=t}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(t){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=t}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(t){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=t}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(t){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=t}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(t){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=t}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(t){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=t}}});Bue.prototype.load=function(t){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const e=this;return new $ue().load(t,function(r){e.setBuffer(r)}),this};X0.prototype.updateCubeMap=function(t,e){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(t,e)};X0.prototype.clear=function(t,e,n,r){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(t,e,n,r)};ga.crossOrigin=void 0;ga.loadTexture=function(t,e,n,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const i=new go;i.setCrossOrigin(this.crossOrigin);const o=i.load(t,n,void 0,r);return e&&(o.mapping=e),o};ga.loadTextureCube=function(t,e,n,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const i=new Tue;i.setCrossOrigin(this.crossOrigin);const o=i.load(t,n,void 0,r);return e&&(o.mapping=e),o};ga.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")};ga.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:W0}}));typeof window!="undefined"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=W0);const oce={lat:35.65,lon:108.35},sce={west:70,east:140,north:60,south:0},ace={west:102.95,east:113.75,north:42.1,south:29.2},lce={west:100,east:115,north:40,south:20},uce={west:102.95,east:113.75,north:42.1,south:29.2,width:216,height:258,depth:43,scaleZ:.05};var Sn={center:oce,map1:sce,map2:ace,map:lce,cloud:uce},KT={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(qi,function(){var n=function(){function r(h){return s.appendChild(h.dom),h}function i(h){for(var m=0;m<s.children.length;m++)s.children[m].style.display=m===h?"block":"none";o=h}var o=0,s=document.createElement("div");s.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",s.addEventListener("click",function(h){h.preventDefault(),i(++o%s.children.length)},!1);var a=(performance||Date).now(),l=a,u=0,c=r(new n.Panel("FPS","#0ff","#002")),d=r(new n.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var f=r(new n.Panel("MB","#f08","#201"));return i(0),{REVISION:16,dom:s,addPanel:r,showPanel:i,begin:function(){a=(performance||Date).now()},end:function(){u++;var h=(performance||Date).now();if(d.update(h-a,200),h>l+1e3&&(c.update(1e3*u/(h-l),100),l=h,u=0,f)){var m=performance.memory;f.update(m.usedJSHeapSize/1048576,m.jsHeapSizeLimit/1048576)}return h},update:function(){a=this.end()},domElement:s,setMode:i}};return n.Panel=function(r,i,o){var s=1/0,a=0,l=Math.round,u=l(window.devicePixelRatio||1),c=80*u,d=48*u,f=3*u,h=2*u,m=3*u,g=15*u,p=74*u,v=30*u,y=document.createElement("canvas");y.width=c,y.height=d,y.style.cssText="width:80px;height:48px";var w=y.getContext("2d");return w.font="bold "+9*u+"px Helvetica,Arial,sans-serif",w.textBaseline="top",w.fillStyle=o,w.fillRect(0,0,c,d),w.fillStyle=i,w.fillText(r,f,h),w.fillRect(m,g,p,v),w.fillStyle=o,w.globalAlpha=.9,w.fillRect(m,g,p,v),{dom:y,update:function(_,b){s=Math.min(s,_),a=Math.max(a,_),w.fillStyle=o,w.globalAlpha=1,w.fillRect(0,0,c,g),w.fillStyle=i,w.fillText(l(_)+" "+r+" ("+l(s)+"-"+l(a)+")",f,h),w.drawImage(y,m+u,g,p-u,v,m,g,p-u,v),w.fillRect(m+p-u,g,u,v),w.fillStyle=o,w.globalAlpha=.9,w.fillRect(m+p-u,g,u,l((1-_/b)*v))}}},n})})(KT);var cce=KT.exports;const Rm={type:"change"},Im={type:"start"},Dm={type:"end"};class dce extends ds{constructor(e,n){super();n===void 0&&console.warn('THREE.TrackballControls: The second parameter "domElement" is now mandatory.'),n===document&&console.error('THREE.TrackballControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.');const r=this,i={NONE:-1,ROTATE:0,ZOOM:1,PAN:2,TOUCH_ROTATE:3,TOUCH_ZOOM_PAN:4};this.object=e,this.domElement=n,this.domElement.style.touchAction="none",this.enabled=!0,this.screen={left:0,top:0,width:0,height:0},this.rotateSpeed=1,this.zoomSpeed=1.2,this.panSpeed=.3,this.noRotate=!1,this.noZoom=!1,this.noPan=!1,this.staticMoving=!1,this.dynamicDampingFactor=.2,this.minDistance=0,this.maxDistance=1/0,this.keys=["KeyA","KeyS","KeyD"],this.mouseButtons={LEFT:jp.ROTATE,MIDDLE:jp.DOLLY,RIGHT:jp.PAN},this.target=new ne;const o=1e-6,s=new ne;let a=1,l=i.NONE,u=i.NONE,c=0,d=0,f=0;const h=new ne,m=new Ge,g=new Ge,p=new ne,v=new Ge,y=new Ge,w=new Ge,_=new Ge,b=[],S={};this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.up0=this.object.up.clone(),this.zoom0=this.object.zoom,this.handleResize=function(){const re=r.domElement.getBoundingClientRect(),he=r.domElement.ownerDocument.documentElement;r.screen.left=re.left+window.pageXOffset-he.clientLeft,r.screen.top=re.top+window.pageYOffset-he.clientTop,r.screen.width=re.width,r.screen.height=re.height};const M=function(){const re=new Ge;return function(we,ye){return re.set((we-r.screen.left)/r.screen.width,(ye-r.screen.top)/r.screen.height),re}}(),T=function(){const re=new Ge;return function(we,ye){return re.set((we-r.screen.width*.5-r.screen.left)/(r.screen.width*.5),(r.screen.height+2*(r.screen.top-ye))/r.screen.width),re}}();this.rotateCamera=function(){const re=new ne,he=new gn,we=new ne,ye=new ne,ze=new ne,be=new ne;return function(){be.set(g.x-m.x,g.y-m.y,0);let Q=be.length();Q?(h.copy(r.object.position).sub(r.target),we.copy(h).normalize(),ye.copy(r.object.up).normalize(),ze.crossVectors(ye,we).normalize(),ye.setLength(g.y-m.y),ze.setLength(g.x-m.x),be.copy(ye.add(ze)),re.crossVectors(be,h).normalize(),Q*=r.rotateSpeed,he.setFromAxisAngle(re,Q),h.applyQuaternion(he),r.object.up.applyQuaternion(he),p.copy(re),f=Q):!r.staticMoving&&f&&(f*=Math.sqrt(1-r.dynamicDampingFactor),h.copy(r.object.position).sub(r.target),he.setFromAxisAngle(p,f),h.applyQuaternion(he),r.object.up.applyQuaternion(he)),m.copy(g)}}(),this.zoomCamera=function(){let re;l===i.TOUCH_ZOOM_PAN?(re=c/d,c=d,r.object.isPerspectiveCamera?h.multiplyScalar(re):r.object.isOrthographicCamera?(r.object.zoom/=re,r.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")):(re=1+(y.y-v.y)*r.zoomSpeed,re!==1&&re>0&&(r.object.isPerspectiveCamera?h.multiplyScalar(re):r.object.isOrthographicCamera?(r.object.zoom/=re,r.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")),r.staticMoving?v.copy(y):v.y+=(y.y-v.y)*this.dynamicDampingFactor)},this.panCamera=function(){const re=new Ge,he=new ne,we=new ne;return function(){if(re.copy(_).sub(w),re.lengthSq()){if(r.object.isOrthographicCamera){const ze=(r.object.right-r.object.left)/r.object.zoom/r.domElement.clientWidth,be=(r.object.top-r.object.bottom)/r.object.zoom/r.domElement.clientWidth;re.x*=ze,re.y*=be}re.multiplyScalar(h.length()*r.panSpeed),we.copy(h).cross(r.object.up).setLength(re.x),we.add(he.copy(r.object.up).setLength(re.y)),r.object.position.add(we),r.target.add(we),r.staticMoving?w.copy(_):w.add(re.subVectors(_,w).multiplyScalar(r.dynamicDampingFactor))}}}(),this.checkDistances=function(){(!r.noZoom||!r.noPan)&&(h.lengthSq()>r.maxDistance*r.maxDistance&&(r.object.position.addVectors(r.target,h.setLength(r.maxDistance)),v.copy(y)),h.lengthSq()<r.minDistance*r.minDistance&&(r.object.position.addVectors(r.target,h.setLength(r.minDistance)),v.copy(y)))},this.update=function(){h.subVectors(r.object.position,r.target),r.noRotate||r.rotateCamera(),r.noZoom||r.zoomCamera(),r.noPan||r.panCamera(),r.object.position.addVectors(r.target,h),r.object.isPerspectiveCamera?(r.checkDistances(),r.object.lookAt(r.target),s.distanceToSquared(r.object.position)>o&&(r.dispatchEvent(Rm),s.copy(r.object.position))):r.object.isOrthographicCamera?(r.object.lookAt(r.target),(s.distanceToSquared(r.object.position)>o||a!==r.object.zoom)&&(r.dispatchEvent(Rm),s.copy(r.object.position),a=r.object.zoom)):console.warn("THREE.TrackballControls: Unsupported camera type")},this.reset=function(){l=i.NONE,u=i.NONE,r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.up.copy(r.up0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),h.subVectors(r.object.position,r.target),r.object.lookAt(r.target),r.dispatchEvent(Rm),s.copy(r.object.position),a=r.object.zoom};function N(re){r.enabled!==!1&&(b.length===0&&(r.domElement.setPointerCapture(re.pointerId),r.domElement.addEventListener("pointermove",I),r.domElement.addEventListener("pointerup",x)),se(re),re.pointerType==="touch"?W(re):B(re))}function I(re){r.enabled!==!1&&(re.pointerType==="touch"?K(re):L(re))}function x(re){r.enabled!==!1&&(re.pointerType==="touch"?te(re):A(),Te(re),b.length===0&&(r.domElement.releasePointerCapture(re.pointerId),r.domElement.removeEventListener("pointermove",I),r.domElement.removeEventListener("pointerup",x)))}function R(re){Te(re)}function O(re){r.enabled!==!1&&(window.removeEventListener("keydown",O),u===i.NONE&&(re.code===r.keys[i.ROTATE]&&!r.noRotate?u=i.ROTATE:re.code===r.keys[i.ZOOM]&&!r.noZoom?u=i.ZOOM:re.code===r.keys[i.PAN]&&!r.noPan&&(u=i.PAN)))}function D(){r.enabled!==!1&&(u=i.NONE,window.addEventListener("keydown",O))}function B(re){if(l===i.NONE)switch(re.button){case r.mouseButtons.LEFT:l=i.ROTATE;break;case r.mouseButtons.MIDDLE:l=i.ZOOM;break;case r.mouseButtons.RIGHT:l=i.PAN;break}const he=u!==i.NONE?u:l;he===i.ROTATE&&!r.noRotate?(g.copy(T(re.pageX,re.pageY)),m.copy(g)):he===i.ZOOM&&!r.noZoom?(v.copy(M(re.pageX,re.pageY)),y.copy(v)):he===i.PAN&&!r.noPan&&(w.copy(M(re.pageX,re.pageY)),_.copy(w)),r.dispatchEvent(Im)}function L(re){const he=u!==i.NONE?u:l;he===i.ROTATE&&!r.noRotate?(m.copy(g),g.copy(T(re.pageX,re.pageY))):he===i.ZOOM&&!r.noZoom?y.copy(M(re.pageX,re.pageY)):he===i.PAN&&!r.noPan&&_.copy(M(re.pageX,re.pageY))}function A(){l=i.NONE,r.dispatchEvent(Dm)}function P(re){if(r.enabled!==!1&&r.noZoom!==!0){switch(re.preventDefault(),re.deltaMode){case 2:v.y-=re.deltaY*.025;break;case 1:v.y-=re.deltaY*.01;break;default:v.y-=re.deltaY*25e-5;break}r.dispatchEvent(Im),r.dispatchEvent(Dm)}}function W(re){switch(Le(re),b.length){case 1:l=i.TOUCH_ROTATE,g.copy(T(b[0].pageX,b[0].pageY)),m.copy(g);break;default:l=i.TOUCH_ZOOM_PAN;const he=b[0].pageX-b[1].pageX,we=b[0].pageY-b[1].pageY;d=c=Math.sqrt(he*he+we*we);const ye=(b[0].pageX+b[1].pageX)/2,ze=(b[0].pageY+b[1].pageY)/2;w.copy(M(ye,ze)),_.copy(w);break}r.dispatchEvent(Im)}function K(re){switch(Le(re),b.length){case 1:m.copy(g),g.copy(T(re.pageX,re.pageY));break;default:const he=q(re),we=re.pageX-he.x,ye=re.pageY-he.y;d=Math.sqrt(we*we+ye*ye);const ze=(re.pageX+he.x)/2,be=(re.pageY+he.y)/2;_.copy(M(ze,be));break}}function te(re){switch(b.length){case 0:l=i.NONE;break;case 1:l=i.TOUCH_ROTATE,g.copy(T(re.pageX,re.pageY)),m.copy(g);break;case 2:l=i.TOUCH_ZOOM_PAN,g.copy(T(re.pageX-m.x,re.pageY-m.y)),m.copy(g);break}r.dispatchEvent(Dm)}function J(re){r.enabled!==!1&&re.preventDefault()}function se(re){b.push(re)}function Te(re){delete S[re.pointerId];for(let he=0;he<b.length;he++)if(b[he].pointerId==re.pointerId){b.splice(he,1);return}}function Le(re){let he=S[re.pointerId];he===void 0&&(he=new Ge,S[re.pointerId]=he),he.set(re.pageX,re.pageY)}function q(re){const he=re.pointerId===b[0].pointerId?b[1]:b[0];return S[he.pointerId]}this.dispose=function(){r.domElement.removeEventListener("contextmenu",J),r.domElement.removeEventListener("pointerdown",N),r.domElement.removeEventListener("pointercancel",R),r.domElement.removeEventListener("wheel",P),r.domElement.removeEventListener("pointermove",I),r.domElement.removeEventListener("pointerup",x),window.removeEventListener("keydown",O),window.removeEventListener("keyup",D)},this.domElement.addEventListener("contextmenu",J),this.domElement.addEventListener("pointerdown",N),this.domElement.addEventListener("pointercancel",R),this.domElement.addEventListener("wheel",P,{passive:!1}),window.addEventListener("keydown",O),window.addEventListener("keyup",D),this.handleResize(),this.update()}}class Nl extends it{constructor(){super(Nl.Geometry,new ya({opacity:0,transparent:!0}));this.type="Lensflare",this.frustumCulled=!1,this.renderOrder=1/0;const e=new ne,n=new ne,r=new rv(16,16,$r),i=new rv(16,16,$r),o=Nl.Geometry,s=new qu({uniforms:{scale:{value:null},screenPosition:{value:null}},vertexShader:`

				precision highp float;

				uniform vec3 screenPosition;
				uniform vec2 scale;

				attribute vec3 position;

				void main() {

					gl_Position = vec4( position.xy * scale + screenPosition.xy, screenPosition.z, 1.0 );

				}`,fragmentShader:`

				precision highp float;

				void main() {

					gl_FragColor = vec4( 1.0, 0.0, 1.0, 1.0 );

				}`,depthTest:!0,depthWrite:!1,transparent:!1}),a=new qu({uniforms:{map:{value:r},scale:{value:null},screenPosition:{value:null}},vertexShader:`

				precision highp float;

				uniform vec3 screenPosition;
				uniform vec2 scale;

				attribute vec3 position;
				attribute vec2 uv;

				varying vec2 vUV;

				void main() {

					vUV = uv;

					gl_Position = vec4( position.xy * scale + screenPosition.xy, screenPosition.z, 1.0 );

				}`,fragmentShader:`

				precision highp float;

				uniform sampler2D map;

				varying vec2 vUV;

				void main() {

					gl_FragColor = texture2D( map, vUV );

				}`,depthTest:!1,depthWrite:!1,transparent:!1}),l=new it(o,s),u=[],c=Ns.Shader,d=new qu({uniforms:{map:{value:null},occlusionMap:{value:i},color:{value:new ht(16777215)},scale:{value:new Ge},screenPosition:{value:new ne}},vertexShader:c.vertexShader,fragmentShader:c.fragmentShader,blending:jg,transparent:!0,depthWrite:!1}),f=new it(o,d);this.addElement=function(v){u.push(v)};const h=new Ge,m=new Ge,g=new nu,p=new nn;this.onBeforeRender=function(v,y,w){v.getCurrentViewport(p);const _=p.w/p.z,b=p.z/2,S=p.w/2;let M=16/p.w;if(h.set(M*_,M),g.min.set(p.x,p.y),g.max.set(p.x+(p.z-16),p.y+(p.w-16)),n.setFromMatrixPosition(this.matrixWorld),n.applyMatrix4(w.matrixWorldInverse),!(n.z>0)&&(e.copy(n).applyMatrix4(w.projectionMatrix),m.x=p.x+e.x*b+b-8,m.y=p.y+e.y*S+S-8,g.containsPoint(m))){v.copyFramebufferToTexture(m,r);let T=s.uniforms;T.scale.value=h,T.screenPosition.value=e,v.renderBufferDirect(w,null,o,s,l,null),v.copyFramebufferToTexture(m,i),T=a.uniforms,T.scale.value=h,T.screenPosition.value=e,v.renderBufferDirect(w,null,o,a,l,null);const N=-e.x*2,I=-e.y*2;for(let x=0,R=u.length;x<R;x++){const O=u[x],D=d.uniforms;D.color.value.copy(O.color),D.map.value=O.texture,D.screenPosition.value.x=e.x+N*O.distance,D.screenPosition.value.y=e.y+I*O.distance,M=O.size/p.w;const B=p.w/p.z;D.scale.value.set(M*B,M),d.uniformsNeedUpdate=!0,v.renderBufferDirect(w,null,o,d,f,null)}}},this.dispose=function(){s.dispose(),a.dispose(),d.dispose(),r.dispose(),i.dispose();for(let v=0,y=u.length;v<y;v++)u[v].texture.dispose()}}}Nl.prototype.isLensflare=!0;class Ns{constructor(e,n=1,r=0,i=new ht(16777215)){this.texture=e,this.size=n,this.distance=r,this.color=i}}Ns.Shader={uniforms:{map:{value:null},occlusionMap:{value:null},color:{value:null},scale:{value:null},screenPosition:{value:null}},vertexShader:`

		precision highp float;

		uniform vec3 screenPosition;
		uniform vec2 scale;

		uniform sampler2D occlusionMap;

		attribute vec3 position;
		attribute vec2 uv;

		varying vec2 vUV;
		varying float vVisibility;

		void main() {

			vUV = uv;

			vec2 pos = position.xy;

			vec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );
			visibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );
			visibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );
			visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );
			visibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );
			visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );
			visibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );
			visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );
			visibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );

			vVisibility =        visibility.r / 9.0;
			vVisibility *= 1.0 - visibility.g / 9.0;
			vVisibility *=       visibility.b / 9.0;

			gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );

		}`,fragmentShader:`

		precision highp float;

		uniform sampler2D map;
		uniform vec3 color;

		varying vec2 vUV;
		varying float vVisibility;

		void main() {

			vec4 texture = texture2D( map, vUV );
			texture.a *= vVisibility;
			gl_FragColor = texture;
			gl_FragColor.rgb *= color;

		}`};Nl.Geometry=function(){const t=new Ht,e=new Float32Array([-1,-1,0,0,0,1,-1,0,1,0,1,1,0,1,1,-1,1,0,0,1]),n=new Jl(e,5);return t.setIndex([0,1,2,0,2,3]),t.setAttribute("position",new aa(n,3,0,!1)),t.setAttribute("uv",new aa(n,2,3,!1)),t}();class tp{constructor(e){mt(this,"scene");mt(this,"renderer");mt(this,"camera");mt(this,"controls");mt(this,"_container");mt(this,"_clock");mt(this,"_stats");mt(this,"_center",Sn.center);this._container=e,this.renderer=new on({antialias:!1,alpha:!0}),this.renderer.shadowMap.enabled=!0,this.renderer.sortObjects=!0,this.renderer.setClearColor(0,0),this.renderer.setPixelRatio(window.devicePixelRatio),this._container.appendChild(this.renderer.domElement),this.camera=this._createCamera(),this.scene=new ty,this.scene.add(this.camera),this._addLight(),this.controls=new dce(this.camera,this.renderer.domElement),this.controls.minDistance=5,this.controls.maxDistance=5e3;const n=new cce;n.dom.style.left="",n.dom.style.top="0",n.dom.style.right="0",n.dom.style.bottom="",this._stats=n,this._container.appendChild(n.dom),this._clock=new Fue,this.animate(),this.resize(),window.addEventListener("resize",this.resize.bind(this))}resize(){const e=this._container.clientWidth,n=this._container.clientHeight;return this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(e,n),this.camera.aspect=e/n,this.camera.updateProjectionMatrix(),this}reset(){return this.controls.reset(),this}viewTop(){return this.reset(),this.camera.position.set(0,0,20),this}viewBottom(){return this.reset(),this.camera.position.set(0,0,-20),this}viewEast(){this.reset(),this.camera.position.set(20,0,15)}viewWest(){return this.reset(),this.camera.position.set(-20,0,15),this}viewNorth(){return this.reset(),this.camera.position.set(0,15,20),this.camera.up.set(0,-1,0),this}viewSouth(){return this.reset(),this.camera.position.set(0,-10,20),this}add(e){return this.scene.add(e),this}remove(e){return e&&this.scene.remove(e),this}get(e){return this.scene.getObjectByName(e)}_createCamera(){console.log("create camera");const e=this._container.clientWidth,n=this._container.clientHeight,r=new cr(45,e/n,.1,1e6);return r.position.set(0,-15,10),r}_addLight(){console.log("add light");let e=new ne(-5,5,20),n=new zT(16777215);n.position.copy(e),n.castShadow=!0,this.add(n),console.log("add sun");let r=new Nl;r.position.copy(e);let i=new ht(6710886),o=new go,s=o.load("./image/lensflare0.png"),a=o.load("./image/lensflare3.png");r.addElement(new Ns(s,700,0,i)),r.addElement(new Ns(a,60,.6)),r.addElement(new Ns(a,70,.7)),r.addElement(new Ns(a,120,.9)),r.addElement(new Ns(a,70,1)),this.add(r);let l=new HT(232644061);l.position.set(e.x,e.y,e.z),this.add(l);let u=new UT(10066329);return this.add(u),this}_createAxis(){console.log("create Axis");const e=new nce(10);return e.name="axis",e.visible=!0,e}animate(){this._stats.begin(),this._clock.start(),this.controls.update(),this.renderer.render(this.scene,this.camera),this.update(this._clock.getElapsedTime()),this._stats.end(),requestAnimationFrame(this.animate.bind(this))}set axisVisible(e){this.scene.getObjectByName("axis").visible=e}get axisVisible(){var e;return(e=this.scene.getObjectByName("axis"))==null?void 0:e.visible}update(e){}}function fce(){const t=Sn.map.east-Sn.map.west,e=Sn.map.north-Sn.map.south,n=new gr;n.name="map";const r=new it(new Xl(t,e,490,730),new ep({color:3355443,polygonOffset:!0,polygonOffsetFactor:1,bumpMap:new go().load("./image/sxterr.png"),map:new go().load("./image/sx.png"),displacementMap:new go().load("./image/sxterr.png"),displacementScale:0,displacementBias:0,emissive:0,roughness:.9,metalness:.1}));r.name="ground",r.castShadow=!0,r.receiveShadow=!0,r.position.set(Sn.center.lon,Sn.center.lat,-.1),r.renderOrder=0,n.add(r);const i=new gr;i.name="sx";const o=new uy;return o.setResponseType("json"),o.load("./data/sx.json",function(s){let a=new Sr({color:65280,polygonOffset:!0,polygonOffsetFactor:1});for(let u in s.features){let c=s.features[u].geometry.coordinates;for(let d in c[0]){var l=new Float32Array(c[0][d].length*3);let f=0;for(let g in c[0][d]){const p=c[0][d][g];l[f]=p[0],l[f+1]=p[1],l[f+2]=0,f+=3}let h=new Ht;h.setAttribute("position",new _n(l,3));let m=new ur(h,a);i.add(m)}}n.add(i)}),n.add(hce()),n.position.set(-Sn.center.lon,-Sn.center.lat,0),n}function hce(){const t=new gr;let e=new Sr({color:65280,transparent:!0,opacity:.1});for(let n=28;n<=43;n++){const r=[new ne(102,n,.1),new ne(115,n,.1)];let i=new Ht;i.setFromPoints(r);let o=new ur(i,e);t.add(o)}for(let n=102;n<=115;n++){const r=[new ne(n,28,.1),new ne(n,43,.1)];let i=new Ht;i.setFromPoints(r);let o=new ur(i,e);t.add(o)}return t}var Uc=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n};const pce={class:"title"},mce=pe({props:{viewPort:String},setup(t,{expose:e}){const n=F();let r;e({getView:()=>r,resize:()=>{r.resize()}});const i=F("\u4E91\u91CF\u4E09\u7EF4\u53EF\u89C6\u5316");return ft(()=>{r=new tp(n.value);const o=fce();r.add(o)}),(o,s)=>(E(),V("div",{class:"view",ref_key:"viewref",ref:n},[G("div",pce,Pe(i.value),1)],512))}});var gce=Uc(mce,[["__scopeId","data-v-6b5103ae"]]);function vce(t){const e=Ot({visible:t.visible,volumeVisible:t.volumeVisible,pal:t.pal,volumeAlpha:t.volumeAlpha,volumeType:t.volumeType,volumeThrosehold:t.throsehold,clipVisible:t.clipVisible,clipX:0,clipY:0,clipZ:0,clipSmooth:t.clipSmooth});return Me(()=>e.visible,n=>t.visible=n),Me(()=>e.clipVisible,n=>t.clipVisible=n),Me(()=>e.volumeVisible,n=>t.volumeVisible=n),Me(()=>e.pal,n=>t.pal=n),Me(()=>e.volumeAlpha,n=>t.volumeAlpha=n),Me(()=>e.clipX,n=>t.clipPosX=n),Me(()=>e.clipY,n=>t.clipPosY=n),Me(()=>e.clipZ,n=>t.clipPosZ=n),Me(()=>e.volumeType,n=>t.volumeType=n),Me(()=>e.volumeThrosehold,n=>t.throsehold=n),Me(()=>e.clipSmooth,n=>t.clipSmooth=n),e}var my={exports:{}},qT=function(e,n){return function(){for(var i=new Array(arguments.length),o=0;o<i.length;o++)i[o]=arguments[o];return e.apply(n,i)}},yce=qT,hs=Object.prototype.toString;function gy(t){return Array.isArray(t)}function av(t){return typeof t=="undefined"}function bce(t){return t!==null&&!av(t)&&t.constructor!==null&&!av(t.constructor)&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function YT(t){return hs.call(t)==="[object ArrayBuffer]"}function wce(t){return hs.call(t)==="[object FormData]"}function _ce(t){var e;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&YT(t.buffer),e}function Sce(t){return typeof t=="string"}function Cce(t){return typeof t=="number"}function XT(t){return t!==null&&typeof t=="object"}function Af(t){if(hs.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function Mce(t){return hs.call(t)==="[object Date]"}function xce(t){return hs.call(t)==="[object File]"}function Ece(t){return hs.call(t)==="[object Blob]"}function ZT(t){return hs.call(t)==="[object Function]"}function Tce(t){return XT(t)&&ZT(t.pipe)}function Ace(t){return hs.call(t)==="[object URLSearchParams]"}function kce(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function Pce(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function vy(t,e){if(!(t===null||typeof t=="undefined"))if(typeof t!="object"&&(t=[t]),gy(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}function lv(){var t={};function e(i,o){Af(t[o])&&Af(i)?t[o]=lv(t[o],i):Af(i)?t[o]=lv({},i):gy(i)?t[o]=i.slice():t[o]=i}for(var n=0,r=arguments.length;n<r;n++)vy(arguments[n],e);return t}function Lce(t,e,n){return vy(e,function(i,o){n&&typeof i=="function"?t[o]=yce(i,n):t[o]=i}),t}function Rce(t){return t.charCodeAt(0)===65279&&(t=t.slice(1)),t}var Mr={isArray:gy,isArrayBuffer:YT,isBuffer:bce,isFormData:wce,isArrayBufferView:_ce,isString:Sce,isNumber:Cce,isObject:XT,isPlainObject:Af,isUndefined:av,isDate:Mce,isFile:xce,isBlob:Ece,isFunction:ZT,isStream:Tce,isURLSearchParams:Ace,isStandardBrowserEnv:Pce,forEach:vy,merge:lv,extend:Lce,trim:kce,stripBOM:Rce},Ga=Mr;function mS(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var JT=function(e,n,r){if(!n)return e;var i;if(r)i=r(n);else if(Ga.isURLSearchParams(n))i=n.toString();else{var o=[];Ga.forEach(n,function(l,u){l===null||typeof l=="undefined"||(Ga.isArray(l)?u=u+"[]":l=[l],Ga.forEach(l,function(d){Ga.isDate(d)?d=d.toISOString():Ga.isObject(d)&&(d=JSON.stringify(d)),o.push(mS(u)+"="+mS(d))}))}),i=o.join("&")}if(i){var s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e},Ice=Mr;function np(){this.handlers=[]}np.prototype.use=function(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1};np.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};np.prototype.forEach=function(e){Ice.forEach(this.handlers,function(r){r!==null&&e(r)})};var Dce=np,$ce=Mr,Nce=function(e,n){$ce.forEach(e,function(i,o){o!==n&&o.toUpperCase()===n.toUpperCase()&&(e[n]=i,delete e[o])})},QT=function(e,n,r,i,o){return e.config=n,r&&(e.code=r),e.request=i,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e},e3={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Oce=QT,t3=function(e,n,r,i,o){var s=new Error(e);return Oce(s,n,r,i,o)},Fce=t3,Bce=function(e,n,r){var i=r.config.validateStatus;!r.status||!i||i(r.status)?e(r):n(Fce("Request failed with status code "+r.status,r.config,null,r.request,r))},Hd=Mr,zce=Hd.isStandardBrowserEnv()?function(){return{write:function(n,r,i,o,s,a){var l=[];l.push(n+"="+encodeURIComponent(r)),Hd.isNumber(i)&&l.push("expires="+new Date(i).toGMTString()),Hd.isString(o)&&l.push("path="+o),Hd.isString(s)&&l.push("domain="+s),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(n){var r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),Vce=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)},Hce=function(e,n){return n?e.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):e},Uce=Vce,Wce=Hce,Gce=function(e,n){return e&&!Uce(n)?Wce(e,n):n},$m=Mr,jce=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],Kce=function(e){var n={},r,i,o;return e&&$m.forEach(e.split(`
`),function(a){if(o=a.indexOf(":"),r=$m.trim(a.substr(0,o)).toLowerCase(),i=$m.trim(a.substr(o+1)),r){if(n[r]&&jce.indexOf(r)>=0)return;r==="set-cookie"?n[r]=(n[r]?n[r]:[]).concat([i]):n[r]=n[r]?n[r]+", "+i:i}}),n},gS=Mr,qce=gS.isStandardBrowserEnv()?function(){var e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),r;function i(o){var s=o;return e&&(n.setAttribute("href",s),s=n.href),n.setAttribute("href",s),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(s){var a=gS.isString(s)?i(s):s;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}();function yy(t){this.message=t}yy.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};yy.prototype.__CANCEL__=!0;var rp=yy,Ud=Mr,Yce=Bce,Xce=zce,Zce=JT,Jce=Gce,Qce=Kce,ede=qce,Nm=t3,tde=e3,nde=rp,vS=function(e){return new Promise(function(r,i){var o=e.data,s=e.headers,a=e.responseType,l;function u(){e.cancelToken&&e.cancelToken.unsubscribe(l),e.signal&&e.signal.removeEventListener("abort",l)}Ud.isFormData(o)&&delete s["Content-Type"];var c=new XMLHttpRequest;if(e.auth){var d=e.auth.username||"",f=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";s.Authorization="Basic "+btoa(d+":"+f)}var h=Jce(e.baseURL,e.url);c.open(e.method.toUpperCase(),Zce(h,e.params,e.paramsSerializer),!0),c.timeout=e.timeout;function m(){if(!!c){var p="getAllResponseHeaders"in c?Qce(c.getAllResponseHeaders()):null,v=!a||a==="text"||a==="json"?c.responseText:c.response,y={data:v,status:c.status,statusText:c.statusText,headers:p,config:e,request:c};Yce(function(_){r(_),u()},function(_){i(_),u()},y),c=null}}if("onloadend"in c?c.onloadend=m:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(m)},c.onabort=function(){!c||(i(Nm("Request aborted",e,"ECONNABORTED",c)),c=null)},c.onerror=function(){i(Nm("Network Error",e,null,c)),c=null},c.ontimeout=function(){var v=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",y=e.transitional||tde;e.timeoutErrorMessage&&(v=e.timeoutErrorMessage),i(Nm(v,e,y.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",c)),c=null},Ud.isStandardBrowserEnv()){var g=(e.withCredentials||ede(h))&&e.xsrfCookieName?Xce.read(e.xsrfCookieName):void 0;g&&(s[e.xsrfHeaderName]=g)}"setRequestHeader"in c&&Ud.forEach(s,function(v,y){typeof o=="undefined"&&y.toLowerCase()==="content-type"?delete s[y]:c.setRequestHeader(y,v)}),Ud.isUndefined(e.withCredentials)||(c.withCredentials=!!e.withCredentials),a&&a!=="json"&&(c.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&c.addEventListener("progress",e.onDownloadProgress),typeof e.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(l=function(p){!c||(i(!p||p&&p.type?new nde("canceled"):p),c.abort(),c=null)},e.cancelToken&&e.cancelToken.subscribe(l),e.signal&&(e.signal.aborted?l():e.signal.addEventListener("abort",l))),o||(o=null),c.send(o)})},Kn=Mr,yS=Nce,rde=QT,ide=e3,ode={"Content-Type":"application/x-www-form-urlencoded"};function bS(t,e){!Kn.isUndefined(t)&&Kn.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function sde(){var t;return(typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(t=vS),t}function ade(t,e,n){if(Kn.isString(t))try{return(e||JSON.parse)(t),Kn.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}var ip={transitional:ide,adapter:sde(),transformRequest:[function(e,n){return yS(n,"Accept"),yS(n,"Content-Type"),Kn.isFormData(e)||Kn.isArrayBuffer(e)||Kn.isBuffer(e)||Kn.isStream(e)||Kn.isFile(e)||Kn.isBlob(e)?e:Kn.isArrayBufferView(e)?e.buffer:Kn.isURLSearchParams(e)?(bS(n,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):Kn.isObject(e)||n&&n["Content-Type"]==="application/json"?(bS(n,"application/json"),ade(e)):e}],transformResponse:[function(e){var n=this.transitional||ip.transitional,r=n&&n.silentJSONParsing,i=n&&n.forcedJSONParsing,o=!r&&this.responseType==="json";if(o||i&&Kn.isString(e)&&e.length)try{return JSON.parse(e)}catch(s){if(o)throw s.name==="SyntaxError"?rde(s,this,"E_JSON_PARSE"):s}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Kn.forEach(["delete","get","head"],function(e){ip.headers[e]={}});Kn.forEach(["post","put","patch"],function(e){ip.headers[e]=Kn.merge(ode)});var by=ip,lde=Mr,ude=by,cde=function(e,n,r){var i=this||ude;return lde.forEach(r,function(s){e=s.call(i,e,n)}),e},n3=function(e){return!!(e&&e.__CANCEL__)},wS=Mr,Om=cde,dde=n3,fde=by,hde=rp;function Fm(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new hde("canceled")}var pde=function(e){Fm(e),e.headers=e.headers||{},e.data=Om.call(e,e.data,e.headers,e.transformRequest),e.headers=wS.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),wS.forEach(["delete","get","head","post","put","patch","common"],function(i){delete e.headers[i]});var n=e.adapter||fde.adapter;return n(e).then(function(i){return Fm(e),i.data=Om.call(e,i.data,i.headers,e.transformResponse),i},function(i){return dde(i)||(Fm(e),i&&i.response&&(i.response.data=Om.call(e,i.response.data,i.response.headers,e.transformResponse))),Promise.reject(i)})},Tr=Mr,r3=function(e,n){n=n||{};var r={};function i(c,d){return Tr.isPlainObject(c)&&Tr.isPlainObject(d)?Tr.merge(c,d):Tr.isPlainObject(d)?Tr.merge({},d):Tr.isArray(d)?d.slice():d}function o(c){if(Tr.isUndefined(n[c])){if(!Tr.isUndefined(e[c]))return i(void 0,e[c])}else return i(e[c],n[c])}function s(c){if(!Tr.isUndefined(n[c]))return i(void 0,n[c])}function a(c){if(Tr.isUndefined(n[c])){if(!Tr.isUndefined(e[c]))return i(void 0,e[c])}else return i(void 0,n[c])}function l(c){if(c in n)return i(e[c],n[c]);if(c in e)return i(void 0,e[c])}var u={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l};return Tr.forEach(Object.keys(e).concat(Object.keys(n)),function(d){var f=u[d]||o,h=f(d);Tr.isUndefined(h)&&f!==l||(r[d]=h)}),r},i3={version:"0.26.1"},mde=i3.version,wy={};["object","boolean","number","function","string","symbol"].forEach(function(t,e){wy[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});var _S={};wy.transitional=function(e,n,r){function i(o,s){return"[Axios v"+mde+"] Transitional option '"+o+"'"+s+(r?". "+r:"")}return function(o,s,a){if(e===!1)throw new Error(i(s," has been removed"+(n?" in "+n:"")));return n&&!_S[s]&&(_S[s]=!0,console.warn(i(s," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,s,a):!0}};function gde(t,e,n){if(typeof t!="object")throw new TypeError("options must be an object");for(var r=Object.keys(t),i=r.length;i-- >0;){var o=r[i],s=e[o];if(s){var a=t[o],l=a===void 0||s(a,o,t);if(l!==!0)throw new TypeError("option "+o+" must be "+l);continue}if(n!==!0)throw Error("Unknown option "+o)}}var vde={assertOptions:gde,validators:wy},o3=Mr,yde=JT,SS=Dce,CS=pde,op=r3,s3=vde,ja=s3.validators;function Wc(t){this.defaults=t,this.interceptors={request:new SS,response:new SS}}Wc.prototype.request=function(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=op(this.defaults,n),n.method?n.method=n.method.toLowerCase():this.defaults.method?n.method=this.defaults.method.toLowerCase():n.method="get";var r=n.transitional;r!==void 0&&s3.assertOptions(r,{silentJSONParsing:ja.transitional(ja.boolean),forcedJSONParsing:ja.transitional(ja.boolean),clarifyTimeoutError:ja.transitional(ja.boolean)},!1);var i=[],o=!0;this.interceptors.request.forEach(function(h){typeof h.runWhen=="function"&&h.runWhen(n)===!1||(o=o&&h.synchronous,i.unshift(h.fulfilled,h.rejected))});var s=[];this.interceptors.response.forEach(function(h){s.push(h.fulfilled,h.rejected)});var a;if(!o){var l=[CS,void 0];for(Array.prototype.unshift.apply(l,i),l=l.concat(s),a=Promise.resolve(n);l.length;)a=a.then(l.shift(),l.shift());return a}for(var u=n;i.length;){var c=i.shift(),d=i.shift();try{u=c(u)}catch(f){d(f);break}}try{a=CS(u)}catch(f){return Promise.reject(f)}for(;s.length;)a=a.then(s.shift(),s.shift());return a};Wc.prototype.getUri=function(e){return e=op(this.defaults,e),yde(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")};o3.forEach(["delete","get","head","options"],function(e){Wc.prototype[e]=function(n,r){return this.request(op(r||{},{method:e,url:n,data:(r||{}).data}))}});o3.forEach(["post","put","patch"],function(e){Wc.prototype[e]=function(n,r,i){return this.request(op(i||{},{method:e,url:n,data:r}))}});var bde=Wc,wde=rp;function Ol(t){if(typeof t!="function")throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(i){e=i});var n=this;this.promise.then(function(r){if(!!n._listeners){var i,o=n._listeners.length;for(i=0;i<o;i++)n._listeners[i](r);n._listeners=null}}),this.promise.then=function(r){var i,o=new Promise(function(s){n.subscribe(s),i=s}).then(r);return o.cancel=function(){n.unsubscribe(i)},o},t(function(i){n.reason||(n.reason=new wde(i),e(n.reason))})}Ol.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};Ol.prototype.subscribe=function(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]};Ol.prototype.unsubscribe=function(e){if(!!this._listeners){var n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}};Ol.source=function(){var e,n=new Ol(function(i){e=i});return{token:n,cancel:e}};var _de=Ol,Sde=function(e){return function(r){return e.apply(null,r)}},Cde=Mr,Mde=function(e){return Cde.isObject(e)&&e.isAxiosError===!0},MS=Mr,xde=qT,kf=bde,Ede=r3,Tde=by;function a3(t){var e=new kf(t),n=xde(kf.prototype.request,e);return MS.extend(n,kf.prototype,e),MS.extend(n,e),n.create=function(i){return a3(Ede(t,i))},n}var Zi=a3(Tde);Zi.Axios=kf;Zi.Cancel=rp;Zi.CancelToken=_de;Zi.isCancel=n3;Zi.VERSION=i3.version;Zi.all=function(e){return Promise.all(e)};Zi.spread=Sde;Zi.isAxiosError=Mde;my.exports=Zi;my.exports.default=Zi;var _y=my.exports;const Ms=new Que,mr=new ne,Ho=new ne,vn=new gn,xS={X:new ne(1,0,0),Y:new ne(0,1,0),Z:new ne(0,0,1)},Bm={type:"change"},ES={type:"mouseDown"},TS={type:"mouseUp",mode:null},AS={type:"objectChange"};class sp extends Zt{constructor(e,n){super();n===void 0&&(console.warn('THREE.TransformControls: The second parameter "domElement" is now mandatory.'),n=document),this.visible=!1,this.domElement=n,this.domElement.style.touchAction="none";const r=new l3;this._gizmo=r,this.add(r);const i=new u3;this._plane=i,this.add(i);const o=this;function s(y,w){let _=w;Object.defineProperty(o,y,{get:function(){return _!==void 0?_:w},set:function(b){_!==b&&(_=b,i[y]=b,r[y]=b,o.dispatchEvent({type:y+"-changed",value:b}),o.dispatchEvent(Bm))}}),o[y]=w,i[y]=w,r[y]=w}s("camera",e),s("object",void 0),s("enabled",!0),s("axis",null),s("mode","translate"),s("translationSnap",null),s("rotationSnap",null),s("scaleSnap",null),s("space","world"),s("size",1),s("dragging",!1),s("showX",!0),s("showY",!0),s("showZ",!0);const a=new ne,l=new ne,u=new gn,c=new gn,d=new ne,f=new gn,h=new ne,m=new ne,g=new ne,p=0,v=new ne;s("worldPosition",a),s("worldPositionStart",l),s("worldQuaternion",u),s("worldQuaternionStart",c),s("cameraPosition",d),s("cameraQuaternion",f),s("pointStart",h),s("pointEnd",m),s("rotationAxis",g),s("rotationAngle",p),s("eye",v),this._offset=new ne,this._startNorm=new ne,this._endNorm=new ne,this._cameraScale=new ne,this._parentPosition=new ne,this._parentQuaternion=new gn,this._parentQuaternionInv=new gn,this._parentScale=new ne,this._worldScaleStart=new ne,this._worldQuaternionInv=new gn,this._worldScale=new ne,this._positionStart=new ne,this._quaternionStart=new gn,this._scaleStart=new ne,this._getPointer=Ade.bind(this),this._onPointerDown=Pde.bind(this),this._onPointerHover=kde.bind(this),this._onPointerMove=Lde.bind(this),this._onPointerUp=Rde.bind(this),this.domElement.addEventListener("pointerdown",this._onPointerDown),this.domElement.addEventListener("pointermove",this._onPointerHover),this.domElement.addEventListener("pointerup",this._onPointerUp)}updateMatrixWorld(){this.object!==void 0&&(this.object.updateMatrixWorld(),this.object.parent===null?console.error("TransformControls: The attached 3D object must be a part of the scene graph."):this.object.parent.matrixWorld.decompose(this._parentPosition,this._parentQuaternion,this._parentScale),this.object.matrixWorld.decompose(this.worldPosition,this.worldQuaternion,this._worldScale),this._parentQuaternionInv.copy(this._parentQuaternion).invert(),this._worldQuaternionInv.copy(this.worldQuaternion).invert()),this.camera.updateMatrixWorld(),this.camera.matrixWorld.decompose(this.cameraPosition,this.cameraQuaternion,this._cameraScale),this.eye.copy(this.cameraPosition).sub(this.worldPosition).normalize(),super.updateMatrixWorld(this)}pointerHover(e){if(this.object===void 0||this.dragging===!0)return;Ms.setFromCamera(e,this.camera);const n=zm(this._gizmo.picker[this.mode],Ms);n?this.axis=n.object.name:this.axis=null}pointerDown(e){if(!(this.object===void 0||this.dragging===!0||e.button!==0)&&this.axis!==null){Ms.setFromCamera(e,this.camera);const n=zm(this._plane,Ms,!0);n&&(this.object.updateMatrixWorld(),this.object.parent.updateMatrixWorld(),this._positionStart.copy(this.object.position),this._quaternionStart.copy(this.object.quaternion),this._scaleStart.copy(this.object.scale),this.object.matrixWorld.decompose(this.worldPositionStart,this.worldQuaternionStart,this._worldScaleStart),this.pointStart.copy(n.point).sub(this.worldPositionStart)),this.dragging=!0,ES.mode=this.mode,this.dispatchEvent(ES)}}pointerMove(e){const n=this.axis,r=this.mode,i=this.object;let o=this.space;if(r==="scale"?o="local":(n==="E"||n==="XYZE"||n==="XYZ")&&(o="world"),i===void 0||n===null||this.dragging===!1||e.button!==-1)return;Ms.setFromCamera(e,this.camera);const s=zm(this._plane,Ms,!0);if(!!s){if(this.pointEnd.copy(s.point).sub(this.worldPositionStart),r==="translate")this._offset.copy(this.pointEnd).sub(this.pointStart),o==="local"&&n!=="XYZ"&&this._offset.applyQuaternion(this._worldQuaternionInv),n.indexOf("X")===-1&&(this._offset.x=0),n.indexOf("Y")===-1&&(this._offset.y=0),n.indexOf("Z")===-1&&(this._offset.z=0),o==="local"&&n!=="XYZ"?this._offset.applyQuaternion(this._quaternionStart).divide(this._parentScale):this._offset.applyQuaternion(this._parentQuaternionInv).divide(this._parentScale),i.position.copy(this._offset).add(this._positionStart),this.translationSnap&&(o==="local"&&(i.position.applyQuaternion(vn.copy(this._quaternionStart).invert()),n.search("X")!==-1&&(i.position.x=Math.round(i.position.x/this.translationSnap)*this.translationSnap),n.search("Y")!==-1&&(i.position.y=Math.round(i.position.y/this.translationSnap)*this.translationSnap),n.search("Z")!==-1&&(i.position.z=Math.round(i.position.z/this.translationSnap)*this.translationSnap),i.position.applyQuaternion(this._quaternionStart)),o==="world"&&(i.parent&&i.position.add(mr.setFromMatrixPosition(i.parent.matrixWorld)),n.search("X")!==-1&&(i.position.x=Math.round(i.position.x/this.translationSnap)*this.translationSnap),n.search("Y")!==-1&&(i.position.y=Math.round(i.position.y/this.translationSnap)*this.translationSnap),n.search("Z")!==-1&&(i.position.z=Math.round(i.position.z/this.translationSnap)*this.translationSnap),i.parent&&i.position.sub(mr.setFromMatrixPosition(i.parent.matrixWorld))));else if(r==="scale"){if(n.search("XYZ")!==-1){let a=this.pointEnd.length()/this.pointStart.length();this.pointEnd.dot(this.pointStart)<0&&(a*=-1),Ho.set(a,a,a)}else mr.copy(this.pointStart),Ho.copy(this.pointEnd),mr.applyQuaternion(this._worldQuaternionInv),Ho.applyQuaternion(this._worldQuaternionInv),Ho.divide(mr),n.search("X")===-1&&(Ho.x=1),n.search("Y")===-1&&(Ho.y=1),n.search("Z")===-1&&(Ho.z=1);i.scale.copy(this._scaleStart).multiply(Ho),this.scaleSnap&&(n.search("X")!==-1&&(i.scale.x=Math.round(i.scale.x/this.scaleSnap)*this.scaleSnap||this.scaleSnap),n.search("Y")!==-1&&(i.scale.y=Math.round(i.scale.y/this.scaleSnap)*this.scaleSnap||this.scaleSnap),n.search("Z")!==-1&&(i.scale.z=Math.round(i.scale.z/this.scaleSnap)*this.scaleSnap||this.scaleSnap))}else if(r==="rotate"){this._offset.copy(this.pointEnd).sub(this.pointStart);const a=20/this.worldPosition.distanceTo(mr.setFromMatrixPosition(this.camera.matrixWorld));n==="E"?(this.rotationAxis.copy(this.eye),this.rotationAngle=this.pointEnd.angleTo(this.pointStart),this._startNorm.copy(this.pointStart).normalize(),this._endNorm.copy(this.pointEnd).normalize(),this.rotationAngle*=this._endNorm.cross(this._startNorm).dot(this.eye)<0?1:-1):n==="XYZE"?(this.rotationAxis.copy(this._offset).cross(this.eye).normalize(),this.rotationAngle=this._offset.dot(mr.copy(this.rotationAxis).cross(this.eye))*a):(n==="X"||n==="Y"||n==="Z")&&(this.rotationAxis.copy(xS[n]),mr.copy(xS[n]),o==="local"&&mr.applyQuaternion(this.worldQuaternion),this.rotationAngle=this._offset.dot(mr.cross(this.eye).normalize())*a),this.rotationSnap&&(this.rotationAngle=Math.round(this.rotationAngle/this.rotationSnap)*this.rotationSnap),o==="local"&&n!=="E"&&n!=="XYZE"?(i.quaternion.copy(this._quaternionStart),i.quaternion.multiply(vn.setFromAxisAngle(this.rotationAxis,this.rotationAngle)).normalize()):(this.rotationAxis.applyQuaternion(this._parentQuaternionInv),i.quaternion.copy(vn.setFromAxisAngle(this.rotationAxis,this.rotationAngle)),i.quaternion.multiply(this._quaternionStart).normalize())}this.dispatchEvent(Bm),this.dispatchEvent(AS)}}pointerUp(e){e.button===0&&(this.dragging&&this.axis!==null&&(TS.mode=this.mode,this.dispatchEvent(TS)),this.dragging=!1,this.axis=null)}dispose(){this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.removeEventListener("pointermove",this._onPointerHover),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.traverse(function(e){e.geometry&&e.geometry.dispose(),e.material&&e.material.dispose()})}attach(e){return this.object=e,this.visible=!0,this}detach(){return this.object=void 0,this.visible=!1,this.axis=null,this}reset(){!this.enabled||this.dragging&&(this.object.position.copy(this._positionStart),this.object.quaternion.copy(this._quaternionStart),this.object.scale.copy(this._scaleStart),this.dispatchEvent(Bm),this.dispatchEvent(AS),this.pointStart.copy(this.pointEnd))}getRaycaster(){return Ms}getMode(){return this.mode}setMode(e){this.mode=e}setTranslationSnap(e){this.translationSnap=e}setRotationSnap(e){this.rotationSnap=e}setScaleSnap(e){this.scaleSnap=e}setSize(e){this.size=e}setSpace(e){this.space=e}update(){console.warn("THREE.TransformControls: update function has no more functionality and therefore has been deprecated.")}}sp.prototype.isTransformControls=!0;function Ade(t){if(this.domElement.ownerDocument.pointerLockElement)return{x:0,y:0,button:t.button};{const e=this.domElement.getBoundingClientRect();return{x:(t.clientX-e.left)/e.width*2-1,y:-(t.clientY-e.top)/e.height*2+1,button:t.button}}}function kde(t){if(!!this.enabled)switch(t.pointerType){case"mouse":case"pen":this.pointerHover(this._getPointer(t));break}}function Pde(t){!this.enabled||(document.pointerLockElement||this.domElement.setPointerCapture(t.pointerId),this.domElement.addEventListener("pointermove",this._onPointerMove),this.pointerHover(this._getPointer(t)),this.pointerDown(this._getPointer(t)))}function Lde(t){!this.enabled||this.pointerMove(this._getPointer(t))}function Rde(t){!this.enabled||(this.domElement.releasePointerCapture(t.pointerId),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.pointerUp(this._getPointer(t)))}function zm(t,e,n){const r=e.intersectObject(t,!0);for(let i=0;i<r.length;i++)if(r[i].object.visible||n)return r[i];return!1}const Wd=new fs,an=new ne(0,1,0),kS=new ne(0,0,0),PS=new St,Gd=new gn,Pf=new gn,Oi=new ne,LS=new St,ku=new ne(1,0,0),Ps=new ne(0,1,0),Pu=new ne(0,0,1),jd=new ne,wu=new ne,_u=new ne;class l3 extends Zt{constructor(){super();this.type="TransformControlsGizmo";const e=new ya({depthTest:!1,depthWrite:!1,fog:!1,toneMapped:!1,transparent:!0}),n=new Sr({depthTest:!1,depthWrite:!1,fog:!1,toneMapped:!1,transparent:!0}),r=e.clone();r.opacity=.15;const i=n.clone();i.opacity=.5;const o=e.clone();o.color.setHex(16711680);const s=e.clone();s.color.setHex(65280);const a=e.clone();a.color.setHex(255);const l=e.clone();l.color.setHex(16711680),l.opacity=.5;const u=e.clone();u.color.setHex(65280),u.opacity=.5;const c=e.clone();c.color.setHex(255),c.opacity=.5;const d=e.clone();d.opacity=.25;const f=e.clone();f.color.setHex(16776960),f.opacity=.25,e.clone().color.setHex(16776960);const m=e.clone();m.color.setHex(7895160);const g=new ir(0,.04,.1,12);g.translate(0,.05,0);const p=new An(.08,.08,.08);p.translate(0,.04,0);const v=new Ht;v.setAttribute("position",new jt([0,0,0,1,0,0],3));const y=new ir(.0075,.0075,.5,3);y.translate(0,.25,0);function w(B,L){const A=new $s(B,.0075,3,64,L*Math.PI*2);return A.rotateY(Math.PI/2),A.rotateX(Math.PI/2),A}function _(){const B=new Ht;return B.setAttribute("position",new jt([0,0,0,1,1,1],3)),B}const b={X:[[new it(g,o),[.5,0,0],[0,0,-Math.PI/2]],[new it(g,o),[-.5,0,0],[0,0,Math.PI/2]],[new it(y,o),[0,0,0],[0,0,-Math.PI/2]]],Y:[[new it(g,s),[0,.5,0]],[new it(g,s),[0,-.5,0],[Math.PI,0,0]],[new it(y,s)]],Z:[[new it(g,a),[0,0,.5],[Math.PI/2,0,0]],[new it(g,a),[0,0,-.5],[-Math.PI/2,0,0]],[new it(y,a),null,[Math.PI/2,0,0]]],XYZ:[[new it(new rl(.1,0),d.clone()),[0,0,0]]],XY:[[new it(new An(.15,.15,.01),c.clone()),[.15,.15,0]]],YZ:[[new it(new An(.15,.15,.01),l.clone()),[0,.15,.15],[0,Math.PI/2,0]]],XZ:[[new it(new An(.15,.15,.01),u.clone()),[.15,0,.15],[-Math.PI/2,0,0]]]},S={X:[[new it(new ir(.2,0,.6,4),r),[.3,0,0],[0,0,-Math.PI/2]],[new it(new ir(.2,0,.6,4),r),[-.3,0,0],[0,0,Math.PI/2]]],Y:[[new it(new ir(.2,0,.6,4),r),[0,.3,0]],[new it(new ir(.2,0,.6,4),r),[0,-.3,0],[0,0,Math.PI]]],Z:[[new it(new ir(.2,0,.6,4),r),[0,0,.3],[Math.PI/2,0,0]],[new it(new ir(.2,0,.6,4),r),[0,0,-.3],[-Math.PI/2,0,0]]],XYZ:[[new it(new rl(.2,0),r)]],XY:[[new it(new An(.2,.2,.01),r),[.15,.15,0]]],YZ:[[new it(new An(.2,.2,.01),r),[0,.15,.15],[0,Math.PI/2,0]]],XZ:[[new it(new An(.2,.2,.01),r),[.15,0,.15],[-Math.PI/2,0,0]]]},M={START:[[new it(new rl(.01,2),i),null,null,null,"helper"]],END:[[new it(new rl(.01,2),i),null,null,null,"helper"]],DELTA:[[new ur(_(),i),null,null,null,"helper"]],X:[[new ur(v,i.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new ur(v,i.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new ur(v,i.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]},T={XYZE:[[new it(w(.5,1),m),null,[0,Math.PI/2,0]]],X:[[new it(w(.5,.5),o)]],Y:[[new it(w(.5,.5),s),null,[0,0,-Math.PI/2]]],Z:[[new it(w(.5,.5),a),null,[0,Math.PI/2,0]]],E:[[new it(w(.75,1),f),null,[0,Math.PI/2,0]]]},N={AXIS:[[new ur(v,i.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]]},I={XYZE:[[new it(new Qh(.25,10,8),r)]],X:[[new it(new $s(.5,.1,4,24),r),[0,0,0],[0,-Math.PI/2,-Math.PI/2]]],Y:[[new it(new $s(.5,.1,4,24),r),[0,0,0],[Math.PI/2,0,0]]],Z:[[new it(new $s(.5,.1,4,24),r),[0,0,0],[0,0,-Math.PI/2]]],E:[[new it(new $s(.75,.1,2,24),r)]]},x={X:[[new it(p,o),[.5,0,0],[0,0,-Math.PI/2]],[new it(y,o),[0,0,0],[0,0,-Math.PI/2]],[new it(p,o),[-.5,0,0],[0,0,Math.PI/2]]],Y:[[new it(p,s),[0,.5,0]],[new it(y,s)],[new it(p,s),[0,-.5,0],[0,0,Math.PI]]],Z:[[new it(p,a),[0,0,.5],[Math.PI/2,0,0]],[new it(y,a),[0,0,0],[Math.PI/2,0,0]],[new it(p,a),[0,0,-.5],[-Math.PI/2,0,0]]],XY:[[new it(new An(.15,.15,.01),c),[.15,.15,0]]],YZ:[[new it(new An(.15,.15,.01),l),[0,.15,.15],[0,Math.PI/2,0]]],XZ:[[new it(new An(.15,.15,.01),u),[.15,0,.15],[-Math.PI/2,0,0]]],XYZ:[[new it(new An(.1,.1,.1),d.clone())]]},R={X:[[new it(new ir(.2,0,.6,4),r),[.3,0,0],[0,0,-Math.PI/2]],[new it(new ir(.2,0,.6,4),r),[-.3,0,0],[0,0,Math.PI/2]]],Y:[[new it(new ir(.2,0,.6,4),r),[0,.3,0]],[new it(new ir(.2,0,.6,4),r),[0,-.3,0],[0,0,Math.PI]]],Z:[[new it(new ir(.2,0,.6,4),r),[0,0,.3],[Math.PI/2,0,0]],[new it(new ir(.2,0,.6,4),r),[0,0,-.3],[-Math.PI/2,0,0]]],XY:[[new it(new An(.2,.2,.01),r),[.15,.15,0]]],YZ:[[new it(new An(.2,.2,.01),r),[0,.15,.15],[0,Math.PI/2,0]]],XZ:[[new it(new An(.2,.2,.01),r),[.15,0,.15],[-Math.PI/2,0,0]]],XYZ:[[new it(new An(.2,.2,.2),r),[0,0,0]]]},O={X:[[new ur(v,i.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new ur(v,i.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new ur(v,i.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]};function D(B){const L=new Zt;for(const A in B)for(let P=B[A].length;P--;){const W=B[A][P][0].clone(),K=B[A][P][1],te=B[A][P][2],J=B[A][P][3],se=B[A][P][4];W.name=A,W.tag=se,K&&W.position.set(K[0],K[1],K[2]),te&&W.rotation.set(te[0],te[1],te[2]),J&&W.scale.set(J[0],J[1],J[2]),W.updateMatrix();const Te=W.geometry.clone();Te.applyMatrix4(W.matrix),W.geometry=Te,W.renderOrder=1/0,W.position.set(0,0,0),W.rotation.set(0,0,0),W.scale.set(1,1,1),L.add(W)}return L}this.gizmo={},this.picker={},this.helper={},this.add(this.gizmo.translate=D(b)),this.add(this.gizmo.rotate=D(T)),this.add(this.gizmo.scale=D(x)),this.add(this.picker.translate=D(S)),this.add(this.picker.rotate=D(I)),this.add(this.picker.scale=D(R)),this.add(this.helper.translate=D(M)),this.add(this.helper.rotate=D(N)),this.add(this.helper.scale=D(O)),this.picker.translate.visible=!1,this.picker.rotate.visible=!1,this.picker.scale.visible=!1}updateMatrixWorld(e){const r=(this.mode==="scale"?"local":this.space)==="local"?this.worldQuaternion:Pf;this.gizmo.translate.visible=this.mode==="translate",this.gizmo.rotate.visible=this.mode==="rotate",this.gizmo.scale.visible=this.mode==="scale",this.helper.translate.visible=this.mode==="translate",this.helper.rotate.visible=this.mode==="rotate",this.helper.scale.visible=this.mode==="scale";let i=[];i=i.concat(this.picker[this.mode].children),i=i.concat(this.gizmo[this.mode].children),i=i.concat(this.helper[this.mode].children);for(let o=0;o<i.length;o++){const s=i[o];s.visible=!0,s.rotation.set(0,0,0),s.position.copy(this.worldPosition);let a;if(this.camera.isOrthographicCamera?a=(this.camera.top-this.camera.bottom)/this.camera.zoom:a=this.worldPosition.distanceTo(this.cameraPosition)*Math.min(1.9*Math.tan(Math.PI*this.camera.fov/360)/this.camera.zoom,7),s.scale.set(1,1,1).multiplyScalar(a*this.size/4),s.tag==="helper"){s.visible=!1,s.name==="AXIS"?(s.position.copy(this.worldPositionStart),s.visible=!!this.axis,this.axis==="X"&&(vn.setFromEuler(Wd.set(0,0,0)),s.quaternion.copy(r).multiply(vn),Math.abs(an.copy(ku).applyQuaternion(r).dot(this.eye))>.9&&(s.visible=!1)),this.axis==="Y"&&(vn.setFromEuler(Wd.set(0,0,Math.PI/2)),s.quaternion.copy(r).multiply(vn),Math.abs(an.copy(Ps).applyQuaternion(r).dot(this.eye))>.9&&(s.visible=!1)),this.axis==="Z"&&(vn.setFromEuler(Wd.set(0,Math.PI/2,0)),s.quaternion.copy(r).multiply(vn),Math.abs(an.copy(Pu).applyQuaternion(r).dot(this.eye))>.9&&(s.visible=!1)),this.axis==="XYZE"&&(vn.setFromEuler(Wd.set(0,Math.PI/2,0)),an.copy(this.rotationAxis),s.quaternion.setFromRotationMatrix(PS.lookAt(kS,an,Ps)),s.quaternion.multiply(vn),s.visible=this.dragging),this.axis==="E"&&(s.visible=!1)):s.name==="START"?(s.position.copy(this.worldPositionStart),s.visible=this.dragging):s.name==="END"?(s.position.copy(this.worldPosition),s.visible=this.dragging):s.name==="DELTA"?(s.position.copy(this.worldPositionStart),s.quaternion.copy(this.worldQuaternionStart),mr.set(1e-10,1e-10,1e-10).add(this.worldPositionStart).sub(this.worldPosition).multiplyScalar(-1),mr.applyQuaternion(this.worldQuaternionStart.clone().invert()),s.scale.copy(mr),s.visible=this.dragging):(s.quaternion.copy(r),this.dragging?s.position.copy(this.worldPositionStart):s.position.copy(this.worldPosition),this.axis&&(s.visible=this.axis.search(s.name)!==-1));continue}s.quaternion.copy(r),this.mode==="translate"||this.mode==="scale"?(s.name==="X"&&Math.abs(an.copy(ku).applyQuaternion(r).dot(this.eye))>.99&&(s.scale.set(1e-10,1e-10,1e-10),s.visible=!1),s.name==="Y"&&Math.abs(an.copy(Ps).applyQuaternion(r).dot(this.eye))>.99&&(s.scale.set(1e-10,1e-10,1e-10),s.visible=!1),s.name==="Z"&&Math.abs(an.copy(Pu).applyQuaternion(r).dot(this.eye))>.99&&(s.scale.set(1e-10,1e-10,1e-10),s.visible=!1),s.name==="XY"&&Math.abs(an.copy(Pu).applyQuaternion(r).dot(this.eye))<.2&&(s.scale.set(1e-10,1e-10,1e-10),s.visible=!1),s.name==="YZ"&&Math.abs(an.copy(ku).applyQuaternion(r).dot(this.eye))<.2&&(s.scale.set(1e-10,1e-10,1e-10),s.visible=!1),s.name==="XZ"&&Math.abs(an.copy(Ps).applyQuaternion(r).dot(this.eye))<.2&&(s.scale.set(1e-10,1e-10,1e-10),s.visible=!1)):this.mode==="rotate"&&(Gd.copy(r),an.copy(this.eye).applyQuaternion(vn.copy(r).invert()),s.name.search("E")!==-1&&s.quaternion.setFromRotationMatrix(PS.lookAt(this.eye,kS,Ps)),s.name==="X"&&(vn.setFromAxisAngle(ku,Math.atan2(-an.y,an.z)),vn.multiplyQuaternions(Gd,vn),s.quaternion.copy(vn)),s.name==="Y"&&(vn.setFromAxisAngle(Ps,Math.atan2(an.x,an.z)),vn.multiplyQuaternions(Gd,vn),s.quaternion.copy(vn)),s.name==="Z"&&(vn.setFromAxisAngle(Pu,Math.atan2(an.y,an.x)),vn.multiplyQuaternions(Gd,vn),s.quaternion.copy(vn))),s.visible=s.visible&&(s.name.indexOf("X")===-1||this.showX),s.visible=s.visible&&(s.name.indexOf("Y")===-1||this.showY),s.visible=s.visible&&(s.name.indexOf("Z")===-1||this.showZ),s.visible=s.visible&&(s.name.indexOf("E")===-1||this.showX&&this.showY&&this.showZ),s.material._color=s.material._color||s.material.color.clone(),s.material._opacity=s.material._opacity||s.material.opacity,s.material.color.copy(s.material._color),s.material.opacity=s.material._opacity,this.enabled&&this.axis&&(s.name===this.axis||this.axis.split("").some(function(l){return s.name===l}))&&(s.material.color.setHex(16776960),s.material.opacity=1)}super.updateMatrixWorld(e)}}l3.prototype.isTransformControlsGizmo=!0;class u3 extends it{constructor(){super(new Xl(1e5,1e5,2,2),new ya({visible:!1,wireframe:!0,side:So,transparent:!0,opacity:.1,toneMapped:!1}));this.type="TransformControlsPlane"}updateMatrixWorld(e){let n=this.space;switch(this.position.copy(this.worldPosition),this.mode==="scale"&&(n="local"),jd.copy(ku).applyQuaternion(n==="local"?this.worldQuaternion:Pf),wu.copy(Ps).applyQuaternion(n==="local"?this.worldQuaternion:Pf),_u.copy(Pu).applyQuaternion(n==="local"?this.worldQuaternion:Pf),an.copy(wu),this.mode){case"translate":case"scale":switch(this.axis){case"X":an.copy(this.eye).cross(jd),Oi.copy(jd).cross(an);break;case"Y":an.copy(this.eye).cross(wu),Oi.copy(wu).cross(an);break;case"Z":an.copy(this.eye).cross(_u),Oi.copy(_u).cross(an);break;case"XY":Oi.copy(_u);break;case"YZ":Oi.copy(jd);break;case"XZ":an.copy(_u),Oi.copy(wu);break;case"XYZ":case"E":Oi.set(0,0,0);break}break;case"rotate":default:Oi.set(0,0,0)}Oi.length()===0?this.quaternion.copy(this.cameraQuaternion):(LS.lookAt(mr.set(0,0,0),Oi,an),this.quaternion.setFromRotationMatrix(LS)),super.updateMatrixWorld(e)}}u3.prototype.isTransformControlsPlane=!0;const Ide=[];for(let t=0;t<256;t++)Ide[t]=(t<16?"0":"")+t.toString(16);function Lf(t,e,n){return Math.max(e,Math.min(n,t))}class Dde extends Po{constructor(e){super(e)}load(e,n,r,i){const o=this,s=new uy(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(o.withCredentials),s.load(e,function(a){let l;try{l=JSON.parse(a)}catch{console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),l=JSON.parse(a.substring(65,a.length-2))}const u=o.parse(l);n&&n(u)},r,i)}parse(e){return new c3(e)}}class c3{constructor(e){this.type="Font",this.data=e}generateShapes(e,n=100){const r=[],i=$de(e,n,this.data);for(let o=0,s=i.length;o<s;o++)Array.prototype.push.apply(r,i[o].toShapes());return r}}function $de(t,e,n){const r=Array.from(t),i=e/n.resolution,o=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*i,s=[];let a=0,l=0;for(let u=0;u<r.length;u++){const c=r[u];if(c===`
`)a=0,l-=o;else{const d=Nde(c,i,a,l,n);a+=d.offsetX,s.push(d.path)}}return s}function Nde(t,e,n,r,i){const o=i.glyphs[t]||i.glyphs["?"];if(!o){console.error('THREE.Font: character "'+t+'" does not exists in font family '+i.familyName+".");return}const s=new rce;let a,l,u,c,d,f,h,m;if(o.o){const g=o._cachedOutline||(o._cachedOutline=o.o.split(" "));for(let p=0,v=g.length;p<v;)switch(g[p++]){case"m":a=g[p++]*e+n,l=g[p++]*e+r,s.moveTo(a,l);break;case"l":a=g[p++]*e+n,l=g[p++]*e+r,s.lineTo(a,l);break;case"q":u=g[p++]*e+n,c=g[p++]*e+r,d=g[p++]*e+n,f=g[p++]*e+r,s.quadraticCurveTo(d,f,u,c);break;case"b":u=g[p++]*e+n,c=g[p++]*e+r,d=g[p++]*e+n,f=g[p++]*e+r,h=g[p++]*e+n,m=g[p++]*e+r,s.bezierCurveTo(d,f,h,m,u,c);break}}return{offsetX:o.ha*e,path:s}}c3.prototype.isFont=!0;class Ode extends gr{constructor(e=16777215){super();mt(this,"color",16777215);e&&(this.color=e)}setData(e){this.clear();const n=e.length,r=new Sr({color:this.color,transparent:!0,opacity:.3});for(let s=0;s<n;s++){const a=[],l=s/(n-1)-.5;a.push(new ne(-.5,-.5,l)),a.push(new ne(-.5,.5,l)),a.push(new ne(.5,.5,l)),a.push(new ne(.5,-.5,l));const u=new Ht().setFromPoints(a);this.add(new ur(u,r))}const i=this;return new Dde().load("./font.json",function(s){for(let a=0;a<n;a+=4){const l=a,u=a/(n-1)-.5;let c=s.generateShapes((1100-l*25+"").padStart(4," "),.008),d=new it(new Jh(c),new Sr({color:i.color}));d.position.set(-.53,-.5,u);let f=d.clone();f.position.set(.502,-.5,u);let h=d.clone();h.position.set(-.53,.5,u);let m=d.clone();m.position.set(.502,.5,u),i.add(d,f,h,m)}}),this}}new go().load("image/pal/pal.png");var RS={vertexShader:`
        varying vec2 vUV;      
        varying vec3 vNormal;
        varying vec3 vPos3d;
        varying float vLight;
        
        
        #include <common>
        void main() {      
            vUV = uv;            
            vec3 pos = position;
            vNormal = normalize(normalMatrix * normal); 
            gl_Position = projectionMatrix * modelViewMatrix * vec4( pos, 1.0 );           
        }
    `,fragmentShader:`
        precision lowp  float;
        precision lowp  sampler3D;     
      
        varying vec2 vUV;
        varying vec3 vNormal;
        // \u6570\u636E\u7EB9\u7406
        uniform sampler2D map;
        // \u8C03\u8272\u677F
        uniform sampler2D pal;       

        

        // \u53D6\u5F97p\u70B9\u7684\u4E09\u7EF4\u7EB9\u7406\u503C
        float sample1( vec2 p ) {            
            return texture( map, p ).x;
        }

        // \u7B49\u503C\u70B9
        bool isContourPoint(vec2 p,float cvalue){
            vec2 size = 1.0 / vec2(textureSize(map,0));
            float v1 = sample1(p+size)-cvalue;
            float v2 = sample1(p-size)-cvalue;
            return v1*v2<0.0;
        }

        // \u7528Lambert\u5149\u7167\u6A21\u578B\u8BA1\u7B97\u503C\u7684\u989C\u8272
        vec4 getColor(float value){
            vec3 lightColor = vec3(1.0,1.0,1.0);//\u706F\u5149\u989C\u8272
            vec3 lightDirction = vec3(0.5,-0.5,0.8);//\u706F\u5149\u65B9\u5411
            vec3 ambientLight = vec3(0.5); //\u73AF\u5883\u5149
            //\u6839\u636E\u8C03\u8272\u677F\u53D6\u5F97\u5F53\u524D\u70B9\u539F\u59CB\u989C\u8272
            vec4 color = vec4(texture(pal,vec2(value,0)));
            //\u8BA1\u7B97\u5149\u7EBF\u65B9\u5411\u548C\u6CD5\u5411\u91CF\u7684\u70B9\u79EF
            float nDotL=dot(vNormal,normalize(lightDirction));
            //\u534A\u5170\u4F2F\u7279\u53C2\u6570
            float hLambert=nDotL*0.5+0.5;            
            //\u8BA1\u7B97\u6F2B\u53CD\u5C04\u5149\u7684\u989C\u8272
            vec3 diffuse=lightColor*color.rgb*hLambert;
            //\u8BA1\u7B97\u73AF\u5883\u5149\u4EA7\u751F\u7684\u53CD\u5C04\u5149\u7684\u989C\u8272
            vec3 ambient=ambientLight*color.rgb;
            //\u5C06\u4EE5\u4E0A\u4E24\u8005\u76F8\u52A0\u4F5C\u4E3A\u6700\u7EC8\u7684\u989C\u8272
            return vec4(diffuse+ambient,1.0);
        }

        void main() {
            float value = sample1(vUV);             
            gl_FragColor = getColor(value-0.01);
            // if(value<0.1){
            //     gl_FragColor.a = 0.7;
            // }


        }
    `};class Fde extends gr{constructor(){super();mt(this,"planes");mt(this,"handle",new gr);mt(this,"_data",[]);mt(this,"_depth",1);mt(this,"_height",1);mt(this,"_width",1);mt(this,"_pal","");mt(this,"_smooth",!1);this.planes=this._createPlanes(),this.pal="image/pal/pal.png",this.planes.forEach(e=>{this.add(e)})}get pos(){return new ne(this.planes[0].position.x,this.planes[1].position.y,this.planes[2].position.z)}set pos(e){e.clamp(new ne(-.5,-.5,-.5),new ne(.5,.5,.5));function n(i,o){const a=i.material.uniforms.map;a.value||a.value.dispose(),a.value=o}if(this.planes[0].position.set(e.x,0,0),this.planes[1].position.set(0,e.y,0),this.planes[2].position.set(0,0,e.z),this._data.length===0)return;const r=e.clone().add(new ne(.5,.5,.5)).multiply(new ne(this._width-1,this._height-1,this._depth-1)).round();n(this.planes[0],this._getTexture(0,r.x)),n(this.planes[1],this._getTexture(1,r.y)),n(this.planes[2],this._getTexture(2,r.z)),this.dispatchEvent({type:"moved",value:e})}setData(e){return this._depth=e.length,this._height=e[0].length,this._width=e[0][0].length,this._data=e,this.pos=new ne(0,0,-.27),this}update(){this.pos=this.pos}_createPlanes(){new go().load(this._pal);function e(o){const s=new Ur({uniforms:{map:{value:new Rn},pal:{value:new Rn}},side:So,vertexShader:RS.vertexShader,fragmentShader:RS.fragmentShader}),a=new it(new Xl,s);return a.name=o,a.add(new py(a,34816)),a}const n=e("planex");n.rotateX(Math.PI/2),n.rotateY(Math.PI/2);const r=e("planey");r.rotateX(Math.PI/2);const i=e("planez");return[n,r,i]}_getTexture(e,n){let r=1,i=1;e===0?(r=this._height,i=this._depth):e===1?(r=this._width,i=this._depth):(r=this._width,i=this._height);const o=new Uint8Array(r*i);let s=0;for(let u=0;u<this._depth;u++)for(let c=0;c<this._height;c++)for(let d=0;d<this._width;d++)(e===0&&d===n||e===1&&c===n||e===2&&u===n)&&(o[s]=Math.round(this._data[u][c][d]*255),s+=1);const a=new yT(o,r,i,G0),l=this._smooth?Yn:Fn;return a.minFilter=l,a.magFilter=l,a.needsUpdate=!0,a}createClipHandle(e,n,r){const i=this;function o(c){let d=new sp(e,n);return d.space="local",d.showX=!1,d.showY=!1,d.axis="Z",d.size=.5,d.attach(c),d.addEventListener("change",function(f){i.update()}),d.addEventListener("dragging-changed",function(f){r.enabled=!f.value}),d}const s=o(this.planes[0]),a=o(this.planes[1]),l=o(this.planes[2]),u=this.handle;return u.add(s),u.add(a),u.add(l),u.renderOrder=this.renderOrder+1,u}get pal(){return this._pal}set pal(e){this._pal=e;const n=new go().load(e);this.planes.forEach(r=>{const i=r.material.uniforms.pal;i.value&&i.value.dispose(),i.value=n})}get smooth(){return this._smooth}set smooth(e){this._smooth=e,this.update()}}var Bde=`varying vec3 vOrigin;\r
varying vec3 vDirection;\r
varying vec3 vPosition;\r
varying vec3 vCameraPosition;\r
varying mat4 vMvpMatrix;\r
\r
void main() {\r
    //\u6A21\u578B\u5750\u6807\uFF08view\u5750\u6807\u7CFB\uFF09\r
    vec4 mvPosition = modelViewMatrix * vec4(position, 1.0); \r
    //\u9876\u70B9\u5728\u5C4F\u5E55\u7684\u4E8C\u7EF4\u5750\u6807               \r
    gl_Position = projectionMatrix * mvPosition;\r
    //\u9876\u70B9\u4E09\u7EF4\u70B9\u5750\u6807\uFF08\u4E16\u754C\u5750\u6807\u7CFB\uFF09\r
    vPosition = position;\r
    //\u6444\u50CF\u673A\u5750\u6807\uFF08\u4E16\u754C\u5750\u6807\u7CFB\uFF09\r
    vCameraPosition = cameraPosition;\r
    //\u6444\u50CF\u673A\u5750\u6807\uFF08\u6A21\u578B\u5750\u6807\u7CFB\uFF09\r
    vOrigin = (inverse(modelMatrix) * vec4(cameraPosition, 1.0)).xyz;\r
    //\u9876\u70B9\u5230\u6444\u50CF\u673A\u65B9\u5411\uFF08\u89C6\u7EBF\u65B9\u5411\uFF09\r
    vDirection = position - vOrigin;\r
\r
    vMvpMatrix = projectionMatrix * modelViewMatrix;\r
}`,zde=`//\u5C04\u7EBF\u4FE1\u606F\r
struct RayInfo {\r
    // vec3 orgin;          //\u6444\u50CF\u673A\u76F8\u5BF9\u4E8E\u6A21\u578B\u7684\u4F4D\u7F6E\r
    vec3 dir;               //\u89C6\u7EBF\u65B9\u5411\r
    float startPos;         //\u5F00\u59CB\u70B9\u5728\u5C04\u7EBF\u4E0A\u7684\u4F4D\u7F6E(\u5927)\r
    float endPos;           //\u7ED3\u675F\u70B9\u5728\u5C04\u7EBF\u4E0A\u7684\u4F4D\u7F6E(\u5C0F)\r
    float delta;            //\u6B65\u957F\r
};\r
\r
//\u6D6E\u70B9\u6570a\u3001b\u662F\u5426\u76F8\u7B49 \r
bool eq(float aa, float bb) {\r
    return abs(aa - bb) < 0.0001;\r
}\r
\r
 //\u8BA1\u7B97\u89C6\u7EBF\u4E0EBox\u7684\u4E24\u4E2A\u4EA4\u70B9\r
vec2 getHitBox() {\r
    // \u663E\u793A\u5DE6\u4E0A\u89D2\r
    vec3 box_min = vec3(-0.5, clip.y, -0.5);\r
    vec3 box_max = vec3(clip.x, 0.5, clip.z);\r
    // \u663E\u793A\u53F3\u4E0A\u89D2\r
    if(clipBlock == 0) {\r
        box_min = vec3(clip.x, clip.y, -0.5);\r
        box_max = vec3(0.5, 0.5, clip.z);\r
    }\r
    // \u5168\u90E8\u663E\u793A\r
    // vec3 box_min = vec3(-0.5, -0.5, -0.5);\r
    // vec3 box_max = vec3(0.5, 0.5, 0.5);\r
    vec3 inv_dir = 1.0 / normalize(vDirection);\r
    vec3 tmin_tmp = (box_min - vOrigin) * inv_dir;\r
    vec3 tmax_tmp = (box_max - vOrigin) * inv_dir;\r
    vec3 tmin = min(tmin_tmp, tmax_tmp);\r
    vec3 tmax = max(tmin_tmp, tmax_tmp);\r
    float t0 = max(tmin.x, max(tmin.y, tmin.z));\r
    float t1 = min(tmax.x, min(tmax.y, tmax.z));\r
    return vec2(t0, t1);\r
}\r
\r
RayInfo getRayInfo() {\r
    //\u5165\u5C04\u70B9\u5230\u7ED3\u675F\u70B9\u5750\u6807\r
    vec2 bounds = getHitBox();\r
    bounds.x = max(bounds.x, 0.0);\r
    //\u8BA1\u7B97\u6B65\u957F,\u5F52\u4E00\u5316,\u4EE5x\u3001y\u3001z\u65B9\u5411\u6700\u5C0F\u503C\u4F5C\u4E3A\u603B\u957F\u5EA6\r
    vec3 inc = 1.0 / abs(normalize(vDirection));\r
    float delta = min(inc.x, min(inc.y, inc.z)) / steps;\r
\r
    RayInfo rayInfo;\r
    rayInfo.dir = normalize(vDirection);\r
    rayInfo.startPos = bounds.x;\r
    rayInfo.endPos = bounds.y;\r
    rayInfo.delta = delta;\r
    return rayInfo;\r
}\r
\r
 //\u4ECE\u4F53\u6570\u636E\u4E2D\u53D6\u5F97\u5750\u6807coord\u70B9\u7684\u503C\r
float getValue(vec3 coord) {\r
    return texture(data, coord).r;\r
}\r
\r
float getValueAvg(vec3 coord) {\r
    vec3 stepx = vec3(step.x, 0.0, 0.0);\r
    vec3 stepy = vec3(0.0, step.y, 0.0);\r
    vec3 stepz = vec3(0.0, 0.0, step.z);\r
\r
    float v1 = getValue(coord - stepx);\r
    float v2 = getValue(coord + stepx);\r
    float v3 = getValue(coord - stepy);\r
    float v4 = getValue(coord + stepy);\r
    // float v5 = getValue(data, coord - stepz);\r
    // float v6 = getValue(data, coord + stepz);\r
    // return (v1 + v2 + v3 + v4 + v5 + v6) / 6.0;\r
    return (v1 + v2 + v3 + v4) / 4.0;\r
    // return max(max(max(v1, v2), v3), v4);\r
}\r
\r
//\u6839\u636E\u4F53\u6570\u636E\u8BA1\u7B97coord\u70B9\u7684\u6CD5\u5411\u91CF\uFF0Ccoord\uFF1A\uFF080\uFF0C1\uFF09\r
vec3 getNormal(vec3 coord) {\r
    //\u8FB9\u7F18\u7684\u6CD5\u5411\u91CF\u5411\u5916\r
    if(eq(coord.x, 0.0) || eq(coord.x, 1.0))//\u4E1C\u897F\u9762\r
        return vec3(1.0, 0.0, 0.0);\r
    if(eq(coord.y, 0.0) || eq(coord.y, 1.0))//\u5357\u5317\u9762\r
        return vec3(0.0, 1.0, 0.0);\r
    if(eq(coord.z, 0.0) || eq(coord.z, 1.0))//\u5E95\u9762\r
        return vec3(1.0, 1.0, 1.0);\r
\r
    //\u8BA1\u7B97\u76F8x/y/z\u65B9\u5411\u4E0A\u90BB\u70B9\u7684\u5DEE,\u4F5C\u4E3A\u6CD5\u5411\u91CF\r
    float scale = 0.5;\r
    vec3 stepy = vec3(step.x * scale, 0.0, 0.0);\r
    vec3 stepx = vec3(0.0, step.y * scale, 0.0);\r
    vec3 stepz = vec3(0.0, 0.0, step.z * scale);\r
\r
    float dx = getValue(coord - stepx) - getValue(coord + stepx);\r
    float dy = getValue(coord - stepy) - getValue(coord + stepy);\r
    float dz = getValue(coord - stepz) - getValue(coord + stepz);\r
    return normalize(vec3(dx, dy, dz));\r
}\r
\r
// \u7528Lambert\u5149\u7167\u6A21\u578B\u8BA1\u7B97\u503C\u7684\u989C\u8272\r
vec4 getColor(float value, vec3 normal) {\r
    vec3 lightColor = vec3(0.8);//\u706F\u5149\u989C\u8272\r
    vec3 lightDirction = vec3(0.0, 0.5, 1.0);//\u706F\u5149\u65B9\u5411\r
    vec3 ambientLight = vec3(0.1); //\u73AF\u5883\u5149\r
\r
    //\u6839\u636E\u8C03\u8272\u677F\u53D6\u5F97\u5F53\u524D\u70B9\u539F\u59CB\u989C\u8272\r
    // vec4 color = vec4(texture(pal, vec2(value, 0)));\r
    vec4 color = vec4(1.0);// \r
\r
    //\u8BA1\u7B97\u5149\u7EBF\u65B9\u5411\u548C\u6CD5\u5411\u91CF\u7684\u70B9\u79EF\r
    float nDotL = min(max(dot(normalize(normal), normalize(lightDirction)), 0.0), 1.0);\r
\r
    //\u534A\u5170\u4F2F\u7279\u53C2\u6570\r
    float hLambert = nDotL * 0.8 + 0.2;\r
    // float hLambert = pow(nDotL, value);\r
    // //\u8BA1\u7B97\u6F2B\u53CD\u5C04\u5149\u7684\u989C\u8272\r
    vec3 diffuse = lightColor * color.rgb * hLambert;\r
    //\u8BA1\u7B97\u73AF\u5883\u5149\u4EA7\u751F\u7684\u53CD\u5C04\u5149\u7684\u989C\u8272\r
    vec3 ambient = ambientLight * color.rgb;\r
    //\u5C06\u4EE5\u4E0A\u4E24\u8005\u76F8\u52A0\u4F5C\u4E3A\u6700\u7EC8\u7684\u989C\u8272\r
    return vec4(diffuse + ambient, 1.0);\r
\r
    // vec3 lightPosition = vec3(0.0, 0.3, 1.0);//\u5149\u6E90\u5411\u91CF\r
    // float diffuseIntensity = max(dot(normalize(normal), normalize(lightPosition)), 0.0);\r
    // // return vec4(vec3(0.9) * diffuseIntensity + vec3(0.1), value);\r
    // return texture(pal, vec2(value, 0)) * diffuseIntensity;\r
}\r
\r
vec4 getColor(float value) {\r
    return vec4(texture(pal, vec2(value, 0)));\r
}\r
`,Vde=`//\u53D6\u5F97\u70B9\u7684\u6DF1\u5EA6\u5750\u6807\r
float getDepth(vec3 localPos) {\r
    vec4 frag = vMvpMatrix * vec4(localPos, 1);\r
    frag /= frag.w;\r
    return (frag.z + 1.0) / 2.0;\r
}\r
\r
//\u6316\u6D1E\r
bool inHole(vec3 p, vec3 center) {\r
    float d = 0.25;\r
    //return ((p.x - center.x + 0.125) > -d && (p.x + center.x - 0.125) < d) && (p.y > -d && p.y < d);\r
    // return sqrt(pow(p.x - center.x, 2.0) + pow(p.y - center.y, 2.0)) < d;\r
    return (p.x - center.x) > 0.0 && (p.y - center.y) < 0.0;\r
}\r
\r
// \u5207\u7247\uFF0C\u5E94\u8BE5\u662F\u5C04\u7EBF\u4E0E\u4E94\u4E2A\u5E73\u9762\uFF08\u4E1C\u897F\u5357\u5317\u5E95\uFF09\u7684\u4EA4\u70B9\u3002\r
\r
//0\r
//\u6DF7\u5408\u989C\u8272\u6CD5\uFF1A\u5BF9\u5C04\u7EBF\u4E0A\u70B9\u53D6\u503C\uFF0C\u505A\u8870\u51CF\u53E0\u52A0\uFF0C\u6700\u540E\u518D\u8C03\u8272(\u5148\u53D6\u503C\uFF0C\u518D\u8C03\u8272)\r
vec4 BlendColor() {\r
    RayInfo ray = getRayInfo();\r
    vec3 p = vOrigin + ray.endPos * ray.dir;\r
    vec4 col = vec4(0.0, 0.0, 0.0, 0.0);\r
    vec3 pstart = vOrigin + ray.startPos * ray.dir;\r
    vec3 pend = vOrigin + ray.endPos * ray.dir;\r
\r
    // if(abs(pstart.x - clip.x) < 0.01) {\r
    //     return vec4(getColor(getValue(pstart + 0.5)).rgb, 0.8);\r
    // }\r
\r
    //\u904D\u5386\u5C04\u7EBF\u4E0A\u6240\u6709\u70B9(\u8FDC\u70B9\u5230\u8FD1\u70B9)\r
    for(float t = ray.startPos; t < ray.endPos; t += ray.delta) {\r
\r
        // if(abs(p.x - clip.x) < 0.01) {\r
        //     col = vec4(1.0, 0.0, 1.0, 1.0);\r
        //     return col;\r
        // }\r
        //\u53D6\u51FA\u5F53\u524Dp\u70B9\u7684\u503C\r
        float d = getValue(p + 0.5);\r
\r
        //\u6316\u6D1E\r
        // if(inHole(p, clip) && t > ray.startPos) {\r
        //     vec4 c = vec4(getColor(d).rgb, 1.0);\r
        //     if(p.z < -0.49) {\r
        //         c *= 0.5;\r
        //     }\r
        //     return c;\r
        // }\r
        // if(t >= ray.endPos - ray.delta && p.z < 0.49) {\r
        //     return vec4(getColor(d).rgb, 0.8);\r
        // }\r
        vec4 src = vec4(d, d, d, d * 0.1);\r
        //\u6DF7\u5408\r
        col.rgb = src.a * src.rgb + (1.0f - src.a) * col.rgb;\r
        col.a = src.a + (1.0f - src.a) * col.a;\r
        if(col.a > 1.0) {\r
            col.a = 1.0;\r
            break;\r
        }\r
        //\u5F53\u524D\u70B9\u5728\u5C04\u7EBF\u4E0A\u7684\u4F4D\u7F6E\r
        p -= ray.dir * ray.delta;\r
\r
    }\r
    //\u53D6\u989C\u8272\r
    col.rgb = getColor(col.r * alpha * 2.0 + 0.1).rgb;\r
    col.a *= alpha * 1.5;\r
\r
    // if(col.a > 0.9) {\r
    //     gl_FragDepth = getDepth(p);\r
    // } else {\r
    //     gl_FragDepth = getDepth(vec3(p.x, p.y, 0.0));\r
    // }\r
\r
    // vec3 pstart = vOrigin + ray.startPos * ray.dir;\r
    // vec3 pend = vOrigin + ray.endPos * ray.dir;\r
\r
    // if(abs(pstart.x - clip.x) < 0.01) {\r
    //     return vec4(getColor(getValue(p + 0.5)).rgb, 0.8);\r
    // }\r
\r
    return col;\r
}\r
\r
//1\r
//\u989C\u8272\u6DF7\u5408\u6CD5\uFF1A\u5BF9\u5C04\u7EBF\u4E0A\u70B9\u53D6\u989C\u8272\u540E\u505AalphaBlend\u64CD\u4F5C\uFF0C\u5F62\u6210\u6DF7\u5408\u8272\u8F93\u51FA\uFF08\u5148\u8C03\u8272\uFF0C\u518D\u6DF7\u5408\uFF09\r
vec4 ColorBlend() {\r
    RayInfo ray = getRayInfo();\r
    vec3 p = vOrigin + ray.endPos * ray.dir;\r
    vec4 col = vec4(0.0, 0.0, 0.0, 0.0);\r
    //\u904D\u5386\u5C04\u7EBF\u4E0A\u6240\u6709\u70B9\r
    for(float t = ray.startPos; t < ray.endPos; t += ray.delta) {\r
        //\u53D6\u51FA\u5F53\u524Dp\u70B9\u7684\u503C\r
        float d = getValue(p + 0.5) + (alpha - 0.5);\r
        //\u5207\u7247\r
        // if(t >= ray.endPos - ray.delta && abs(p.z) < 0.49) {\r
        //     return vec4(getColor(d).rgb, 1.0);\r
        // }\r
        //\u53D6\u989C\u8272\r
        vec4 src = getColor(d);\r
        //\u900F\u660E\u5EA6\u8C03\u6574--\u7528sin\u520610\u6BB5\r
        src.a *= sin(d / 10.0) * 0.5 + 0.5;\r
        //\u6DF7\u5408\r
        col.rgb = src.a * src.rgb + (1.0f - src.a) * col.rgb;\r
        col.a = src.a + (1.0f - src.a) * col.a;\r
        if(col.a > 1.0) {\r
            col.a = 1.0;\r
            break;\r
        }\r
        //\u5F53\u524D\u70B9\u5728\u5C04\u7EBF\u4E0A\u7684\u4F4D\u7F6E\r
        p -= ray.dir * ray.delta;\r
    }\r
    return col;\r
}\r
\r
vec4 addColor() {\r
    RayInfo ray = getRayInfo();\r
    vec3 p = vOrigin + ray.endPos * ray.dir;\r
    float sum = 0.0;\r
    //\u904D\u5386\u5C04\u7EBF\u4E0A\u6240\u6709\u70B9\r
    for(float t = ray.startPos; t < ray.endPos; t += ray.delta) {\r
        //\u53D6\u51FA\u5F53\u524Dp\u70B9\u7684\u503C\r
        float d = getValue(p + 0.5);\r
        sum += d * ray.delta * alpha * 3.0;\r
        if(sum > 1.0) {\r
            sum = 1.0;\r
            break;\r
        }        \r
        //\u5F53\u524D\u70B9\u5728\u5C04\u7EBF\u4E0A\u7684\u4F4D\u7F6E\r
        p -= ray.dir * ray.delta;\r
    }\r
    vec4 color = getColor(sum);\r
    color.a *= 2.0;\r
    return color;\r
}\r
\r
vec4 diffyAdd() {\r
    RayInfo ray = getRayInfo();\r
    vec3 p = vOrigin + ray.endPos * ray.dir;\r
    vec4 col = vec4(0.0, 0.0, 0.0, 0.0);\r
    //\u904D\u5386\u5C04\u7EBF\u4E0A\u6240\u6709\u70B9\r
    for(float t = ray.startPos; t < ray.endPos; t += ray.delta) {\r
        //\u53D6\u51FA\u5F53\u524Dp\u70B9\u7684\u503C\r
        vec3 ps = p + 0.5;\r
        //float norm = (getValue(ps - step.y) - getValue(ps + step.y)) + (getValue(ps - step.x) - getValue(ps + step.x)) + \r
        float norm = abs(getValue(ps) - getValue(ps + step.x));\r
        float d = norm * alpha;\r
        vec4 src = getColor(d);\r
        src.a *= 0.1;//alpha / 5.0;\r
        col.rgb = src.a * src.rgb + (1.0f - src.a) * col.rgb;\r
        col.a = src.a + (1.0f - src.a) * col.a;\r
        if(col.a > 1.0) {\r
            col.a = 1.0;\r
            break;\r
        }\r
        //\u5F53\u524D\u70B9\u5728\u5C04\u7EBF\u4E0A\u7684\u4F4D\u7F6E\r
        p -= ray.dir * ray.delta;\r
    }\r
    return col;\r
}\r
\r
vec4 getMaxColor() {\r
    RayInfo ray = getRayInfo();\r
    //\u6700\u5927\u503C\r
    float value = 0.0;\r
    vec3 p = vOrigin + ray.endPos * ray.dir; \r
    //\u904D\u5386\u5C04\u7EBF\u4E0A\u6240\u6709\u70B9\r
    for(float t = ray.startPos; t < ray.endPos; t += ray.delta) {\r
        //\u53D6\u51FA\u5F53\u524Dp\u70B9\u7684\u503C\r
        float d = getValue(p + 0.5);                 \r
        //\u53D6\u5927\u503C\r
        value = max(value, d);\r
        if(value > 0.99) {\r
            break;\r
        }\r
        //\u5F53\u524D\u70B9\u5728\u5C04\u7EBF\u4E0A\u7684\u4F4D\u7F6E\r
        p -= ray.dir * ray.delta;\r
    }\r
\r
    return getColor(value * alpha);\r
}\r
\r
vec4 isoColor() {\r
    RayInfo ray = getRayInfo();\r
    //\u6700\u5927\u503C\r
    float value = 0.0;\r
    vec3 p = vOrigin + ray.startPos * ray.dir;\r
    vec4 color = vec4(0.0);\r
    //\u904D\u5386\u5C04\u7EBF\u4E0A\u6240\u6709\u70B9\r
    for(float t = ray.startPos; t < ray.endPos; t += ray.delta) {\r
        //\u53D6\u51FA\u5F53\u524Dp\u70B9\u7684\u503C\r
        float d = getValue(p + 0.5);\r
        if(d > throsehold) {\r
            value = d;\r
            vec3 norm = getNormal(p + 0.5);\r
            color = getColor(value, norm);\r
            //color = vec4(norm.z, norm.z, norm.z, 1.0);\r
            // color.a = 1.0;\r
            gl_FragDepth = getDepth(p);\r
            float c = p.z * 0.7 + 0.6 * norm.z + 0.1;\r
            color = vec4(c, c, c, 1.0);\r
\r
            break;\r
        }\r
         //\u5F53\u524D\u70B9\u5728\u5C04\u7EBF\u4E0A\u7684\u4F4D\u7F6E\r
        p += ray.dir * ray.delta;\r
    }\r
\r
    return color;\r
}\r
\r
//https://zhuanlan.zhihu.com/p/38548428\r
vec4 xray() {\r
    RayInfo ray = getRayInfo();\r
    //\u6700\u5927\u503C\r
    float value = 0.0;\r
    vec3 norm = vec3(0.0);\r
    vec3 p = vOrigin + ray.startPos * ray.dir;//p: (0,0.5)\r
    vec4 color = vec4(0.0);\r
\r
    float bias = 1.0;//\u989C\u8272\u6700\u4EAE\u7684\u4F4D\u7F6E\r
    float power = 2.0;//\u900F\u660E\u5EA6\u53D8\u5316\u7684\u901F\u5EA6\u53CA\u65B9\u5411\r
    float scale = -1.0;//\r
\r
    //\u904D\u5386\u5C04\u7EBF\u4E0A\u6240\u6709\u70B9\r
    for(float t = ray.startPos; t < ray.endPos; t += ray.delta) {\r
        //\u53D6\u51FA\u5F53\u524Dp\u70B9\u7684\u503C\r
        vec3 ps = p + 0.5;//ps(0,1)\r
        float d = getValue(ps);\r
\r
        if(d > throsehold) {\r
\r
            value = d;\r
            vec3 norm = normalize(getNormal(p + 0.5));\r
            // float intensity = pow(1.0 - abs(dot(norm, normalize(vCameraPosition))), value * 1.5);\r
            //float intensity = pow(1.0 - abs(dot(norm, normalize(vec3(0, 0.5, -2.0)))), value);\r
            // color.rgb = vec3(0.3, 0.5, 1.0) * intensity;\r
            // color.a = 0.9;//intensity * 2.0 + 0.2;\r
            // color = vec4(norm, 1.0);\r
\r
            float a = pow(bias + scale * abs(dot(normalize(vCameraPosition), norm)), power);\r
            color = vec4(vec3(0.3, 0.5, 1.0), a);\r
            gl_FragDepth = getDepth(p);\r
\r
            break;\r
        }\r
         //\u5F53\u524D\u70B9\u5728\u5C04\u7EBF\u4E0A\u7684\u4F4D\u7F6E\r
        p += ray.dir * ray.delta;\r
    }\r
\r
    return color;\r
}\r
`;Nt.volume_vertex=Bde;Nt.volume_pars_fragment=zde;Nt.volume_fragment=Vde;var Hde={uniforms:{data:{value:null},steps:{value:300},alpha:{value:.5},pal:{value:new Rn},type:{value:0},throsehold:{value:.9},clip:{value:new ne(-.5,-.5,.5)},clipBlock:{value:0}},transparent:!0,clipping:!0,side:So,vertexShader:" #include <volume_vertex> ",fragmentShader:`

        precision highp sampler3D;

        varying vec3 vOrigin;
        varying vec3 vDirection;
        varying vec3 vPosition;
        varying vec3 vCameraPosition;
        varying mat4 vMvpMatrix;

        uniform sampler3D data;     //\u4F53\u6570\u636E 
        uniform float steps;        //\u5C04\u7EBF\u524D\u8FDB\u6B65\u957F(1/steps)
        uniform sampler2D pal;      //\u8C03\u8272\u677F
        uniform float alpha;        //\u900F\u660E\u7CFB\u6570
        uniform int type;           //\u7C7B\u578B 0:\u4F53\u6E32\u67D3,1:\u7B49\u503C\u9762
        uniform float throsehold;   //\u9608\u503C
        uniform vec3 clip;          //\u526A\u88C1\u70B9
        uniform int clipBlock;      //\u526A\u88C1\u4F4D\u7F6E\uFF1A0\uFF1Aright\uFF0C1\uFF1Aleft


        vec3 step;

        #include <volume_pars_fragment>   
        #include <volume_fragment>     

        void main(){     
            step = 1.0 / vec3(textureSize(data, 0));

            switch(type){
                case 0: 
                    gl_FragColor = BlendColor();
                    break;
                case 1:
                    gl_FragColor = ColorBlend();                    
                    break;
                case 2:
                    gl_FragColor = addColor();
                    break;
                case 3:
                    gl_FragColor = diffyAdd();    
                    break;                    
                case 4:
                    gl_FragColor = isoColor();
                    break;
                case 5:
                    gl_FragColor = xray();
                    break;
            }

            

            if(gl_FragColor.a<0.1){
                discard;
            }           
        }
    `};class Ude extends it{constructor(){super();mt(this,"geometry");mt(this,"material");mt(this,"data",[]);mt(this,"cutGroup",new gr);mt(this,"_pal","");mt(this,"_type",0);mt(this,"_box",new it(new An(1,1,1)));mt(this,"_cutPos",new ne(-.5,-.5,.5));this.geometry=new An,this.material=new Ur(Hde),this.material.depthWrite=!0,this.material.transparent=!0,this.pal="image/pal/pal.png",this.add(this.cutGroup);const e=new py(this._box,16777215);e.visible=!1,this.cutGroup.add(e)}setData(e){this.data=e;const n=this.getTexture3D(e),r=this.material.uniforms;return r.data.value&&r.data.value.dispose(),r.data.value=n,this}getTexture3D(e,n=0,r=100){const i=e.length,o=e[0].length,s=e[0][0].length,a=s*o*i,l=new Uint8Array(a);let u=0,c=1/0,d=-1/0;for(let h=0;h<i;h++)for(let m=0;m<o;m++)for(let g=0;g<s;g++)l[u]=Kre.clamp(Math.round(e[h][m][g]*255),0,255),c=Math.min(l[u],c),d=Math.max(l[u],d),u++;console.log(c,d);const f=new Gh(l,s,o,i);return f.format=G0,f.minFilter=Yn,f.magFilter=Yn,f.anisotropy=4,f.needsUpdate=!0,f}createClipHandle(e,n,r){const i=new it(new Qh(.002));i.position.set(this.cutPos.x,this.cutPos.y,this.cutPos.z),this.cutGroup.add(i);const o=this;let s=new sp(e,n);return s.space="local",s.size=.3,s.attach(i),s.addEventListener("change",function(a){o.cutPos=i.position}),s.addEventListener("dragging-changed",function(a){r.enabled=!a.value}),s}get pal(){return this._pal}set pal(e){const n=this.material.uniforms.pal;n.value=new go().load(e),n.value&&n.value.dispose(),this._pal=e}get alpha(){return this.material.uniforms.alpha.value}set alpha(e){this.material.uniforms.alpha.value=e}get vloumeType(){return this.material.uniforms.type.value}set vloumeType(e){this.material.uniforms.type.value=e}get throsehold(){return this.material.uniforms.throsehold.value}set throsehold(e){this.material.uniforms.throsehold.value=e}get cutPos(){return this._cutPos}set cutPos(e){this._cutPos=e,e.x=Lf(e.x,-.5,.5),e.y=Lf(e.y,-.5,.5),e.z=Lf(e.z,-.5,.5),this.material.uniforms.clip.value=e,this._box.scale.set(.5-e.x,.5-e.y,e.z+.5),this._box.position.set((e.x+.5)/2,(e.y+.5)/2,(e.z-.5)/2),this.cutGroup.children[0].update()}get cutVisible(){return this.cutGroup.visible}set cutVisible(e){this.cutGroup.visible=e,e?this.cutPos=this._cutPos:this.cutPos=new ne(-.5,-.5,.5)}}class Wde extends gr{constructor(e={volumeVisible:!0,clipVisible:!1,axisVisible:!0}){super();mt(this,"volume",new Ude);mt(this,"clip",new Fde);mt(this,"axis",new Ode);mt(this,"box");mt(this,"_pal","image/pal/pal.png");mt(this,"_clipPos",new ne);this.clip.visible=e.clipVisible,this.clip.handle.visible=e.clipVisible,this.clip.addEventListener("moved",n=>{this.dispatchEvent({type:"clipmoved",clippos:n.value})}),this.add(this.clip),this.volume.renderOrder=-1,this.volume.visible=e.volumeVisible,this.add(this.volume),this.axis.renderOrder=1,this.axis.visible=e.axisVisible,this.add(this.axis),this.box=new py(this,16777215),this.box.renderOrder=20,this.add(this.box)}setData(e){this.volume.setData(e),this.clip.setData(e),this._createAxis(e.length,16777215)}async load(e,n=0,r=100){const i=(await _y.get(e)).data;for(let o=0;o<i.length;o++)for(let s=0;s<i[0].length;s++)for(let a=0;a<i[0][0].length;a++)i[o][s][a]=Lf((i[o][s][a]-n)/(r-n),0,1);return this.setData(i),this}_createAxis(e,n){const r=[];for(let i=0;i<e;i++)r.push(i);return this.axis.setData(r),this}set volumeVisible(e){this.volume.visible=e}get volumeVisible(){return this.volume.visible}set clipVisible(e){this.clip.visible=e,this.clip.handle.visible=e,this.clip.handle.children.forEach(n=>{n instanceof sp&&(n.enabled=e)})}get clipVisible(){return this.clip.visible}set axisVisible(e){this.axis.visible=e,this.box.visible=e}get axisVisible(){return this.axis.visible}set pal(e){this.volume.pal=e,this._pal=e}get pal(){return this._pal}get clipPosX(){return this._clipPos.x}set clipPosX(e){this._clipPos.x=e,this.clip.pos=new ne(e,this.clip.pos.y,this.clip.pos.z)}get clipPosY(){return this._clipPos.x}set clipPosY(e){this._clipPos.y=e,this.clip.pos=new ne(this.clip.pos.x,e,this.clip.pos.z)}get clipPosZ(){return this._clipPos.x}set clipPosZ(e){this._clipPos.x=e,this.clip.pos=new ne(this.clip.pos.x,this.clip.pos.y,e)}get volumeAlpha(){return this.volume.alpha*100}set volumeAlpha(e){this.volume.alpha=e/100}get volumeType(){return this.volume.vloumeType}set volumeType(e){this.volume.vloumeType=e}get throsehold(){return this.volume.throsehold}set throsehold(e){this.volume.throsehold=e}get clipSmooth(){return this.clip.smooth}set clipSmooth(e){this.clip.smooth=e}get cutPos(){return this.volume.cutPos}set cutPos(e){this.volume.cutPos=e}}const Gde=lt("\u5750\u6807\u8F74"),jde=lt("\u5730\u5F62"),Kde=lt("\u9AD8\u753B\u8D28"),qde=pe({props:{view:tp},setup(t){const e=t,n=F(!1),r=F(!0),i=F(!1);return ft(()=>{}),Me(r,o=>{e.view.get("volumegroup").axisVisible=o}),Me(n,o=>{const s=e.view.get("ground");s.material.displacementScale=o?1:0}),Me(i,o=>{e.view.renderer.shadowMap.enabled=o}),(o,s)=>{const a=ve("el-checkbox"),l=ve("el-row"),u=ve("el-form"),c=ve("el-card");return E(),fe(c,{class:"box-card"},{default:X(()=>[Z(u,{"label-width":"60px"},{default:X(()=>[Z(l,{justify:"space-around"},{default:X(()=>[Z(a,{modelValue:r.value,"onUpdate:modelValue":s[0]||(s[0]=d=>r.value=d)},{default:X(()=>[Gde]),_:1},8,["modelValue"]),Z(a,{modelValue:n.value,"onUpdate:modelValue":s[1]||(s[1]=d=>n.value=d)},{default:X(()=>[jde]),_:1},8,["modelValue"]),Z(a,{modelValue:i.value,"onUpdate:modelValue":s[2]||(s[2]=d=>i.value=d),title:"\u4E5F\u6CA1\u9AD8\u591A\u5C11"},{default:X(()=>[Kde]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})}}});var Yde=Uc(qde,[["__scopeId","data-v-18a68fba"]]);const Xde={class:"view-direct"},Zde=lt("\u5357"),Jde=lt("\u9876"),Qde=lt("\u5E95"),efe=lt("\u4E1C"),tfe=lt("\u897F"),nfe=lt("\u5317"),rfe=pe({props:{view:tp},setup(t){const e=t,n=k(()=>e.view);return ft(()=>{}),(r,i)=>{const o=ve("el-button"),s=ve("el-button-group");return E(),V("div",Xde,[Z(s,null,{default:X(()=>[Z(o,{onClick:i[0]||(i[0]=a=>C(n).reset())},{default:X(()=>[Zde]),_:1}),Z(o,{onClick:i[1]||(i[1]=a=>C(n).viewTop())},{default:X(()=>[Jde]),_:1}),Z(o,{onClick:i[2]||(i[2]=a=>C(n).viewBottom())},{default:X(()=>[Qde]),_:1}),Z(o,{onClick:i[3]||(i[3]=a=>C(n).viewEast())},{default:X(()=>[efe]),_:1}),Z(o,{onClick:i[4]||(i[4]=a=>C(n).viewWest())},{default:X(()=>[tfe]),_:1}),Z(o,{onClick:i[5]||(i[5]=a=>C(n).viewNorth())},{default:X(()=>[nfe]),_:1})]),_:1})])}}});var ife=Uc(rfe,[["__scopeId","data-v-b92bb772"]]);async function ofe(t){const e=await _y.get(t);return afe(e.data)}class sfe{constructor(){mt(this,"diamond","");mt(this,"type",11);mt(this,"name","");mt(this,"year",2e3);mt(this,"month",1);mt(this,"day",1);mt(this,"hour",0);mt(this,"span",0);mt(this,"level",0);mt(this,"lonSpan",1);mt(this,"latSpan",1);mt(this,"beginLon",-180);mt(this,"endLon",180);mt(this,"beginLat",-90);mt(this,"endLat",90);mt(this,"countLon",360);mt(this,"countLat",180)}}function afe(t){const e=t.split(/[\s+\n+]+/),n=new sfe;let r=0;const i=n;for(let u in n)i[u]=typeof i[u]=="number"?parseFloat(e[r]):e[r],r++;if(n.diamond!="diamond"||n.type!=11)throw"\u65E0\u6CD5\u89E3\u6790\u6570\u636E\u6587\u4EF6\uFF0C\u4E0D\u662FMicaps\u7B2C4\u7C7B\u6587\u4EF6\u683C\u5F0F";n.countLat*n.countLon*2;let o=[],s=[],a=r,l=n.countLon*n.countLat;for(let u=0;u<n.countLat;u++)for(let c=0;c<n.countLon;c++)r=u*n.countLon+c+a,o.push(+e[r]),s.push(+e[r+l]);return{width:n.countLon,height:n.countLat,dst:[o,s]}}class lfe{constructor(){mt(this,"_life",200);mt(this,"_u",0);mt(this,"_v",0);mt(this,"_x",Math.random());mt(this,"_y",Math.random())}set pos(e){e?(this._x=e.x,this._y=e.y):(this._x=Math.random(),this._y=Math.random())}get pos(){return{x:this._x,y:this._y}}set uv(e){e?(this._u=e.u,this._v=e.v):(this._u=0,this._v=0)}get uv(){return{u:this._u,v:this._v}}get speed(){const e=this._u,n=this._v;return Math.sqrt(e*e+n*n)}next(e,n){this._life--,this._life>0?(this._x-=this._u*n,this._y-=this._v*n):(this._x=Math.random(),this._y=Math.random(),this._life=100+Math.floor(Math.random()*100));const r=this._getUV(e);return!r||this.uv&&Math.abs(r.u)+Math.abs(r.v)<1?this._life=-1:this.uv=r,this}get life(){return this._life}_getUV(e){const n=e.dst,r=e.width,i=e.height,o=this._x,s=this._y;if(o<0||o>=1||s<0||s>=1)return null;function a(N,I,x,R,O,D){let B=N+(I-N)*O,L=R+(x-R)*O;return B+(L-B)*D}const l=Math.floor(o*(r-1)),u=Math.floor(s*(i-1)),c=o*r-l,d=s*i-u,f=n[0],h=u*r+l,m=f[h],g=f[h+1],p=f[h+r+1],v=f[h+r],y=-a(m,g,p,v,c,d),w=n[1],_=w[h],b=w[h+1],S=w[h+r+1],M=w[h+r],T=a(_,b,S,M,c,d);return{u:y,v:T}}}class ufe{constructor(e={particlesCount:1e4}){mt(this,"options",{particlesCount:2e4});mt(this,"_data");mt(this,"_particles",[]);this.options=Object.assign({particlesCount:1e4},e)}setData(e){this._data=e,this._particles=this._createParticles()}_createParticles(){const e=this.options.particlesCount,n=new Array(e);for(let r=0;r<e;r++)n[r]=new lfe;return n}next(e=1e-5){if(this._particles&&this._data)for(let n=0,r=this._particles.length;n<r;n++)this._particles[n].next(this._data,e);return this._particles}}class cfe extends gr{constructor(e=null,n={particlesCount:1e4}){super();mt(this,"_wps");mt(this,"_windSymbols",new la);this._windSymbols.material=new Sr({color:16776960,vertexColors:!0,transparent:!0}),this._windSymbols.translateX(-.5),this._windSymbols.translateY(-.5),this._windSymbols.translateZ(-.8),this._wps=new ufe(n),e&&this.setData(e),this.renderOrder=10}get material(){return this._windSymbols.material}setData(e){this.remove(this._windSymbols),this._wps.setData(e),this.update(),this.add(this._windSymbols)}update(){if(this._wps){this._wps.next(5e-4);const e=this._wps._particles.length,n=new Float32Array(e*3*2),r=new Uint8Array(e*4*2);for(let i=0;i<e;i++){const o=this._wps._particles[i];n[i*6]=o.pos.x,n[i*6+1]=o.pos.y,n[i*6+2]=0,n[i*6+3]=o.pos.x-o.uv.u*.001,n[i*6+4]=o.pos.y-o.uv.v*.001,n[i*6+5]=0,r[i*8]=0,r[i*8+1]=0,r[i*8+2]=0,r[i*8+3]=0,r[i*8+4]=1,r[i*8+5]=1,r[i*8+6]=1,r[i*8+7]=1}this._windSymbols.geometry.setAttribute("position",new _n(n,3)),this._windSymbols.geometry.setAttribute("color",new _n(r,4))}return this}async load(e){const n=await(await _y.get(e)).data;this.setData(n)}}function dfe(t){const e=Ot({visible:t.visible,depthTest:t.material.depthTest});return Me(()=>e.visible,n=>t.visible=n),Me(()=>e.depthTest,n=>t.material.depthTest=n),e}const Gc=t=>(uC("data-v-81bdc2a4"),t=t(),cC(),t),ffe={class:"side"},hfe={class:""},pfe=lt("\u6700\u65B0"),mfe=lt("\u524D\u6B21"),gfe=lt("\u540E\u6B21"),vfe=lt("\u65E5\u671F"),yfe=lt("\u52A8\u753B"),bfe=Gc(()=>G("br",null,null,-1)),wfe=Gc(()=>G("br",null,null,-1)),_fe={class:"card-header"},Sfe=Gc(()=>G("span",null,"\u4F53\u6E32\u67D3-RayCasting\u65B9\u6CD5",-1)),Cfe=lt("\u5BC6\u5EA6\u79EF\u5206\u7740\u8272\u6CD5-\u7A81\u51FA\u5F3A\u5EA6"),Mfe=lt("\u989C\u8272\u79EF\u5206\u6DF7\u5408\u6CD5-\u9010\u5C42\u5265\u79BB"),xfe=lt("\u5BC6\u5EA6\u6C42\u548C\u7740\u8272\u6CD5-\u7A81\u51FA\u5185\u90E8"),Efe=lt("\u5BC6\u5EA6\u5DEE\u5206\u7740\u8272\u6CD5-\u7A81\u51FA\u8FB9\u7F18"),Tfe=lt("\u7B49\u503C\u9762\u5206\u6790-\u7ACB\u4F53\u5B9A\u91CF\u8FB9\u754C"),Afe=lt("X\u5149\u7247-\u8D1F\u7247\u7A81\u51FA\u7A81\u53D8(\u6B63\u8C03\u8BD5)"),kfe=lt("\u9009\u9879"),Pfe=lt("50%"),Lfe=lt("90%"),Rfe={class:"card-header"},Ife=Gc(()=>G("span",null,"\u5207\u7247",-1)),Dfe={class:"card-header"},$fe=Gc(()=>G("span",null,"\u98CE",-1)),Nfe=pe({props:{view:tp},setup(t){const e=t,n=k(()=>e.view),r=k(()=>Sn.cloud.west+(u.clipX+.5)*(Sn.cloud.east-Sn.cloud.west)),i=k(()=>Sn.cloud.south+(u.clipY+.5)*(Sn.cloud.north-Sn.cloud.south)),o=k(()=>1100-Math.round((u.clipZ+.5)*43)*25),s=new cfe;s.scale.set(Sn.cloud.east-Sn.cloud.west,Sn.cloud.north-Sn.cloud.south,1),s.translateZ(2),n.value.add(s),s.visible=!1;const a=dfe(s),l=new Wde;l.name="volumegroup",l.volumeVisible=!1;const u=vce(l);l.scale.set(Sn.cloud.east-Sn.cloud.west,Sn.cloud.north-Sn.cloud.south,2),l.translateZ(1),n.value.add(l);const c=l.volume.createClipHandle(n.value.camera,n.value.renderer.domElement,n.value.controls);c.name="cuthandle",n.value.add(c);const d=l.clip.createClipHandle(n.value.camera,n.value.renderer.domElement,n.value.controls);d.name="cliphandle",n.value.add(d),l.addEventListener("clipmoved",h=>{u.clipX=h.clippos.x,u.clipY=h.clippos.y,u.clipZ=h.clippos.z}),setTimeout(()=>{var m;let h=n.value.get("sx");if(h){(m=h.parent)==null||m.add(h.clone());const g=l.clip.planes[2];g.attach(h),h.translateZ(-g.position.z)}},2e3);const f=F(["./image/pal/pal.png","./image/pal/pal02.png","./image/pal/pal03.png","./image/pal/pal04.png","./image/pal/pal05.png","./image/pal/pal06.png"]);return F(s.visible),ft(async()=>{l.load("./data/cloud.json",0,100);const h=await ofe("./data/md11/10112608.000");console.log(h),s.setData(h),setInterval(()=>{s.visible&&s.update()},100)}),(h,m)=>{const g=ve("el-button"),p=ve("el-button-group"),v=ve("el-switch"),y=ve("el-radio"),w=ve("el-radio-group"),_=ve("el-row"),b=ve("el-divider"),S=ve("el-image"),M=ve("el-option"),T=ve("el-select"),N=ve("el-form-item"),I=ve("el-input-number"),x=ve("el-col"),R=ve("el-form"),O=ve("el-card"),D=ve("el-slider"),B=ve("el-checkbox");return E(),V("div",ffe,[G("div",hfe,[Z(p,null,{default:X(()=>[Z(g,{onClick:m[0]||(m[0]=()=>{})},{default:X(()=>[pfe]),_:1}),Z(g,{onClick:m[1]||(m[1]=()=>{})},{default:X(()=>[mfe]),_:1}),Z(g,{onClick:m[2]||(m[2]=()=>{})},{default:X(()=>[gfe]),_:1}),Z(g,{onClick:m[3]||(m[3]=()=>{})},{default:X(()=>[vfe]),_:1}),Z(g,{onClick:m[4]||(m[4]=()=>{})},{default:X(()=>[yfe]),_:1})]),_:1})]),bfe,Z(ife,{view:C(n)},null,8,["view"]),wfe,Z(Yde,{view:C(n)},null,8,["view"]),Z(O,{class:"box-card"},{header:X(()=>[G("div",_fe,[Sfe,Z(v,{modelValue:C(u).volumeVisible,"onUpdate:modelValue":m[5]||(m[5]=L=>C(u).volumeVisible=L)},null,8,["modelValue"])])]),default:X(()=>[Z(R,{"label-width":"60px"},{default:X(()=>[Z(_,{justify:"space-around"},{default:X(()=>[Z(w,{modelValue:C(u).volumeType,"onUpdate:modelValue":m[6]||(m[6]=L=>C(u).volumeType=L)},{default:X(()=>[Z(y,{label:0,title:"\u6839\u636E\u5149\u7EBF\u8FFD\u8E2A\u89C6\u89C9\u539F\u7406\uFF0C\u8003\u8651\u5149\u7EBF\u7A7F\u8D8A\u4E91\u5C42\u7684\u8870\u51CF\uFF0C\u8FFD\u6C42\u771F\u5B9E\u611F\uFF0C\u4F46\u79BB\u89C6\u70B9\u8FD1\u7684\u4E91\u5C42\u4F1A\u906E\u4F4F\u540E\u9762\u4E91\u5C42"},{default:X(()=>[Cfe]),_:1}),Z(y,{label:1,title:"\u5728\u4FDD\u7559\u89C6\u89C9\u771F\u5B9E\u611F\u540C\u65F6\uFF0C\u53EF\u901A\u8FC7\u8C03\u6574\u53C2\u6570\u5BF9\u4E91\u5C42\u5206\u7EA7\u663E\u793A\uFF0C\u9690\u85CF\u8584\u4E91\u4EE5\u770B\u5230\u5185\u90E8"},{default:X(()=>[Mfe]),_:1}),Z(y,{label:2,title:"\u4E0D\u8003\u8651\u8870\u51CF\uFF0C\u76F4\u63A5\u770B\u4E91\u5C42\u5185\u90E8\u7ED3\u6784\uFF0C\u4F46\u8F83\u8584\u4E91\u65E0\u6CD5\u663E\u793A"},{default:X(()=>[xfe]),_:1}),Z(y,{label:3,title:"\u8BA1\u5212\u901A\u8FC7\u8BA1\u7B97\u4E91\u7C92\u5B50\u4E0E\u5176\u5468\u8FB9\u4E91\u7684\u5DEE\u5206\uFF0C\u4EC5\u4FDD\u7559\u4E0D\u4E0D\u8FDE\u7EED\u70B9\uFF0C\u5DF2\u7A81\u51FA\u4E91\u5C42\u8FB9\u7F18\uFF0C\u4F46\u76EE\u524D\u6548\u679C\u4E0D\u4F73"},{default:X(()=>[Efe]),_:1}),Z(y,{label:4,title:"\u4F20\u7EDF\u7B49\u503C\u9762\u5206\u6790\uFF0C\u53EF\u7CBE\u786E\u5206\u6790\u4E91\u91CF\u5927\u4E8E\u9608\u503C\u7684\u7B49\u503C\u9762\uFF0C\u5B9A\u91CF\u5206\u6790\u7A7A\u95F4\u56E2\u72B6\u7269"},{default:X(()=>[Tfe]),_:1}),Z(y,{label:5,title:"\u6A21\u62DF\u533B\u9662X\u5149\u7247\u6548\u679C,\u7A81\u51FA\u4EAE\u70B9\u548C\u9634\u5F71\uFF0C\u4F46\u597D\u50CF\u4E0D\u592A\u50CF\uFF1F"},{default:X(()=>[Afe]),_:1})]),_:1},8,["modelValue"])]),_:1}),Z(b,null,{default:X(()=>[kfe]),_:1}),Z(N,{label:"\u8C03\u8272\u677F"},{default:X(()=>[Z(T,{modelValue:C(u).pal,"onUpdate:modelValue":m[7]||(m[7]=L=>C(u).pal=L),placeholder:"Select"},{default:X(()=>[(E(!0),V(Ze,null,xt(f.value,L=>(E(),fe(M,{key:L,label:L,value:L},{default:X(()=>[Z(S,{style:{width:"100px",height:"10px"},fit:"fill",src:L},null,8,["src"])]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),C(u).volumeType in[0,1,2,3]?(E(),fe(N,{key:0,label:"\u8FC7\u6EE4"},{default:X(()=>[Z(_,null,{default:X(()=>[Z(x,{span:18},{default:X(()=>[Z(I,{modelValue:C(u).volumeAlpha,"onUpdate:modelValue":m[8]||(m[8]=L=>C(u).volumeAlpha=L),step:1,max:100,min:10,precision:0,"step-strictly":""},null,8,["modelValue"])]),_:1}),Z(x,{span:6},{default:X(()=>[Z(g,{onClick:m[9]||(m[9]=L=>C(u).volumeAlpha=50)},{default:X(()=>[Pfe]),_:1})]),_:1})]),_:1})]),_:1})):ue("",!0),C(u).volumeType===4||C(u).volumeType===5?(E(),fe(N,{key:1,label:"\u9608\u503C"},{default:X(()=>[Z(x,{span:16},{default:X(()=>[Z(I,{modelValue:C(u).volumeThrosehold,"onUpdate:modelValue":m[10]||(m[10]=L=>C(u).volumeThrosehold=L),step:.1,max:.99,min:.1,precision:1,"step-strictly":""},null,8,["modelValue","step","max","min"])]),_:1}),Z(x,{span:6},{default:X(()=>[Z(g,{onClick:m[11]||(m[11]=L=>C(u).volumeThrosehold=.9)},{default:X(()=>[Lfe]),_:1})]),_:1})]),_:1})):ue("",!0)]),_:1})]),_:1}),Z(O,{class:"box-card"},{header:X(()=>[G("div",Rfe,[Ife,Z(v,{modelValue:C(u).clipVisible,"onUpdate:modelValue":m[12]||(m[12]=L=>C(u).clipVisible=L)},null,8,["modelValue"])])]),default:X(()=>[Z(R,null,{default:X(()=>[Z(N,{label:"\u7ECF\u5EA6"},{default:X(()=>[Z(x,{span:16},{default:X(()=>[Z(D,{modelValue:C(u).clipX,"onUpdate:modelValue":m[13]||(m[13]=L=>C(u).clipX=L),min:-.5,max:.5,step:.01},null,8,["modelValue","min","max","step"])]),_:1}),Z(x,{span:8,style:{"text-align":"right"}},{default:X(()=>[lt(Pe(C(r).toFixed(3))+"\xB0",1)]),_:1})]),_:1}),Z(N,{label:"\u7EAC\u5EA6"},{default:X(()=>[Z(x,{span:16},{default:X(()=>[Z(D,{modelValue:C(u).clipY,"onUpdate:modelValue":m[14]||(m[14]=L=>C(u).clipY=L),min:-.5,max:.5,step:.01},null,8,["modelValue","min","max","step"])]),_:1}),Z(x,{span:8,style:{"text-align":"right"}},{default:X(()=>[lt(Pe(C(i).toFixed(3))+"\xB0",1)]),_:1})]),_:1}),Z(N,{label:"\u9AD8\u5EA6"},{default:X(()=>[Z(x,{span:16},{default:X(()=>[Z(D,{modelValue:C(u).clipZ,"onUpdate:modelValue":m[15]||(m[15]=L=>C(u).clipZ=L),min:-.5,max:.5,step:.01},null,8,["modelValue","min","max","step"])]),_:1}),Z(x,{span:8,style:{"text-align":"right"}},{default:X(()=>[lt(Pe(C(o).toFixed(0))+"hpa",1)]),_:1})]),_:1}),Z(N,{label:"\u5E73\u6ED1"},{default:X(()=>[Z(B,{modelValue:C(u).clipSmooth,"onUpdate:modelValue":m[16]||(m[16]=L=>C(u).clipSmooth=L)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),Z(O,{class:"box-card"},{header:X(()=>[G("div",Dfe,[$fe,Z(v,{modelValue:C(a).visible,"onUpdate:modelValue":m[17]||(m[17]=L=>C(a).visible=L)},null,8,["modelValue"])])]),default:X(()=>[Z(R,null,{default:X(()=>[Z(N,{label:"\u4E0D\u7A7F\u900F"},{default:X(()=>[Z(B,{modelValue:C(a).depthTest,"onUpdate:modelValue":m[18]||(m[18]=L=>C(a).depthTest=L)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})])}}});var Ofe=Uc(Nfe,[["__scopeId","data-v-81bdc2a4"]]);const Ffe=t=>(uC("data-v-ab8904de"),t=t(),cC(),t),Bfe=Ffe(()=>G("div",{class:"header"},"FY-4\u4E09\u7EF4\u4E91\u91CF\u53EF\u89C6\u5316\uFF08\u9655\u897F\uFF09",-1)),zfe=pe({setup(t){const e=F();let n=F(!1);return ft(()=>{e.value.getView(),n.value=!0}),(r,i)=>{const o=ve("el-aside"),s=ve("el-main"),a=ve("el-container");return E(),fe(a,null,{default:X(()=>[Z(o,{width:"320px",class:"left"},{default:X(()=>[Bfe,C(n)?(E(),fe(Ofe,{key:0,class:"side",view:e.value.getView()},null,8,["view"])):ue("",!0)]),_:1}),Z(s,null,{default:X(()=>[Z(gce,{class:"view",ref_key:"viewRef",ref:e},null,512)]),_:1})]),_:1})}}});var Vfe=Uc(zfe,[["__scopeId","data-v-ab8904de"]]);const d3=KC(Vfe);d3.use(Rne);d3.mount("#app")});export default Hfe();
