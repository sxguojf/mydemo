!function(e){var t=window.webpackHotUpdate;window.webpackHotUpdate=function(e,n){!function(e,t){if(!w[e]||!A[e])return;for(var n in A[e]=!1,t)Object.prototype.hasOwnProperty.call(t,n)&&(v[n]=t[n]);0==--m&&0===E&&H()}(e,n),t&&t(e,n)};var n,r=!0,i="f96542808c2db5a82825",o=1e4,a={},s=[],l=[];function d(e){var t=M[e];if(!t)return _;var r=function(r){return t.hot.active?(M[r]?-1===M[r].parents.indexOf(e)&&M[r].parents.push(e):(s=[e],n=r),-1===t.children.indexOf(r)&&t.children.push(r)):(console.warn("[HMR] unexpected require("+r+") from disposed module "+e),s=[]),_(r)},i=function(e){return{configurable:!0,enumerable:!0,get:function(){return _[e]},set:function(t){_[e]=t}}};for(var o in _)Object.prototype.hasOwnProperty.call(_,o)&&"e"!==o&&"t"!==o&&Object.defineProperty(r,o,i(o));return r.e=function(e){return"ready"===h&&p("prepare"),E++,_.e(e).then(t,(function(e){throw t(),e}));function t(){E--,"prepare"===h&&(y[e]||T(e),0===E&&0===m&&H())}},r.t=function(e,t){return 1&t&&(e=r(e)),_.t(e,-2&t)},r}function c(e){var t={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:n!==e,active:!0,accept:function(e,n){if(void 0===e)t._selfAccepted=!0;else if("function"==typeof e)t._selfAccepted=e;else if("object"==typeof e)for(var r=0;r<e.length;r++)t._acceptedDependencies[e[r]]=n||function(){};else t._acceptedDependencies[e]=n||function(){}},decline:function(e){if(void 0===e)t._selfDeclined=!0;else if("object"==typeof e)for(var n=0;n<e.length;n++)t._declinedDependencies[e[n]]=!0;else t._declinedDependencies[e]=!0},dispose:function(e){t._disposeHandlers.push(e)},addDisposeHandler:function(e){t._disposeHandlers.push(e)},removeDisposeHandler:function(e){var n=t._disposeHandlers.indexOf(e);n>=0&&t._disposeHandlers.splice(n,1)},check:x,apply:R,status:function(e){if(!e)return h;u.push(e)},addStatusHandler:function(e){u.push(e)},removeStatusHandler:function(e){var t=u.indexOf(e);t>=0&&u.splice(t,1)},data:a[e]};return n=void 0,t}var u=[],h="idle";function p(e){h=e;for(var t=0;t<u.length;t++)u[t].call(null,e)}var f,v,g,m=0,E=0,y={},A={},w={};function b(e){return+e+""===e?+e:e}function x(e){if("idle"!==h)throw new Error("check() is only allowed in idle status");return r=e,p("check"),(t=o,t=t||1e4,new Promise((function(e,n){if("undefined"==typeof XMLHttpRequest)return n(new Error("No browser support"));try{var r=new XMLHttpRequest,o=_.p+""+i+".hot-update.json";r.open("GET",o,!0),r.timeout=t,r.send(null)}catch(e){return n(e)}r.onreadystatechange=function(){if(4===r.readyState)if(0===r.status)n(new Error("Manifest request to "+o+" timed out."));else if(404===r.status)e();else if(200!==r.status&&304!==r.status)n(new Error("Manifest request to "+o+" failed."));else{try{var t=JSON.parse(r.responseText)}catch(e){return void n(e)}e(t)}}}))).then((function(e){if(!e)return p("idle"),null;A={},y={},w=e.c,g=e.h,p("prepare");var t=new Promise((function(e,t){f={resolve:e,reject:t}}));v={};return T(0),"prepare"===h&&0===E&&0===m&&H(),t}));var t}function T(e){w[e]?(A[e]=!0,m++,function(e){var t=document.createElement("script");t.charset="utf-8",t.src=_.p+""+e+"."+i+".hot-update.js",document.head.appendChild(t)}(e)):y[e]=!0}function H(){p("ready");var e=f;if(f=null,e)if(r)Promise.resolve().then((function(){return R(r)})).then((function(t){e.resolve(t)}),(function(t){e.reject(t)}));else{var t=[];for(var n in v)Object.prototype.hasOwnProperty.call(v,n)&&t.push(b(n));e.resolve(t)}}function R(t){if("ready"!==h)throw new Error("apply() is only allowed in ready status");var n,r,o,l,d;function c(e){for(var t=[e],n={},r=t.map((function(e){return{chain:[e],id:e}}));r.length>0;){var i=r.pop(),o=i.id,a=i.chain;if((l=M[o])&&!l.hot._selfAccepted){if(l.hot._selfDeclined)return{type:"self-declined",chain:a,moduleId:o};if(l.hot._main)return{type:"unaccepted",chain:a,moduleId:o};for(var s=0;s<l.parents.length;s++){var d=l.parents[s],c=M[d];if(c){if(c.hot._declinedDependencies[o])return{type:"declined",chain:a.concat([d]),moduleId:o,parentId:d};-1===t.indexOf(d)&&(c.hot._acceptedDependencies[o]?(n[d]||(n[d]=[]),u(n[d],[o])):(delete n[d],t.push(d),r.push({chain:a.concat([d]),id:d})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:n}}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];-1===e.indexOf(r)&&e.push(r)}}t=t||{};var f={},m=[],E={},y=function(){console.warn("[HMR] unexpected require("+x.moduleId+") to disposed module")};for(var A in v)if(Object.prototype.hasOwnProperty.call(v,A)){var x;d=b(A);var T=!1,H=!1,R=!1,L="";switch((x=v[A]?c(d):{type:"disposed",moduleId:A}).chain&&(L="\nUpdate propagation: "+x.chain.join(" -> ")),x.type){case"self-declined":t.onDeclined&&t.onDeclined(x),t.ignoreDeclined||(T=new Error("Aborted because of self decline: "+x.moduleId+L));break;case"declined":t.onDeclined&&t.onDeclined(x),t.ignoreDeclined||(T=new Error("Aborted because of declined dependency: "+x.moduleId+" in "+x.parentId+L));break;case"unaccepted":t.onUnaccepted&&t.onUnaccepted(x),t.ignoreUnaccepted||(T=new Error("Aborted because "+d+" is not accepted"+L));break;case"accepted":t.onAccepted&&t.onAccepted(x),H=!0;break;case"disposed":t.onDisposed&&t.onDisposed(x),R=!0;break;default:throw new Error("Unexception type "+x.type)}if(T)return p("abort"),Promise.reject(T);if(H)for(d in E[d]=v[d],u(m,x.outdatedModules),x.outdatedDependencies)Object.prototype.hasOwnProperty.call(x.outdatedDependencies,d)&&(f[d]||(f[d]=[]),u(f[d],x.outdatedDependencies[d]));R&&(u(m,[x.moduleId]),E[d]=y)}var C,S=[];for(r=0;r<m.length;r++)d=m[r],M[d]&&M[d].hot._selfAccepted&&E[d]!==y&&S.push({module:d,errorHandler:M[d].hot._selfAccepted});p("dispose"),Object.keys(w).forEach((function(e){!1===w[e]&&function(e){delete installedChunks[e]}(e)}));for(var I,O,P=m.slice();P.length>0;)if(d=P.pop(),l=M[d]){var B={},j=l.hot._disposeHandlers;for(o=0;o<j.length;o++)(n=j[o])(B);for(a[d]=B,l.hot.active=!1,delete M[d],delete f[d],o=0;o<l.children.length;o++){var D=M[l.children[o]];D&&((C=D.parents.indexOf(d))>=0&&D.parents.splice(C,1))}}for(d in f)if(Object.prototype.hasOwnProperty.call(f,d)&&(l=M[d]))for(O=f[d],o=0;o<O.length;o++)I=O[o],(C=l.children.indexOf(I))>=0&&l.children.splice(C,1);for(d in p("apply"),i=g,E)Object.prototype.hasOwnProperty.call(E,d)&&(e[d]=E[d]);var k=null;for(d in f)if(Object.prototype.hasOwnProperty.call(f,d)&&(l=M[d])){O=f[d];var U=[];for(r=0;r<O.length;r++)if(I=O[r],n=l.hot._acceptedDependencies[I]){if(-1!==U.indexOf(n))continue;U.push(n)}for(r=0;r<U.length;r++){n=U[r];try{n(O)}catch(e){t.onErrored&&t.onErrored({type:"accept-errored",moduleId:d,dependencyId:O[r],error:e}),t.ignoreErrored||k||(k=e)}}}for(r=0;r<S.length;r++){var F=S[r];d=F.module,s=[d];try{_(d)}catch(e){if("function"==typeof F.errorHandler)try{F.errorHandler(e)}catch(n){t.onErrored&&t.onErrored({type:"self-accept-error-handler-errored",moduleId:d,error:n,originalError:e}),t.ignoreErrored||k||(k=n),k||(k=e)}else t.onErrored&&t.onErrored({type:"self-accept-errored",moduleId:d,error:e}),t.ignoreErrored||k||(k=e)}}return k?(p("fail"),Promise.reject(k)):(p("idle"),new Promise((function(e){e(m)})))}var M={};function _(t){if(M[t])return M[t].exports;var n=M[t]={i:t,l:!1,exports:{},hot:c(t),parents:(l=s,s=[],l),children:[]};return e[t].call(n.exports,n,n.exports,d(t)),n.l=!0,n.exports}_.m=e,_.c=M,_.d=function(e,t,n){_.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},_.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},_.t=function(e,t){if(1&t&&(e=_(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(_.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)_.d(n,r,function(t){return e[t]}.bind(null,r));return n},_.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return _.d(t,"a",t),t},_.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},_.p="",_.h=function(){return i},d(10)(_.s=10)}([function(e){e.exports=JSON.parse('{"cloud":{"minLng":60,"minLat":-4,"lngWidth":100,"latHeight":45,"lngSegs":20,"latSegs":10},"palette":"I-01.pal"}')},function(e){e.exports=JSON.parse('["1508080200.000","1508080300.000","1508080330.000","1508080400.000","1508080500.000","1508080600.000","1508080700.000","1508080800.000","1508190100.000","1508190200.000","1508190300.000","1508190400.000","1508190500.000","1508190600.000","1508190700.000","1508190800.000","1508190900.000","1508191000.000","1508191100.000","1509292300.000"]')},function(e,t,n){var r=n(4);(e.exports=n(5)(!1)).push([e.i,"* {\r\n    margin: 0;\r\n    padding: 0;\r\n}\r\n\r\nhtml,\r\nbody {\r\n    margin: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    font-size: 14px;\r\n    overflow: hidden;\r\n}\r\n\r\n#left {\r\n    width: 180px;\r\n    height: 100%;\r\n    float: left;\r\n    background: #333;\r\n\r\n    text-align: center;\r\n    padding-top: 10px;\r\n\r\n}\r\n\r\n#earth {\r\n    height: 100%;\r\n    background: black;\r\n    overflow: hidden\r\n}\r\n\r\n#title {\r\n    font-size: 24px;\r\n    position: absolute;\r\n    top: 20px;\r\n    margin-left: 10px;\r\n    color: white;\r\n}\r\n\r\n\r\n\r\n#control {\r\n    text-align: center;\r\n    width: 100%;\r\n    height: 240px;\r\n    color: white;\r\n    /* line-height: 120px;\r\n    vertical-align: middle; */\r\n}\r\n\r\n.list {\r\n    position: absolute;\r\n    overflow-y: auto;\r\n    top: 250px;\r\n    bottom: 0px;\r\n    left: 0px;\r\n    width: 180px;\r\n    background: #222;\r\n}\r\n\r\n.loading {\r\n    height: 20px;\r\n    color: black; \r\n    font-weight: bold;   \r\n    background-image: url("+r(n(6))+");\r\n}\r\n\r\n.hide{\r\n    background-image: none;\r\n    visibility: hidden;\r\n}\r\n\r\n#filelist {\r\n    list-style: none;\r\n    padding: 5px 0px;\r\n    margin: 0;\r\n    color: #ccc;\r\n}\r\n\r\n#filelist>li {\r\n    cursor: pointer;\r\n    line-height: 22px;\r\n    height: 22px;\r\n}\r\n\r\n#filelist>li:hover {\r\n    color: red;\r\n}\r\n\r\n#control>button {\r\n    width: 120px;\r\n    padding: 3px 0;\r\n    margin-bottom: 4px;\r\n    cursor: pointer;\r\n}\r\n#control>button:hover {\r\n    color: red;\r\n}\r\n\r\n.pal> label{\r\n    color: white;\r\n}\r\n\r\n#stats {\r\n    position: absolute;\r\n    bottom: 0px;    \r\n    width: 100px;\r\n    z-index: 100;\r\n}\r\n\r\n#logo{\r\n    position: absolute;\r\n    margin-right: 10px;\r\n    bottom: 5px;\r\n    right: 0px;\r\n    color: white;\r\n    text-decoration:none;\r\n    z-index: 100;\r\n\r\n}",""])},function(e,t,n){var r=n(2);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0},o=n(7)(r,i);r.locals&&(e.exports=r.locals),e.hot.accept(2,(function(){var t=n(2);if("string"==typeof t&&(t=[[e.i,t,""]]),!function(e,t){var n,r=0;for(n in e){if(!t||e[n]!==t[n])return!1;r++}for(n in t)r--;return 0===r}(r.locals,t.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");o(t)})),e.hot.dispose((function(){o()}))},function(e,t){e.exports=function(e){return"string"!=typeof e?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),/["'() \t\n]/.test(e)?'"'+e.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':e)}},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var i=(a=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),o=r.sources.map((function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"}));return[n].concat(o).concat([i]).join("\n")}var a;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<e.length;i++){var a=e[i];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t){e.exports="data:image/gif;base64,R0lGODlhGAAUAIAAALS0tP///yH/C05FVFNDQVBFMi4wAwEAAAAh/h1CdWlsdCB3aXRoIEdJRiBNb3ZpZSBHZWFyIDQuMAAh+QQIBQAAACwAAAAAGAAUAAACLYSPFsu9CZ0MME1X0W35bNYpHxWOZGeGQFqOKou67aeu9HvPVy3rE5+LbYCOAgAh+QQIBQAAACwAAAAAGAAUAAACLYSPocuKb5oM8M1W0135bN4BnxOOVDmGYop+qqmuW8y2F+2+uT3hs/7jSXySAgAh+QQIBQAAACwAAAAAGAAUAAACLYRvocuKn5qET056bMNZLx55AQiIDmiOqEmWYsuS8erBr3zTml3jvW7h7XyaAgAh+QQIBQAAACwAAAAAGAAUAAACLoQfqZvnzmJ4VDL67MJQN254HyhOYOidqKYCYvuq8TmTqXzTuc3ivf7jBTElQAEAIfkECAUAAAAsAAAAABgAFAAAAi2EEamb585ieFQy+uzCUDd+eBNoiGTpnUh6mi1LujEMyjXN2TmOiePNy+gqsgIAIfkECAUAAAAsAAAAABgAFAAAAi4Egqlo7bZieFQuWi3DTm8OeWDjTeMhnuWJauyqpiM8yyB941hp5vauy/yELkcBACH5BAgFAAAALAAAAAAYABQAAAItjI8Gy70JnQQwTVfRbfls1ikfFY5kZ4ZBWo4qi7rtp670e89XLesTn4ttgI4CACH5BAgFAAAALAAAAAAYABQAAAItjI+gy4pvmgTwzVbTXfls3gWfE45UOYZiin6qqa5bzLYX7b65PeGz/uNJfJICACH5BAgFAAAALAAAAAAYABQAAAItjG+gy4qfmoRPTnpsw1kvHnkAGIgOaI6oSZZiy5Lx6sGvfNOaXeO9buHtfJoCACH5BAgFAAAALAAAAAAYABQAAAIujA+pm+fOInhUMvrswlA3bngfKE5g6J2opgZi+6rxOZOpfNO5zeK9/uMFMaVAAQAh+QQIBQAAACwAAAAAGAAUAAACLYwDqZvnziJ4VDL67MJQN354E2iIZOmdSHqaLUu6MQzKNc3ZOY6J483L6CqyAgAh+QQIBQAAACwAAAAAGAAUAAACLkyAqWjttiJ4VC5aLcNObw55YONN4yGe5Ylq7KqmIzzLIH3jWGnm9q7L/IQuRwEAOw=="},function(e,t,n){var r,i,o={},a=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=r.apply(this,arguments)),i}),s=function(e){return document.querySelector(e)},l=function(e){var t={};return function(e){if("function"==typeof e)return e();if(void 0===t[e]){var n=s.call(this,e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}}(),d=null,c=0,u=[],h=n(8);function p(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=o[r.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](r.parts[a]);for(;a<r.parts.length;a++)i.parts.push(y(r.parts[a],t))}else{var s=[];for(a=0;a<r.parts.length;a++)s.push(y(r.parts[a],t));o[r.id]={id:r.id,refs:1,parts:s}}}}function f(e,t){for(var n=[],r={},i=0;i<e.length;i++){var o=e[i],a=t.base?o[0]+t.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}function v(e,t){var n=l(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=u[u.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),u.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=l(e.insertInto+" "+e.insertAt.before);n.insertBefore(t,i)}}function g(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=u.indexOf(e);t>=0&&u.splice(t,1)}function m(e){var t=document.createElement("style");return e.attrs.type="text/css",E(t,e.attrs),v(e,t),t}function E(e,t){Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])}))}function y(e,t){var n,r,i,o;if(t.transform&&e.css){if(!(o=t.transform(e.css)))return function(){};e.css=o}if(t.singleton){var a=c++;n=d||(d=m(t)),r=b.bind(null,n,a,!1),i=b.bind(null,n,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",E(t,e.attrs),v(e,t),t}(t),r=T.bind(null,n,t),i=function(){g(n),n.href&&URL.revokeObjectURL(n.href)}):(n=m(t),r=x.bind(null,n),i=function(){g(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=a()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=f(e,t);return p(n,t),function(e){for(var r=[],i=0;i<n.length;i++){var a=n[i];(s=o[a.id]).refs--,r.push(s)}e&&p(f(e,t),t);for(i=0;i<r.length;i++){var s;if(0===(s=r[i]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete o[s.id]}}}};var A,w=(A=[],function(e,t){return A[e]=t,A.filter(Boolean).join("\n")});function b(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=w(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function x(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function T(e,t,n){var r=n.css,i=n.sourceMap,o=void 0===t.convertToAbsoluteUrls&&i;(t.convertToAbsoluteUrls||o)&&(r=h(r)),i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var a=new Blob([r],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var i,o=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?e:(i=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:r+o.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")}))}},function(e,t){!function(){"use strict";e.exports=function(e){var t=function(e){this._init(e)};t.prototype={_init:function(e){return this.gridData=e||[],this._sides=[],e&&this.setData(e),this},setData:function(e){this.gridData=e,this.min=999999,this.max=-999999;for(var t=0;t<e.length;t++)for(var n=0;n<e[t].length;n++)this.min=Math.min(this.min,e[t][n]),this.max=Math.max(this.max,e[t][n]);return this._createrSide(),this},track:function(e){if(!this.gridData)throw"格点数据为空不能分析，请在构造函数或用setData传入数据";e instanceof Array||(e=[e]),this.levels=e.sort((function(e,t){return e-t}));for(var t=[],n=0,r=e.length;n<r;n++){var o=e[n],a=n===r-1?o:e[n+1],s=0===n?o:e[n-1];a>=this.min&&s<=this.max&&(t=t.concat(this._trackLevel(o)))}t.sort(i.compare),this._topo(t);var l=this;return t.toJson=function(){return{type:"FeatureCollection",properties:{levels:e},features:[].concat(l._polyToJson(t),l._lineToJson(t),l._pointToJson(t))}},t},_polyToJson:function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n],i={type:"Feature",properties:{level:r.level,isHigh:r.isHigh,isClosed:r.isClosed,holes:r.subPolys},geometry:{type:"Polygon",coordinates:[]}};i.geometry.coordinates.push(r.toPolyArray());for(var o=0;o<r.subPolys.length;o++){var a=e[r.subPolys[o]];i.geometry.coordinates.push(a.toPolyArray())}t.push(i)}return t},_lineToJson:function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n],i={type:"Feature",properties:{level:r.level},geometry:{type:"MultiLineString",coordinates:r.toLineArray()}};t.push(i)}return t},_pointToJson:function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n],i={type:"Feature",properties:{level:r.level},geometry:{type:"MultiPoint",coordinates:r.toPointArray()}};t.push(i)}return t},_trackLevel:function(e){console.log("track:"+e);var t=this;function n(n){t._sides.forEach((function(o){if(o._atEdge==n){var a=t._trackSide(o,e);if(a.length>0){var s=o.v2>o.v1;r.push(new i(e,a,s))}}}))}this._interpolate(e);var r=[];return n(!0),n(!1),r},_trackSide:function(e,t){for(var n=[];!e.hasUsed&&(n.push(e.point),e.hasUsed=!0,e=this._getNextSide(e,t)););return n},_getNextSide:function(e,t){var n,r=null,i=[3],o=[[[1,-1,0],[1,-1,1],[0,-1,0]],[[0,0,-1],[0,1,-1],[1,0,-1]],[[1,0,0],[1,0,1],[0,1,0]],[[0,0,0],[0,1,0],[1,0,1]]][e.k+e.direct+1];for(n=0;n<3;n++)if(i[n]=this._getSide(o[n][0],e.i+o[n][1],e.j+o[n][2]),!i[n])return null;if(i[0].point&&i[1].point)((e.v1+e.v2+i[2].v1+i[2].v2)/4-t)*(e.v1-t)>0?(r=i[1]).direct=1:(r=i[0]).direct=-1;else for(n=0;n<i.length;n++)if(!i[n].hasUsed){(r=i[n]).direct=0===n?-1:1===n?1:e.direct;break}return r},_topo:function(e){var t=[],n=e.length;for(var r=0;r<n;r++)e[r].index=r,t.push(r);return e.forEach((function(n,r){t[r]=-1,function n(r){for(var i=e.indexOf(r);i<e.length;i++)if(-1!=t[i]){var o=e[i];r.ispolyInPoly(o)&&(r.subPolys.push(i),t[i]=-1,n(o))}}(n)})),this},_createrSide:function(){var e,t,n,i,o,a=this.gridData.length+2,s=this.gridData[0].length+2;for(this._sides=[],e=0;e<a;e++)for(t=0;t<s-1;t++)n=this._getValue(e-1,t-1),i=this._getValue(e-1,t),o=e<=1||e>=a-2||0===t||t===s-2,this._sides.push(new r(n,i,0,e,t,o));for(e=0;e<a-1;e++)for(t=0;t<s;t++)n=this._getValue(e-1,t-1),i=this._getValue(e,t-1),o=0===e||e===a-2||t<=1||t>=s-2,this._sides.push(new r(n,i,1,e,t,o))},_getValue:function(e,t){return e<0||e>=this.gridData.length||t<0||t>=this.gridData[0].length?NaN:this.gridData[e][t]},_getSide:function(e,t,n){var r=this.gridData.length+2,i=this.gridData[0].length+2,o=(i-1)*r*e+(i+e-1)*t+n;return this._sides[o]},_interpolate:function(e){var t=this;return this._sides.forEach((function(n){n.interpolate(e),n.direct=n.j==t.gridData[0].length?-1:1})),this}};var n=function(e,t){return Math.abs(e-t)<1e-7},r=function(e,t,n,r,i,o){this._init(e,t,n,r,i,o)};r.prototype={_init:function(e,t,n,r,i,o){return this.v1=e,this.v2=t,this.k=n,this.i=r,this.j=i,this.point=null,this._atEdge=o,this.direct=1,this.hasUsed=!1,this},interpolate:function(e){var t=this.v1,r=this.v2,i=NaN;return this.point=null,this.hasUsed=!0,isNaN(t)&&(t=-999999),isNaN(r)&&(r=-999999),n(e,t)&&(t+=1e-7),n(e,r)&&(r+=1e-7),(e-t)*(e-r)<0&&(i=(e-t)/(r-t),this.point={x:this.j-1,y:this.i-1,_atEdge:this._atEdge},this.point[0===this.k?"x":"y"]+=i,this.hasUsed=!1),this}};var i=function(e,t,n){this._init(e,t,n),i.compare=function(e,t){var n=t.size.area-e.size.area;return Math.abs(n)<1e-4&&(n=e.level-t.level),n}};return i.prototype={_init:function(e,t,n){this.setData(e,t,n)},setData:function(e,t,n){this.points=t,this.reduce(),this.points.push(JSON.parse(JSON.stringify(t[0]))),this.isHigh=n,this.level=e,this.isClosed=!t[0]._atEdge,this.isClosed||(this.isHigh=!0),this.size=this._getSize(),this.subPolys=[],this._setPointFlag()},_getSpline:function(e){var t,n=e||.2,r=this.points,i=r.length;if(i<4)return r;if(this.isClosed)for(t=0;t<3;t++)r.push(r[t]);var o=[];for(t=0;t<i;t++){var a=r[t];this.isClosed?o=o.concat(this._spline(t,n)):(a._atEdge&&o.push(a),t<i-2&&!r[t+1]._atEdge&&!r[t+2]._atEdge?o=o.concat(this._spline(t,n)):t>0&&t<i-1&&r[t-1]._atEdge&&!a._atEdge&&r[t+1]._atEdge&&o.push(a))}if(this.isClosed)for(t=0;t<3;t++)r.pop();return o},_spline:function(e,t){var n=[];function r(e,t,n){for(var r=[(1-n)*(1-n)*(1-n)/6,(3*n*n*n-6*n*n+4)/6,(-3*n*n*n+3*n*n+3*n+1)/6,n*n*n/6],i={x:0,y:0},o=0;o<r.length;o++)i.x+=r[o]*e[t+o].x,i.y+=r[o]*e[t+o].y;return i._atEdge=!1,i}for(var i=0;i<=1;i+=t){var o=r(this.points,e,i);o._atEdge=!1,n.push(o)}return n},ispolyInPoly:function(e){var t=this.size,n=e.size;return t.area>n.area&&t.left<n.left&&t.right>n.right&&t.top<n.top&&t.bottom>n.bottom&&this.isPointInPoly(e.points[0])},isPointInPoly:function(e){for(var t=this.points,n=e.x,r=e.y,i=!1,o=0,a=t.length-1;o<t.length;a=o++){var s=t[o].x,l=t[o].y,d=t[a].x,c=t[a].y;l>r!=c>r&&n<(d-s)*(r-l)/(c-l)+s&&(i=!i)}return i},_isHigh:function(){var e=!0,t=this._side,n=t.v1,r=t.v2,i={x:t.j,y:t.i};return this.isClosed&&(e=this.isPointInPoly(i)?n>r:r>n),e},_getSize:function(){var e=this.points;if(0===e.length)return 0;var t=0,n=0,r=e[0].x,i=e[0].y;return e.forEach((function(e){t=Math.max(e.x,t),n=Math.max(e.y,n),r=Math.min(e.x,r),i=Math.min(e.y,i)})),{area:(t-r)*(n-i),left:r,right:t,top:i,bottom:n}},_setPointFlag:function(){for(var e=this.points,t=e.length,n=0;n<t;n++){var r=e[n];if(this.isClosed)r.flag=0===n?"b":n===t-1?"e":"m";else{var i=e[n-1],o=e[n+1];r._atEdge?o&&!o._atEdge&&i&&!i._atEdge?r.flag="m":o&&!o._atEdge?r.flag="b":i&&!i._atEdge&&(r.flag="e"):r.flag="m"}}},getCenter:function(){for(var e=this.points,t=0,n=0,r=0,i=e.length,o=1;o<=i;o++){var a=e[o-1].x,s=e[o-1].y,l=(e[o].x*s-e[o].y*a)/2;t+=l,n+=l*(e[o].x+a)/3,r+=l*(e[o].y+s)/3}return{x:n/=t,y:r/=t}},_isClockwise:function(){var e=0,t=this.points,n=t.length;if(n<3)return!0;for(var r=0;r<n-1;r++)e+=-.5*(t[r+1].y+t[r].y)*(t[r+1].x-t[r].x);return e<0},reduce:function(e){function t(e,t){var n=t.x-e.x,r=t.y-e.y;return n*n+r*r}var n=this.points;if(n.length>3)for(var r=0;r<5;r++){for(var i=0,o=n.length-1;o>=1;o--){var a=n[o],s=n[o-1];!s._atEdge&&t(a,s)<1e-4&&(n.splice(o,1),i++)}if(0==i)break}return this},toPolyArray:function(){var e=[];return this.points.forEach((function(t){var n=[t.x.toFixed(4),t.y.toFixed(4),t.flag];e.push(n)})),e},toPointArray:function(){var e=[];return this.points.forEach((function(t){if("b"===t.flag||"e"===t.flag){var n=[t.x.toFixed(4),t.y.toFixed(4),t.flag];e.push(n)}})),e},toLineArray:function(){var e=[],t=[];return this.points.forEach((function(n){var r=n.flag,i=[n.x.toFixed(4),n.y.toFixed(4),n.flag];"b"===r?t=[i]:"e"===r?(t.push(i),e.push(t)):"m"===r&&t.push(i)})),e}},new t(e)}}()},function(e,t,n){"use strict";n.r(t);n(3);function r(e,t,n){var r=-e*Math.PI/180,i=(90-t)*Math.PI/180,o=Math.sin(i),a=Math.sin(r),s=Math.cos(i),l=n*o*Math.cos(r),d=n*o*a,c=n*s;return new THREE.Vector3(l,c,d)}function i(e){return Math.log(Math.tan(Math.PI/4+e*Math.PI/360))}var o=n(0);THREE.HightModel=function(e,t,n){this.radius=e,THREE.Mesh.call(this),this.type="HightModel",this.palette=null,this.load(t,n),this.material=new THREE.MeshLambertMaterial({color:7829503,vertexColors:THREE.VertexColors,side:THREE.DoubleSide,opacity:.6,transparent:!0})},THREE.HightModel.prototype=Object.create(THREE.Mesh.prototype),THREE.HightModel.prototype.constructor=THREE.HightModel,THREE.HightModel.prototype.load=function(e,t){var n=e.countLon-1,i=e.countLat-1,o=e.lonSpan,a=e.latSpan,s=e.beginLon,l=e.beginLat,d=(n+1)*(i+1),c=new Float32Array(3*d),u=new Float32Array(2*d),h=new Float32Array(3*d),p=new THREE.Lut("rainbow",512);p.setMax(600),p.setMin(492);for(var f=0,v=0;v<i+1;v++)for(var g=0;g<n+1;g++){var m=l+v*a,E=s+g*o,y=t[v][g],A=r(E,m,y);c[3*f+0]=A.x,c[3*f+1]=A.y,c[3*f+2]=A.z,u[2*f]=g/o,u[2*f+1]=v/a;var w=p.getColor(y);h[3*f+0]=w.r,h[3*f+1]=w.g,h[3*f+2]=w.b,f++}var b=new(c.length/3>65535?Uint32Array:Uint16Array)((n-1)*(i-1)*6);for(f=0,v=0;v<i;v++)for(g=0;g<n;g++){var x=6*(f=v*n+g),T=f+v,H=T+n+1,R=(w=H+1,T+1);b[x]=T,b[x+1]=R,b[x+2]=H,b[x+3]=w,b[x+4]=H,b[x+5]=R}this.geometry.addAttribute("position",new THREE.BufferAttribute(c,3)),this.geometry.setIndex(new THREE.BufferAttribute(b,1)),this.geometry.addAttribute("uv",new THREE.BufferAttribute(u,2)),this.geometry.addAttribute("color",new THREE.BufferAttribute(h,3)),this.geometry.computeVertexNormals(),this.geometry.verticesNeedUpdate=!0,this.geometry.colorsNeedUpdate=!0};var a,s,l,d,c,u,h=n(9);function p(e,t){var n=new THREE.FileLoader;n.setResponseType("text"),n.load(e,(function(e){var n=new THREE.Group,i=function(e){var t,n,r={},i=e.split(/[\s+\n+]+/),o=["diamond","type","caption","year","month","day","hour","span","level","lonSpan","latSpan","beginLon","endLon","beginLat","endLat","countLon","countLat","levelSpan","levelBegin","levelEnd","smoothingCoefficient","boldValue"];for(t in o)t>2&&(i[t]-=0),r[o[t]]=i[t];if("diamond"!=r.diamond||"4"!=r.type)throw"文件类型不正确";var a=[];for(t=r.levelBegin;t<=r.levelEnd;t+=r.levelSpan)a.push(t);var s=r.countLon,l=r.countLat,d=22,c=new Array(l);for(t=0;t<l;t++){var u=new Array(s);for(n=0;n<s;n++)u[n]=parseFloat(i[d++]);c[t]=u}return{data:c,head:r,levels:a}}(e),o=new THREE.HightModel(505,i.head,i.data);o.load(i.head,i.data),n.add(o);var a,s=h(i.data),l=[];for(a=400;a<600;a+=4)l.push(a);var d=s.track(l);n.add(function(e,t){var n=new THREE.Lut("rainbow",512);n.setMax(600),n.setMin(492);var i,o,a=new THREE.Group;for(i in t){var s=t[i],l=[];if(n.getColor(s.level)){for(o in s.points){var d=s.points[o];d.x=e.beginLon+d.x*e.lonSpan,d.y=e.beginLat+d.y*e.latSpan,d.y>90&&(d.y=90),d.y<-90&&(d.y=-90);var c=r(d.x,d.y,s.level+3);l.push(c)}var u=new THREE.CatmullRomCurve3(l),h=new THREE.LineBasicMaterial({color:n.getColor(s.level),opacity:588==s.level?2:.7,transparent:!0}),p=new THREE.Geometry;p.vertices=u.getSpacedPoints(1e3);var f=new THREE.Line(p,h);f.level=s.level,a.add(f)}}return a}(i.head,d)),t&&t(n)}))}THREE.CloudModel=function(e,t,n,r,i,o,a){THREE.Mesh.call(this),this.type="CloudModel",this.palette=null,this.geometry=new THREE.BufferGeometry,this.createGeometry(e,t,n,r,i,o,a),this.material=new THREE.MeshPhongMaterial({color:16777215,specular:2236962,shininess:5,normalScale:new THREE.Vector2(1.5,1.5),flatShading:!0,transparent:!0})},THREE.CloudModel.prototype=Object.create(THREE.Mesh.prototype),THREE.CloudModel.prototype.constructor=THREE.CloudModel,THREE.CloudModel.prototype.createGeometry=function(e,t,n,o,a,s,l){for(var d=(s+1)*(l+1),c=new Float32Array(3*d),u=new Float32Array(2*d),h=a/l,p=o/s,f=n+a,v=i(n),g=i(f),m=0,E=0;E<l+1;E++)for(var y=0;y<s+1;y++){var A=n+E*h,w=r(t+y*p,A,e);c[3*m+0]=w.x,c[3*m+1]=w.y,c[3*m+2]=w.z;var b=i(A);u[2*m]=y/s,u[2*m+1]=(b-v)/(g-v),m++}var x=new(c.length/3>65535?Uint32Array:Uint16Array)(s*l*6);for(m=0,E=0;E<l;E++)for(y=0;y<s;y++){var T=6*(m=E*s+y),H=m+E,R=H+s+1,M=R+1,_=H+1;x[T]=H,x[T+1]=_,x[T+2]=R,x[T+3]=M,x[T+4]=R,x[T+5]=_}this.geometry.addAttribute("position",new THREE.BufferAttribute(c,3)),this.geometry.setIndex(new THREE.BufferAttribute(x,1)),this.geometry.addAttribute("uv",new THREE.BufferAttribute(u,2)),this.geometry.computeVertexNormals()},THREE.CloudModel.prototype.getTitle=function(e){return new TextDecoder("gbk").decode(e.slice(0,128)).trim().split(/\s+/)},THREE.CloudModel.prototype.loadTexture=function(e,t,n){var r=this;this.material.map&&this.material.map.dispose(),this.material.normalMap&&this.material.normalMap.dispose();var i=128;this.material.map=function(e,t,n){for(var o=new Uint8Array(t*n*4),a=0;a<n;a++)for(var s=0;s<t;s++){var l=e[a*t+s+i],d=3*(l-90);d<0&&(d=0),d>255&&(d=255);var c=r.palette,u=4*(a*t+s);c&&l?(o[u]=c[l].r,o[u+1]=c[l].g,o[u+2]=c[l].b):(o[u]=l,o[u+1]=l,o[u+2]=l),o[u+3]=d}return new THREE.DataTexture(o,t,n)}(e,t,n),this.material.map.needsUpdate=!0,this.material.normalMap=function(e,t,n){for(var r=new Uint8Array(t*n*4),o=1;o<n;o++)for(var a=0;a<t-1;a++){var s=o*t+a+i,l=e[s],d=e[s-t],c=e[s+1],u=d-l,h=c-l,p=new THREE.Vector3(10,0,u).normalize(),f=new THREE.Vector3(0,10,h).normalize(),v=p.cross(f).normalize(),g=4*(o*t+a);r[g+0]=Math.round(255*(v.x/2+.5)),r[g+1]=Math.round(255*(v.y/2+.5)),r[g+2]=Math.round(255*(v.z/2+.5)),r[g+3]=255}return new THREE.DataTexture(r,t,n)}(e,t,n),this.material.normalMap.needsUpdate=!0,this.material.needsUpdate=!0},THREE.CloudModel.prototype.loadPalette=function(e,t){var n=this,r=new THREE.FileLoader;r.setResponseType("text"),r.load(e,(function(e){n.palette=[256];var r=e.split(/\r\n|[\r\n]/);for(var i in r){var o=r[i].trim().split(/\s+/);if(o.length>=4){var a=o[0]-1;n.palette[a]={b:+o[1],g:+o[2],r:+o[3]}}}t&&t()}))};var f=new class{constructor(e){e&&this.init(e)}init(e){if(Detector.webgl)return this.radius=500,this.rotateSpeed=10,this.autoRotate=!1,this._clock=new THREE.Clock,this.container=document.getElementById(e),this.scene=new THREE.Scene,this.createCamera(),this.renderer=new THREE.WebGLRenderer({antialias:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.container.appendChild(this.renderer.domElement),this.resize(),window.addEventListener("resize",this.resize),this.addAxis(),this.addLight(),this.controls=new THREE.TrackballControls(this.camera,this.renderer.domElement),this.controls.minDistance=this.radius+100,this.controls.maxDistance=5e3,this.stats=new Stats,this.container.appendChild(this.stats.domElement),this;Detector.addGetWebGLMessage()}addLight(e){var t=new THREE.PointLight(2236962),n=r(150,0,1200);t.position.copy(n),this.add(t);var i=new THREE.Lensflare;n=r(-150,10,1500);i.position.copy(n);var o=new THREE.Color(6710886),a=new THREE.TextureLoader,s=a.load("./image/lensflare0.png"),l=a.load("./image/lensflare3.png");i.addElement(new THREE.LensflareElement(s,700,0,o)),i.addElement(new THREE.LensflareElement(l,60,.6)),i.addElement(new THREE.LensflareElement(l,70,.7)),i.addElement(new THREE.LensflareElement(l,120,.9)),i.addElement(new THREE.LensflareElement(l,70,1)),this.sun=i,this.add(i);var d=new THREE.DirectionalLight(8947848);d.position.set(e),this.add(d),this.light=d;var c=new THREE.AmbientLight(3355443);return this.add(c),this}resize(){var e=this.container.clientWidth,t=this.container.clientHeight;return this.renderer.setSize(e,t),this.camera.aspect=e/t,this.camera.updateProjectionMatrix(),this}reset(){this.controls.reset()}createCamera(){var e=this.container.clientWidth,t=this.container.clientHeight;this.camera=new THREE.PerspectiveCamera(45,e/t,.1,5e4);var n=r(110,20,1200);return this.camera.position.copy(n),this.add(this.camera),this}add(e){return this.scene.add(e),this}addAxis(){var e=new THREE.AxesHelper(this.radius);return this.add(e),this}animate(){var e=this.camera.position;if(this.light.position.copy(e),this.update(),this.autoRotate){var t=Math.sqrt(e.x*e.x+e.z*e.z),n=.02*this._clock.getElapsedTime()*this.rotateSpeed+109.5;e.set(t*Math.sin(-n),e.y,t*Math.cos(n))}this.controls.update(),this.stats.update(),this.renderer.render(this.scene,this.camera),requestAnimationFrame(this.animate.bind(this))}update(){}};function v(e){var t,n,i,h,v,E;f.init(e),function(){var e=new THREE.SphereGeometry(1e4,10,10),t=new THREE.MeshBasicMaterial;t.map=(new THREE.TextureLoader).load("./image/star.png"),t.map.minFilter=THREE.NearestFilter,t.side=THREE.BackSide;var n=new THREE.Mesh(e,t);f.add(n)}(),function(){var e=new THREE.TextureLoader,t=new THREE.SphereGeometry(500,72,36),n=new THREE.MeshPhongMaterial({color:10066329,specular:5592405,shininess:5,normalScale:new THREE.Vector2(2,2),map:e.load("./image/earth_surface1.jpg"),normalMap:e.load("./image/earth_normal.jpg"),specularMap:e.load("./image/earth_specular.jpg")});s=new THREE.Mesh(t,n);var r=new THREE.MeshBasicMaterial({color:11184776,side:THREE.BackSide}),i=new THREE.Mesh(t,r);i.scale.multiplyScalar(1.002),s.add(i);var o=new THREE.SpriteMaterial({map:(new THREE.TextureLoader).load("./image/atmo.png"),transparent:!0,opacity:.6}),a=new THREE.Sprite(o);a.scale.set(1300,1300,1),s.add(a),f.add(s)}(),function(){c=new THREE.Group;for(var e=new THREE.LineDashedMaterial({color:11184810,opacity:.7,dashSize:3,gapSize:3,scale:1,flatShading:!0,transparent:!0}),t=new THREE.Geometry,n=0;n<=72;n++)t.vertices.push(new THREE.Vector3(503*Math.sin(n/36*Math.PI),503*Math.cos(n/36*Math.PI),0));var r=new THREE.Line(t,e);for(r.computeLineDistances(),n=0;n<18;n++){var i=r.clone().rotateOnAxis(new THREE.Vector3(0,1,0),n*Math.PI/18);c.add(i)}for(r=r.clone().rotateOnAxis(new THREE.Vector3(1,0,0),Math.PI/2),n=-8;n<9;n++){(i=r.clone()).translateZ(-503*Math.sin(n/18*Math.PI));var o=Math.cos(n/18*Math.PI);i.scale.set(o,o,1),c.add(i)}f.add(c)}(),t=o.cloud.minLng,n=o.cloud.minLat,i=o.cloud.lngWidth,h=o.cloud.latHeight,v=o.cloud.lngSegs,E=o.cloud.latSegs,l=new THREE.CloudModel(503,t,n,i,h,v,E),g(),l.loadPalette("./data/Pal/"+o.palette),f.add(l),function(){d=new THREE.Group;var e=new THREE.SphereBufferGeometry(5,32,32),t=new THREE.MeshPhongMaterial({color:12129,flatShading:!1}),n=new THREE.Mesh(e,t),i=r(110,23,800);n.position.copy(i),d.add(n);var o=500;e=new THREE.Geometry;var a=i,s=r(60,41,o),l=r(160,41,o),c=r(160,-4,o),u=r(60,-4,o);e.vertices.push(a,s,a,l,a,c,a,u),t=new THREE.LineBasicMaterial({color:3364147});let h=new THREE.Line(e,t);d.add(h),d.visible=!1,f.add(d)}(),function(){var e=new dat.GUI({width:200});a=new function(){this.rotateSpeed=5,this.sunVisible=!0,this.cloudVisible=!0,this.satelliteVisible=!1,this.lnglatGridVisible=!0,this.contourVisible=!1,this.earthTexture=1,this.normalScale=1.5,this.color=16777215,this.emissive=0,this.specular=2236962,this.shininess=10,this.opacity=1,this.flatShading=!0,this.about=function(){g()}};var t=e.addFolder("显示");t.add(a,"sunVisible").onChange((function(e){f.sun.visible=e})).name("太阳(示意)"),t.add(a,"satelliteVisible").onChange((function(e){d.visible=e})).name("卫星(示意)"),t.add(a,"cloudVisible").onChange((function(e){l.visible=e})).name("云图"),t.add(a,"lnglatGridVisible").onChange((function(e){c.visible=e})).name("经纬度网"),t.add(a,"earthTexture",{map1:1,map2:2,map3:3}).onChange((function(e){s.material.map&&s.material.map.dispose(),s.material.map=(new THREE.TextureLoader).load("./image/earth_surface"+e+".jpg")})).name("地图"),t.add(a,"rotateSpeed",1,100).name("旋转速度"),t.add(a,"contourVisible").onChange((function(e){u?u.visible=e:p("./data/18041108.000",(function(e){u=e,f.add(e)}))})).name("等值线(测试)");var n=e.addFolder("云图参数");n.add(a,"normalScale",0,5).step(.1).name("凹凸度"),n.addColor(a,"color").name("颜色"),n.addColor(a,"specular").name("高光色"),n.addColor(a,"emissive").name("自发光色"),n.add(a,"shininess",0,40).name("反光度"),n.add(a,"opacity",0,1).name("透明度"),e.add(a,"about").name("关于...")}(),f.update=m,f.animate()}function g(){return l.material.map&&l.material.map.dispose(),l.material.normalMap&&(l.material.normalMap.dispose(),l.material.normalMap=null),l.material.map=function(){let e=document.createElement("canvas");e.width=1024,e.height=512;let t=e.getContext("2d");t.shadowBlur=10,t.shadowColor="blakc",t.fillStyle="white",t.font="Bold 50px Arial",t.textAlign="center";var n=e.width/2;t.fillText("三维云图-WebGL版",n,200),t.font="20px Arial",t.fillText("基于真实卫星云图的三维可视化系统",n,300),t.fillText("郭江峰  hz_gjf@163.com",n,400);var r=new THREE.Texture(e);return r.needsUpdate=!0,r}(),l.material.needsUpdate=!0,this}function m(){var e=l.material;return e.normalScale=new THREE.Vector2(a.normalScale,a.normalScale),e.color.set(a.color),e.specular.set(a.specular),e.shininess=a.shininess,e.opacity=a.opacity,e.flatShading=a.flatShading,e.emissive.set(a.emissive),this}var E=n(1),y=!1,A=E.length-1;function w(){!function(e){y=!0;var t=document.getElementById("loading");t.classList.remove("hide");var n=new THREE.FileLoader;n.setResponseType("arraybuffer"),n.load(e,(function(e){var n=new Uint8Array(e),r=l;r.loadTexture(n,2228,1100);var i=document.getElementById("title");t.classList.add("hide"),i.innerText=r.getTitle(n)[2],y=!1}),(function(e){t.innerHTML=(e.loaded/1024).toFixed(1)+"k"}))}("./data/"+E[A]);for(var e=document.getElementById("filelist"),t=0;t<e.children.length;t++)e.children[t].style.background="";document.getElementById("f"+A).style.background="#444"}window.onload=function(){var e,t;THREE.Cache.enabled=!0,function(e){var t=document.getElementById(e);for(var n in E){var r=document.createElement("li");r.innerText=E[n],r.id="f"+n,r.index=n,r.onclick=function(e){A=e.target.index,w()},t.appendChild(r)}}("filelist"),t=f,document.getElementById("last").onclick=function(){A=E.length-1,w()},document.getElementById("prev").onclick=function(){A>0&&(A--,w())},document.getElementById("next").onclick=function(){A<E.length&&(A++,w())},document.getElementById("ani").onclick=function(){e?(clearInterval(e),e=void 0):e=setInterval((function(){y||(w(),++A>=E.length&&(A=0))}),300)},document.getElementById("reset").onclick=function(){t.reset()},document.getElementById("rotate").onclick=function(){t.autoRotate=!t.autoRotate},document.getElementById("pal").onchange=function(e){var t=e.target.value;l.loadPalette("./data/Pal/"+t,w)},document.getElementById("earth").onclick=function(){e&&(clearInterval(e),e=void 0),t.autoRotate=!1},v("earth"),w()}}]);
//# sourceMappingURL=main.js.map