import{i as g,j as h,k as C,l as E,o as D,c as k,a as s,t as S,m,v,u as n,b as A,p as L,d as N,n as $}from"./vendor.ee5d4042.js";import{c as j,l as y}from"./axios.07c1c759.js";import{m as w}from"./md4.ebb458dc.js";import{_ as V}from"./LeafMap.d3dda9e1.js";import{_ as I}from"./index.fe4cc012.js";const d=p=>(L("data-v-7977bfcb"),p=p(),N(),p),J={class:"demo"},O={class:"left"},M=d(()=>s("div",{class:"caption"},"Contour Demo - \u53C2\u6570\u914D\u7F6E",-1)),U={class:"tools"},T=["value"],R=d(()=>s("label",{for:"smooth"},"\u5E73\u6ED1",-1)),z=["value"],G=d(()=>s("label",{for:"line"},"\u7EBF",-1)),H=["value"],q=d(()=>s("label",{for:"poly"},"\u9762(\u6682\u586B\u7EAF\u8272)",-1)),K=["value"],P=d(()=>s("label",{for:"point"},"\u70B9(\u9AD8\u4F4E\u4E2D\u5FC3)",-1)),Q=g({setup(p){const b=h(),a=h("Contour V3.0 typescript\u7248"),F=h(),o=C({smmoth:!1,line:!0,poly:!1,point:!1}),l=(r,e="")=>{a.value+=`
---------------------------------------
`,a.value+=r,a.value+=`
---------------------------------------
`,a.value+=e,$(()=>{var t;return(t=F.value)==null?void 0:t.scrollTo({top:1e4,behavior:"smooth"})})};l("\u901A\u8FC7\u53C2\u6570\u8C03\u6574\u7B49\u503C\u7EBF\u6570\u636E\u7684\u8F93\u51FA\uFF0C\u4F7F\u7528leaflet\u663E\u793A\u505A\u6D4B\u8BD5\u3002"),E(o,()=>B());let i;const B=async()=>{const r="./data/18020808.000",e=await w(r);l(`\u6253\u5F00\u6587\u4EF6:${r}`,JSON.stringify(e.head,null,2)),l("\u9009\u9879",JSON.stringify(o,null,2)),l("\u8FDB\u5EA6");const t=j(e.data,e.levels,{pointConvert:u=>{u.x=e.head.beginLon+u.x*e.head.lonSpan,u.y=e.head.beginLat+u.y*e.head.latSpan},progressCallback:(u,_)=>{const c=`  \u5206\u6790:${u}  ${Math.round(_)}%`;console.log(c),a.value+=c+`
`}});o.smmoth&&t.smooth(.1);const x=t.toJSON(o.line,o.poly,o.point);l("\u7B49\u503C\u7EBF\u4FE1\u606F",JSON.stringify(x.properties).substring(0,1e3));const f=b.value.getMap();i&&f.removeLayer(i),i=new y.exports.GeoJSON(x,{color:"navy",weight:o.line?1.5:.2,pointToLayer:(u,_)=>{const c=`<div class='center'> <div>${u.properties.high?"H":"L"}</div><div>${u.properties.level}</div></div>`;return y.exports.marker(_,{icon:y.exports.divIcon({html:c,iconSize:[30,36],className:"label"})})}}),f.addLayer(i),f.fitBounds(i.getBounds()),l("\u6DFB\u52A0\u5230leaflet\u5730\u56FE",`\u5B8C\u6210!



`)};return(r,e)=>(D(),k("div",J,[s("div",O,[M,s("pre",{ref_key:"infoDom",ref:F,class:"info"},S(a.value),513),s("div",U,[m(s("input",{type:"checkbox",id:"smooth",value:n(o).smmoth,"onUpdate:modelValue":e[0]||(e[0]=t=>n(o).smmoth=t)},null,8,T),[[v,n(o).smmoth]]),R,m(s("input",{type:"checkbox",id:"line",value:n(o).line,"onUpdate:modelValue":e[1]||(e[1]=t=>n(o).line=t)},null,8,z),[[v,n(o).line]]),G,m(s("input",{type:"checkbox",id:"poly",value:n(o).poly,"onUpdate:modelValue":e[2]||(e[2]=t=>n(o).poly=t)},null,8,H),[[v,n(o).poly]]),q,m(s("input",{type:"checkbox",id:"point",value:n(o).point,"onUpdate:modelValue":e[3]||(e[3]=t=>n(o).point=t)},null,8,K),[[v,n(o).point]]),P,s("button",{onClick:e[4]||(e[4]=t=>B())},"\u6D4B\u8BD5")])]),A(V,{class:"map",ref_key:"mapRef",ref:b},null,512)]))}});var oe=I(Q,[["__scopeId","data-v-7977bfcb"]]);export{oe as default};
