import{i as x,s as D,j as c,q as L,l as S,o as w,c as V,a as o,t as $,m as v,x as m,v as j,b as A,p as M,d as N,n as O}from"./vendor.ee5d4042.js";import{c as I,C as J}from"./axios.07c1c759.js";import{m as R}from"./md4.ebb458dc.js";import{_ as U}from"./LeafMap.d3dda9e1.js";import{_ as T}from"./index.fe4cc012.js";const p=s=>(M("data-v-5fe95364"),s=s(),N(),s),q={class:"demo"},G={class:"left"},z=p(()=>o("div",{class:"caption"},"Contour Demo - leaflet\u586B\u8272",-1)),H={class:"tools"},K={class:"options"},P=["value"],Q=p(()=>o("label",{for:"fill"},"\u586B\u8272",-1)),W=["value"],X=p(()=>o("label",{for:"solid"},"\u5355\u8272\u7EBF",-1)),Y=["value"],Z=p(()=>o("label",{for:"color"},"\u5F69\u8272\u7EBF",-1)),ee=p(()=>o("label",{for:"showLabel"},"\u9AD8\u4F4E\u4E2D\u5FC3",-1));var h;(function(s){s[s.fill=0]="fill",s[s.solid=1]="solid",s[s.color=2]="color"})(h||(h={}));const oe=x({setup(s){D(i=>({cc7d5f84:f.value?"blok":"none"}));const _=c(),l=c("Contour V3.0 typescript\u7248"),b=c(),a=c(0),f=c(!1);let t,r;const n=(i,e="")=>{l.value+=`
---------------------------------------
`,l.value+=i,l.value+=`
---------------------------------------
`,l.value+=e,O(()=>{var u;return(u=b.value)==null?void 0:u.scrollTo({top:1e4,behavior:"smooth"})})};n("\u4F7F\u7528leaflet\u663E\u793A\u505A\u6D4B\u8BD5\uFF0C\u6269\u5C55\u4E86leaflet\u7684GEOJSON\u7C7B\u5B9E\u73B0\u7B49\u503C\u7EBF\u7684\u586B\u8272\u3002"),L(()=>{r=_.value.getMap()}),S(a,()=>B());const B=()=>{t&&(t.options.contourStyle=a.value,t.reDraw(),n("\u4FEE\u6539\u6837\u5F0F",JSON.stringify(t.options,null,2)))},E=async i=>{const e=await R(i);n(`\u6253\u5F00\u6587\u4EF6:${i}`,JSON.stringify(e.head,null,2)),n("\u7B49\u503C\u7EBF\u5206\u6790\u8FDB\u5EA6");const F=I(e.data,e.levels,{pointConvert:d=>{d.x=e.head.beginLon+d.x*e.head.lonSpan,d.y=e.head.beginLat+d.y*e.head.latSpan},progressCallback:(d,k)=>{const y=`  \u5206\u6790:${d}  ${Math.round(k)}%`;console.log(y),l.value+=y+`
`}}).smooth().toJSON(!0,!0,!0);n("\u7B49\u503C\u7EBF\u4FE1\u606F:",JSON.stringify(F.properties).substring(0,1e3)),t&&r.removeLayer(t),t=new J(F,{attribution:e.head.caption}),B(),r.addLayer(t),n("\u6DFB\u52A0\u5230leaflet\u5730\u56FE",`\u5B8C\u6210!



`)},C=()=>{t&&r.fitBounds(t.getBounds())},g=()=>{t&&r.removeLayer(t),t=null};return(i,e)=>(w(),V("div",q,[o("div",G,[z,o("pre",{ref_key:"infoDom",ref:b,class:"info"},$(l.value),513),o("div",H,[o("button",{onClick:e[0]||(e[0]=u=>E("./data/18020808.000"))},"\u6570\u636E1"),o("button",{onClick:e[1]||(e[1]=u=>E("./data/10112608.000"))},"\u6570\u636E2"),o("button",{onClick:g},"\u6E05\u7A7A\u5730\u56FE"),o("button",{onClick:e[2]||(e[2]=u=>l.value="")},"\u6E05\u9664log"),o("button",{onClick:C},"\u5168\u56FE")]),o("div",K,[v(o("input",{type:"radio",name:"linestyle",id:"fill",value:0,"onUpdate:modelValue":e[3]||(e[3]=u=>a.value=u)},null,8,P),[[m,a.value]]),Q,v(o("input",{type:"radio",name:"linestyle",id:"solid",value:1,"onUpdate:modelValue":e[4]||(e[4]=u=>a.value=u)},null,8,W),[[m,a.value]]),X,v(o("input",{type:"radio",name:"linestyle",id:"color",value:2,"onUpdate:modelValue":e[5]||(e[5]=u=>a.value=u)},null,8,Y),[[m,a.value]]),Z,v(o("input",{type:"checkbox",id:"showLabel","onUpdate:modelValue":e[6]||(e[6]=u=>f.value=u)},null,512),[[j,f.value]]),ee])]),A(U,{class:"map",ref_key:"mapRef",ref:_},null,512)]))}});var ne=T(oe,[["__scopeId","data-v-5fe95364"]]);export{ne as default};
